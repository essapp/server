import{aD as $7,aE as K7,aF as Q7,aG as J7,aH as ev,aI as tv,aJ as rv,aK as ov,aL as iv,aM as nv,aN as av,aO as sv,aP as uv,aQ as pv,aR as cv,W as lv,aS as dv,aT as yv,aU as hv,aV as fv,aW as mv,aX as _v,aY as G,aZ as wt,a_ as gv,a$ as vv}from"./antd-CGu55NZb.js";import{v as mp,_ as Ev}from"./index-C5Ppdpc0.js";import{A as A0,E as ts,f as d2,c as uu,a as ml,n as Lh,s as b3,d as y2,b as cm,e as qg,g as xv,h as rh,i as lp,j as A3,k as Pv,l as Ud,m as F3,t as oh,o as bv,p as Av,q as Fv,_ as cn,r as l1,u as In,v as m0,w as _0,x as cp,y as yd,z as Tv}from"./vec2-4Cx-bOHg.js";import{d as Sv,o as Rv,j as wv,a2 as Cv,a3 as Iv}from"./vue-1GTWcegU.js";function Pf(){var e=new A0(16);return A0!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e}function Mv(e,t,r,i,s,p,n,f,m,g,x,b,F,R,I,O){var U=new A0(16);return U[0]=e,U[1]=t,U[2]=r,U[3]=i,U[4]=s,U[5]=p,U[6]=n,U[7]=f,U[8]=m,U[9]=g,U[10]=x,U[11]=b,U[12]=F,U[13]=R,U[14]=I,U[15]=O,U}function r6(e,t){var r=t[0],i=t[1],s=t[2],p=t[3],n=t[4],f=t[5],m=t[6],g=t[7],x=t[8],b=t[9],F=t[10],R=t[11],I=t[12],O=t[13],U=t[14],Y=t[15],ee=r*f-i*n,oe=r*m-s*n,Re=r*g-p*n,Ae=i*m-s*f,ce=i*g-p*f,Ie=s*g-p*m,De=x*O-b*I,ht=x*U-F*I,qe=x*Y-R*I,we=b*U-F*O,B=b*Y-R*O,X=F*Y-R*U,de=ee*X-oe*B+Re*we+Ae*qe-ce*ht+Ie*De;return de?(de=1/de,e[0]=(f*X-m*B+g*we)*de,e[1]=(s*B-i*X-p*we)*de,e[2]=(O*Ie-U*ce+Y*Ae)*de,e[3]=(F*ce-b*Ie-R*Ae)*de,e[4]=(m*qe-n*X-g*ht)*de,e[5]=(r*X-s*qe+p*ht)*de,e[6]=(U*Re-I*Ie-Y*oe)*de,e[7]=(x*Ie-F*Re+R*oe)*de,e[8]=(n*B-f*qe+g*De)*de,e[9]=(i*qe-r*B-p*De)*de,e[10]=(I*ce-O*Re+Y*ee)*de,e[11]=(b*Re-x*ce-R*ee)*de,e[12]=(f*ht-n*we-m*De)*de,e[13]=(r*we-i*ht+s*De)*de,e[14]=(O*oe-I*Ae-U*ee)*de,e[15]=(x*Ae-b*oe+F*ee)*de,e):null}function g0(e,t,r){var i=t[0],s=t[1],p=t[2],n=t[3],f=t[4],m=t[5],g=t[6],x=t[7],b=t[8],F=t[9],R=t[10],I=t[11],O=t[12],U=t[13],Y=t[14],ee=t[15],oe=r[0],Re=r[1],Ae=r[2],ce=r[3];return e[0]=oe*i+Re*f+Ae*b+ce*O,e[1]=oe*s+Re*m+Ae*F+ce*U,e[2]=oe*p+Re*g+Ae*R+ce*Y,e[3]=oe*n+Re*x+Ae*I+ce*ee,oe=r[4],Re=r[5],Ae=r[6],ce=r[7],e[4]=oe*i+Re*f+Ae*b+ce*O,e[5]=oe*s+Re*m+Ae*F+ce*U,e[6]=oe*p+Re*g+Ae*R+ce*Y,e[7]=oe*n+Re*x+Ae*I+ce*ee,oe=r[8],Re=r[9],Ae=r[10],ce=r[11],e[8]=oe*i+Re*f+Ae*b+ce*O,e[9]=oe*s+Re*m+Ae*F+ce*U,e[10]=oe*p+Re*g+Ae*R+ce*Y,e[11]=oe*n+Re*x+Ae*I+ce*ee,oe=r[12],Re=r[13],Ae=r[14],ce=r[15],e[12]=oe*i+Re*f+Ae*b+ce*O,e[13]=oe*s+Re*m+Ae*F+ce*U,e[14]=oe*p+Re*g+Ae*R+ce*Y,e[15]=oe*n+Re*x+Ae*I+ce*ee,e}function Bh(e,t,r){var i=r[0],s=r[1],p=r[2],n,f,m,g,x,b,F,R,I,O,U,Y;return t===e?(e[12]=t[0]*i+t[4]*s+t[8]*p+t[12],e[13]=t[1]*i+t[5]*s+t[9]*p+t[13],e[14]=t[2]*i+t[6]*s+t[10]*p+t[14],e[15]=t[3]*i+t[7]*s+t[11]*p+t[15]):(n=t[0],f=t[1],m=t[2],g=t[3],x=t[4],b=t[5],F=t[6],R=t[7],I=t[8],O=t[9],U=t[10],Y=t[11],e[0]=n,e[1]=f,e[2]=m,e[3]=g,e[4]=x,e[5]=b,e[6]=F,e[7]=R,e[8]=I,e[9]=O,e[10]=U,e[11]=Y,e[12]=n*i+x*s+I*p+t[12],e[13]=f*i+b*s+O*p+t[13],e[14]=m*i+F*s+U*p+t[14],e[15]=g*i+R*s+Y*p+t[15]),e}function Uh(e,t,r){var i=r[0],s=r[1],p=r[2];return e[0]=t[0]*i,e[1]=t[1]*i,e[2]=t[2]*i,e[3]=t[3]*i,e[4]=t[4]*s,e[5]=t[5]*s,e[6]=t[6]*s,e[7]=t[7]*s,e[8]=t[8]*p,e[9]=t[9]*p,e[10]=t[10]*p,e[11]=t[11]*p,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}function o6(e,t,r){var i=Math.sin(r),s=Math.cos(r),p=t[4],n=t[5],f=t[6],m=t[7],g=t[8],x=t[9],b=t[10],F=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=p*s+g*i,e[5]=n*s+x*i,e[6]=f*s+b*i,e[7]=m*s+F*i,e[8]=g*s-p*i,e[9]=x*s-n*i,e[10]=b*s-f*i,e[11]=F*s-m*i,e}function $g(e,t,r){var i=Math.sin(r),s=Math.cos(r),p=t[0],n=t[1],f=t[2],m=t[3],g=t[8],x=t[9],b=t[10],F=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=p*s-g*i,e[1]=n*s-x*i,e[2]=f*s-b*i,e[3]=m*s-F*i,e[8]=p*i+g*s,e[9]=n*i+x*s,e[10]=f*i+b*s,e[11]=m*i+F*s,e}function Kg(e,t,r){var i=Math.sin(r),s=Math.cos(r),p=t[0],n=t[1],f=t[2],m=t[3],g=t[4],x=t[5],b=t[6],F=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=p*s+g*i,e[1]=n*s+x*i,e[2]=f*s+b*i,e[3]=m*s+F*i,e[4]=g*s-p*i,e[5]=x*s-n*i,e[6]=b*s-f*i,e[7]=F*s-m*i,e}function Nv(e,t,r,i,s){var p=1/Math.tan(t/2),n;return e[0]=p/r,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=p,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,s!=null&&s!==1/0?(n=1/(i-s),e[10]=(s+i)*n,e[14]=2*s*i*n):(e[10]=-1,e[14]=-2*i),e}var Dv=Nv;function T3(e,t){var r=e[0],i=e[1],s=e[2],p=e[3],n=e[4],f=e[5],m=e[6],g=e[7],x=e[8],b=e[9],F=e[10],R=e[11],I=e[12],O=e[13],U=e[14],Y=e[15],ee=t[0],oe=t[1],Re=t[2],Ae=t[3],ce=t[4],Ie=t[5],De=t[6],ht=t[7],qe=t[8],we=t[9],B=t[10],X=t[11],de=t[12],mt=t[13],re=t[14],fe=t[15];return Math.abs(r-ee)<=ts*Math.max(1,Math.abs(r),Math.abs(ee))&&Math.abs(i-oe)<=ts*Math.max(1,Math.abs(i),Math.abs(oe))&&Math.abs(s-Re)<=ts*Math.max(1,Math.abs(s),Math.abs(Re))&&Math.abs(p-Ae)<=ts*Math.max(1,Math.abs(p),Math.abs(Ae))&&Math.abs(n-ce)<=ts*Math.max(1,Math.abs(n),Math.abs(ce))&&Math.abs(f-Ie)<=ts*Math.max(1,Math.abs(f),Math.abs(Ie))&&Math.abs(m-De)<=ts*Math.max(1,Math.abs(m),Math.abs(De))&&Math.abs(g-ht)<=ts*Math.max(1,Math.abs(g),Math.abs(ht))&&Math.abs(x-qe)<=ts*Math.max(1,Math.abs(x),Math.abs(qe))&&Math.abs(b-we)<=ts*Math.max(1,Math.abs(b),Math.abs(we))&&Math.abs(F-B)<=ts*Math.max(1,Math.abs(F),Math.abs(B))&&Math.abs(R-X)<=ts*Math.max(1,Math.abs(R),Math.abs(X))&&Math.abs(I-de)<=ts*Math.max(1,Math.abs(I),Math.abs(de))&&Math.abs(O-mt)<=ts*Math.max(1,Math.abs(O),Math.abs(mt))&&Math.abs(U-re)<=ts*Math.max(1,Math.abs(U),Math.abs(re))&&Math.abs(Y-fe)<=ts*Math.max(1,Math.abs(Y),Math.abs(fe))}function Qg(){var e=new A0(4);return A0!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0,e[3]=0),e}function Ov(e,t,r,i){var s=new A0(4);return s[0]=e,s[1]=t,s[2]=r,s[3]=i,s}function Lv(e,t,r){return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e}function i6(e,t,r){var i=t[0],s=t[1],p=t[2],n=t[3];return e[0]=r[0]*i+r[4]*s+r[8]*p+r[12]*n,e[1]=r[1]*i+r[5]*s+r[9]*p+r[13]*n,e[2]=r[2]*i+r[6]*s+r[10]*p+r[14]*n,e[3]=r[3]*i+r[7]*s+r[11]*p+r[15]*n,e}(function(){var e=Qg();return function(t,r,i,s,p,n){var f,m;for(r||(r=4),i||(i=0),s?m=Math.min(s*r+i,t.length):m=t.length,f=i;f<m;f+=r)e[0]=t[f],e[1]=t[f+1],e[2]=t[f+2],e[3]=t[f+3],p(e,e,n),t[f]=e[0],t[f+1]=e[1],t[f+2]=e[2],t[f+3]=e[3];return t}})();var Jg={},e8={},S3=e=>e8[e],lu=(e,t)=>{e8[e]=t},Bv=e=>Jg[e],L0=(e,t)=>{Jg[e]=t},R3={},lm={},dm=34,hd=10,ym=13;function t8(e){return new Function("d","return {"+e.map(function(t,r){return JSON.stringify(t)+": d["+r+'] || ""'}).join(",")+"}")}function Uv(e,t){var r=t8(e);return function(i,s){return t(r(i),s,e)}}function w3(e){var t=Object.create(null),r=[];return e.forEach(function(i){for(var s in i)s in t||r.push(t[s]=s)}),r}function Ds(e,t){var r=e+"",i=r.length;return i<t?new Array(t-i+1).join(0)+r:r}function kv(e){return e<0?"-"+Ds(-e,6):e>9999?"+"+Ds(e,6):Ds(e,4)}function zv(e){var t=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),s=e.getUTCMilliseconds();return isNaN(e)?"Invalid Date":kv(e.getUTCFullYear())+"-"+Ds(e.getUTCMonth()+1,2)+"-"+Ds(e.getUTCDate(),2)+(s?"T"+Ds(t,2)+":"+Ds(r,2)+":"+Ds(i,2)+"."+Ds(s,3)+"Z":i?"T"+Ds(t,2)+":"+Ds(r,2)+":"+Ds(i,2)+"Z":r||t?"T"+Ds(t,2)+":"+Ds(r,2)+"Z":"")}function Vv(e){var t=new RegExp('["'+e+`
\r]`),r=e.charCodeAt(0);function i(b,F){var R,I,O=s(b,function(U,Y){if(R)return R(U,Y-1);I=U,R=F?Uv(U,F):t8(U)});return O.columns=I||[],O}function s(b,F){var R=[],I=b.length,O=0,U=0,Y,ee=I<=0,oe=!1;b.charCodeAt(I-1)===hd&&--I,b.charCodeAt(I-1)===ym&&--I;function Re(){if(ee)return lm;if(oe)return oe=!1,R3;var ce,Ie=O,De;if(b.charCodeAt(Ie)===dm){for(;O++<I&&b.charCodeAt(O)!==dm||b.charCodeAt(++O)===dm;);return(ce=O)>=I?ee=!0:(De=b.charCodeAt(O++))===hd?oe=!0:De===ym&&(oe=!0,b.charCodeAt(O)===hd&&++O),b.slice(Ie+1,ce-1).replace(/""/g,'"')}for(;O<I;){if((De=b.charCodeAt(ce=O++))===hd)oe=!0;else if(De===ym)oe=!0,b.charCodeAt(O)===hd&&++O;else if(De!==r)continue;return b.slice(Ie,ce)}return ee=!0,b.slice(Ie,I)}for(;(Y=Re())!==lm;){for(var Ae=[];Y!==R3&&Y!==lm;)Ae.push(Y),Y=Re();F&&(Ae=F(Ae,U++))==null||R.push(Ae)}return R}function p(b,F){return b.map(function(R){return F.map(function(I){return x(R[I])}).join(e)})}function n(b,F){return F==null&&(F=w3(b)),[F.map(x).join(e)].concat(p(b,F)).join(`
`)}function f(b,F){return F==null&&(F=w3(b)),p(b,F).join(`
`)}function m(b){return b.map(g).join(`
`)}function g(b){return b.map(x).join(e)}function x(b){return b==null?"":b instanceof Date?zv(b):t.test(b+="")?'"'+b.replace(/"/g,'""')+'"':b}return{parse:i,parseRows:s,format:n,formatBody:f,formatRows:m,formatRow:g,formatValue:x}}var Hv=Vv(","),Gv=Hv.parse;function ey(e,t,r){r===void 0&&(r={});var i={type:"Feature"};return(r.id===0||r.id)&&(i.id=r.id),r.bbox&&(i.bbox=r.bbox),i.properties=t||{},i.geometry=e,i}function n6(e,t,r){r===void 0&&(r={});for(var i=0,s=e;i<s.length;i++){var p=s[i];if(p.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var n=0;n<p[p.length-1].length;n++)if(p[p.length-1][n]!==p[0][n])throw new Error("First and last Position are not equivalent.")}var f={type:"Polygon",coordinates:e};return ey(f,t,r)}function jv(e,t,r){if(r===void 0&&(r={}),e.length<2)throw new Error("coordinates must be an array of two or more positions");var i={type:"LineString",coordinates:e};return ey(i,t,r)}function Wv(e,t){t===void 0&&(t={});var r={type:"FeatureCollection"};return t.id&&(r.id=t.id),t.bbox&&(r.bbox=t.bbox),r.features=e,r}function Xv(e,t,r){r===void 0&&(r={});var i={type:"MultiPolygon",coordinates:e};return ey(i,t,r)}function r8(e){if(Array.isArray(e))return e;if(e.type==="Feature"){if(e.geometry!==null)return e.geometry.coordinates}else if(e.coordinates)return e.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")}function C3(e){return e.type==="Feature"?e.geometry:e}function o8(e,t,r){if(e!==null)for(var i,s,p,n,f,m,g,x=0,b=0,F,R=e.type,I=R==="FeatureCollection",O=R==="Feature",U=I?e.features.length:1,Y=0;Y<U;Y++){g=I?e.features[Y].geometry:O?e.geometry:e,F=g?g.type==="GeometryCollection":!1,f=F?g.geometries.length:1;for(var ee=0;ee<f;ee++){var oe=0,Re=0;if(n=F?g.geometries[ee]:g,n!==null){m=n.coordinates;var Ae=n.type;switch(x=0,Ae){case null:break;case"Point":if(t(m,b,Y,oe,Re)===!1)return!1;b++,oe++;break;case"LineString":case"MultiPoint":for(i=0;i<m.length;i++){if(t(m[i],b,Y,oe,Re)===!1)return!1;b++,Ae==="MultiPoint"&&oe++}Ae==="LineString"&&oe++;break;case"Polygon":case"MultiLineString":for(i=0;i<m.length;i++){for(s=0;s<m[i].length-x;s++){if(t(m[i][s],b,Y,oe,Re)===!1)return!1;b++}Ae==="MultiLineString"&&oe++,Ae==="Polygon"&&Re++}Ae==="Polygon"&&oe++;break;case"MultiPolygon":for(i=0;i<m.length;i++){for(Re=0,s=0;s<m[i].length;s++){for(p=0;p<m[i][s].length-x;p++){if(t(m[i][s][p],b,Y,oe,Re)===!1)return!1;b++}Re++}oe++}break;case"GeometryCollection":for(i=0;i<n.geometries.length;i++)if(o8(n.geometries[i],t)===!1)return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function Zv(e,t){var r,i,s,p,n,f,m,g,x,b,F=0,R=e.type==="FeatureCollection",I=e.type==="Feature",O=R?e.features.length:1;for(r=0;r<O;r++){for(f=R?e.features[r].geometry:I?e.geometry:e,g=R?e.features[r].properties:I?e.properties:{},x=R?e.features[r].bbox:I?e.bbox:void 0,b=R?e.features[r].id:I?e.id:void 0,m=f?f.type==="GeometryCollection":!1,n=m?f.geometries.length:1,s=0;s<n;s++){if(p=m?f.geometries[s]:f,p===null){if(t(null,F,g,x,b)===!1)return!1;continue}switch(p.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":{if(t(p,F,g,x,b)===!1)return!1;break}case"GeometryCollection":{for(i=0;i<p.geometries.length;i++)if(t(p.geometries[i],F,g,x,b)===!1)return!1;break}default:throw new Error("Unknown Geometry Type")}}F++}}function i8(e,t){Zv(e,function(r,i,s,p,n){var f=r===null?null:r.type;switch(f){case null:case"Point":case"LineString":case"Polygon":return t(ey(r,s,{bbox:p,id:n}),i,0)===!1?!1:void 0}var m;switch(f){case"MultiPoint":m="Point";break;case"MultiLineString":m="LineString";break;case"MultiPolygon":m="Polygon";break}for(var g=0;g<r.coordinates.length;g++){var x=r.coordinates[g],b={type:m,coordinates:x};if(t(ey(b,s),i,g)===!1)return!1}})}var Ph={REGISTERED_PROTOCOLS:{}},Yv=Object.defineProperty,qv=Object.defineProperties,$v=Object.getOwnPropertyDescriptors,I3=Object.getOwnPropertySymbols,Kv=Object.prototype.hasOwnProperty,Qv=Object.prototype.propertyIsEnumerable,M3=(e,t,r)=>t in e?Yv(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a6=(e,t)=>{for(var r in t||(t={}))Kv.call(t,r)&&M3(e,r,t[r]);if(I3)for(var r of I3(t))Qv.call(t,r)&&M3(e,r,t[r]);return e},s6=(e,t)=>qv(e,$v(t)),u6=e=>Ph.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))],Jv=class extends Error{constructor(e,t,r,i){super(`AJAXError: ${t} (${e}): ${r}`),this.status=e,this.statusText=t,this.url=r,this.body=i}};function n8(e,t){const r=new XMLHttpRequest,i=Array.isArray(e.url)?e.url[0]:e.url;r.open(e.method||"GET",i,!0),e.type==="arrayBuffer"&&(r.responseType="arraybuffer");for(const s in e.headers)e.headers.hasOwnProperty(s)&&r.setRequestHeader(s,e.headers[s]);return e.type==="json"&&(r.responseType="text",r.setRequestHeader("Accept","application/json")),r.withCredentials=e.credentials==="include",r.onerror=()=>{t(new Error(r.statusText))},r.onload=()=>{if((r.status>=200&&r.status<300||r.status===0)&&r.response!==null){let s=r.response;if(e.type==="json")try{s=JSON.parse(r.response)}catch(p){return t(p)}t(null,s,r.getResponseHeader("Cache-Control"),r.getResponseHeader("Expires"),r)}else{const s=new Blob([r.response],{type:r.getResponseHeader("Content-Type")});t(new Jv(r.status,r.statusText,i.toString(),s))}},r.cancel=r.abort,r.send(e.body),r}function eE(e){return new Promise((t,r)=>{n8(e,(i,s,p,n,f)=>{i?r({err:i,data:null,xhr:f}):t({err:null,data:s,cacheControl:p,expires:n,xhr:f})})})}function p6(e,t){return n8(e,t)}var tE=(e,t)=>(u6(e.url)||p6)(s6(a6({},e),{type:"json"}),t),c6=(e,t)=>(u6(e.url)||p6)(s6(a6({},e),{type:"arrayBuffer"}),t),rE=(e,t)=>p6(s6(a6({},e),{method:"GET"}),t),N3="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function a8(e,t){const r=new window.Image,i=window.URL||window.webkitURL;r.crossOrigin="anonymous",r.onload=()=>{t(null,r),i.revokeObjectURL(r.src),r.onload=null,window.requestAnimationFrame(()=>{r.src=N3})},r.onerror=()=>t(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const s=new Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?i.createObjectURL(s):N3}function s8(e,t){const r=new Blob([new Uint8Array(e)],{type:"image/png"});createImageBitmap(r).then(i=>{t(null,i)}).catch(i=>{t(new Error(`Could not load image because of ${i.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`))})}var h2=(e,t,r)=>{const i=(s,p)=>{if(s)t(s);else if(p){const n=typeof createImageBitmap=="function",f=r?r(p):p;n?s8(f,t):a8(f,t)}};return e.type==="json"?tE(e,i):c6(e,i)},oE=(e,t)=>{typeof createImageBitmap=="function"?s8(e,t):a8(e,t)};function l6(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function u8(e,t){var r=Object.create(e.prototype);for(var i in t)r[i]=t[i];return r}function hy(){}var ty=.7,kh=1/ty,v0="\\s*([+-]?\\d+)\\s*",ry="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*",Xp="\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iE=/^#([0-9a-f]{3,8})$/,nE=new RegExp("^rgb\\("+[v0,v0,v0]+"\\)$"),aE=new RegExp("^rgb\\("+[Xp,Xp,Xp]+"\\)$"),sE=new RegExp("^rgba\\("+[v0,v0,v0,ry]+"\\)$"),uE=new RegExp("^rgba\\("+[Xp,Xp,Xp,ry]+"\\)$"),pE=new RegExp("^hsl\\("+[ry,Xp,Xp]+"\\)$"),cE=new RegExp("^hsla\\("+[ry,Xp,Xp,ry]+"\\)$"),D3={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};l6(hy,F0,{copy:function(e){return Object.assign(new this.constructor,this,e)},displayable:function(){return this.rgb().displayable()},hex:O3,formatHex:O3,formatHsl:lE,formatRgb:L3,toString:L3});function O3(){return this.rgb().formatHex()}function lE(){return p8(this).formatHsl()}function L3(){return this.rgb().formatRgb()}function F0(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=iE.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?B3(t):r===3?new pu(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?ih(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?ih(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=nE.exec(e))?new pu(t[1],t[2],t[3],1):(t=aE.exec(e))?new pu(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=sE.exec(e))?ih(t[1],t[2],t[3],t[4]):(t=uE.exec(e))?ih(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=pE.exec(e))?z3(t[1],t[2]/100,t[3]/100,1):(t=cE.exec(e))?z3(t[1],t[2]/100,t[3]/100,t[4]):D3.hasOwnProperty(e)?B3(D3[e]):e==="transparent"?new pu(NaN,NaN,NaN,0):null}function B3(e){return new pu(e>>16&255,e>>8&255,e&255,1)}function ih(e,t,r,i){return i<=0&&(e=t=r=NaN),new pu(e,t,r,i)}function dE(e){return e instanceof hy||(e=F0(e)),e?(e=e.rgb(),new pu(e.r,e.g,e.b,e.opacity)):new pu}function zh(e,t,r,i){return arguments.length===1?dE(e):new pu(e,t,r,i??1)}function pu(e,t,r,i){this.r=+e,this.g=+t,this.b=+r,this.opacity=+i}l6(pu,zh,u8(hy,{brighter:function(e){return e=e==null?kh:Math.pow(kh,e),new pu(this.r*e,this.g*e,this.b*e,this.opacity)},darker:function(e){return e=e==null?ty:Math.pow(ty,e),new pu(this.r*e,this.g*e,this.b*e,this.opacity)},rgb:function(){return this},displayable:function(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:U3,formatHex:U3,formatRgb:k3,toString:k3}));function U3(){return"#"+hm(this.r)+hm(this.g)+hm(this.b)}function k3(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"rgb(":"rgba(")+Math.max(0,Math.min(255,Math.round(this.r)||0))+", "+Math.max(0,Math.min(255,Math.round(this.g)||0))+", "+Math.max(0,Math.min(255,Math.round(this.b)||0))+(e===1?")":", "+e+")")}function hm(e){return e=Math.max(0,Math.min(255,Math.round(e)||0)),(e<16?"0":"")+e.toString(16)}function z3(e,t,r,i){return i<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new Wp(e,t,r,i)}function p8(e){if(e instanceof Wp)return new Wp(e.h,e.s,e.l,e.opacity);if(e instanceof hy||(e=F0(e)),!e)return new Wp;if(e instanceof Wp)return e;e=e.rgb();var t=e.r/255,r=e.g/255,i=e.b/255,s=Math.min(t,r,i),p=Math.max(t,r,i),n=NaN,f=p-s,m=(p+s)/2;return f?(t===p?n=(r-i)/f+(r<i)*6:r===p?n=(i-t)/f+2:n=(t-r)/f+4,f/=m<.5?p+s:2-p-s,n*=60):f=m>0&&m<1?0:n,new Wp(n,f,m,e.opacity)}function yE(e,t,r,i){return arguments.length===1?p8(e):new Wp(e,t,r,i??1)}function Wp(e,t,r,i){this.h=+e,this.s=+t,this.l=+r,this.opacity=+i}l6(Wp,yE,u8(hy,{brighter:function(e){return e=e==null?kh:Math.pow(kh,e),new Wp(this.h,this.s,this.l*e,this.opacity)},darker:function(e){return e=e==null?ty:Math.pow(ty,e),new Wp(this.h,this.s,this.l*e,this.opacity)},rgb:function(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,i=r+(r<.5?r:1-r)*t,s=2*r-i;return new pu(fm(e>=240?e-240:e+120,s,i),fm(e,s,i),fm(e<120?e+240:e-120,s,i),this.opacity)},displayable:function(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl:function(){var e=this.opacity;return e=isNaN(e)?1:Math.max(0,Math.min(1,e)),(e===1?"hsl(":"hsla(")+(this.h||0)+", "+(this.s||0)*100+"%, "+(this.l||0)*100+"%"+(e===1?")":", "+e+")")}}));function fm(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}function Di(e){const t=F0(e),r=[0,0,0,0];return t!=null&&(r[0]=t.r/255,r[1]=t.g/255,r[2]=t.b/255,r[3]=t.opacity),r}function p1(e){const t=e&&e[0],r=e&&e[1],i=e&&e[2];return t+r*256+i*65536-1}function T0(e){return[e+1&255,e+1>>8&255,e+1>>8>>8&255]}function c8(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");t.width=256,t.height=1;let i=null;const s=r.createLinearGradient(0,0,256,1),p=e.positions[0],n=e.positions[e.positions.length-1];for(let f=0;f<e.colors.length;++f){const m=(e.positions[f]-p)/(n-p);s.addColorStop(m,e.colors[f])}return r.fillStyle=s,r.fillRect(0,0,256,1),i=new Uint8ClampedArray(r.getImageData(0,0,256,1).data),t=null,r=null,{data:i,width:256,height:1}}function hE(e,t){let r=window.document.createElement("canvas"),i=r.getContext("2d");r.width=256,r.height=1;const s=i.createLinearGradient(0,0,256,1),p=t[1]-t[0];for(let m=0;m<e.colors.length;++m){const g=Math.max((e.positions[m]-t[0])/p,0);s.addColorStop(g,e.colors[m])}i.fillStyle=s,i.fillRect(0,0,256,1);const n=i.getImageData(0,0,256,1).data,f=d6(i,n);return r=null,i=null,f}function fE(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");t.width=256,t.height=1;const i=r.createImageData(256,1);return i.data.fill(0),e.positions.forEach((s,p)=>{const n=Di(e.colors[p]);i.data[s*4+0]=n[0]*255,i.data[s*4+1]=n[1]*255,i.data[s*4+2]=n[2]*255,i.data[s*4+3]=n[3]*255}),t=null,r=null,i}function mE(e){let t=window.document.createElement("canvas"),r=t.getContext("2d");r.globalAlpha=1,t.width=256,t.height=1;const i=256/e.colors.length;for(let n=0;n<e.colors.length;n++)r.beginPath(),r.lineWidth=2,r.strokeStyle=e.colors[n],r.moveTo(n*i,0),r.lineTo((n+1)*i,0),r.stroke();const s=r.getImageData(0,0,256,1).data,p=d6(r,s);return t=null,r=null,p}function _E(e,t){let r=window.document.createElement("canvas"),i=r.getContext("2d");i.globalAlpha=1,r.width=256,r.height=1;const s=t[1]-t[0];e.positions.length-e.colors.length!==1&&console.warn("positions 的数字个数应当比 colors 的样式多一个,poisitions 的首尾值一般为数据的最大最新值");for(let f=0;f<e.colors.length;f++)i.beginPath(),i.lineWidth=2,i.strokeStyle=e.colors[f],i.moveTo((e.positions[f]-t[0])/s*255,0),i.lineTo((e.positions[f+1]-t[0])/s*255,0),i.stroke();const p=i.getImageData(0,0,256,1).data,n=d6(i,p);return r=null,i=null,n}function d6(e,t){const r=e.createImageData(256,1);for(let i=0;i<r.data.length;i+=4)r.data[i+0]=t[i+0],r.data[i+1]=t[i+1],r.data[i+2]=t[i+2],r.data[i+3]=t[i+3];return r}function y6(e){switch(e==null?void 0:e.type){case"cat":return[0,255];default:return[0,1]}}var Kn={isNil:$7,merge:K7,throttle:Q7,isString:J7,debounce:ev,pull:tv,isTypedArray:rv,isPlainObject:ov,isNumber:iv,isBoolean:nv,isEqual:av,cloneDeep:sv,uniq:uv,clamp:pv,upperFirst:cv,get:lv,mergeWith:dv,isFunction:yv,isObject:hv,isUndefined:fv,camelCase:mv,uniqueId:_v};function gE(e){let t=e;return typeof e=="string"&&(t=window.document.getElementById(e)),t}function l8(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function d8(e){return l8(e).split(/\s+/)}function vE(e){var t;const r=(t=document==null?void 0:document.documentElement)==null?void 0:t.style;if(!r)return e[0];for(const i in e)if(e[i]&&e[i]in r)return e[i];return e[0]}function cu(e,t,r){const i=window.document.createElement(e);return t&&(i.className=t||""),r&&r.appendChild(i),i}function Vh(e){const t=e.parentNode;t&&t.removeChild(e)}function Yd(e,t){if(e.classList!==void 0){const r=d8(t);for(let i=0,s=r.length;i<s;i++)e.classList.add(r[i])}else if(!EE(e,t)){const r=h6(e);y8(e,(r?r+" ":"")+t)}}function f2(e,t){e.classList!==void 0?d8(t).forEach(i=>{e.classList.remove(i)}):y8(e,l8((" "+h6(e)+" ").replace(" "+t+" "," ")))}function EE(e,t){if(e.classList!==void 0)return e.classList.contains(t);const r=h6(e);return r.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(r)}function y8(e,t){e instanceof HTMLElement?e.className=t:e.className.baseVal=t}function h6(e){return e instanceof SVGElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}vE(["transform","WebkitTransform"]);function xE(){var e;const t=window.document.querySelector('meta[name="viewport"]');if(!t)return 1;const i=((e=t.content)==null?void 0:e.split(",")).find(s=>{const[p]=s.split("=");return p==="initial-scale"});return i?i.split("=")[1]*1:1}var Os=xE()<1?1:window.devicePixelRatio;function PE(e,t){e.setAttribute("style",`${e.style.cssText}${t}`)}function bE(e){return Object.entries(e).map(([t,r])=>`${t}: ${r}`).join(";")}function AE(e,t){return{left:e.left-t.left,top:e.top-t.top,right:t.left+t.width-e.left-e.width,bottom:t.top+t.height-e.top-e.height}}function h8(e){e.innerHTML=""}function FE(e){e.setAttribute("draggable","false")}function TE(e,t){var r;const i=Array.isArray(t)?t:[t];let s=e;for(;s instanceof Element&&s!==window.document.body;){if(i.find(p=>s==null?void 0:s.matches(p)))return s;s=(r=s==null?void 0:s.parentElement)!=null?r:null}}function SE(e){return typeof ImageBitmap<"u"&&e instanceof ImageBitmap}var m2=navigator==null?void 0:navigator.userAgent;m2.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/);m2.indexOf("Android")>-1||m2.indexOf("Adr")>-1;function _2(e){var t=[1/0,1/0,-1/0,-1/0];return o8(e,function(r){t[0]>r[0]&&(t[0]=r[0]),t[1]>r[1]&&(t[1]=r[1]),t[2]<r[0]&&(t[2]=r[0]),t[3]<r[1]&&(t[3]=r[1])}),t}_2.default=_2;function mm(e){return typeof e=="number"}function sa(e){return e-Math.fround(e)}var V3=2*Math.PI*6378137/2;function RE(e,t){const[r,i,s,p]=t;return e.lng>r&&e.lng<=s&&e.lat>i&&e.lat<=p}function wE(e){const t=[1/0,1/0,-1/0,-1/0];return e.forEach(r=>{const{coordinates:i}=r;f8(t,i)}),t}function f8(e,t){return Array.isArray(t[0])?t.forEach(r=>{f8(e,r)}):(e[0]>t[0]&&(e[0]=t[0]),e[1]>t[1]&&(e[1]=t[1]),e[2]<t[0]&&(e[2]=t[0]),e[3]<t[1]&&(e[3]=t[1])),e}function bh(e,t=!0,r={enable:!0,decimal:1}){e=ME(e,t);const i=e[0],s=e[1];let p=i*V3/180,n=Math.log(Math.tan((90+s)*Math.PI/360))/(Math.PI/180);return n=n*V3/180,r.enable&&(p=Number(p.toFixed(r.decimal)),n=Number(n.toFixed(r.decimal))),e.length===3?[p,n,e[2]]:[p,n]}function CE(e){if(e==null)throw new Error("lng is required");return(e>180||e<-180)&&(e=e%360,e>180&&(e=-360+e),e<-180&&(e=360+e),e===0&&(e=0)),e}function IE(e){if(e==null)throw new Error("lat is required");return(e>90||e<-90)&&(e=e%180,e>90&&(e=-180+e),e<-90&&(e=180+e),e===0&&(e=0)),e}function ME(e,t){if(t===!1)return e;const r=CE(e[0]);let i=IE(e[1]);return i>85&&(i=85),i<-85&&(i=-85),e.length===3?[r,i,e[2]]:[r,i]}function Gu(e){const t=85.0511287798,r=Math.max(Math.min(t,e[1]),-t),i=256<<20;let s=Math.PI/180,p=e[0]*s,n=r*s;n=Math.log(Math.tan(Math.PI/4+n/2));const f=.5/Math.PI,m=.5,g=-.5/Math.PI;return s=.5,p=i*(f*p+m),n=i*(g*n+s),[Math.floor(p),Math.floor(n)]}function f6(e,t){const r=Math.abs(e[1][1]-e[0][1])*t,i=Math.abs(e[1][0]-e[0][0])*t;return[[e[0][0]-i,e[0][1]-r],[e[1][0]+i,e[1][1]+r]]}function m8(e,t){return e[0][0]<=t[0][0]&&e[0][1]<=t[0][1]&&e[1][0]>=t[1][0]&&e[1][1]>=t[1][1]}function Hh(e){return[[e[0],e[1]],[e[2],e[3]]]}function NE(e){const t=DE(e,[0,0]);return[e[0]/t,e[1]/t]}function DE(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))}function d1(e){if(mm(e[0]))return e;if(mm(e[0][0]))throw new Error("当前数据不支持标注");if(mm(e[0][0][0])){const t=e;let r=0,i=0,s=0;return t.forEach(p=>{p.forEach(n=>{r+=n[0],i+=n[1],s++})}),[r/s,i/s,0]}else throw new Error("当前数据不支持标注")}function OE(e){let t=e[0],r=e[1],i=e[0],s=e[1],p=0,n=0,f=0;for(let m=0;m<e.length;m+=2){const g=e[m],x=e[m+1];g&&x&&(t=Math.max(g,t),r=Math.max(x,r),i=Math.min(g,i),s=Math.min(x,s),p+=g,n+=x,f++)}return{center:[p/f,n/f],radius:Math.sqrt(Math.pow(t-i,2)+Math.pow(r-s,2))/2}}function LE(e){return _2(Wv([jv(e)]))}function BE(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})}var UE=class{constructor(e=50,t){this.limit=e,this.destroy=t||this.defaultDestroy,this.order=[],this.clear()}clear(){this.order.forEach(e=>{this.delete(e)}),this.cache={},this.order=[]}get(e){const t=this.cache[e];return t&&(this.deleteOrder(e),this.appendOrder(e)),t}set(e,t){this.cache[e]?(this.delete(e),this.cache[e]=t,this.appendOrder(e)):(Object.keys(this.cache).length===this.limit&&this.delete(this.order[0]),this.cache[e]=t,this.appendOrder(e))}delete(e){const t=this.cache[e];t&&(this.deleteCache(e),this.deleteOrder(e),this.destroy(t,e))}deleteCache(e){delete this.cache[e]}deleteOrder(e){const t=this.order.findIndex(r=>r===e);t>=0&&this.order.splice(t,1)}appendOrder(e){this.order.push(e)}defaultDestroy(e,t){return null}};function kE(e){if(e.length===0)throw new Error("max requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return t*1}function zE(e){if(e.length===0)throw new Error("min requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return t*1}function _8(e){if(e.length===0)return 0;let t=e[0]*1;for(let r=1;r<e.length;r++)t+=e[r]*1;return t}function VE(e){if(e.length===0)throw new Error("mean requires at least one data point");return _8(e)/e.length}function HE(e){if(e.length===0)throw new Error("mean requires at least one data point");if(e.length<3)return e[0];e.sort();let t=e[0],r=NaN,i=0,s=1;for(let p=1;p<e.length+1;p++)e[p]!==t?(s>i&&(i=s,r=t),s=1,t=e[p]):s++;return r*1}var g8={min:zE,max:kE,mean:VE,sum:_8,mode:HE};function v8(e,t){return e.map(r=>r[t])}function GE(e,t){t===void 0&&(t={});var r=Number(e[0]),i=Number(e[1]),s=Number(e[2]),p=Number(e[3]);if(e.length===6)throw new Error("@turf/bbox-polygon does not support BBox with 6 positions");var n=[r,i],f=[r,p],m=[s,p],g=[s,i];return n6([[n,g,m,f,n]],t.properties,{bbox:e,id:t.id})}var _m={exports:{}},H3;function jE(){return H3||(H3=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(m,g,x){this.fn=m,this.context=g,this.once=x||!1}function p(m,g,x,b,F){if(typeof x!="function")throw new TypeError("The listener must be a function");var R=new s(x,b||m,F),I=r?r+g:g;return m._events[I]?m._events[I].fn?m._events[I]=[m._events[I],R]:m._events[I].push(R):(m._events[I]=R,m._eventsCount++),m}function n(m,g){--m._eventsCount===0?m._events=new i:delete m._events[g]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],x,b;if(this._eventsCount===0)return g;for(b in x=this._events)t.call(x,b)&&g.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(x)):g},f.prototype.listeners=function(g){var x=r?r+g:g,b=this._events[x];if(!b)return[];if(b.fn)return[b.fn];for(var F=0,R=b.length,I=new Array(R);F<R;F++)I[F]=b[F].fn;return I},f.prototype.listenerCount=function(g){var x=r?r+g:g,b=this._events[x];return b?b.fn?1:b.length:0},f.prototype.emit=function(g,x,b,F,R,I){var O=r?r+g:g;if(!this._events[O])return!1;var U=this._events[O],Y=arguments.length,ee,oe;if(U.fn){switch(U.once&&this.removeListener(g,U.fn,void 0,!0),Y){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,x),!0;case 3:return U.fn.call(U.context,x,b),!0;case 4:return U.fn.call(U.context,x,b,F),!0;case 5:return U.fn.call(U.context,x,b,F,R),!0;case 6:return U.fn.call(U.context,x,b,F,R,I),!0}for(oe=1,ee=new Array(Y-1);oe<Y;oe++)ee[oe-1]=arguments[oe];U.fn.apply(U.context,ee)}else{var Re=U.length,Ae;for(oe=0;oe<Re;oe++)switch(U[oe].once&&this.removeListener(g,U[oe].fn,void 0,!0),Y){case 1:U[oe].fn.call(U[oe].context);break;case 2:U[oe].fn.call(U[oe].context,x);break;case 3:U[oe].fn.call(U[oe].context,x,b);break;case 4:U[oe].fn.call(U[oe].context,x,b,F);break;default:if(!ee)for(Ae=1,ee=new Array(Y-1);Ae<Y;Ae++)ee[Ae-1]=arguments[Ae];U[oe].fn.apply(U[oe].context,ee)}}return!0},f.prototype.on=function(g,x,b){return p(this,g,x,b,!1)},f.prototype.once=function(g,x,b){return p(this,g,x,b,!0)},f.prototype.removeListener=function(g,x,b,F){var R=r?r+g:g;if(!this._events[R])return this;if(!x)return n(this,R),this;var I=this._events[R];if(I.fn)I.fn===x&&(!F||I.once)&&(!b||I.context===b)&&n(this,R);else{for(var O=0,U=[],Y=I.length;O<Y;O++)(I[O].fn!==x||F&&!I[O].once||b&&I[O].context!==b)&&U.push(I[O]);U.length?this._events[R]=U.length===1?U[0]:U:n(this,R)}return this},f.prototype.removeAllListeners=function(g){var x;return g?(x=r?r+g:g,this._events[x]&&n(this,x)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f}(_m)),_m.exports}var du=jE();const m6=mp(du);var qd=(e=>(e.Realtime="realtime",e.Overlap="overlap",e.Replace="replace",e))(qd||{}),ku=(e=>(e.Loading="Loading",e.Loaded="Loaded",e.Failure="Failure",e.Cancelled="Cancelled",e))(ku||{}),E8=0,G3=1,bf=2;function WE(e){e.forEach(t=>{t.isCurrent&&(t.isVisible=t.isLoaded)})}function XE(e){e.forEach(t=>{t.properties.state=E8}),e.forEach(t=>{t.isCurrent&&!x8(t)&&_6(t)}),e.forEach(t=>{t.isVisible=!!(t.properties.state&bf)})}function ZE(e){e.forEach(r=>{r.properties.state=E8}),e.forEach(r=>{r.isCurrent&&x8(r)}),e.slice().sort((r,i)=>r.z-i.z).forEach(r=>{r.isVisible=!!(r.properties.state&bf),r.children.length&&(r.isVisible||r.properties.state&G3)?r.children.forEach(i=>{i.properties.state=G3}):r.isCurrent&&_6(r)})}function x8(e){for(;e;){if(e.isLoaded)return e.properties.state|=bf,!0;e=e.parent}return!1}function _6(e){e.children.forEach(t=>{t.isLoaded?t.properties.state|=bf:_6(t)})}var P8=[-1/0,-1/0,1/0,1/0],YE=.2,qE=5,$E={[qd.Realtime]:WE,[qd.Overlap]:XE,[qd.Replace]:ZE},KE=()=>{};function g2(e,t,r){const i=Math.floor((e+180)/360*Math.pow(2,r)),s=Math.floor((1-Math.log(Math.tan(t*Math.PI/180)+1/Math.cos(t*Math.PI/180))/Math.PI)/2*Math.pow(2,r));return[i,s]}function j3(e,t,r){const i=e/Math.pow(2,r)*360-180,s=Math.PI-2*Math.PI*t/Math.pow(2,r),p=180/Math.PI*Math.atan(.5*(Math.exp(s)-Math.exp(-s)));return[i,p]}var b8=(e,t,r)=>{const[i,s]=j3(e,t,r),[p,n]=j3(e+1,t+1,r);return[i,n,p,s]};function QE({zoom:e,latLonBounds:t,maxZoom:r=1/0,minZoom:i=0,zoomOffset:s=0,extent:p=P8}){let n=Math.ceil(e)+s;if(Number.isFinite(i)&&n<i)return[];Number.isFinite(r)&&n>r&&(n=r);const[f,m,g,x]=t,b=[Math.max(f,p[0]),Math.max(m,p[1]),Math.min(g,p[2]),Math.min(x,p[3])],F=[],[R,I]=g2(b[0],b[1],n),[O,U]=g2(b[2],b[3],n);for(let Re=R;Re<=O;Re++)for(let Ae=U;Ae<=I;Ae++)F.push({x:Re,y:Ae,z:n});const Y=(O+R)/2,ee=(I+U)/2,oe=(Re,Ae)=>Math.abs(Re-Y)+Math.abs(Ae-ee);return F.sort((Re,Ae)=>oe(Re.x,Re.y)-oe(Ae.x,Ae.y)),F}var JE=(e,t,r,i=!0)=>{const s=Math.pow(2,r),p=s-1,n=s;let f=e;const m=t;return i&&(f<0?f=f+n:f>p&&(f=f%n)),{warpX:f,warpY:m}},ex=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),tx=class extends du.EventEmitter{constructor(e){super(),this.tileSize=256,this.isVisible=!1,this.isCurrent=!1,this.isVisibleChange=!1,this.loadedLayers=0,this.isLayerLoaded=!1,this.isLoad=!1,this.isChildLoad=!1,this.parent=null,this.children=[],this.data=null,this.properties={},this.loadDataId=0;const{x:t,y:r,z:i,tileSize:s,warp:p=!0}=e;this.x=t,this.y=r,this.z=i,this.warp=p||!0,this.tileSize=s}get isLoading(){return this.loadStatus===ku.Loading}get isLoaded(){return this.loadStatus===ku.Loaded}get isFailure(){return this.loadStatus===ku.Failure}setTileLayerLoaded(){this.isLayerLoaded=!0}get isCancelled(){return this.loadStatus===ku.Cancelled}get isDone(){return[ku.Loaded,ku.Cancelled,ku.Failure].includes(this.loadStatus)}get bounds(){return b8(this.x,this.y,this.z)}get bboxPolygon(){const[e,t,r,i]=this.bounds,s=[(r-e)/2,(i-t)/2];return GE(this.bounds,{properties:{key:this.key,id:this.key,bbox:this.bounds,center:s,meta:`
      ${this.key}
      `}})}get key(){return`${this.x}_${this.y}_${this.z}`}layerLoad(){this.loadedLayers++,this.emit("layerLoaded")}loadData(e){return ex(this,arguments,function*({getData:t,onLoad:r,onError:i}){this.loadDataId++;const s=this.loadDataId;this.isLoading&&this.abortLoad(),this.abortController=new AbortController,this.loadStatus=ku.Loading;let p=null,n;try{const{x:f,y:m,z:g,bounds:x,tileSize:b,warp:F}=this,{warpX:R,warpY:I}=JE(f,m,g,F),{signal:O}=this.abortController;p=yield t({x:R,y:I,z:g,bounds:x,tileSize:b,signal:O,warp:F},this)}catch(f){n=f}if(s===this.loadDataId&&!(this.isCancelled&&!p)){if(n||!p){this.loadStatus=ku.Failure,i(n,this);return}this.loadStatus=ku.Loaded,this.data=p,r(this)}})}reloadData(e){this.isLoading&&this.abortLoad(),this.loadData(e)}abortLoad(){this.isLoaded||this.isCancelled||(this.loadStatus=ku.Cancelled,this.abortController.abort(),this.xhrCancel&&this.xhrCancel())}},rx=(e,t)=>{const r=Hh(e),i=f6(r,t),s=360*3-180,p=85.0511287798065;return[Math.max(i[0][0],-s),Math.max(i[0][1],-p),Math.min(i[1][0],s),Math.min(i[1][1],p)]},ox=(e,t)=>{const r=Hh(e),i=Hh(t);return m8(r,i)},ix=Object.defineProperty,nx=Object.defineProperties,ax=Object.getOwnPropertyDescriptors,W3=Object.getOwnPropertySymbols,sx=Object.prototype.hasOwnProperty,ux=Object.prototype.propertyIsEnumerable,X3=(e,t,r)=>t in e?ix(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Z3=(e,t)=>{for(var r in t||(t={}))sx.call(t,r)&&X3(e,r,t[r]);if(W3)for(var r of W3(t))ux.call(t,r)&&X3(e,r,t[r]);return e},px=(e,t)=>nx(e,ax(t)),{throttle:cx}=Kn,lx=class extends m6{constructor(e){super(),this.currentTiles=[],this.cacheTiles=new Map,this.throttleUpdate=cx((t,r)=>{this.update(t,r)},16),this.onTileLoad=t=>{this.emit("tile-loaded",t),this.updateTileVisible(),this.loadFinished()},this.onTileError=(t,r)=>{this.emit("tile-error",{error:t,tile:r}),this.updateTileVisible(),this.loadFinished()},this.onTileUnload=t=>{this.emit("tile-unload",t),this.loadFinished()},this.options={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,extent:P8,getTileData:KE,warp:!0,updateStrategy:qd.Replace},this.updateOptions(e)}get isLoaded(){return this.currentTiles.every(e=>e.isDone)}get tiles(){return Array.from(this.cacheTiles.values()).sort((t,r)=>t.z-r.z)}updateOptions(e){const t=e.minZoom===void 0?this.options.minZoom:Math.ceil(e.minZoom),r=e.maxZoom===void 0?this.options.maxZoom:Math.floor(e.maxZoom);this.options=px(Z3(Z3({},this.options),e),{minZoom:t,maxZoom:r})}update(e,t){const r=Math.max(0,Math.ceil(e));if(this.lastViewStates&&this.lastViewStates.zoom===r&&ox(this.lastViewStates.latLonBoundsBuffer,t))return;const i=rx(t,YE);this.lastViewStates={zoom:r,latLonBounds:t,latLonBoundsBuffer:i},this.currentZoom=r;let s=!1;const p=this.getTileIndices(r,i).filter(n=>this.options.warp||n.x>=0&&n.x<Math.pow(2,r));this.emit("tiles-load-start"),this.currentTiles=p.map(({x:n,y:f,z:m})=>{let g=this.getTile(n,f,m);return g?(((g==null?void 0:g.isFailure)||(g==null?void 0:g.isCancelled))&&g.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),g):(g=this.createTile(n,f,m),s=!0,g)}),s&&this.resizeCacheTiles(),this.updateTileVisible(),this.pruneRequests()}reloadAll(){for(const[e,t]of this.cacheTiles){if(!this.currentTiles.includes(t)){this.cacheTiles.delete(e),this.onTileUnload(t);return}this.onTileUnload(t),t.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError})}}reloadTileById(e,t,r){const i=this.cacheTiles.get(`${t},${r},${e}`);i&&(this.onTileUnload(i),i.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}))}reloadTileByLnglat(e,t,r){const i=this.getTileByLngLat(e,t,r);i&&this.reloadTileById(i.z,i.x,i.y)}reloadTileByExtent(e,t){this.getTileIndices(t,e).forEach(i=>{this.reloadTileById(i.z,i.x,i.y)})}pruneRequests(){const e=[];for(const t of this.cacheTiles.values())t.isLoading&&!t.isCurrent&&!t.isVisible&&e.push(t);for(;e.length>0;)e.shift().abortLoad()}getTileByLngLat(e,t,r){const{zoomOffset:i}=this.options,s=Math.ceil(r)+i,p=g2(e,t,s);return this.tiles.filter(f=>f.key===`${p[0]}_${p[1]}_${s}`)[0]}getTileExtent(e,t){return this.getTileIndices(t,e)}getTileByZXY(e,t,r){return this.tiles.filter(s=>s.key===`${t}_${r}_${e}`)[0]}clear(){for(const e of this.cacheTiles.values())e.isLoading?e.abortLoad():this.onTileUnload(e);this.lastViewStates=void 0,this.cacheTiles.clear(),this.currentTiles=[]}destroy(){this.clear(),this.removeAllListeners()}updateTileVisible(){const e=this.options.updateStrategy,t=new Map;for(const s of this.cacheTiles.values())t.set(s.key,s.isVisible),s.isCurrent=!1,s.isVisible=!1;for(const s of this.currentTiles)s.isCurrent=!0,s.isVisible=!0;const r=Array.from(this.cacheTiles.values());typeof e=="function"?e(r):$E[e](r);let i=!1;Array.from(this.cacheTiles.values()).forEach(s=>{s.isVisible!==t.get(s.key)?(s.isVisibleChange=!0,i=!0):s.isVisibleChange=!1}),i&&this.emit("tile-update")}getTileIndices(e,t){const{tileSize:r,extent:i,zoomOffset:s}=this.options,p=Math.floor(this.options.maxZoom),n=Math.ceil(this.options.minZoom);return QE({maxZoom:p,minZoom:n,zoomOffset:s,tileSize:r,zoom:e,latLonBounds:t,extent:i})}getTileId(e,t,r){return`${e},${t},${r}`}loadFinished(){const e=!this.currentTiles.some(t=>!t.isDone);return e&&this.emit("tiles-load-finished"),e}getTile(e,t,r){const i=this.getTileId(e,t,r);return this.cacheTiles.get(i)}createTile(e,t,r){const i=this.getTileId(e,t,r),s=new tx({x:e,y:t,z:r,tileSize:this.options.tileSize,warp:this.options.warp});return this.cacheTiles.set(i,s),s.loadData({getData:this.options.getTileData,onLoad:this.onTileLoad,onError:this.onTileError}),s}resizeCacheTiles(){const e=qE*this.currentTiles.length;if(this.cacheTiles.size>e){for(const[r,i]of this.cacheTiles)if(!i.isVisible&&!this.currentTiles.includes(i)&&(this.cacheTiles.delete(r),this.onTileUnload(i)),this.cacheTiles.size<=e)break}this.rebuildTileTree()}rebuildTileTree(){for(const e of this.cacheTiles.values())e.parent=null,e.children.length=0;for(const e of this.cacheTiles.values()){const t=this.getNearestAncestor(e.x,e.y,e.z);e.parent=t,t!=null&&t.children&&t.children.push(e)}}getNearestAncestor(e,t,r){for(;r>this.options.minZoom;){e=Math.floor(e/2),t=Math.floor(t/2),r=r-1;const i=this.getTile(e,t,r);if(i)return i}return null}};function A8(e){const t=[];let r=/\{([a-z])-([a-z])\}/.exec(e);if(r){const i=r[1].charCodeAt(0),s=r[2].charCodeAt(0);let p;for(p=i;p<=s;++p)t.push(e.replace(r[0],String.fromCharCode(p)));return t}if(r=/\{(\d+)-(\d+)\}/.exec(e),r){const i=parseInt(r[2],10);for(let s=parseInt(r[1],10);s<=i;s++)t.push(e.replace(r[0],s.toString()));return t}return t.push(e),t}function E0(e,t){if(!e||!e.length)throw new Error("url is not allowed to be empty");const{x:r,y:i,z:s}=t,p=A8(e),n=Math.abs(r+i)%p.length;return(u6(p[n])?`${p[n]}/{z}/{x}/{y}`:p[n]).replace(/\{x\}/g,r.toString()).replace(/\{y\}/g,i.toString()).replace(/\{z\}/g,s.toString()).replace(/\{bbox\}/g,b8(r,i,s).join(",")).replace(/\{-y\}/g,(Math.pow(2,s)-i-1).toString())}function dx(e,t){const{x:r,y:i,z:s,layer:p,version:n="1.0.0",style:f="default",format:m,service:g="WMTS",tileMatrixset:x}=t,b=A8(e),F=Math.abs(r+i)%b.length;return`${b[F]}&SERVICE=${g}&REQUEST=GetTile&VERSION=${n}&LAYER=${p}&STYLE=${f}&TILEMATRIXSET=${x}&FORMAT=${m}&TILECOL=${r}&TILEROW=${i}&TILEMATRIX=${s}`}function fd(e,t){return e??t}var gm,Y3;function yx(){if(Y3)return gm;Y3=1,gm=e;function e(i,s){var p=i&&i.type,n;if(p==="FeatureCollection")for(n=0;n<i.features.length;n++)e(i.features[n],s);else if(p==="GeometryCollection")for(n=0;n<i.geometries.length;n++)e(i.geometries[n],s);else if(p==="Feature")e(i.geometry,s);else if(p==="Polygon")t(i.coordinates,s);else if(p==="MultiPolygon")for(n=0;n<i.coordinates.length;n++)t(i.coordinates[n],s);return i}function t(i,s){if(i.length!==0){r(i[0],s);for(var p=1;p<i.length;p++)r(i[p],!s)}}function r(i,s){for(var p=0,n=0,f=0,m=i.length,g=m-1;f<m;g=f++){var x=(i[f][0]-i[g][0])*(i[g][1]+i[f][1]),b=p+x;n+=Math.abs(p)>=Math.abs(x)?p-b+x:x-b+p,p=b}p+n>=0!=!!s&&i.reverse()}return gm}var hx=yx();const fx=mp(hx);function mx(e,t){return e.map(r=>r[t]*1)}function F8(e){return Array.isArray(e)?e.length===0||typeof e[0]=="number":!1}function v2(e){const t=Object.isFrozen(e)?Kn.cloneDeep(e):e;return fx(t,!0),t}function B0(e,t){return e||[[t[0],t[3]],[t[2],t[3]],[t[2],t[1]],[t[0],t[1]]]}var _x=Object.defineProperty,gx=Object.defineProperties,vx=Object.getOwnPropertyDescriptors,q3=Object.getOwnPropertySymbols,Ex=Object.prototype.hasOwnProperty,xx=Object.prototype.propertyIsEnumerable,$3=(e,t,r)=>t in e?_x(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,K3=(e,t)=>{for(var r in t||(t={}))Ex.call(t,r)&&$3(e,r,t[r]);if(q3)for(var r of q3(t))xx.call(t,r)&&$3(e,r,t[r]);return e},Q3=(e,t)=>gx(e,vx(t));function T8(e,t){const{x:r,y:i,x1:s,y1:p,coordinates:n,geometry:f}=t,m=[];if(!Array.isArray(e))return{dataArray:[]};if(f)return e.filter(g=>g[f]&&g[f].type&&g[f].coordinates&&g[f].coordinates.length>0).forEach((g,x)=>{const b=v2(g[f]);i8(b,F=>{const R=r8(F),I=Q3(K3({},g),{_id:x,coordinates:R});m.push(I)})}),{dataArray:m};for(let g=0;g<e.length;g++){const x=e[g];let b=[];if(n){let R="Polygon";Array.isArray(n[0])||(R="Point"),Array.isArray(n[0])&&!Array.isArray(n[0][0])&&(R="LineString"),b=v2({type:R,coordinates:x[n]}).coordinates}else if(r&&i&&s&&p){const R=[parseFloat(x[r]),parseFloat(x[i])],I=[parseFloat(x[s]),parseFloat(x[p])];b=[R,I]}else r&&i&&(b=[parseFloat(x[r]),parseFloat(x[i])]);const F=Q3(K3({},x),{_id:g,coordinates:b});m.push(F)}return{dataArray:m}}function Px(e,t){const r=Gv(e);return T8(r,t)}var bx=Object.defineProperty,Ax=Object.defineProperties,Fx=Object.getOwnPropertyDescriptors,J3=Object.getOwnPropertySymbols,Tx=Object.prototype.hasOwnProperty,Sx=Object.prototype.propertyIsEnumerable,e_=(e,t,r)=>t in e?bx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rx=(e,t)=>{for(var r in t||(t={}))Tx.call(t,r)&&e_(e,r,t[r]);if(J3)for(var r of J3(t))Sx.call(t,r)&&e_(e,r,t[r]);return e},Cx=(e,t)=>Ax(e,Fx(t));function Ix(e){const t=e.toString();let r=5381,i=t.length;for(;i;)r=r*33^t.charCodeAt(--i);return r>>>0}function Mx(e,t){return t===void 0?null:typeof(e.properties[t]*1)=="number"?e.properties[t]*1:e.properties&&e.properties[t]?Ix(e.properties[t]+"")%1000019:null}function Nx(e,t){const r=[],i={};return e.features?(e.features=e.features.filter(s=>{const p=s.geometry;return s!=null&&p&&p.type&&p.coordinates&&p.coordinates.length>0}),e=v2(e),e.features.length===0?{dataArray:[],featureKeys:i}:(i8(e,(s,p)=>{let n=Mx(s,t==null?void 0:t.featureId);n===null&&(n=p);const f=n,m=r8(s),g=Cx(Rx({},s.properties),{coordinates:m,_id:f});r.push(g)}),{dataArray:r,featureKeys:i})):(e.features=[],{dataArray:[]})}function E2(e,t,r,i){for(var s=i,p=r-t>>1,n=r-t,f,m=e[t],g=e[t+1],x=e[r],b=e[r+1],F=t+3;F<r;F+=3){var R=Dx(e[F],e[F+1],m,g,x,b);if(R>s)f=F,s=R;else if(R===s){var I=Math.abs(F-p);I<n&&(f=F,n=I)}}s>i&&(f-t>3&&E2(e,t,f,i),e[f+2]=s,r-f>3&&E2(e,f,r,i))}function Dx(e,t,r,i,s,p){var n=s-r,f=p-i;if(n!==0||f!==0){var m=((e-r)*n+(t-i)*f)/(n*n+f*f);m>1?(r=s,i=p):m>0&&(r+=n*m,i+=f*m)}return n=e-r,f=t-i,n*n+f*f}function oy(e,t,r,i){var s={id:typeof e>"u"?null:e,type:t,geometry:r,tags:i,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return Ox(s),s}function Ox(e){var t=e.geometry,r=e.type;if(r==="Point"||r==="MultiPoint"||r==="LineString")vm(e,t);else if(r==="Polygon"||r==="MultiLineString")for(var i=0;i<t.length;i++)vm(e,t[i]);else if(r==="MultiPolygon")for(i=0;i<t.length;i++)for(var s=0;s<t[i].length;s++)vm(e,t[i][s])}function vm(e,t){for(var r=0;r<t.length;r+=3)e.minX=Math.min(e.minX,t[r]),e.minY=Math.min(e.minY,t[r+1]),e.maxX=Math.max(e.maxX,t[r]),e.maxY=Math.max(e.maxY,t[r+1])}function Lx(e,t){var r=[];if(e.type==="FeatureCollection")for(var i=0;i<e.features.length;i++)Ah(r,e.features[i],t,i);else e.type==="Feature"?Ah(r,e,t):Ah(r,{geometry:e},t);return r}function Ah(e,t,r,i){if(t.geometry){var s=t.geometry.coordinates,p=t.geometry.type,n=Math.pow(r.tolerance/((1<<r.maxZoom)*r.extent),2),f=[],m=t.id;if(r.promoteId?m=t.properties[r.promoteId]:r.generateId&&(m=i||0),p==="Point")t_(s,f);else if(p==="MultiPoint")for(var g=0;g<s.length;g++)t_(s[g],f);else if(p==="LineString")x2(s,f,n,!1);else if(p==="MultiLineString")if(r.lineMetrics){for(g=0;g<s.length;g++)f=[],x2(s[g],f,n,!1),e.push(oy(m,"LineString",f,t.properties));return}else Em(s,f,n,!1);else if(p==="Polygon")Em(s,f,n,!0);else if(p==="MultiPolygon")for(g=0;g<s.length;g++){var x=[];Em(s[g],x,n,!0),f.push(x)}else if(p==="GeometryCollection"){for(g=0;g<t.geometry.geometries.length;g++)Ah(e,{id:m,geometry:t.geometry.geometries[g],properties:t.properties},r,i);return}else throw new Error("Input data is not a valid GeoJSON object.");e.push(oy(m,p,f,t.properties))}}function t_(e,t){t.push(S8(e[0])),t.push(R8(e[1])),t.push(0)}function x2(e,t,r,i){for(var s,p,n=0,f=0;f<e.length;f++){var m=S8(e[f][0]),g=R8(e[f][1]);t.push(m),t.push(g),t.push(0),f>0&&(i?n+=(s*g-m*p)/2:n+=Math.sqrt(Math.pow(m-s,2)+Math.pow(g-p,2))),s=m,p=g}var x=t.length-3;t[2]=1,E2(t,0,x,r),t[x+2]=1,t.size=Math.abs(n),t.start=0,t.end=t.size}function Em(e,t,r,i){for(var s=0;s<e.length;s++){var p=[];x2(e[s],p,r,i),t.push(p)}}function S8(e){return e/360+.5}function R8(e){var t=Math.sin(e*Math.PI/180),r=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return r<0?0:r>1?1:r}function bc(e,t,r,i,s,p,n,f){if(r/=t,i/=t,p>=r&&n<i)return e;if(n<r||p>=i)return null;for(var m=[],g=0;g<e.length;g++){var x=e[g],b=x.geometry,F=x.type,R=s===0?x.minX:x.minY,I=s===0?x.maxX:x.maxY;if(R>=r&&I<i){m.push(x);continue}else if(I<r||R>=i)continue;var O=[];if(F==="Point"||F==="MultiPoint")Bx(b,O,r,i,s);else if(F==="LineString")w8(b,O,r,i,s,!1,f.lineMetrics);else if(F==="MultiLineString")xm(b,O,r,i,s,!1);else if(F==="Polygon")xm(b,O,r,i,s,!0);else if(F==="MultiPolygon")for(var U=0;U<b.length;U++){var Y=[];xm(b[U],Y,r,i,s,!0),Y.length&&O.push(Y)}if(O.length){if(f.lineMetrics&&F==="LineString"){for(U=0;U<O.length;U++)m.push(oy(x.id,F,O[U],x.tags));continue}(F==="LineString"||F==="MultiLineString")&&(O.length===1?(F="LineString",O=O[0]):F="MultiLineString"),(F==="Point"||F==="MultiPoint")&&(F=O.length===3?"Point":"MultiPoint"),m.push(oy(x.id,F,O,x.tags))}}return m.length?m:null}function Bx(e,t,r,i,s){for(var p=0;p<e.length;p+=3){var n=e[p+s];n>=r&&n<=i&&(t.push(e[p]),t.push(e[p+1]),t.push(e[p+2]))}}function w8(e,t,r,i,s,p,n){for(var f=r_(e),m=s===0?Ux:kx,g=e.start,x,b,F=0;F<e.length-3;F+=3){var R=e[F],I=e[F+1],O=e[F+2],U=e[F+3],Y=e[F+4],ee=s===0?R:I,oe=s===0?U:Y,Re=!1;n&&(x=Math.sqrt(Math.pow(R-U,2)+Math.pow(I-Y,2))),ee<r?oe>r&&(b=m(f,R,I,U,Y,r),n&&(f.start=g+x*b)):ee>i?oe<i&&(b=m(f,R,I,U,Y,i),n&&(f.start=g+x*b)):Pm(f,R,I,O),oe<r&&ee>=r&&(b=m(f,R,I,U,Y,r),Re=!0),oe>i&&ee<=i&&(b=m(f,R,I,U,Y,i),Re=!0),!p&&Re&&(n&&(f.end=g+x*b),t.push(f),f=r_(e)),n&&(g+=x)}var Ae=e.length-3;R=e[Ae],I=e[Ae+1],O=e[Ae+2],ee=s===0?R:I,ee>=r&&ee<=i&&Pm(f,R,I,O),Ae=f.length-3,p&&Ae>=3&&(f[Ae]!==f[0]||f[Ae+1]!==f[1])&&Pm(f,f[0],f[1],f[2]),f.length&&t.push(f)}function r_(e){var t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function xm(e,t,r,i,s,p){for(var n=0;n<e.length;n++)w8(e[n],t,r,i,s,p,!1)}function Pm(e,t,r,i){e.push(t),e.push(r),e.push(i)}function Ux(e,t,r,i,s,p){var n=(p-t)/(i-t);return e.push(p),e.push(r+(s-r)*n),e.push(1),n}function kx(e,t,r,i,s,p){var n=(p-r)/(s-r);return e.push(t+(i-t)*n),e.push(p),e.push(1),n}function zx(e,t){var r=t.buffer/t.extent,i=e,s=bc(e,1,-1-r,r,0,-1,2,t),p=bc(e,1,1-r,2+r,0,-1,2,t);return(s||p)&&(i=bc(e,1,-r,1+r,0,-1,2,t)||[],s&&(i=o_(s,1).concat(i)),p&&(i=i.concat(o_(p,-1)))),i}function o_(e,t){for(var r=[],i=0;i<e.length;i++){var s=e[i],p=s.type,n;if(p==="Point"||p==="MultiPoint"||p==="LineString")n=bm(s.geometry,t);else if(p==="MultiLineString"||p==="Polygon"){n=[];for(var f=0;f<s.geometry.length;f++)n.push(bm(s.geometry[f],t))}else if(p==="MultiPolygon")for(n=[],f=0;f<s.geometry.length;f++){for(var m=[],g=0;g<s.geometry[f].length;g++)m.push(bm(s.geometry[f][g],t));n.push(m)}r.push(oy(s.id,p,n,s.tags))}return r}function bm(e,t){var r=[];r.size=e.size,e.start!==void 0&&(r.start=e.start,r.end=e.end);for(var i=0;i<e.length;i+=3)r.push(e[i]+t,e[i+1],e[i+2]);return r}function i_(e,t){if(e.transformed)return e;var r=1<<e.z,i=e.x,s=e.y,p,n,f;for(p=0;p<e.features.length;p++){var m=e.features[p],g=m.geometry,x=m.type;if(m.geometry=[],x===1)for(n=0;n<g.length;n+=2)m.geometry.push(n_(g[n],g[n+1],t,r,i,s));else for(n=0;n<g.length;n++){var b=[];for(f=0;f<g[n].length;f+=2)b.push(n_(g[n][f],g[n][f+1],t,r,i,s));m.geometry.push(b)}}return e.transformed=!0,e}function n_(e,t,r,i,s,p){return[Math.round(r*(e*i-s)),Math.round(r*(t*i-p))]}function Vx(e,t,r,i,s){for(var p=t===s.maxZoom?0:s.tolerance/((1<<t)*s.extent),n={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:i,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},f=0;f<e.length;f++){n.numFeatures++,Hx(n,e[f],p,s);var m=e[f].minX,g=e[f].minY,x=e[f].maxX,b=e[f].maxY;m<n.minX&&(n.minX=m),g<n.minY&&(n.minY=g),x>n.maxX&&(n.maxX=x),b>n.maxY&&(n.maxY=b)}return n}function Hx(e,t,r,i){var s=t.geometry,p=t.type,n=[];if(p==="Point"||p==="MultiPoint")for(var f=0;f<s.length;f+=3)n.push(s[f]),n.push(s[f+1]),e.numPoints++,e.numSimplified++;else if(p==="LineString")Am(n,s,e,r,!1,!1);else if(p==="MultiLineString"||p==="Polygon")for(f=0;f<s.length;f++)Am(n,s[f],e,r,p==="Polygon",f===0);else if(p==="MultiPolygon")for(var m=0;m<s.length;m++){var g=s[m];for(f=0;f<g.length;f++)Am(n,g[f],e,r,!0,f===0)}if(n.length){var x=t.tags||null;if(p==="LineString"&&i.lineMetrics){x={};for(var b in t.tags)x[b]=t.tags[b];x.mapbox_clip_start=s.start/s.size,x.mapbox_clip_end=s.end/s.size}var F={geometry:n,type:p==="Polygon"||p==="MultiPolygon"?3:p==="LineString"||p==="MultiLineString"?2:1,tags:x};t.id!==null&&(F.id=t.id),e.features.push(F)}}function Am(e,t,r,i,s,p){var n=i*i;if(i>0&&t.size<(s?n:i)){r.numPoints+=t.length/3;return}for(var f=[],m=0;m<t.length;m+=3)(i===0||t[m+2]>n)&&(r.numSimplified++,f.push(t[m]),f.push(t[m+1])),r.numPoints++;s&&Gx(f,p),e.push(f)}function Gx(e,t){for(var r=0,i=0,s=e.length,p=s-2;i<s;p=i,i+=2)r+=(e[i]-e[p])*(e[i+1]+e[p+1]);if(r>0===t)for(i=0,s=e.length;i<s/2;i+=2){var n=e[i],f=e[i+1];e[i]=e[s-2-i],e[i+1]=e[s-1-i],e[s-2-i]=n,e[s-1-i]=f}}function jx(e,t){return new Af(e,t)}function Af(e,t){t=this.options=Wx(Object.create(this.options),t);var r=t.debug;if(r&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");var i=Lx(e,t);this.tiles={},this.tileCoords=[],r&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),i=zx(i,t),i.length&&this.splitTile(i,0,0,0),r&&(i.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}Af.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};Af.prototype.splitTile=function(e,t,r,i,s,p,n){for(var f=[e,t,r,i],m=this.options,g=m.debug;f.length;){i=f.pop(),r=f.pop(),t=f.pop(),e=f.pop();var x=1<<t,b=P2(t,r,i),F=this.tiles[b];if(!F&&(g>1&&console.time("creation"),F=this.tiles[b]=Vx(e,t,r,i,m),this.tileCoords.push({z:t,x:r,y:i}),g)){g>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,r,i,F.numFeatures,F.numPoints,F.numSimplified),console.timeEnd("creation"));var R="z"+t;this.stats[R]=(this.stats[R]||0)+1,this.total++}if(F.source=e,s){if(t===m.maxZoom||t===s)continue;var I=1<<s-t;if(r!==Math.floor(p/I)||i!==Math.floor(n/I))continue}else if(t===m.indexMaxZoom||F.numPoints<=m.indexMaxPoints)continue;if(F.source=null,e.length!==0){g>1&&console.time("clipping");var O=.5*m.buffer/m.extent,U=.5-O,Y=.5+O,ee=1+O,oe,Re,Ae,ce,Ie,De;oe=Re=Ae=ce=null,Ie=bc(e,x,r-O,r+Y,0,F.minX,F.maxX,m),De=bc(e,x,r+U,r+ee,0,F.minX,F.maxX,m),e=null,Ie&&(oe=bc(Ie,x,i-O,i+Y,1,F.minY,F.maxY,m),Re=bc(Ie,x,i+U,i+ee,1,F.minY,F.maxY,m),Ie=null),De&&(Ae=bc(De,x,i-O,i+Y,1,F.minY,F.maxY,m),ce=bc(De,x,i+U,i+ee,1,F.minY,F.maxY,m),De=null),g>1&&console.timeEnd("clipping"),f.push(oe||[],t+1,r*2,i*2),f.push(Re||[],t+1,r*2,i*2+1),f.push(Ae||[],t+1,r*2+1,i*2),f.push(ce||[],t+1,r*2+1,i*2+1)}}};Af.prototype.getTile=function(e,t,r){var i=this.options,s=i.extent,p=i.debug;if(e<0||e>24)return null;var n=1<<e;t=(t%n+n)%n;var f=P2(e,t,r);if(this.tiles[f])return i_(this.tiles[f],s);p>1&&console.log("drilling down to z%d-%d-%d",e,t,r);for(var m=e,g=t,x=r,b;!b&&m>0;)m--,g=Math.floor(g/2),x=Math.floor(x/2),b=this.tiles[P2(m,g,x)];return!b||!b.source?null:(p>1&&console.log("found parent tile z%d-%d-%d",m,g,x),p>1&&console.time("drilling down"),this.splitTile(b.source,m,g,x,e,t,r),p>1&&console.timeEnd("drilling down"),this.tiles[f]?i_(this.tiles[f],s):null)};function P2(e,t,r){return((1<<e)*r+t)*32+e}function Wx(e,t){for(var r in t)e[r]=t[r];return e}var kd=class{constructor(t,r,i,s){this.vectorLayerCache={},this.x=r,this.y=i,this.z=s,this.vectorTile=t}getTileData(t){return!t||!this.vectorTile.layers[t]?[]:this.vectorLayerCache[t]?this.vectorLayerCache[t]:this.vectorTile.layers[t].features}getFeatureById(){throw new Error("Method not implemented.")}},Xx=Object.defineProperty,Zx=Object.defineProperties,Yx=Object.getOwnPropertyDescriptors,a_=Object.getOwnPropertySymbols,qx=Object.prototype.hasOwnProperty,$x=Object.prototype.propertyIsEnumerable,s_=(e,t,r)=>t in e?Xx(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Gh=(e,t)=>{for(var r in t||(t={}))qx.call(t,r)&&s_(e,r,t[r]);if(a_)for(var r of a_(t))$x.call(t,r)&&s_(e,r,t[r]);return e},Kx=(e,t)=>Zx(e,Yx(t)),Qx=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),Jx={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0};function eP(e){let t=0;for(let r=0,i=e.length,s=i-1,p,n;r<i;s=r++)p=e[r],n=e[s],t+=(n.x-p.x)*(p.y+n.y);return t}function tP(e){const t=e.length;if(t<=1)return[e];const r=[];let i,s;for(let p=0;p<t;p++){const n=eP(e[p]);n!==0&&(s===void 0&&(s=n<0),s===n<0?(i&&r.push(i),i=[e[p]]):i.push(e[p]))}return i&&r.push(i),r}var rP=["Unknown","Point","LineString","Polygon"];function oP(e,t,r,i,s){let p=s.geometry;const n=s.type,f=s.tags,m=s.id,g=e*Math.pow(2,i),x=e*t,b=e*r;let F=rP[n],R,I;function O(Y){for(let ee=0;ee<Y.length;ee++){const oe=Y[ee];if(oe[3])break;const Re=180-(oe[1]+b)*360/g,Ae=(oe[0]+x)*360/g-180,ce=360/Math.PI*Math.atan(Math.exp(Re*Math.PI/180))-90;Y[ee]=[Ae,ce,0,1]}}switch(n){case 1:const Y=[];for(R=0;R<p.length;R++)Y[R]=p[R][0];p=Y,O(p);break;case 2:for(R=0;R<p.length;R++)O(p[R]);break;case 3:for(p=tP(p),R=0;R<p.length;R++)for(I=0;I<p[R].length;I++)O(p[R][I]);break}return p.length===1?p=p[0]:F="Multi"+F,{type:"Feature",geometry:{type:F,coordinates:p},properties:f,id:m,tileOrigin:[0,0],coord:""}}var iP=(e,t,r,i)=>Qx(void 0,null,function*(){return new Promise(s=>{const p=t.getTile(e.z,e.x,e.y),f={layers:{defaultLayer:{features:p?p.features.map(g=>oP(i,r.x,r.y,r.z,g)):[]}}},m=new kd(f,e.x,e.y,e.z);s(m)})});function nP(e){const t={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!0,debug:0};return e===void 0||typeof e.geojsonvtOptions>"u"?t:Gh(Gh({},t),e.geojsonvtOptions)}function aP(e,t){const r=nP(t),i=r.extent||4096,s=jx(e,r),p=(f,m)=>iP(m,s,f,i),n=Kx(Gh(Gh({},Jx),t),{getTileData:p});return{data:e,dataArray:[],tilesetOptions:n,isTile:!0}}var sP=Object.defineProperty,uP=Object.defineProperties,pP=Object.getOwnPropertyDescriptors,u_=Object.getOwnPropertySymbols,cP=Object.prototype.hasOwnProperty,lP=Object.prototype.propertyIsEnumerable,p_=(e,t,r)=>t in e?sP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c_=(e,t)=>{for(var r in t||(t={}))cP.call(t,r)&&p_(e,r,t[r]);if(u_)for(var r of u_(t))lP.call(t,r)&&p_(e,r,t[r]);return e},l_=(e,t)=>uP(e,pP(t));function C8(e,t){const{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:i,requestParameters:s={}}=t,p=new Promise(m=>{e instanceof HTMLImageElement||SE(e)?m([e]):dP(e,s,g=>{m(g)})}),n=B0(i,r);return{originData:e,images:p,_id:1,dataArray:[{_id:0,coordinates:n}]}}function dP(e,t,r){const i=[];if(typeof e=="string")h2(l_(c_({},t),{url:e}),(s,p)=>{p&&(i.push(p),r(i))});else{const s=e.length;let p=0;e.forEach(n=>{h2(l_(c_({},t),{url:n}),(f,m)=>{p++,m&&i.push(m),p===s&&r(i)})})}return C8}var yP=Object.defineProperty,hP=Object.defineProperties,fP=Object.getOwnPropertyDescriptors,d_=Object.getOwnPropertySymbols,mP=Object.prototype.hasOwnProperty,_P=Object.prototype.propertyIsEnumerable,y_=(e,t,r)=>t in e?yP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,I8=(e,t)=>{for(var r in t||(t={}))mP.call(t,r)&&y_(e,r,t[r]);if(d_)for(var r of d_(t))_P.call(t,r)&&y_(e,r,t[r]);return e},M8=(e,t)=>hP(e,fP(t)),gP=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),vP=(e,t,r,i)=>gP(void 0,null,function*(){const s={x:t.x,y:t.y,z:t.z},p=E0(e,s);return new Promise(n=>{i?i(s,(f,m)=>{if(f||!m){const g={layers:{defaultLayer:{features:[]}}},x=new kd(g,t.x,t.y,t.z);n(x)}else{const g={layers:{defaultLayer:{features:m.features}}},x=new kd(g,t.x,t.y,t.z);n(x)}}):rE(M8(I8({},r),{url:p}),(f,m)=>{if(f||!m){const g={layers:{defaultLayer:{features:[]}}},x=new kd(g,t.x,t.y,t.z);n(x)}else{const x={layers:{defaultLayer:{features:JSON.parse(m)}}},b=new kd(x,t.x,t.y,t.z);n(b)}})})});function EP(e,t){const r=(s,p)=>vP(e,p,t==null?void 0:t.requestParameters,t.getCustomData),i=M8(I8({},t),{getTileData:r});return{dataArray:[],tilesetOptions:i,isTile:!0}}var md={},Fm,h_;function xP(){if(h_)return Fm;h_=1,Fm=e;function e(t,r){this.x=t,this.y=r}return e.prototype={clone:function(){return new e(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,r){return this.clone()._rotateAround(t,r)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var r=t.x-this.x,i=t.y-this.y;return r*r+i*i},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,r){return Math.atan2(this.x*r-this.y*t,this.x*t+this.y*r)},_matMult:function(t){var r=t[0]*this.x+t[1]*this.y,i=t[2]*this.x+t[3]*this.y;return this.x=r,this.y=i,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var r=Math.cos(t),i=Math.sin(t),s=r*this.x-i*this.y,p=i*this.x+r*this.y;return this.x=s,this.y=p,this},_rotateAround:function(t,r){var i=Math.cos(t),s=Math.sin(t),p=r.x+i*(this.x-r.x)-s*(this.y-r.y),n=r.y+s*(this.x-r.x)+i*(this.y-r.y);return this.x=p,this.y=n,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},e.convert=function(t){return t instanceof e?t:Array.isArray(t)?new e(t[0],t[1]):t},Fm}var Tm,f_;function N8(){if(f_)return Tm;f_=1;var e=xP();Tm=t;function t(n,f,m,g,x){this.properties={},this.extent=m,this.type=0,this._pbf=n,this._geometry=-1,this._keys=g,this._values=x,n.readFields(r,this,f)}function r(n,f,m){n==1?f.id=m.readVarint():n==2?i(m,f):n==3?f.type=m.readVarint():n==4&&(f._geometry=m.pos)}function i(n,f){for(var m=n.readVarint()+n.pos;n.pos<m;){var g=f._keys[n.readVarint()],x=f._values[n.readVarint()];f.properties[g]=x}}t.types=["Unknown","Point","LineString","Polygon"],t.prototype.loadGeometry=function(){var n=this._pbf;n.pos=this._geometry;for(var f=n.readVarint()+n.pos,m=1,g=0,x=0,b=0,F=[],R;n.pos<f;){if(g<=0){var I=n.readVarint();m=I&7,g=I>>3}if(g--,m===1||m===2)x+=n.readSVarint(),b+=n.readSVarint(),m===1&&(R&&F.push(R),R=[]),R.push(new e(x,b));else if(m===7)R&&R.push(R[0].clone());else throw new Error("unknown command "+m)}return R&&F.push(R),F},t.prototype.bbox=function(){var n=this._pbf;n.pos=this._geometry;for(var f=n.readVarint()+n.pos,m=1,g=0,x=0,b=0,F=1/0,R=-1/0,I=1/0,O=-1/0;n.pos<f;){if(g<=0){var U=n.readVarint();m=U&7,g=U>>3}if(g--,m===1||m===2)x+=n.readSVarint(),b+=n.readSVarint(),x<F&&(F=x),x>R&&(R=x),b<I&&(I=b),b>O&&(O=b);else if(m!==7)throw new Error("unknown command "+m)}return[F,I,R,O]},t.prototype.toGeoJSON=function(n,f,m){var g=this.extent*Math.pow(2,m),x=this.extent*n,b=this.extent*f,F=this.loadGeometry(),R=t.types[this.type],I,O;function U(oe){for(var Re=0;Re<oe.length;Re++){var Ae=oe[Re],ce=180-(Ae.y+b)*360/g;oe[Re]=[(Ae.x+x)*360/g-180,360/Math.PI*Math.atan(Math.exp(ce*Math.PI/180))-90]}}switch(this.type){case 1:var Y=[];for(I=0;I<F.length;I++)Y[I]=F[I][0];F=Y,U(F);break;case 2:for(I=0;I<F.length;I++)U(F[I]);break;case 3:for(F=s(F),I=0;I<F.length;I++)for(O=0;O<F[I].length;O++)U(F[I][O]);break}F.length===1?F=F[0]:R="Multi"+R;var ee={type:"Feature",geometry:{type:R,coordinates:F},properties:this.properties};return"id"in this&&(ee.id=this.id),ee};function s(n){var f=n.length;if(f<=1)return[n];for(var m=[],g,x,b=0;b<f;b++){var F=p(n[b]);F!==0&&(x===void 0&&(x=F<0),x===F<0?(g&&m.push(g),g=[n[b]]):g.push(n[b]))}return g&&m.push(g),m}function p(n){for(var f=0,m=0,g=n.length,x=g-1,b,F;m<g;x=m++)b=n[m],F=n[x],f+=(F.x-b.x)*(b.y+F.y);return f}return Tm}var Sm,m_;function D8(){if(m_)return Sm;m_=1;var e=N8();Sm=t;function t(s,p){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=s,this._keys=[],this._values=[],this._features=[],s.readFields(r,this,p),this.length=this._features.length}function r(s,p,n){s===15?p.version=n.readVarint():s===1?p.name=n.readString():s===5?p.extent=n.readVarint():s===2?p._features.push(n.pos):s===3?p._keys.push(n.readString()):s===4&&p._values.push(i(n))}function i(s){for(var p=null,n=s.readVarint()+s.pos;s.pos<n;){var f=s.readVarint()>>3;p=f===1?s.readString():f===2?s.readFloat():f===3?s.readDouble():f===4?s.readVarint64():f===5?s.readVarint():f===6?s.readSVarint():f===7?s.readBoolean():null}return p}return t.prototype.feature=function(s){if(s<0||s>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[s];var p=this._pbf.readVarint()+this._pbf.pos;return new e(this._pbf,p,this.extent,this._keys,this._values)},Sm}var Rm,__;function PP(){if(__)return Rm;__=1;var e=D8();Rm=t;function t(i,s){this.layers=i.readFields(r,{},s)}function r(i,s,p){if(i===3){var n=new e(p,p.readVarint()+p.pos);n.length&&(s[n.name]=n)}}return Rm}var g_;function bP(){return g_||(g_=1,md.VectorTile=PP(),md.VectorTileFeature=N8(),md.VectorTileLayer=D8()),md}var AP=bP(),nh={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */var v_;function FP(){return v_||(v_=1,nh.read=function(e,t,r,i,s){var p,n,f=s*8-i-1,m=(1<<f)-1,g=m>>1,x=-7,b=r?s-1:0,F=r?-1:1,R=e[t+b];for(b+=F,p=R&(1<<-x)-1,R>>=-x,x+=f;x>0;p=p*256+e[t+b],b+=F,x-=8);for(n=p&(1<<-x)-1,p>>=-x,x+=i;x>0;n=n*256+e[t+b],b+=F,x-=8);if(p===0)p=1-g;else{if(p===m)return n?NaN:(R?-1:1)*(1/0);n=n+Math.pow(2,i),p=p-g}return(R?-1:1)*n*Math.pow(2,p-i)},nh.write=function(e,t,r,i,s,p){var n,f,m,g=p*8-s-1,x=(1<<g)-1,b=x>>1,F=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,R=i?0:p-1,I=i?1:-1,O=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(f=isNaN(t)?1:0,n=x):(n=Math.floor(Math.log(t)/Math.LN2),t*(m=Math.pow(2,-n))<1&&(n--,m*=2),n+b>=1?t+=F/m:t+=F*Math.pow(2,1-b),t*m>=2&&(n++,m/=2),n+b>=x?(f=0,n=x):n+b>=1?(f=(t*m-1)*Math.pow(2,s),n=n+b):(f=t*Math.pow(2,b-1)*Math.pow(2,s),n=0));s>=8;e[r+R]=f&255,R+=I,f/=256,s-=8);for(n=n<<s|f,g+=s;g>0;e[r+R]=n&255,R+=I,n/=256,g-=8);e[r+R-I]|=O*128}),nh}var wm,E_;function TP(){if(E_)return wm;E_=1,wm=t;var e=FP();function t(B){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(B)?B:new Uint8Array(B||0),this.pos=0,this.type=0,this.length=this.buf.length}t.Varint=0,t.Fixed64=1,t.Bytes=2,t.Fixed32=5;var r=65536*65536,i=1/r,s=12,p=typeof TextDecoder>"u"?null:new TextDecoder("utf-8");t.prototype={destroy:function(){this.buf=null},readFields:function(B,X,de){for(de=de||this.length;this.pos<de;){var mt=this.readVarint(),re=mt>>3,fe=this.pos;this.type=mt&7,B(re,X,this),this.pos===fe&&this.skip(mt)}return X},readMessage:function(B,X){return this.readFields(B,X,this.readVarint()+this.pos)},readFixed32:function(){var B=ce(this.buf,this.pos);return this.pos+=4,B},readSFixed32:function(){var B=De(this.buf,this.pos);return this.pos+=4,B},readFixed64:function(){var B=ce(this.buf,this.pos)+ce(this.buf,this.pos+4)*r;return this.pos+=8,B},readSFixed64:function(){var B=ce(this.buf,this.pos)+De(this.buf,this.pos+4)*r;return this.pos+=8,B},readFloat:function(){var B=e.read(this.buf,this.pos,!0,23,4);return this.pos+=4,B},readDouble:function(){var B=e.read(this.buf,this.pos,!0,52,8);return this.pos+=8,B},readVarint:function(B){var X=this.buf,de,mt;return mt=X[this.pos++],de=mt&127,mt<128||(mt=X[this.pos++],de|=(mt&127)<<7,mt<128)||(mt=X[this.pos++],de|=(mt&127)<<14,mt<128)||(mt=X[this.pos++],de|=(mt&127)<<21,mt<128)?de:(mt=X[this.pos],de|=(mt&15)<<28,n(de,B,this))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var B=this.readVarint();return B%2===1?(B+1)/-2:B/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var B=this.readVarint()+this.pos,X=this.pos;return this.pos=B,B-X>=s&&p?qe(this.buf,X,B):ht(this.buf,X,B)},readBytes:function(){var B=this.readVarint()+this.pos,X=this.buf.subarray(this.pos,B);return this.pos=B,X},readPackedVarint:function(B,X){if(this.type!==t.Bytes)return B.push(this.readVarint(X));var de=f(this);for(B=B||[];this.pos<de;)B.push(this.readVarint(X));return B},readPackedSVarint:function(B){if(this.type!==t.Bytes)return B.push(this.readSVarint());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readSVarint());return B},readPackedBoolean:function(B){if(this.type!==t.Bytes)return B.push(this.readBoolean());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readBoolean());return B},readPackedFloat:function(B){if(this.type!==t.Bytes)return B.push(this.readFloat());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readFloat());return B},readPackedDouble:function(B){if(this.type!==t.Bytes)return B.push(this.readDouble());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readDouble());return B},readPackedFixed32:function(B){if(this.type!==t.Bytes)return B.push(this.readFixed32());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readFixed32());return B},readPackedSFixed32:function(B){if(this.type!==t.Bytes)return B.push(this.readSFixed32());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readSFixed32());return B},readPackedFixed64:function(B){if(this.type!==t.Bytes)return B.push(this.readFixed64());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readFixed64());return B},readPackedSFixed64:function(B){if(this.type!==t.Bytes)return B.push(this.readSFixed64());var X=f(this);for(B=B||[];this.pos<X;)B.push(this.readSFixed64());return B},skip:function(B){var X=B&7;if(X===t.Varint)for(;this.buf[this.pos++]>127;);else if(X===t.Bytes)this.pos=this.readVarint()+this.pos;else if(X===t.Fixed32)this.pos+=4;else if(X===t.Fixed64)this.pos+=8;else throw new Error("Unimplemented type: "+X)},writeTag:function(B,X){this.writeVarint(B<<3|X)},realloc:function(B){for(var X=this.length||16;X<this.pos+B;)X*=2;if(X!==this.length){var de=new Uint8Array(X);de.set(this.buf),this.buf=de,this.length=X}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(B){this.realloc(4),Ie(this.buf,B,this.pos),this.pos+=4},writeSFixed32:function(B){this.realloc(4),Ie(this.buf,B,this.pos),this.pos+=4},writeFixed64:function(B){this.realloc(8),Ie(this.buf,B&-1,this.pos),Ie(this.buf,Math.floor(B*i),this.pos+4),this.pos+=8},writeSFixed64:function(B){this.realloc(8),Ie(this.buf,B&-1,this.pos),Ie(this.buf,Math.floor(B*i),this.pos+4),this.pos+=8},writeVarint:function(B){if(B=+B||0,B>268435455||B<0){g(B,this);return}this.realloc(4),this.buf[this.pos++]=B&127|(B>127?128:0),!(B<=127)&&(this.buf[this.pos++]=(B>>>=7)&127|(B>127?128:0),!(B<=127)&&(this.buf[this.pos++]=(B>>>=7)&127|(B>127?128:0),!(B<=127)&&(this.buf[this.pos++]=B>>>7&127)))},writeSVarint:function(B){this.writeVarint(B<0?-B*2-1:B*2)},writeBoolean:function(B){this.writeVarint(!!B)},writeString:function(B){B=String(B),this.realloc(B.length*4),this.pos++;var X=this.pos;this.pos=we(this.buf,B,this.pos);var de=this.pos-X;de>=128&&F(X,de,this),this.pos=X-1,this.writeVarint(de),this.pos+=de},writeFloat:function(B){this.realloc(4),e.write(this.buf,B,this.pos,!0,23,4),this.pos+=4},writeDouble:function(B){this.realloc(8),e.write(this.buf,B,this.pos,!0,52,8),this.pos+=8},writeBytes:function(B){var X=B.length;this.writeVarint(X),this.realloc(X);for(var de=0;de<X;de++)this.buf[this.pos++]=B[de]},writeRawMessage:function(B,X){this.pos++;var de=this.pos;B(X,this);var mt=this.pos-de;mt>=128&&F(de,mt,this),this.pos=de-1,this.writeVarint(mt),this.pos+=mt},writeMessage:function(B,X,de){this.writeTag(B,t.Bytes),this.writeRawMessage(X,de)},writePackedVarint:function(B,X){X.length&&this.writeMessage(B,R,X)},writePackedSVarint:function(B,X){X.length&&this.writeMessage(B,I,X)},writePackedBoolean:function(B,X){X.length&&this.writeMessage(B,Y,X)},writePackedFloat:function(B,X){X.length&&this.writeMessage(B,O,X)},writePackedDouble:function(B,X){X.length&&this.writeMessage(B,U,X)},writePackedFixed32:function(B,X){X.length&&this.writeMessage(B,ee,X)},writePackedSFixed32:function(B,X){X.length&&this.writeMessage(B,oe,X)},writePackedFixed64:function(B,X){X.length&&this.writeMessage(B,Re,X)},writePackedSFixed64:function(B,X){X.length&&this.writeMessage(B,Ae,X)},writeBytesField:function(B,X){this.writeTag(B,t.Bytes),this.writeBytes(X)},writeFixed32Field:function(B,X){this.writeTag(B,t.Fixed32),this.writeFixed32(X)},writeSFixed32Field:function(B,X){this.writeTag(B,t.Fixed32),this.writeSFixed32(X)},writeFixed64Field:function(B,X){this.writeTag(B,t.Fixed64),this.writeFixed64(X)},writeSFixed64Field:function(B,X){this.writeTag(B,t.Fixed64),this.writeSFixed64(X)},writeVarintField:function(B,X){this.writeTag(B,t.Varint),this.writeVarint(X)},writeSVarintField:function(B,X){this.writeTag(B,t.Varint),this.writeSVarint(X)},writeStringField:function(B,X){this.writeTag(B,t.Bytes),this.writeString(X)},writeFloatField:function(B,X){this.writeTag(B,t.Fixed32),this.writeFloat(X)},writeDoubleField:function(B,X){this.writeTag(B,t.Fixed64),this.writeDouble(X)},writeBooleanField:function(B,X){this.writeVarintField(B,!!X)}};function n(B,X,de){var mt=de.buf,re,fe;if(fe=mt[de.pos++],re=(fe&112)>>4,fe<128||(fe=mt[de.pos++],re|=(fe&127)<<3,fe<128)||(fe=mt[de.pos++],re|=(fe&127)<<10,fe<128)||(fe=mt[de.pos++],re|=(fe&127)<<17,fe<128)||(fe=mt[de.pos++],re|=(fe&127)<<24,fe<128)||(fe=mt[de.pos++],re|=(fe&1)<<31,fe<128))return m(B,re,X);throw new Error("Expected varint not more than 10 bytes")}function f(B){return B.type===t.Bytes?B.readVarint()+B.pos:B.pos+1}function m(B,X,de){return de?X*4294967296+(B>>>0):(X>>>0)*4294967296+(B>>>0)}function g(B,X){var de,mt;if(B>=0?(de=B%4294967296|0,mt=B/4294967296|0):(de=~(-B%4294967296),mt=~(-B/4294967296),de^4294967295?de=de+1|0:(de=0,mt=mt+1|0)),B>=18446744073709552e3||B<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");X.realloc(10),x(de,mt,X),b(mt,X)}function x(B,X,de){de.buf[de.pos++]=B&127|128,B>>>=7,de.buf[de.pos++]=B&127|128,B>>>=7,de.buf[de.pos++]=B&127|128,B>>>=7,de.buf[de.pos++]=B&127|128,B>>>=7,de.buf[de.pos]=B&127}function b(B,X){var de=(B&7)<<4;X.buf[X.pos++]|=de|((B>>>=3)?128:0),B&&(X.buf[X.pos++]=B&127|((B>>>=7)?128:0),B&&(X.buf[X.pos++]=B&127|((B>>>=7)?128:0),B&&(X.buf[X.pos++]=B&127|((B>>>=7)?128:0),B&&(X.buf[X.pos++]=B&127|((B>>>=7)?128:0),B&&(X.buf[X.pos++]=B&127)))))}function F(B,X,de){var mt=X<=16383?1:X<=2097151?2:X<=268435455?3:Math.floor(Math.log(X)/(Math.LN2*7));de.realloc(mt);for(var re=de.pos-1;re>=B;re--)de.buf[re+mt]=de.buf[re]}function R(B,X){for(var de=0;de<B.length;de++)X.writeVarint(B[de])}function I(B,X){for(var de=0;de<B.length;de++)X.writeSVarint(B[de])}function O(B,X){for(var de=0;de<B.length;de++)X.writeFloat(B[de])}function U(B,X){for(var de=0;de<B.length;de++)X.writeDouble(B[de])}function Y(B,X){for(var de=0;de<B.length;de++)X.writeBoolean(B[de])}function ee(B,X){for(var de=0;de<B.length;de++)X.writeFixed32(B[de])}function oe(B,X){for(var de=0;de<B.length;de++)X.writeSFixed32(B[de])}function Re(B,X){for(var de=0;de<B.length;de++)X.writeFixed64(B[de])}function Ae(B,X){for(var de=0;de<B.length;de++)X.writeSFixed64(B[de])}function ce(B,X){return(B[X]|B[X+1]<<8|B[X+2]<<16)+B[X+3]*16777216}function Ie(B,X,de){B[de]=X,B[de+1]=X>>>8,B[de+2]=X>>>16,B[de+3]=X>>>24}function De(B,X){return(B[X]|B[X+1]<<8|B[X+2]<<16)+(B[X+3]<<24)}function ht(B,X,de){for(var mt="",re=X;re<de;){var fe=B[re],Pe=null,Xe=fe>239?4:fe>223?3:fe>191?2:1;if(re+Xe>de)break;var Ye,at,ct;Xe===1?fe<128&&(Pe=fe):Xe===2?(Ye=B[re+1],(Ye&192)===128&&(Pe=(fe&31)<<6|Ye&63,Pe<=127&&(Pe=null))):Xe===3?(Ye=B[re+1],at=B[re+2],(Ye&192)===128&&(at&192)===128&&(Pe=(fe&15)<<12|(Ye&63)<<6|at&63,(Pe<=2047||Pe>=55296&&Pe<=57343)&&(Pe=null))):Xe===4&&(Ye=B[re+1],at=B[re+2],ct=B[re+3],(Ye&192)===128&&(at&192)===128&&(ct&192)===128&&(Pe=(fe&15)<<18|(Ye&63)<<12|(at&63)<<6|ct&63,(Pe<=65535||Pe>=1114112)&&(Pe=null))),Pe===null?(Pe=65533,Xe=1):Pe>65535&&(Pe-=65536,mt+=String.fromCharCode(Pe>>>10&1023|55296),Pe=56320|Pe&1023),mt+=String.fromCharCode(Pe),re+=Xe}return mt}function qe(B,X,de){return p.decode(B.subarray(X,de))}function we(B,X,de){for(var mt=0,re,fe;mt<X.length;mt++){if(re=X.charCodeAt(mt),re>55295&&re<57344)if(fe)if(re<56320){B[de++]=239,B[de++]=191,B[de++]=189,fe=re;continue}else re=fe-55296<<10|re-56320|65536,fe=null;else{re>56319||mt+1===X.length?(B[de++]=239,B[de++]=191,B[de++]=189):fe=re;continue}else fe&&(B[de++]=239,B[de++]=191,B[de++]=189,fe=null);re<128?B[de++]=re:(re<2048?B[de++]=re>>6|192:(re<65536?B[de++]=re>>12|224:(B[de++]=re>>18|240,B[de++]=re>>12&63|128),B[de++]=re>>6&63|128),B[de++]=re&63|128)}return de}return wm}var SP=TP();const RP=mp(SP);var wP=Object.defineProperty,CP=Object.defineProperties,IP=Object.getOwnPropertyDescriptors,x_=Object.getOwnPropertySymbols,MP=Object.prototype.hasOwnProperty,NP=Object.prototype.propertyIsEnumerable,P_=(e,t,r)=>t in e?wP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b_=(e,t)=>{for(var r in t||(t={}))MP.call(t,r)&&P_(e,r,t[r]);if(x_)for(var r of x_(t))NP.call(t,r)&&P_(e,r,t[r]);return e},DP=(e,t)=>CP(e,IP(t)),A_=class{constructor(e,t,r,i){this.vectorLayerCache={},this.x=t,this.y=r,this.z=i,this.vectorTile=new AP.VectorTile(new RP(e))}getTileData(e){if(!e||!this.vectorTile.layers[e])return[];if(this.vectorLayerCache[e])return this.vectorLayerCache[e];const t=this.vectorTile.layers[e];if(Array.isArray(t.features))return this.vectorLayerCache[e]=t.features,t.features;const r=[];for(let i=0;i<t.length;i++){const p=t.feature(i).toGeoJSON(this.x,this.y,this.z);r.push(DP(b_({},p),{properties:b_({id:p.id},p.properties)}))}return this.vectorLayerCache[e]=r,r}getFeatureById(){throw new Error("Method not implemented.")}},OP=Object.defineProperty,LP=Object.defineProperties,BP=Object.getOwnPropertyDescriptors,F_=Object.getOwnPropertySymbols,UP=Object.prototype.hasOwnProperty,kP=Object.prototype.propertyIsEnumerable,T_=(e,t,r)=>t in e?OP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,b2=(e,t)=>{for(var r in t||(t={}))UP.call(t,r)&&T_(e,r,t[r]);if(F_)for(var r of F_(t))kP.call(t,r)&&T_(e,r,t[r]);return e},O8=(e,t)=>LP(e,BP(t)),zP=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),VP={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0},HP=(e,t,r,i,s)=>zP(void 0,null,function*(){const p=E0(e,t);return new Promise(n=>{if(s)s({x:r.x,y:r.y,z:r.z},(f,m)=>{if(f||!m)n(void 0);else{const g=new A_(m,r.x,r.y,r.z);n(g)}});else{const f=c6(O8(b2({},i),{url:p}),(m,g)=>{if(m||!g)n(void 0);else{const x=new A_(g,r.x,r.y,r.z);n(x)}});r.xhrCancel=()=>f.cancel()}})});function GP(e,t){const r=Array.isArray(e)?e[0]:e,i=(p,n)=>HP(r,p,n,t==null?void 0:t.requestParameters,t==null?void 0:t.getCustomData),s=O8(b2(b2({},VP),t),{getTileData:i});return{data:r,dataArray:[],tilesetOptions:s,isTile:!0}}function jP(e,t,r){switch(e){case"+":return t+r;case"-":return t-r;case"*":return t*r;case"/":return t/r;case"%":return t%r;case"^":return Math.pow(t,r);case"abs":return Math.abs(t);case"floor":return Math.floor(t);case"round":return Math.round(t);case"ceil":return Math.ceil(t);case"sin":return Math.sin(t);case"cos":return Math.cos(t);case"atan":return r===-1?Math.atan(t):Math.atan2(t,r);case"min":return Math.min(t,r);case"max":return Math.max(t,r);case"log10":return Math.log(t);case"log2":return Math.log2(t);default:return console.warn("Calculate symbol err! Return default 0"),0}}function $d(e,t){const{width:r,height:i}=t[0],s=t.map(m=>m.rasterData),p=r*i,n=[],f=JSON.stringify(e);for(let m=0;m<p;m++){const g=JSON.parse(f),x=L8(g,s,m);if(typeof x=="number")n.push(x);else{const b=A2(g);n.push(b)}}return n}function L8(e,t,r){if(e.length===2&&e[0]==="band"&&typeof e[1]=="number")try{return t[e[1]][r]}catch{return console.warn("Raster Data err!"),0}e.map((i,s)=>{if(Array.isArray(i)&&i.length>0)switch(i[0]){case"band":try{e[s]=t[i[1]][r]}catch{console.warn("Raster Data err!"),e[s]=0}break;default:L8(i,t,r)}})}function WP(e){const[t,r=-1,i=-1]=e;return t===void 0?(console.warn("Express err!"),["+",0,0]):[t.replace(/\s+/g,""),r,i]}function A2(e){const t=WP(e),r=t[0];let i=t[1],s=t[2];return Array.isArray(i)&&(i=A2(e[1])),Array.isArray(s)&&(s=A2(e[2])),jP(r,i,s)}var XP={nd:{type:"operation",expression:["/",["-",["band",1],["band",0]],["+",["band",1],["band",0]]]},rgb:{type:"function",method:ZP}};function ZP(e,t){const r=e[0].rasterData,i=e[1].rasterData,s=e[2].rasterData,p=[],[n,f]=(t==null?void 0:t.countCut)||[2,98],m=(t==null?void 0:t.RMinMax)||x0(r,n,f),g=(t==null?void 0:t.GMinMax)||x0(i,n,f),x=(t==null?void 0:t.BMinMax)||x0(s,n,f);for(let b=0;b<r.length;b++)p.push(Math.max(0,r[b]-m[0])),p.push(Math.max(0,i[b]-g[0])),p.push(Math.max(0,s[b]-x[0]));return{rasterData:p,rMinMax:m,gMinMax:g,bMinMax:x}}function x0(e,t,r){const i=e.slice().sort((f,m)=>f-m),s=i.length,p=i[Math.ceil(s*t/100)],n=i[Math.ceil(s*r/100)];return[p,n]}var YP=Object.defineProperty,qP=Object.defineProperties,$P=Object.getOwnPropertyDescriptors,S_=Object.getOwnPropertySymbols,KP=Object.prototype.hasOwnProperty,QP=Object.prototype.propertyIsEnumerable,R_=(e,t,r)=>t in e?YP(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,JP=(e,t)=>{for(var r in t||(t={}))KP.call(t,r)&&R_(e,r,t[r]);if(S_)for(var r of S_(t))QP.call(t,r)&&R_(e,r,t[r]);return e},eb=(e,t)=>qP(e,$P(t)),B8=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())});function g6(e,t,r){return B8(this,null,function*(){if(e.length===0)return{rasterData:[0],width:1,heigh:1};const i=yield Promise.all(e.map(({data:m,bands:g=[0]})=>t(m,g))),s=[];i.forEach(m=>{Array.isArray(m)?s.push(...m):s.push(m)});const{width:p,height:n}=s[0];let f;switch(typeof r){case"function":f=r(s);break;case"object":Array.isArray(r)?f={rasterData:$d(r,s)}:f=tb(r,s);break;default:f={rasterData:s[0].rasterData}}return eb(JP({},f),{width:p,height:n})})}function tb(e,t){const r=XP[e.type];if(r.type==="function")return r.method(t,e==null?void 0:e.options);if(r.type==="operation")return e.type==="rgb"?rb(r.expression,t):{rasterData:$d(r.expression,t)}}function rb(e,t){e.r===void 0&&console.warn("Channel R lost in Operation! Use band[0] to fill!"),e.g===void 0&&console.warn("Channel G lost in Operation! Use band[0] to fill!"),e.b===void 0&&console.warn("Channel B lost in Operation! Use band[0] to fill!");const r=$d(e.r||["band",0],t),i=$d(e.g||["band",0],t),s=$d(e.b||["band",0],t);return[r,i,s]}function F2(e,t,r,i){return B8(this,null,function*(){const s=yield g6(e,t,r);i(null,{data:s})})}function ob(e,t){const{extent:r=[121.168,30.2828,121.384,30.4219],coordinates:i,width:s,height:p,min:n,max:f,format:m,operation:g}=t;let x,b,F;if(m===void 0||F8(e))x=Array.from(e),b=s,F=p;else{const O=Array.isArray(e)?e:[e];x=g6(O,m,g)}const R=B0(i,r);return{_id:1,dataArray:[{_id:1,data:x,width:b,height:F,min:n,max:f,coordinates:R}]}}let fy=function(e){return e.Normal="normal",e.PostProcessing="post-processing",e}({}),k=function(e){return e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.CULL_FACE=2884]="CULL_FACE",e[e.BLEND=3042]="BLEND",e[e.DITHER=3024]="DITHER",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.RED=6403]="RED",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.TEXTURE1=33985]="TEXTURE1",e[e.TEXTURE2=33986]="TEXTURE2",e[e.TEXTURE3=33987]="TEXTURE3",e[e.TEXTURE4=33988]="TEXTURE4",e[e.TEXTURE5=33989]="TEXTURE5",e[e.TEXTURE6=33990]="TEXTURE6",e[e.TEXTURE7=33991]="TEXTURE7",e[e.TEXTURE8=33992]="TEXTURE8",e[e.TEXTURE9=33993]="TEXTURE9",e[e.TEXTURE10=33994]="TEXTURE10",e[e.TEXTURE11=33995]="TEXTURE11",e[e.TEXTURE12=33996]="TEXTURE12",e[e.TEXTURE13=33997]="TEXTURE13",e[e.TEXTURE14=33998]="TEXTURE14",e[e.TEXTURE15=33999]="TEXTURE15",e[e.TEXTURE16=34e3]="TEXTURE16",e[e.TEXTURE17=34001]="TEXTURE17",e[e.TEXTURE18=34002]="TEXTURE18",e[e.TEXTURE19=34003]="TEXTURE19",e[e.TEXTURE20=34004]="TEXTURE20",e[e.TEXTURE21=34005]="TEXTURE21",e[e.TEXTURE22=34006]="TEXTURE22",e[e.TEXTURE23=34007]="TEXTURE23",e[e.TEXTURE24=34008]="TEXTURE24",e[e.TEXTURE25=34009]="TEXTURE25",e[e.TEXTURE26=34010]="TEXTURE26",e[e.TEXTURE27=34011]="TEXTURE27",e[e.TEXTURE28=34012]="TEXTURE28",e[e.TEXTURE29=34013]="TEXTURE29",e[e.TEXTURE30=34014]="TEXTURE30",e[e.TEXTURE31=34015]="TEXTURE31",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e}({});const ib=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{camelCase:nb,isNil:ab,upperFirst:sb}=Kn;class Rc{constructor(){G(this,"shaderModuleService",void 0),G(this,"rendererService",void 0),G(this,"config",void 0),G(this,"quad",ib),G(this,"enabled",!0),G(this,"renderToScreen",!1),G(this,"model",void 0),G(this,"name",void 0),G(this,"optionsToUpdate",{})}getName(){return this.name}setName(t){this.name=t}getType(){return fy.PostProcessing}init(t,r){this.config=r,this.rendererService=t.getContainer().rendererService,this.shaderModuleService=t.getContainer().shaderModuleService;const{createAttribute:i,createBuffer:s,createModel:p}=this.rendererService,{vs:n,fs:f,uniforms:m}=this.setupShaders();this.model=p({vs:n,fs:f,attributes:{a_Position:i({buffer:s({data:[-4,-4,4,-4,0,4],type:k.FLOAT}),size:2})},uniforms:wt(wt({u_Texture:null},m),this.config&&this.convertOptionsToUniforms(this.config)),depth:{enable:!1},count:3,blend:{enable:this.getName()==="copy"}})}render(t,r){const i=t.multiPassRenderer.getPostProcessor(),{useFramebuffer:s,getViewportSize:p,clear:n}=this.rendererService,{width:f,height:m}=p();s(this.renderToScreen?null:i.getWriteFBO(),()=>{n({framebuffer:i.getWriteFBO(),color:[0,0,0,0],depth:1,stencil:0});const g=wt({u_BloomFinal:0,u_Texture:i.getReadFBO(),u_ViewportSize:[f,m]},this.convertOptionsToUniforms(this.optionsToUpdate));r&&(g.u_BloomFinal=1,g.u_Texture2=r),this.model.draw({uniforms:g})})}isEnabled(){return this.enabled}setEnabled(t){this.enabled=t}setRenderToScreen(t){this.renderToScreen=t}updateOptions(t){this.optionsToUpdate=wt(wt({},this.optionsToUpdate),t)}setupShaders(){throw new Error("Method not implemented.")}convertOptionsToUniforms(t){const r={};return Object.keys(t).forEach(i=>{ab(t[i])||(r[`u_${sb(nb(i))}`]=t[i])}),r}}function ub(e){let t=0;switch(e){case"vec2":case"ivec2":t=2;break;case"vec3":case"ivec3":t=3;break;case"vec4":case"ivec4":case"mat2":t=4;break;case"mat3":t=9;break;case"mat4":t=16;break}return t}const U8=/uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;function w_(e,t=!1){const r={};return e=e.replace(U8,(i,s,p)=>{const n=p.split(":"),f=n[0].trim();let m="";switch(n.length>1&&(m=n[1].trim()),s){case"bool":m=m==="true";break;case"float":case"int":m=Number(m);break;case"vec2":case"vec3":case"vec4":case"ivec2":case"ivec3":case"ivec4":case"mat2":case"mat3":case"mat4":m?m=m.replace("[","").replace("]","").split(",").reduce((g,x)=>(g.push(Number(x.trim())),g),[]):m=new Array(ub(s)).fill(0);break}return r[f]=m,`${t?"uniform ":""}${s} ${f};
`}),{content:e,uniforms:r}}function Cm(e){let{content:t,uniforms:r}=w_(e,!0);return t=t.replace(/(\s*uniform\s*.*\s*){((?:\s*.*\s*)*?)};/g,(i,s,p)=>{p=p.trim().replace(/^.*$/gm,m=>`uniform ${m}`);const{content:n,uniforms:f}=w_(p);return Object.assign(r,f),`${s}{
${n}
};`}),{content:t,uniforms:r}}function C_(e){const t={};return e.replace(U8,(r,i,s)=>{const p=s.trim();return t[p]?"":(t[p]=!0,`uniform ${i} ${p};
`)})}const i1={ProjectionMatrix:"u_ProjectionMatrix",ViewMatrix:"u_ViewMatrix",ViewProjectionMatrix:"u_ViewProjectionMatrix",Zoom:"u_Zoom",ZoomScale:"u_ZoomScale",FocalDistance:"u_FocalDistance",CameraPosition:"u_CameraPosition"};let jh=function(e){return e.TOPRIGHT="topright",e.TOPLEFT="topleft",e.BOTTOMRIGHT="bottomright",e.BOTTOMLEFT="bottomleft",e.TOPCENTER="topcenter",e.BOTTOMCENTER="bottomcenter",e.LEFTCENTER="leftcenter",e.RIGHTCENTER="rightcenter",e.LEFTTOP="lefttop",e.RIGHTTOP="righttop",e.LEFTBOTTOM="leftbottom",e.RIGHTBOTTOM="rightbottom",e}({}),Wh=function(e){return e[e.LNGLAT=1]="LNGLAT",e[e.LNGLAT_OFFSET=2]="LNGLAT_OFFSET",e[e.VECTOR_TILE=3]="VECTOR_TILE",e[e.IDENTITY=4]="IDENTITY",e[e.METER_OFFSET=5]="METER_OFFSET",e}({});const o0={CoordinateSystem:"u_CoordinateSystem",ViewportCenter:"u_ViewportCenter",ViewportCenterProjection:"u_ViewportCenterProjection",PixelsPerDegree:"u_PixelsPerDegree",PixelsPerDegree2:"u_PixelsPerDegree2",PixelsPerMeter:"u_PixelsPerMeter"};var _a={MapInitStart:"mapInitStart",LayerInitStart:"layerInitStart",LayerInitEnd:"layerInitEnd",SourceInitStart:"sourceInitStart",SourceInitEnd:"sourceInitEnd",ScaleInitStart:"scaleInitStart",ScaleInitEnd:"scaleInitEnd",MappingStart:"mappingStart",MappingEnd:"mappingEnd",BuildModelStart:"buildModelStart",BuildModelEnd:"buildModelEnd"};let Ls=function(e){return e.Hover="hover",e.Click="click",e.Select="select",e.Active="active",e.Drag="drag",e}({}),fl=function(e){return e.normal="normal",e.additive="additive",e.subtractive="subtractive",e.min="min",e.max="max",e.none="none",e}({}),s1=function(e){return e.MULTIPLE="MULTIPLE",e.SINGLE="SINGLE",e}({}),Ff=function(e){return e.AND="and",e.OR="or",e}({}),Ha=function(e){return e.INIT="init",e.UPDATE="update",e}({}),Ei=function(e){return e.LINEAR="linear",e.SEQUENTIAL="sequential",e.POWER="power",e.LOG="log",e.IDENTITY="identity",e.TIME="time",e.QUANTILE="quantile",e.QUANTIZE="quantize",e.THRESHOLD="threshold",e.CAT="cat",e.DIVERGING="diverging",e.CUSTOM="threshold",e}({}),i0=function(e){return e.CONSTANT="constant",e.VARIABLE="variable",e}({}),Nr=function(e){return e[e.Attribute=0]="Attribute",e[e.InstancedAttribute=1]="InstancedAttribute",e[e.Uniform=2]="Uniform",e}({});const pb=["mapload","mapchange","mapAfterFrameChange"];var ah={exports:{}},I_;function cb(){if(I_)return ah.exports;I_=1,ah.exports=t,ah.exports.default=t;var e=1e20;function t(n,f,m,g,x,b){this.fontSize=n||24,this.buffer=f===void 0?3:f,this.cutoff=g||.25,this.fontFamily=x||"sans-serif",this.fontWeight=b||"normal",this.radius=m||8;var F=this.size=this.fontSize+this.buffer*2,R=F+this.buffer*2;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=F,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textAlign="left",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(R*R),this.gridInner=new Float64Array(R*R),this.f=new Float64Array(R),this.z=new Float64Array(R+1),this.v=new Uint16Array(R),this.useMetrics=this.ctx.measureText("A").actualBoundingBoxLeft!==void 0,this.middle=Math.round(F/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function r(n,f,m,g,x,b,F){b.fill(e,0,f*m),F.fill(0,0,f*m);for(var R=(f-g)/2,I=0;I<x;I++)for(var O=0;O<g;O++){var U=(I+R)*f+O+R,Y=n.data[4*(I*g+O)+3]/255;if(Y===1)b[U]=0,F[U]=e;else if(Y===0)b[U]=e,F[U]=0;else{var ee=Math.max(0,.5-Y),oe=Math.max(0,Y-.5);b[U]=ee*ee,F[U]=oe*oe}}}function i(n,f,m,g,x,b,F){for(var R=0;R<f*m;R++){var I=Math.sqrt(g[R])-Math.sqrt(x[R]);n[R]=Math.round(255-255*(I/b+F))}}t.prototype._draw=function(n,f){var m=this.ctx.measureText(n),g=m.width,x=2*this.buffer,b,F,R,I,O,U,Y,ee;f&&this.useMetrics?(O=Math.floor(m.actualBoundingBoxAscent),ee=this.buffer+Math.ceil(m.actualBoundingBoxAscent),U=this.buffer,Y=this.buffer,F=Math.min(this.size,Math.ceil(m.actualBoundingBoxRight-m.actualBoundingBoxLeft)),I=Math.min(this.size-U,Math.ceil(m.actualBoundingBoxAscent+m.actualBoundingBoxDescent)),b=F+x,R=I+x,this.ctx.textBaseline="alphabetic"):(b=F=this.size,R=I=this.size,O=19*this.fontSize/24,U=Y=0,ee=this.middle,this.ctx.textBaseline="middle");var oe;F&&I&&(this.ctx.clearRect(Y,U,F,I),this.ctx.fillText(n,this.buffer,ee),oe=this.ctx.getImageData(Y,U,F,I));var Re=new Uint8ClampedArray(b*R);return r(oe,b,R,F,I,this.gridOuter,this.gridInner),s(this.gridOuter,b,R,this.f,this.v,this.z),s(this.gridInner,b,R,this.f,this.v,this.z),i(Re,b,R,this.gridOuter,this.gridInner,this.radius,this.cutoff),{data:Re,metrics:{width:F,height:I,sdfWidth:b,sdfHeight:R,top:O,left:0,advance:g}}},t.prototype.draw=function(n){return this._draw(n,!1).data},t.prototype.drawWithMetrics=function(n){return this._draw(n,!0)};function s(n,f,m,g,x,b){for(var F=0;F<f;F++)p(n,F,f,m,g,x,b);for(var R=0;R<m;R++)p(n,R*f,1,f,g,x,b)}function p(n,f,m,g,x,b,F){var R,I,O,U;for(b[0]=0,F[0]=-e,F[1]=e,R=0;R<g;R++)x[R]=n[f+R*m];for(R=1,I=0,O=0;R<g;R++){do U=b[I],O=(x[R]-x[U]+R*R-U*U)/(R-U)/2;while(O<=F[I]&&--I>-1);I++,b[I]=R,F[I]=O,F[I+1]=e}for(R=0,I=0;R<g;R++){for(;F[I+1]<R;)I++;U=b[I],n[f+R*m]=x[U]+(R-U)*(R-U)}}return ah.exports}var lb=cb();const db=mp(lb),_d=30;function yb({characterSet:e,getFontWidth:t,fontHeight:r,buffer:i,maxCanvasWidth:s,mapping:p={},xOffset:n=0,yOffset:f=0}){let m=0,g=n;Array.from(e).forEach((b,F)=>{if(!p[b]){const R=t(b,F);g+_d>s&&(g=0,m++),p[b]={x:g,y:f+m*_d,width:_d,height:_d,advance:R},g+=_d}});const x=r+i*2;return{mapping:p,xOffset:g,yOffset:f+m*x,canvasHeight:k8(f+(m+1)*x)}}function hb(e,t,r){let i=0,s=0,p=0,n=[];const f={};for(const g of e)if(!f[g.id]){const{size:x}=g;i+x+t>r&&(M_(f,n,s),i=0,s=p+s+t,p=0,n=[]),n.push({icon:g,xOffset:i}),i=i+x+t,p=Math.max(p,x)}n.length>0&&M_(f,n,s);const m=k8(p+s+t);return{mapping:f,canvasHeight:m}}function M_(e,t,r){for(const i of t){const{icon:s,xOffset:p}=i;e[s.id]=wt(wt({},s),{},{x:p,y:r,image:s.image,width:s.width,height:s.height})}}function k8(e){return Math.pow(2,Math.ceil(Math.log2(e)))}const fb=Ab(),mb="sans-serif",_b="normal",gb=24,vb=3,Eb=.25,xb=8,N_=1024,Pb=1,D_=1,bb=3;function Ab(){const e=[];for(let t=32;t<128;t++)e.push(String.fromCharCode(t));return e}function O_(e,t,r,i){e.font=`${i} ${r}px ${t}`,e.fillStyle="black",e.textBaseline="middle"}function L_(e,t){for(let r=0;r<e.length;r++)t.data[4*r+3]=e[r]}class Fb extends du.EventEmitter{constructor(...t){super(...t),G(this,"fontAtlas",void 0),G(this,"iconFontMap",void 0),G(this,"iconFontGlyphs",{}),G(this,"fontOptions",void 0),G(this,"key",void 0),G(this,"cache",new UE(bb))}get scale(){return D_}get canvas(){const t=this.cache.get(this.key);return t&&t.data}get mapping(){const t=this.cache.get(this.key);return t&&t.mapping||{}}getCanvasByKey(t){const r=this.cache.get(t);return r&&r.data}getMappingByKey(t){const r=this.cache.get(t);return r&&r.mapping||{}}init(){this.cache.clear(),this.fontOptions={fontFamily:mb,fontWeight:_b,characterSet:fb,fontSize:gb,buffer:vb,sdf:!0,cutoff:Eb,radius:xb,iconfont:!1},this.key="",this.iconFontMap=new Map}addIconGlyphs(t){t.forEach(r=>{this.iconFontGlyphs[r.name]=r.unicode})}addIconFont(t,r){this.iconFontMap.set(t,r)}getIconFontKey(t){return this.iconFontMap.get(t)||t}getGlyph(t){return this.iconFontGlyphs[t]?String.fromCharCode(parseInt(this.iconFontGlyphs[t],16)):""}setFontOptions(t){this.fontOptions=wt(wt({},this.fontOptions),t),this.key=this.getKey();const r=this.getNewChars(this.key,this.fontOptions.characterSet),i=this.cache.get(this.key);if(i&&r.length===0)return;const s=this.generateFontAtlas(this.key,r,i);this.fontAtlas=s,this.cache.set(this.key,s)}addFontFace(t,r){const i=document.createElement("style");i.type="text/css",i.innerText=`
        @font-face{
            font-family: '${t}';
            src: url('${r}') format('woff2'),
            url('${r}') format('woff'),
            url('${r}') format('truetype');
        }`,i.onload=()=>{if(document.fonts)try{document.fonts.load(`24px ${t}`,"L7text"),document.fonts.ready.then(()=>{this.emit("fontloaded",{fontFamily:t})})}catch(s){console.warn("当前环境不支持 document.fonts !"),console.warn("当前环境不支持 iconfont !"),console.warn(s)}},document.getElementsByTagName("head")[0].appendChild(i)}destroy(){this.cache.clear(),this.iconFontMap.clear()}generateFontAtlas(t,r,i){const{fontFamily:s,fontWeight:p,fontSize:n,buffer:f,sdf:m,radius:g,cutoff:x,iconfont:b}=this.fontOptions;let F=i&&i.data;F||(F=window.document.createElement("canvas"),F.width=N_);const R=F.getContext("2d",{willReadFrequently:!0});O_(R,s,n,p);const{mapping:I,canvasHeight:O,xOffset:U,yOffset:Y}=yb(wt({getFontWidth:oe=>R.measureText(oe).width,fontHeight:n*D_,buffer:f,characterSet:r,maxCanvasWidth:N_},i&&{mapping:i.mapping,xOffset:i.xOffset,yOffset:i.yOffset})),ee=R.getImageData(0,0,F.width,F.height);if(F.height=O,R.putImageData(ee,0,0),O_(R,s,n,p),m){const oe=new db(n,f,g,x,s,p),Re=R.getImageData(0,0,oe.size,oe.size);for(const Ae of r){if(b){const ce=String.fromCharCode(parseInt(Ae.replace("&#x","").replace(";",""),16)),Ie=oe.draw(ce);L_(Ie,Re)}else L_(oe.draw(Ae),Re);R.putImageData(Re,I[Ae].x,I[Ae].y)}}else for(const oe of r)R.fillText(oe,I[oe].x,I[oe].y+n*Pb);return{xOffset:U,yOffset:Y,mapping:I,data:F,width:F.width,height:F.height}}getKey(){const{fontFamily:t,fontWeight:r}=this.fontOptions;return`${t}_${r}`}getNewChars(t,r){const i=this.cache.get(t);if(!i)return r;const s=[],p=i.mapping,n=new Set(Object.keys(p));return new Set(r).forEach(m=>{n.has(m)||s.push(m)}),s}}function B_(e,t,r,i,s,p,n){try{var f=e[p](n),m=f.value}catch(g){return void r(g)}f.done?t(m):Promise.resolve(m).then(i,s)}function Rt(e){return function(){var t=this,r=arguments;return new Promise(function(i,s){var p=e.apply(t,r);function n(m){B_(p,i,s,n,f,"next",m)}function f(m){B_(p,i,s,n,f,"throw",m)}n(void 0)})}}const Tb=3,U_=1024,gd=64;class Sb extends du.EventEmitter{constructor(...t){super(...t),G(this,"canvasHeight",128),G(this,"texture",void 0),G(this,"canvas",void 0),G(this,"iconData",void 0),G(this,"iconMap",void 0),G(this,"ctx",void 0),G(this,"loadingImageCount",0)}isLoading(){return this.loadingImageCount===0}init(){this.iconData=[],this.iconMap={},this.canvas=window.document.createElement("canvas"),this.canvas.width=128,this.canvas.height=128,this.ctx=this.canvas.getContext("2d")}addImage(t,r){var i=this;return Rt(function*(){let s=new Image;i.loadingImageCount++,i.hasImage(t)?console.warn("Image Id already exists"):i.iconData.push({id:t,size:gd}),i.updateIconMap(),s=yield i.loadImage(r);const p=i.iconData.find(n=>n.id===t);p&&(p.image=s,p.width=s.width,p.height=s.height),i.update()})()}addImageMini(t,r,i){const s=i.getSceneConfig().canvas;let p=s.createImage();if(this.loadingImageCount++,this.hasImage(t))throw new Error("Image Id already exists");this.iconData.push({id:t,size:gd}),this.updateIconMap(),this.loadImageMini(r,s).then(n=>{p=n;const f=this.iconData.find(m=>m.id===t);f&&(f.image=p,f.width=p.width,f.height=p.height),this.update()})}getTexture(){return this.texture}getIconMap(){return this.iconMap}getCanvas(){return this.canvas}hasImage(t){return this.iconMap.hasOwnProperty(t)}removeImage(t){this.hasImage(t)&&(this.iconData=this.iconData.filter(r=>r.id!==t),delete this.iconMap[t],this.update())}destroy(){this.removeAllListeners("imageUpdate"),this.iconData=[],this.iconMap={}}loadImage(t){return new Promise((r,i)=>{if(t instanceof HTMLImageElement){r(t);return}const s=new Image;s.crossOrigin="anonymous",s.onload=()=>{r(s)},s.onerror=()=>{i(new Error("Could not load image at "+t))},s.src=t instanceof File?URL.createObjectURL(t):t})}update(){this.updateIconMap(),this.updateIconAtlas(),this.loadingImageCount--,this.loadingImageCount===0&&this.emit("imageUpdate")}updateIconAtlas(){this.canvas.width=U_,this.canvas.height=this.canvasHeight,Object.keys(this.iconMap).forEach(t=>{const{x:r,y:i,image:s,width:p=64,height:n=64}=this.iconMap[t],m=Math.max(p,n)/gd,g=n/m,x=p/m;s&&this.ctx.drawImage(s,r+(gd-x)/2,i+(gd-g)/2,x,g)})}updateIconMap(){const{mapping:t,canvasHeight:r}=hb(this.iconData,Tb,U_);this.iconMap=t,this.canvasHeight=r}loadImageMini(t,r){return new Promise((i,s)=>{const p=r.createImage();p.crossOrigin="anonymous",p.onload=()=>{i(p)},p.onerror=()=>{s(new Error("Could not load image at "+t))},p.src=t})}}class Rb{constructor(){G(this,"viewport",void 0),G(this,"overridedViewProjectionMatrix",void 0),G(this,"viewMatrixInverse",void 0),G(this,"cameraPosition",void 0)}init(){}update(t){this.viewport=t,this.viewMatrixInverse=Pf(),r6(this.viewMatrixInverse,t.getViewMatrix()),this.cameraPosition=[this.viewMatrixInverse[12],this.viewMatrixInverse[13],this.viewMatrixInverse[14]]}getProjectionMatrix(){return this.viewport.getProjectionMatrix()}getModelMatrix(){return this.viewport.getModelMatrix()}getViewMatrix(){return this.viewport.getViewMatrix()}getViewMatrixUncentered(){return this.viewport.getViewMatrixUncentered()}getViewProjectionMatrixUncentered(){return this.viewport.getViewProjectionMatrixUncentered()}getViewProjectionMatrix(){return this.overridedViewProjectionMatrix||this.viewport.getViewProjectionMatrix()}getZoom(){return this.viewport.getZoom()}getZoomScale(){return this.viewport.getZoomScale()}getCenter(){const[t,r]=this.viewport.getCenter();return[t,r]}getFocalDistance(){return this.viewport.getFocalDistance()}getCameraPosition(){return this.cameraPosition}projectFlat(t,r){return this.viewport.projectFlat(t,r)}setViewProjectionMatrix(t){this.overridedViewProjectionMatrix=t}}const wb={topleft:"column",topright:"column",bottomright:"column",bottomleft:"column",leftcenter:"column",rightcenter:"column",topcenter:"row",bottomcenter:"row",lefttop:"row",righttop:"row",leftbottom:"row",rightbottom:"row"};class Cb{constructor(){G(this,"container",void 0),G(this,"controlCorners",void 0),G(this,"controlContainer",void 0),G(this,"scene",void 0),G(this,"mapsService",void 0),G(this,"controls",[]),G(this,"unAddControls",[])}init(t,r){this.container=t.container,this.scene=r,this.mapsService=r.mapService,this.initControlPos()}addControl(t,r){r.mapService.map?(t.addTo(this.scene),this.controls.push(t)):this.unAddControls.push(t)}getControlByName(t){return this.controls.find(r=>r.controlOption.name===t)}removeControl(t){const r=this.controls.indexOf(t);return r>-1&&this.controls.splice(r,1),t.remove(),this}addControls(){this.unAddControls.forEach(t=>{t.addTo(this.scene),this.controls.push(t)}),this.unAddControls=[]}destroy(){for(const t of this.controls)t.remove();this.controls=[],this.clearControlPos()}initControlPos(){const t=this.controlCorners={},r="l7-",i=this.controlContainer=cu("div",r+"control-container",this.container);function s(n=[]){const f=n.map(m=>r+m).join(" ");t[n.filter(m=>!["row","column"].includes(m)).join("")]=cu("div",f,i)}function p(n){return[...n.replace(/^(top|bottom|left|right|center)/,"$1-").split("-"),wb[n]]}Object.values(jh).forEach(n=>{s(p(n))}),this.checkCornerOverlap()}clearControlPos(){for(const t in this.controlCorners)this.controlCorners[t]&&Vh(this.controlCorners[t]);this.controlContainer&&Vh(this.controlContainer)}checkCornerOverlap(){const t=window.MutationObserver;if(t)for(const r of Object.keys(this.controlCorners)){const i=r.match(/^(top|bottom)(left|right)$/);if(i){const[,s,p]=i,n=this.controlCorners[`${s}${p}`];new t(([{target:m}])=>{n&&(n.style[s]=m.clientHeight+"px")}).observe(this.controlCorners[`${p}${s}`],{childList:!0,attributes:!0})}}}}class Ib{constructor(){G(this,"container",void 0),G(this,"scene",void 0),G(this,"mapsService",void 0),G(this,"markers",[]),G(this,"markerLayers",[]),G(this,"unAddMarkers",[]),G(this,"unAddMarkerLayers",[])}addMarkerLayer(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markerLayers.push(t),t.addTo(this.scene)):this.unAddMarkerLayers.push(t)}removeMarkerLayer(t){t.destroy(),this.markerLayers.indexOf(t);const r=this.markerLayers.indexOf(t);r>-1&&this.markerLayers.splice(r,1)}addMarker(t){this.mapsService.map&&this.mapsService.getMarkerContainer()?(this.markers.push(t),t.addTo(this.scene)):this.unAddMarkers.push(t)}addMarkers(){this.unAddMarkers.forEach(t=>{t.addTo(this.scene),this.markers.push(t)}),this.unAddMarkers=[]}addMarkerLayers(){this.unAddMarkerLayers.forEach(t=>{this.markerLayers.push(t),t.addTo(this.scene)}),this.unAddMarkers=[]}removeMarker(t){t.remove(),this.markers.indexOf(t);const r=this.markers.indexOf(t);r>-1&&this.markers.splice(r,1)}removeAllMarkers(){this.destroy()}init(t){this.scene=t,this.mapsService=t.mapService}destroy(){this.markers.forEach(t=>{t.remove()}),this.markers=[],this.markerLayers.forEach(t=>{t.destroy()}),this.markerLayers=[]}removeMakerLayerMarker(t){t.destroy()}}class Mb{constructor(){G(this,"scene",void 0),G(this,"mapsService",void 0),G(this,"popups",[]),G(this,"unAddPopups",[])}get isMarkerReady(){return this.mapsService.map&&this.mapsService.getMarkerContainer()}removePopup(t){t!=null&&t.isOpen()&&t.remove();const r=this.popups.indexOf(t);r>-1&&this.popups.splice(r,1);const i=this.unAddPopups.indexOf(t);i>-1&&this.unAddPopups.splice(i,1)}destroy(){this.popups.forEach(t=>t.remove())}addPopup(t){t&&t.getOptions().autoClose&&[...this.popups,...this.unAddPopups].forEach(r=>{r.getOptions().autoClose&&this.removePopup(r)}),this.isMarkerReady?(t.addTo(this.scene),this.popups.push(t)):this.unAddPopups.push(t),t.on("close",()=>{this.removePopup(t)})}initPopup(){this.unAddPopups.length&&this.unAddPopups.forEach(t=>{this.addPopup(t),this.unAddPopups=[]})}init(t){this.scene=t,this.mapsService=t.mapService}}const Nb={MapToken:"您正在使用 Demo 测试 Token, 生产环境务必自行注册 Token 确保服务稳定 高德地图申请地址 https://lbs.amap.com/api/javascript-api/guide/abc/prepare  Mapbox地图申请地址 https://docs.mapbox.com/help/glossary/access-token/",SDK:"请确认引入了mapbox-gl api且在L7之前引入"},{merge:Db}=Kn,Ob={id:"map",logoPosition:"bottomleft",logoVisible:!0,antialias:!0,stencil:!0,preserveDrawingBuffer:!1,pickBufferScale:1,fitBoundsOptions:{animate:!1}},Lb={colors:["rgb(103,0,31)","rgb(178,24,43)","rgb(214,96,77)","rgb(244,165,130)","rgb(253,219,199)","rgb(247,247,247)","rgb(209,229,240)","rgb(146,197,222)","rgb(67,147,195)","rgb(33,102,172)","rgb(5,48,97)"],size:10,shape:"circle",scales:{},shape2d:["circle","triangle","square","pentagon","hexagon","octogon","hexagram","rhombus","vesica"],shape3d:["cylinder","triangleColumn","hexagonColumn","squareColumn"],minZoom:-1,maxZoom:24,visible:!0,autoFit:!1,pickingBuffer:0,enablePropagation:!1,zIndex:0,blend:"normal",maskLayers:[],enableMask:!0,maskOperation:Ff.AND,pickedFeatureID:-1,enableMultiPassRenderer:!1,enablePicking:!0,active:!1,activeColor:"#2f54eb",enableHighlight:!1,enableSelect:!1,highlightColor:"#2f54eb",activeMix:0,selectColor:"blue",selectMix:0,enableLighting:!1,animateOption:{enable:!1,interval:.2,duration:4,trailLength:.15},forward:!0};class Bb{constructor(){G(this,"sceneConfigCache",{}),G(this,"layerConfigCache",{}),G(this,"layerAttributeConfigCache",{})}getSceneConfig(t){return this.sceneConfigCache[t]}getSceneWarninfo(t){return Nb[t]}setSceneConfig(t,r){this.sceneConfigCache[t]=wt(wt({},Ob),r)}getLayerConfig(t){return this.layerConfigCache[t]}setLayerConfig(t,r,i){this.layerConfigCache[r]=wt({},Db({},this.sceneConfigCache[t],Lb,i))}getAttributeConfig(t){return this.layerAttributeConfigCache[t]}setAttributeConfig(t,r){this.layerAttributeConfigCache[t]=wt(wt({},this.layerAttributeConfigCache[t]),r)}clean(){this.sceneConfigCache={},this.layerConfigCache={}}}const Im=Math.PI/180,Ub=512,k_=4003e4;function z_({latitude:e=0,zoom:t=0,scale:r,highPrecision:i=!1,flipY:s=!1}){r=r!==void 0?r:Math.pow(2,t);const p={},n=Ub*r,f=Math.cos(e*Im),m=n/360,g=m/f,x=n/k_/f;if(p.pixelsPerMeter=[x,-x,x],p.metersPerPixel=[1/x,-1/x,1/x],p.pixelsPerDegree=[m,-g,x],p.degreesPerPixel=[1/m,-1/g,1/x],i){const b=Im*Math.tan(e*Im)/f,F=m*b/2,R=n/k_*b,I=R/g*x;p.pixelsPerDegree2=[0,-F,R],p.pixelsPerMeter2=[I,0,I],s&&(p.pixelsPerDegree2[1]=-p.pixelsPerDegree2[1],p.pixelsPerMeter2[1]=-p.pixelsPerMeter2[1])}return s&&(p.pixelsPerMeter[1]=-p.pixelsPerMeter[1],p.metersPerPixel[1]=-p.metersPerPixel[1],p.pixelsPerDegree[1]=-p.pixelsPerDegree[1],p.degreesPerPixel[1]=-p.degreesPerPixel[1]),p}const kb=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0];class zb{constructor(t){G(this,"needRefresh",!0),G(this,"coordinateSystem",void 0),G(this,"viewportCenter",void 0),G(this,"viewportCenterProjection",void 0),G(this,"pixelsPerDegree",void 0),G(this,"pixelsPerDegree2",void 0),G(this,"pixelsPerMeter",void 0),this.cameraService=t}refresh(t){const r=this.cameraService.getZoom(),i=t||this.cameraService.getCenter(),{pixelsPerMeter:s,pixelsPerDegree:p}=z_({latitude:i[1],zoom:r});this.viewportCenter=i,this.viewportCenterProjection=[0,0,0,0],this.pixelsPerMeter=s,this.pixelsPerDegree=p,this.pixelsPerDegree2=[0,0,0],this.coordinateSystem===Wh.LNGLAT?this.cameraService.setViewProjectionMatrix(void 0):this.coordinateSystem===Wh.LNGLAT_OFFSET&&this.calculateLnglatOffset(i,r),this.needRefresh=!1}getCoordinateSystem(){return this.coordinateSystem}setCoordinateSystem(t){this.coordinateSystem=t}getViewportCenter(){return this.viewportCenter}getViewportCenterProjection(){return this.viewportCenterProjection}getPixelsPerDegree(){return this.pixelsPerDegree}getPixelsPerDegree2(){return this.pixelsPerDegree2}getPixelsPerMeter(){return this.pixelsPerMeter}calculateLnglatOffset(t,r,i,s){const{pixelsPerMeter:p,pixelsPerDegree:n,pixelsPerDegree2:f}=z_({latitude:t[1],zoom:r,scale:i,flipY:s,highPrecision:!0});let m=this.cameraService.getViewMatrix();const g=this.cameraService.getProjectionMatrix();let x=g0([],g,m);const b=this.cameraService.projectFlat([Math.fround(t[0]),Math.fround(t[1])],Math.pow(2,r));this.viewportCenterProjection=i6([],[b[0],b[1],0,1],x),m=this.cameraService.getViewMatrixUncentered()||m,x=g0([],g,m),x=g0([],x,kb),this.cameraService.setViewProjectionMatrix(x),this.pixelsPerMeter=p,this.pixelsPerDegree=n,this.pixelsPerDegree2=f}}class Vb extends du.EventEmitter{constructor(...t){super(...t),G(this,"renderMap",new Map),G(this,"enable",!1),G(this,"renderEnable",!1),G(this,"cacheLogs",{})}setEnable(t){this.enable=!!t}log(t,r){if(!this.enable)return;const i=t.split(".");let s=null;i.forEach((p,n)=>{s!==null?(s[p]||(s[p]={}),n!==i.length-1&&(s=s[p])):(this.cacheLogs[p]||(this.cacheLogs[p]={}),n!==i.length-1&&(s=this.cacheLogs[p])),n===i.length-1&&(s[p]=wt(wt({time:Date.now()},s[p]),r))})}getLog(t){switch(typeof t){case"string":return this.cacheLogs[t];case"object":return t.map(r=>this.cacheLogs[r]).filter(r=>r!==void 0);case"undefined":return this.cacheLogs}}removeLog(t){delete this.cacheLogs[t]}generateRenderUid(){return this.renderEnable?BE():""}renderDebug(t){this.renderEnable=t}renderStart(t){if(!this.renderEnable||!this.enable)return;const r=this.renderMap.get(t)||{};this.renderMap.set(t,wt(wt({},r),{},{renderUid:t,renderStart:Date.now()}))}renderEnd(t){if(!this.renderEnable||!this.enable)return;const r=this.renderMap.get(t);if(r){const i=r.renderStart,s=Date.now();this.emit("renderEnd",wt(wt({},r),{},{renderEnd:s,renderDuration:s-i})),this.renderMap.delete(t)}}destroy(){this.cacheLogs=null,this.renderMap.clear()}}var Mm={exports:{}};/*! Hammer.JS - v2.0.7 - 2016-04-22
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */var V_;function Hb(){return V_||(V_=1,function(e){(function(t,r,i,s){var p=["","webkit","Moz","MS","ms","o"],n=r.createElement("div"),f="function",m=Math.round,g=Math.abs,x=Date.now;function b(q,ne,Le){return setTimeout(oe(q,Le),ne)}function F(q,ne,Le){return Array.isArray(q)?(R(q,Le[ne],Le),!0):!1}function R(q,ne,Le){var ut;if(q)if(q.forEach)q.forEach(ne,Le);else if(q.length!==s)for(ut=0;ut<q.length;)ne.call(Le,q[ut],ut,q),ut++;else for(ut in q)q.hasOwnProperty(ut)&&ne.call(Le,q[ut],ut,q)}function I(q,ne,Le){var ut="DEPRECATED METHOD: "+ne+`
`+Le+` AT 
`;return function(){var Kt=new Error("get-stack-trace"),Br=Kt&&Kt.stack?Kt.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Bo=t.console&&(t.console.warn||t.console.log);return Bo&&Bo.call(t.console,ut,Br),q.apply(this,arguments)}}var O;typeof Object.assign!="function"?O=function(ne){if(ne===s||ne===null)throw new TypeError("Cannot convert undefined or null to object");for(var Le=Object(ne),ut=1;ut<arguments.length;ut++){var Kt=arguments[ut];if(Kt!==s&&Kt!==null)for(var Br in Kt)Kt.hasOwnProperty(Br)&&(Le[Br]=Kt[Br])}return Le}:O=Object.assign;var U=I(function(ne,Le,ut){for(var Kt=Object.keys(Le),Br=0;Br<Kt.length;)(!ut||ut&&ne[Kt[Br]]===s)&&(ne[Kt[Br]]=Le[Kt[Br]]),Br++;return ne},"extend","Use `assign`."),Y=I(function(ne,Le){return U(ne,Le,!0)},"merge","Use `assign`.");function ee(q,ne,Le){var ut=ne.prototype,Kt;Kt=q.prototype=Object.create(ut),Kt.constructor=q,Kt._super=ut,Le&&O(Kt,Le)}function oe(q,ne){return function(){return q.apply(ne,arguments)}}function Re(q,ne){return typeof q==f?q.apply(ne&&ne[0]||s,ne):q}function Ae(q,ne){return q===s?ne:q}function ce(q,ne,Le){R(qe(ne),function(ut){q.addEventListener(ut,Le,!1)})}function Ie(q,ne,Le){R(qe(ne),function(ut){q.removeEventListener(ut,Le,!1)})}function De(q,ne){for(;q;){if(q==ne)return!0;q=q.parentNode}return!1}function ht(q,ne){return q.indexOf(ne)>-1}function qe(q){return q.trim().split(/\s+/g)}function we(q,ne,Le){if(q.indexOf&&!Le)return q.indexOf(ne);for(var ut=0;ut<q.length;){if(Le&&q[ut][Le]==ne||!Le&&q[ut]===ne)return ut;ut++}return-1}function B(q){return Array.prototype.slice.call(q,0)}function X(q,ne,Le){for(var ut=[],Kt=[],Br=0;Br<q.length;){var Bo=q[Br][ne];we(Kt,Bo)<0&&ut.push(q[Br]),Kt[Br]=Bo,Br++}return ut=ut.sort(function(bn,yn){return bn[ne]>yn[ne]}),ut}function de(q,ne){for(var Le,ut,Kt=ne[0].toUpperCase()+ne.slice(1),Br=0;Br<p.length;){if(Le=p[Br],ut=Le?Le+Kt:ne,ut in q)return ut;Br++}return s}var mt=1;function re(){return mt++}function fe(q){var ne=q.ownerDocument||q;return ne.defaultView||ne.parentWindow||t}var Pe=/mobile|tablet|ip(ad|hone|od)|android/i,Xe="ontouchstart"in t,Ye=de(t,"PointerEvent")!==s,at=Xe&&Pe.test(navigator.userAgent),ct="touch",Lt="pen",pr="mouse",Wt="kinect",uo=25,hr=1,Lr=2,At=4,lt=8,yr=1,bt=2,Fr=4,to=8,Ir=16,wr=bt|Fr,No=to|Ir,Qr=wr|No,bi=["x","y"],ni=["clientX","clientY"];function oi(q,ne){var Le=this;this.manager=q,this.callback=ne,this.element=q.element,this.target=q.options.inputTarget,this.domHandler=function(ut){Re(q.options.enable,[q])&&Le.handler(ut)},this.init()}oi.prototype={handler:function(){},init:function(){this.evEl&&ce(this.element,this.evEl,this.domHandler),this.evTarget&&ce(this.target,this.evTarget,this.domHandler),this.evWin&&ce(fe(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&Ie(this.element,this.evEl,this.domHandler),this.evTarget&&Ie(this.target,this.evTarget,this.domHandler),this.evWin&&Ie(fe(this.element),this.evWin,this.domHandler)}};function Wi(q){var ne,Le=q.options.inputClass;return Le?ne=Le:Ye?ne=gs:at?ne=ke:Xe?ne=Qe:ne=Hs,new ne(q,ue)}function ue(q,ne,Le){var ut=Le.pointers.length,Kt=Le.changedPointers.length,Br=ne&hr&&ut-Kt===0,Bo=ne&(At|lt)&&ut-Kt===0;Le.isFirst=!!Br,Le.isFinal=!!Bo,Br&&(q.session={}),Le.eventType=ne,Hn(q,Le),q.emit("hammer.input",Le),q.recognize(Le),q.session.prevInput=Le}function Hn(q,ne){var Le=q.session,ut=ne.pointers,Kt=ut.length;Le.firstInput||(Le.firstInput=as(ne)),Kt>1&&!Le.firstMultiple?Le.firstMultiple=as(ne):Kt===1&&(Le.firstMultiple=!1);var Br=Le.firstInput,Bo=Le.firstMultiple,Xi=Bo?Bo.center:Br.center,bn=ne.center=va(ut);ne.timeStamp=x(),ne.deltaTime=ne.timeStamp-Br.timeStamp,ne.angle=Qn(Xi,bn),ne.distance=Nn(Xi,bn),ga(Le,ne),ne.offsetDirection=Mn(ne.deltaX,ne.deltaY);var yn=fi(ne.deltaTime,ne.deltaX,ne.deltaY);ne.overallVelocityX=yn.x,ne.overallVelocityY=yn.y,ne.overallVelocity=g(yn.x)>g(yn.y)?yn.x:yn.y,ne.scale=Bo?Ea(Bo.pointers,ut):1,ne.rotation=Bo?ln(Bo.pointers,ut):0,ne.maxPointers=Le.prevInput?ne.pointers.length>Le.prevInput.maxPointers?ne.pointers.length:Le.prevInput.maxPointers:ne.pointers.length,Pn(Le,ne);var Wa=q.element;De(ne.srcEvent.target,Wa)&&(Wa=ne.srcEvent.target),ne.target=Wa}function ga(q,ne){var Le=ne.center,ut=q.offsetDelta||{},Kt=q.prevDelta||{},Br=q.prevInput||{};(ne.eventType===hr||Br.eventType===At)&&(Kt=q.prevDelta={x:Br.deltaX||0,y:Br.deltaY||0},ut=q.offsetDelta={x:Le.x,y:Le.y}),ne.deltaX=Kt.x+(Le.x-ut.x),ne.deltaY=Kt.y+(Le.y-ut.y)}function Pn(q,ne){var Le=q.lastInterval||ne,ut=ne.timeStamp-Le.timeStamp,Kt,Br,Bo,Xi;if(ne.eventType!=lt&&(ut>uo||Le.velocity===s)){var bn=ne.deltaX-Le.deltaX,yn=ne.deltaY-Le.deltaY,Wa=fi(ut,bn,yn);Br=Wa.x,Bo=Wa.y,Kt=g(Wa.x)>g(Wa.y)?Wa.x:Wa.y,Xi=Mn(bn,yn),q.lastInterval=ne}else Kt=Le.velocity,Br=Le.velocityX,Bo=Le.velocityY,Xi=Le.direction;ne.velocity=Kt,ne.velocityX=Br,ne.velocityY=Bo,ne.direction=Xi}function as(q){for(var ne=[],Le=0;Le<q.pointers.length;)ne[Le]={clientX:m(q.pointers[Le].clientX),clientY:m(q.pointers[Le].clientY)},Le++;return{timeStamp:x(),pointers:ne,center:va(ne),deltaX:q.deltaX,deltaY:q.deltaY}}function va(q){var ne=q.length;if(ne===1)return{x:m(q[0].clientX),y:m(q[0].clientY)};for(var Le=0,ut=0,Kt=0;Kt<ne;)Le+=q[Kt].clientX,ut+=q[Kt].clientY,Kt++;return{x:m(Le/ne),y:m(ut/ne)}}function fi(q,ne,Le){return{x:ne/q||0,y:Le/q||0}}function Mn(q,ne){return q===ne?yr:g(q)>=g(ne)?q<0?bt:Fr:ne<0?to:Ir}function Nn(q,ne,Le){Le||(Le=bi);var ut=ne[Le[0]]-q[Le[0]],Kt=ne[Le[1]]-q[Le[1]];return Math.sqrt(ut*ut+Kt*Kt)}function Qn(q,ne,Le){Le||(Le=bi);var ut=ne[Le[0]]-q[Le[0]],Kt=ne[Le[1]]-q[Le[1]];return Math.atan2(Kt,ut)*180/Math.PI}function ln(q,ne){return Qn(ne[1],ne[0],ni)+Qn(q[1],q[0],ni)}function Ea(q,ne){return Nn(ne[0],ne[1],ni)/Nn(q[0],q[1],ni)}var Ga={mousedown:hr,mousemove:Lr,mouseup:At},ss="mousedown",Vs="mousemove mouseup";function Hs(){this.evEl=ss,this.evWin=Vs,this.pressed=!1,oi.apply(this,arguments)}ee(Hs,oi,{handler:function(ne){var Le=Ga[ne.type];Le&hr&&ne.button===0&&(this.pressed=!0),Le&Lr&&ne.which!==1&&(Le=At),this.pressed&&(Le&At&&(this.pressed=!1),this.callback(this.manager,Le,{pointers:[ne],changedPointers:[ne],pointerType:pr,srcEvent:ne}))}});var gp={pointerdown:hr,pointermove:Lr,pointerup:At,pointercancel:lt,pointerout:lt},Gs={2:ct,3:Lt,4:pr,5:Wt},Ia="pointerdown",Ma="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ia="MSPointerDown",Ma="MSPointerMove MSPointerUp MSPointerCancel");function gs(){this.evEl=Ia,this.evWin=Ma,oi.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}ee(gs,oi,{handler:function(ne){var Le=this.store,ut=!1,Kt=ne.type.toLowerCase().replace("ms",""),Br=gp[Kt],Bo=Gs[ne.pointerType]||ne.pointerType,Xi=Bo==ct,bn=we(Le,ne.pointerId,"pointerId");Br&hr&&(ne.button===0||Xi)?bn<0&&(Le.push(ne),bn=Le.length-1):Br&(At|lt)&&(ut=!0),!(bn<0)&&(Le[bn]=ne,this.callback(this.manager,Br,{pointers:Le,changedPointers:[ne],pointerType:Bo,srcEvent:ne}),ut&&Le.splice(bn,1))}});var Zu={touchstart:hr,touchmove:Lr,touchend:At,touchcancel:lt},Wo="touchstart",V="touchstart touchmove touchend touchcancel";function j(){this.evTarget=Wo,this.evWin=V,this.started=!1,oi.apply(this,arguments)}ee(j,oi,{handler:function(ne){var Le=Zu[ne.type];if(Le===hr&&(this.started=!0),!!this.started){var ut=Z.call(this,ne,Le);Le&(At|lt)&&ut[0].length-ut[1].length===0&&(this.started=!1),this.callback(this.manager,Le,{pointers:ut[0],changedPointers:ut[1],pointerType:ct,srcEvent:ne})}}});function Z(q,ne){var Le=B(q.touches),ut=B(q.changedTouches);return ne&(At|lt)&&(Le=X(Le.concat(ut),"identifier")),[Le,ut]}var se={touchstart:hr,touchmove:Lr,touchend:At,touchcancel:lt},ge="touchstart touchmove touchend touchcancel";function ke(){this.evTarget=ge,this.targetIds={},oi.apply(this,arguments)}ee(ke,oi,{handler:function(ne){var Le=se[ne.type],ut=Ge.call(this,ne,Le);ut&&this.callback(this.manager,Le,{pointers:ut[0],changedPointers:ut[1],pointerType:ct,srcEvent:ne})}});function Ge(q,ne){var Le=B(q.touches),ut=this.targetIds;if(ne&(hr|Lr)&&Le.length===1)return ut[Le[0].identifier]=!0,[Le,Le];var Kt,Br,Bo=B(q.changedTouches),Xi=[],bn=this.target;if(Br=Le.filter(function(yn){return De(yn.target,bn)}),ne===hr)for(Kt=0;Kt<Br.length;)ut[Br[Kt].identifier]=!0,Kt++;for(Kt=0;Kt<Bo.length;)ut[Bo[Kt].identifier]&&Xi.push(Bo[Kt]),ne&(At|lt)&&delete ut[Bo[Kt].identifier],Kt++;if(Xi.length)return[X(Br.concat(Xi),"identifier"),Xi]}var J=2500,be=25;function Qe(){oi.apply(this,arguments);var q=oe(this.handler,this);this.touch=new ke(this.manager,q),this.mouse=new Hs(this.manager,q),this.primaryTouch=null,this.lastTouches=[]}ee(Qe,oi,{handler:function(ne,Le,ut){var Kt=ut.pointerType==ct,Br=ut.pointerType==pr;if(!(Br&&ut.sourceCapabilities&&ut.sourceCapabilities.firesTouchEvents)){if(Kt)Ft.call(this,Le,ut);else if(Br&&gt.call(this,ut))return;this.callback(ne,Le,ut)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Ft(q,ne){q&hr?(this.primaryTouch=ne.changedPointers[0].identifier,Gt.call(this,ne)):q&(At|lt)&&Gt.call(this,ne)}function Gt(q){var ne=q.changedPointers[0];if(ne.identifier===this.primaryTouch){var Le={x:ne.clientX,y:ne.clientY};this.lastTouches.push(Le);var ut=this.lastTouches,Kt=function(){var Br=ut.indexOf(Le);Br>-1&&ut.splice(Br,1)};setTimeout(Kt,J)}}function gt(q){for(var ne=q.srcEvent.clientX,Le=q.srcEvent.clientY,ut=0;ut<this.lastTouches.length;ut++){var Kt=this.lastTouches[ut],Br=Math.abs(ne-Kt.x),Bo=Math.abs(Le-Kt.y);if(Br<=be&&Bo<=be)return!0}return!1}var Bt=de(n.style,"touchAction"),Sr=Bt!==s,Ar="compute",Et="auto",fr="manipulation",tr="none",or="pan-x",po="pan-y",lr=Ao();function So(q,ne){this.manager=q,this.set(ne)}So.prototype={set:function(q){q==Ar&&(q=this.compute()),Sr&&this.manager.element.style&&lr[q]&&(this.manager.element.style[Bt]=q),this.actions=q.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var q=[];return R(this.manager.recognizers,function(ne){Re(ne.options.enable,[ne])&&(q=q.concat(ne.getTouchAction()))}),ei(q.join(" "))},preventDefaults:function(q){var ne=q.srcEvent,Le=q.offsetDirection;if(this.manager.session.prevented){ne.preventDefault();return}var ut=this.actions,Kt=ht(ut,tr)&&!lr[tr],Br=ht(ut,po)&&!lr[po],Bo=ht(ut,or)&&!lr[or];if(Kt){var Xi=q.pointers.length===1,bn=q.distance<2,yn=q.deltaTime<250;if(Xi&&bn&&yn)return}if(!(Bo&&Br)&&(Kt||Br&&Le&wr||Bo&&Le&No))return this.preventSrc(ne)},preventSrc:function(q){this.manager.session.prevented=!0,q.preventDefault()}};function ei(q){if(ht(q,tr))return tr;var ne=ht(q,or),Le=ht(q,po);return ne&&Le?tr:ne||Le?ne?or:po:ht(q,fr)?fr:Et}function Ao(){if(!Sr)return!1;var q={},ne=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(Le){q[Le]=ne?t.CSS.supports("touch-action",Le):!0}),q}var Do=1,co=2,Vi=4,wo=8,ti=wo,Vo=16,lo=32;function Fo(q){this.options=O({},this.defaults,q||{}),this.id=re(),this.manager=null,this.options.enable=Ae(this.options.enable,!0),this.state=Do,this.simultaneous={},this.requireFail=[]}Fo.prototype={defaults:{},set:function(q){return O(this.options,q),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(q){if(F(q,"recognizeWith",this))return this;var ne=this.simultaneous;return q=Oi(q,this),ne[q.id]||(ne[q.id]=q,q.recognizeWith(this)),this},dropRecognizeWith:function(q){return F(q,"dropRecognizeWith",this)?this:(q=Oi(q,this),delete this.simultaneous[q.id],this)},requireFailure:function(q){if(F(q,"requireFailure",this))return this;var ne=this.requireFail;return q=Oi(q,this),we(ne,q)===-1&&(ne.push(q),q.requireFailure(this)),this},dropRequireFailure:function(q){if(F(q,"dropRequireFailure",this))return this;q=Oi(q,this);var ne=we(this.requireFail,q);return ne>-1&&this.requireFail.splice(ne,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(q){return!!this.simultaneous[q.id]},emit:function(q){var ne=this,Le=this.state;function ut(Kt){ne.manager.emit(Kt,q)}Le<wo&&ut(ne.options.event+Dn(Le)),ut(ne.options.event),q.additionalEvent&&ut(q.additionalEvent),Le>=wo&&ut(ne.options.event+Dn(Le))},tryEmit:function(q){if(this.canEmit())return this.emit(q);this.state=lo},canEmit:function(){for(var q=0;q<this.requireFail.length;){if(!(this.requireFail[q].state&(lo|Do)))return!1;q++}return!0},recognize:function(q){var ne=O({},q);if(!Re(this.options.enable,[this,ne])){this.reset(),this.state=lo;return}this.state&(ti|Vo|lo)&&(this.state=Do),this.state=this.process(ne),this.state&(co|Vi|wo|Vo)&&this.tryEmit(ne)},process:function(q){},getTouchAction:function(){},reset:function(){}};function Dn(q){return q&Vo?"cancel":q&wo?"end":q&Vi?"move":q&co?"start":""}function yu(q){return q==Ir?"down":q==to?"up":q==bt?"left":q==Fr?"right":""}function Oi(q,ne){var Le=ne.manager;return Le?Le.get(q):q}function vi(){Fo.apply(this,arguments)}ee(vi,Fo,{defaults:{pointers:1},attrTest:function(q){var ne=this.options.pointers;return ne===0||q.pointers.length===ne},process:function(q){var ne=this.state,Le=q.eventType,ut=ne&(co|Vi),Kt=this.attrTest(q);return ut&&(Le&lt||!Kt)?ne|Vo:ut||Kt?Le&At?ne|wo:ne&co?ne|Vi:co:lo}});function hu(){vi.apply(this,arguments),this.pX=null,this.pY=null}ee(hu,vi,{defaults:{event:"pan",threshold:10,pointers:1,direction:Qr},getTouchAction:function(){var q=this.options.direction,ne=[];return q&wr&&ne.push(po),q&No&&ne.push(or),ne},directionTest:function(q){var ne=this.options,Le=!0,ut=q.distance,Kt=q.direction,Br=q.deltaX,Bo=q.deltaY;return Kt&ne.direction||(ne.direction&wr?(Kt=Br===0?yr:Br<0?bt:Fr,Le=Br!=this.pX,ut=Math.abs(q.deltaX)):(Kt=Bo===0?yr:Bo<0?to:Ir,Le=Bo!=this.pY,ut=Math.abs(q.deltaY))),q.direction=Kt,Le&&ut>ne.threshold&&Kt&ne.direction},attrTest:function(q){return vi.prototype.attrTest.call(this,q)&&(this.state&co||!(this.state&co)&&this.directionTest(q))},emit:function(q){this.pX=q.deltaX,this.pY=q.deltaY;var ne=yu(q.direction);ne&&(q.additionalEvent=this.options.event+ne),this._super.emit.call(this,q)}});function ja(){vi.apply(this,arguments)}ee(ja,vi,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[tr]},attrTest:function(q){return this._super.attrTest.call(this,q)&&(Math.abs(q.scale-1)>this.options.threshold||this.state&co)},emit:function(q){if(q.scale!==1){var ne=q.scale<1?"in":"out";q.additionalEvent=this.options.event+ne}this._super.emit.call(this,q)}});function mi(){Fo.apply(this,arguments),this._timer=null,this._input=null}ee(mi,Fo,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[Et]},process:function(q){var ne=this.options,Le=q.pointers.length===ne.pointers,ut=q.distance<ne.threshold,Kt=q.deltaTime>ne.time;if(this._input=q,!ut||!Le||q.eventType&(At|lt)&&!Kt)this.reset();else if(q.eventType&hr)this.reset(),this._timer=b(function(){this.state=ti,this.tryEmit()},ne.time,this);else if(q.eventType&At)return ti;return lo},reset:function(){clearTimeout(this._timer)},emit:function(q){this.state===ti&&(q&&q.eventType&At?this.manager.emit(this.options.event+"up",q):(this._input.timeStamp=x(),this.manager.emit(this.options.event,this._input)))}});function js(){vi.apply(this,arguments)}ee(js,vi,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[tr]},attrTest:function(q){return this._super.attrTest.call(this,q)&&(Math.abs(q.rotation)>this.options.threshold||this.state&co)}});function dn(){vi.apply(this,arguments)}ee(dn,vi,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:wr|No,pointers:1},getTouchAction:function(){return hu.prototype.getTouchAction.call(this)},attrTest:function(q){var ne=this.options.direction,Le;return ne&(wr|No)?Le=q.overallVelocity:ne&wr?Le=q.overallVelocityX:ne&No&&(Le=q.overallVelocityY),this._super.attrTest.call(this,q)&&ne&q.offsetDirection&&q.distance>this.options.threshold&&q.maxPointers==this.options.pointers&&g(Le)>this.options.velocity&&q.eventType&At},emit:function(q){var ne=yu(q.offsetDirection);ne&&this.manager.emit(this.options.event+ne,q),this.manager.emit(this.options.event,q)}});function _i(){Fo.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}ee(_i,Fo,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[fr]},process:function(q){var ne=this.options,Le=q.pointers.length===ne.pointers,ut=q.distance<ne.threshold,Kt=q.deltaTime<ne.time;if(this.reset(),q.eventType&hr&&this.count===0)return this.failTimeout();if(ut&&Kt&&Le){if(q.eventType!=At)return this.failTimeout();var Br=this.pTime?q.timeStamp-this.pTime<ne.interval:!0,Bo=!this.pCenter||Nn(this.pCenter,q.center)<ne.posThreshold;this.pTime=q.timeStamp,this.pCenter=q.center,!Bo||!Br?this.count=1:this.count+=1,this._input=q;var Xi=this.count%ne.taps;if(Xi===0)return this.hasRequireFailures()?(this._timer=b(function(){this.state=ti,this.tryEmit()},ne.interval,this),co):ti}return lo},failTimeout:function(){return this._timer=b(function(){this.state=lo},this.options.interval,this),lo},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==ti&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function Hi(q,ne){return ne=ne||{},ne.recognizers=Ae(ne.recognizers,Hi.defaults.preset),new Gn(q,ne)}Hi.VERSION="2.0.7",Hi.defaults={domEvents:!1,touchAction:Ar,enable:!0,inputTarget:null,inputClass:null,preset:[[js,{enable:!1}],[ja,{enable:!1},["rotate"]],[dn,{direction:wr}],[hu,{direction:wr},["swipe"]],[_i],[_i,{event:"doubletap",taps:2},["tap"]],[mi]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var pi=1,Jn=2;function Gn(q,ne){this.options=O({},Hi.defaults,ne||{}),this.options.inputTarget=this.options.inputTarget||q,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=q,this.input=Wi(this),this.touchAction=new So(this,this.options.touchAction),qp(this,!0),R(this.options.recognizers,function(Le){var ut=this.add(new Le[0](Le[1]));Le[2]&&ut.recognizeWith(Le[2]),Le[3]&&ut.requireFailure(Le[3])},this)}Gn.prototype={set:function(q){return O(this.options,q),q.touchAction&&this.touchAction.update(),q.inputTarget&&(this.input.destroy(),this.input.target=q.inputTarget,this.input.init()),this},stop:function(q){this.session.stopped=q?Jn:pi},recognize:function(q){var ne=this.session;if(!ne.stopped){this.touchAction.preventDefaults(q);var Le,ut=this.recognizers,Kt=ne.curRecognizer;(!Kt||Kt&&Kt.state&ti)&&(Kt=ne.curRecognizer=null);for(var Br=0;Br<ut.length;)Le=ut[Br],ne.stopped!==Jn&&(!Kt||Le==Kt||Le.canRecognizeWith(Kt))?Le.recognize(q):Le.reset(),!Kt&&Le.state&(co|Vi|wo)&&(Kt=ne.curRecognizer=Le),Br++}},get:function(q){if(q instanceof Fo)return q;for(var ne=this.recognizers,Le=0;Le<ne.length;Le++)if(ne[Le].options.event==q)return ne[Le];return null},add:function(q){if(F(q,"add",this))return this;var ne=this.get(q.options.event);return ne&&this.remove(ne),this.recognizers.push(q),q.manager=this,this.touchAction.update(),q},remove:function(q){if(F(q,"remove",this))return this;if(q=this.get(q),q){var ne=this.recognizers,Le=we(ne,q);Le!==-1&&(ne.splice(Le,1),this.touchAction.update())}return this},on:function(q,ne){if(q!==s&&ne!==s){var Le=this.handlers;return R(qe(q),function(ut){Le[ut]=Le[ut]||[],Le[ut].push(ne)}),this}},off:function(q,ne){if(q!==s){var Le=this.handlers;return R(qe(q),function(ut){ne?Le[ut]&&Le[ut].splice(we(Le[ut],ne),1):delete Le[ut]}),this}},emit:function(q,ne){this.options.domEvents&&xa(q,ne);var Le=this.handlers[q]&&this.handlers[q].slice();if(!(!Le||!Le.length)){ne.type=q,ne.preventDefault=function(){ne.srcEvent.preventDefault()};for(var ut=0;ut<Le.length;)Le[ut](ne),ut++}},destroy:function(){this.element&&qp(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function qp(q,ne){var Le=q.element;if(Le.style){var ut;R(q.options.cssProps,function(Kt,Br){ut=de(Le.style,Br),ne?(q.oldCssProps[ut]=Le.style[ut],Le.style[ut]=Kt):Le.style[ut]=q.oldCssProps[ut]||""}),ne||(q.oldCssProps={})}}function xa(q,ne){var Le=r.createEvent("Event");Le.initEvent(q,!0,!0),Le.gesture=ne,ne.target.dispatchEvent(Le)}O(Hi,{INPUT_START:hr,INPUT_MOVE:Lr,INPUT_END:At,INPUT_CANCEL:lt,STATE_POSSIBLE:Do,STATE_BEGAN:co,STATE_CHANGED:Vi,STATE_ENDED:wo,STATE_RECOGNIZED:ti,STATE_CANCELLED:Vo,STATE_FAILED:lo,DIRECTION_NONE:yr,DIRECTION_LEFT:bt,DIRECTION_RIGHT:Fr,DIRECTION_UP:to,DIRECTION_DOWN:Ir,DIRECTION_HORIZONTAL:wr,DIRECTION_VERTICAL:No,DIRECTION_ALL:Qr,Manager:Gn,Input:oi,TouchAction:So,TouchInput:ke,MouseInput:Hs,PointerEventInput:gs,TouchMouseInput:Qe,SingleTouchInput:j,Recognizer:Fo,AttrRecognizer:vi,Tap:_i,Pan:hu,Swipe:dn,Pinch:ja,Rotate:js,Press:mi,on:ce,off:Ie,each:R,merge:Y,extend:U,assign:O,inherit:ee,bindFn:oe,prefixed:de});var Sl=typeof t<"u"?t:typeof self<"u"?self:{};Sl.Hammer=Hi,e.exports?e.exports=Hi:t[i]=Hi})(window,document,"Hammer")}(Mm)),Mm.exports}var Gb=Hb();const vd=mp(Gb),jb={panstart:"dragstart",panmove:"dragging",panend:"dragend",pancancel:"dragcancel"};class Wb extends m6{get mapService(){return this.container.mapService}constructor(t){super(),G(this,"indragging",!1),G(this,"hammertime",void 0),G(this,"lastClickTime",0),G(this,"lastClickXY",[-1,-1]),G(this,"clickTimer",void 0),G(this,"$containter",void 0),G(this,"onDrag",r=>{const i=this.interactionEvent(r);i.type=jb[i.type],i.type==="dragging"?this.indragging=!0:this.indragging=!1,this.emit(Ls.Drag,i)}),G(this,"onHammer",r=>{r.srcEvent.stopPropagation();const i=this.interactionEvent(r);this.emit(Ls.Hover,i)}),G(this,"onTouch",r=>{const i=r.touches[0];this.onHover({clientX:i.clientX,clientY:i.clientY,type:"touchstart"})}),G(this,"onTouchEnd",r=>{if(r.changedTouches.length>0){const i=r.changedTouches[0];this.onHover({clientX:i.clientX,clientY:i.clientY,type:"touchend"})}}),G(this,"onTouchMove",r=>{const i=r.changedTouches[0];this.onHover({clientX:i.clientX,clientY:i.clientY,type:"touchmove"})}),G(this,"onHover",r=>{const{clientX:i,clientY:s}=r;let p=i,n=s;const f=r.type,m=this.mapService.getMapContainer();if(m){const{top:x,left:b}=m.getBoundingClientRect();p=p-b-m.clientLeft,n=n-x-m.clientTop}const g=this.mapService.containerToLngLat([p,n]);if(f==="click"){this.isDoubleTap(p,n,g);return}if(f==="touch"){this.isDoubleTap(p,n,g);return}f!=="click"&&f!=="dblclick"&&this.emit(Ls.Hover,{x:p,y:n,lngLat:g,type:f,target:r})}),this.container=t}init(){this.addEventListenerOnMap(),this.$containter=this.mapService.getMapContainer()}destroy(){this.hammertime&&this.hammertime.destroy(),this.removeEventListenerOnMap(),this.off(Ls.Hover)}triggerHover({x:t,y:r}){this.emit(Ls.Hover,{x:t,y:r})}triggerSelect(t){this.emit(Ls.Select,{featureId:t})}triggerActive(t){this.emit(Ls.Active,{featureId:t})}addEventListenerOnMap(){const t=this.mapService.getMapContainer();if(t){const r=new vd.Manager(t);r.add(new vd.Tap({event:"dblclick",taps:2})),r.add(new vd.Tap({event:"click"})),r.add(new vd.Pan({threshold:0,pointers:0})),r.add(new vd.Press({})),r.on("dblclick click",this.onHammer),r.on("panstart panmove panend pancancel",this.onDrag),t.addEventListener("touchstart",this.onTouch),t.addEventListener("touchend",this.onTouchEnd),t.addEventListener("mousemove",this.onHover),t.addEventListener("touchmove",this.onTouchMove),t.addEventListener("mousedown",this.onHover,!0),t.addEventListener("mouseup",this.onHover),t.addEventListener("contextmenu",this.onHover),this.hammertime=r}}removeEventListenerOnMap(){const t=this.mapService.getMapContainer();t&&(t.removeEventListener("mousemove",this.onHover),this.hammertime.off("dblclick click",this.onHammer),this.hammertime.off("panstart panmove panend pancancel",this.onDrag),t.removeEventListener("touchstart",this.onTouch),t.removeEventListener("touchend",this.onTouchEnd),t.removeEventListener("mousedown",this.onHover),t.removeEventListener("mouseup",this.onHover),t.removeEventListener("contextmenu",this.onHover))}interactionEvent(t){const{type:r,pointerType:i}=t;let s,p;i==="touch"?(p=Math.floor(t.pointers[0].clientY),s=Math.floor(t.pointers[0].clientX)):(p=Math.floor(t.srcEvent.y),s=Math.floor(t.srcEvent.x));const n=this.mapService.getMapContainer();if(n){const{top:m,left:g}=n.getBoundingClientRect();s-=g,p-=m}const f=this.mapService.containerToLngLat([s,p]);return{x:s,y:p,lngLat:f,type:r,target:t.srcEvent}}isDoubleTap(t,r,i){const s=new Date().getTime();let p="click";s-this.lastClickTime<400&&Math.abs(this.lastClickXY[0]-t)<10&&Math.abs(this.lastClickXY[1]-r)<10?(this.lastClickTime=0,this.lastClickXY=[-1,-1],this.clickTimer&&clearTimeout(this.clickTimer),p="dblclick",this.emit(Ls.Hover,{x:t,y:r,lngLat:i,type:p})):(this.lastClickTime=s,this.lastClickXY=[t,r],this.clickTimer=setTimeout(()=>{p="click",this.emit(Ls.Hover,{x:t,y:r,lngLat:i,type:p})},400))}}let Xb=0;function Zb(e){let t=e;if(typeof e=="string"&&(t=document.getElementById(e)),t){const r=document.createElement("div");return r.style.cssText+=`
      position: absolute;
      z-index:2;
      height: 100%;
      width: 100%;
      pointer-events: none;
    `,r.id=`l7-scene-${Xb++}`,r.classList.add("l7-scene"),t.appendChild(r),r}return null}function Yb(e){var t;let r=!0;if((e==null||(t=e.target)===null||t===void 0?void 0:t.target)instanceof HTMLElement){var i;let p=e==null||(i=e.target)===null||i===void 0?void 0:i.target;for(;p;){var s;const n=Array.from(p.classList);if(n.includes("l7-marker")||n.includes("l7-popup")){r=!1;break}p=(s=p)===null||s===void 0?void 0:s.parentElement}}return r}let y1=function(e){return e[e.SAMPLED=0]="SAMPLED",e[e.RENDER_TARGET=1]="RENDER_TARGET",e}({});class qb{constructor(t){var r=this;G(this,"pickedColors",void 0),G(this,"pickedTileLayers",[]),G(this,"pickingFBO",void 0),G(this,"width",0),G(this,"height",0),G(this,"alreadyInPicking",!1),G(this,"pickBufferScale",1),G(this,"pickFromPickingFBO",function(){var i=Rt(function*(s,{x:p,y:n,lngLat:f,type:m,target:g}){var x;let b=!1;const{readPixels:F,readPixelsAsync:R,getViewportSize:I,queryVerdorInfo:O}=r.rendererService,{width:U,height:Y}=I(),{enableHighlight:ee,enableSelect:oe}=s.getLayerConfig(),Re=p*Os,Ae=n*Os;if(Re>U-1*Os||Re<0||Ae>Y-1*Os||Ae<0)return!1;let ce;if(O()==="WebGPU"?ce=yield R({x:Math.floor(Re/r.pickBufferScale),y:Math.floor((Y-(n+1)*Os)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:r.pickingFBO}):ce=F({x:Math.floor(Re/r.pickBufferScale),y:Math.floor((Y-(n+1)*Os)/r.pickBufferScale),width:1,height:1,data:new Uint8Array(4),framebuffer:r.pickingFBO}),r.pickedColors=ce,ce[0]!==0||ce[1]!==0||ce[2]!==0){const De=p1(ce),ht=s.layerPickService.getFeatureById(De);De!==s.getCurrentPickId()&&m==="mousemove"&&(m="mouseenter");const qe={x:p,y:n,type:m,lngLat:f,featureId:De,feature:ht,target:g};ht&&(b=!0,s.setCurrentPickId(De),r.triggerHoverOnLayer(s,qe))}else{const De={x:p,y:n,lngLat:f,type:s.getCurrentPickId()!==null&&m==="mousemove"?"mouseout":"un"+m,featureId:null,target:g,feature:null};r.triggerHoverOnLayer(s,wt(wt({},De),{},{type:"unpick"})),r.triggerHoverOnLayer(s,De),s.setCurrentPickId(null)}if(ee&&s.layerPickService.highlightPickedFeature(ce),oe&&m==="click"&&((x=ce)===null||x===void 0?void 0:x.toString())!==[0,0,0,0].toString()){const De=p1(ce);s.getCurrentSelectedId()===null||De!==s.getCurrentSelectedId()?(s.layerPickService.selectFeature(ce),s.setCurrentSelectedId(De)):(s.layerPickService.selectFeature(new Uint8Array([0,0,0,0])),s.setCurrentSelectedId(null))}return b});return function(s,p){return i.apply(this,arguments)}}()),this.container=t}get mapService(){return this.container.mapService}get rendererService(){return this.container.rendererService}get configService(){return this.container.globalConfigService}get interactionService(){return this.container.interactionService}get layerService(){return this.container.layerService}init(t){const{createTexture2D:r,createFramebuffer:i,getViewportSize:s}=this.rendererService;let{width:p,height:n}=s();this.pickBufferScale=this.configService.getSceneConfig(t).pickBufferScale||1,p=Math.round(p/this.pickBufferScale),n=Math.round(n/this.pickBufferScale);const f=r({width:p,height:n,usage:y1.RENDER_TARGET,label:"Picking Texture"});this.pickingFBO=i({color:f,depth:!0,width:p,height:n}),this.interactionService.on(Ls.Hover,this.pickingAllLayer.bind(this))}boxPickLayer(t,r,i){var s=this;return Rt(function*(){const{useFramebufferAsync:p,clear:n}=s.rendererService;s.resizePickingFBO(),t.hooks.beforePickingEncode.call(),yield p(s.pickingFBO,Rt(function*(){n({framebuffer:s.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),t.renderModels({ispick:!0})})),t.hooks.afterPickingEncode.call();const f=yield s.pickBox(t,r);i(f)})()}pickBox(t,r){var i=this;return Rt(function*(){const[s,p,n,f]=r.map(Y=>{const ee=Y<0?0:Y;return Math.floor(ee*Os/i.pickBufferScale)}),{readPixelsAsync:m,getViewportSize:g}=i.rendererService,{width:x,height:b}=g();if(s>(x-1)*Os/i.pickBufferScale||n<0||p>(b-1)*Os/i.pickBufferScale||f<0)return[];const F=Math.min(x/i.pickBufferScale,n)-s,R=Math.min(b/i.pickBufferScale,f)-p,I=yield m({x:s,y:Math.floor(b/i.pickBufferScale-(f+1)),width:F,height:R,data:new Uint8Array(F*R*4),framebuffer:i.pickingFBO}),O=[],U={};for(let Y=0;Y<I.length/4;Y=Y+1){const ee=I.slice(Y*4,Y*4+4),oe=p1(ee);if(oe!==-1&&!U[oe]){const Re=t.layerPickService.getFeatureById(oe);O.push(wt(wt({},Re),{},{pickedFeatureIdx:oe})),U[oe]=!0}}return O})()}handleCursor(t,r){const{cursor:i="",cursorEnabled:s}=t.getLayerConfig();if(s){const n=this.mapService.getType()==="amap"?this.mapService.getMapContainer():this.mapService.getMarkerContainer(),f=n==null?void 0:n.style.getPropertyValue("cursor");r==="unmousemove"&&f!==""?n==null||n.style.setProperty("cursor",""):r==="mousemove"&&(n==null||n.style.setProperty("cursor",i))}}destroy(){this.pickingFBO.destroy(),this.pickingFBO=null}pickingAllLayer(t){var r=this;return Rt(function*(){!r.layerService.needPick(t.type)||!r.isPickingAllLayer()||(r.alreadyInPicking=!0,yield r.pickingLayers(t),r.layerService.renderLayers(),r.alreadyInPicking=!1)})()}isPickingAllLayer(){return!(this.alreadyInPicking||this.layerService.alreadyInRendering||this.interactionService.indragging||!this.layerService.getShaderPickStat())}resizePickingFBO(){const{getViewportSize:t}=this.rendererService,{width:r,height:i}=t();(this.width!==r||this.height!==i)&&(this.pickingFBO.resize({width:Math.round(r/this.pickBufferScale),height:Math.round(i/this.pickBufferScale)}),this.width=r,this.height=i)}pickingLayers(t){var r=this;return Rt(function*(){const{clear:i,useFramebufferAsync:s}=r.rendererService;r.resizePickingFBO();const p=r.layerService.getRenderList();for(const n of p.filter(f=>f.needPick(t.type)).reverse()){yield s(r.pickingFBO,Rt(function*(){i({framebuffer:r.pickingFBO,color:[0,0,0,0],stencil:0,depth:1}),n.layerPickService.pickRender(t)}));const f=yield r.pickFromPickingFBO(n,t);if(r.layerService.pickedLayerId=f?+n.id:-1,f&&!n.getLayerConfig().enablePropagation)break}})()}triggerHoverOnLayer(t,r){Yb(r)&&(this.handleCursor(t,r.type),t.emit(r.type,r))}}class $b{constructor(t=!0){G(this,"autoStart",void 0),G(this,"startTime",0),G(this,"oldTime",0),G(this,"running",!1),G(this,"elapsedTime",0),this.autoStart=t}start(){this.startTime=(typeof performance>"u"?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let t=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const r=(typeof performance>"u"?Date:performance).now();t=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=t}return t}}const{throttle:H_}=Kn;class Kb extends du.EventEmitter{get renderService(){return this.container.rendererService}get mapService(){return this.container.mapService}get debugService(){return this.container.debugService}constructor(t){super(),G(this,"pickedLayerId",-1),G(this,"clock",new $b),G(this,"alreadyInRendering",!1),G(this,"layers",[]),G(this,"layerList",[]),G(this,"layerRenderID",void 0),G(this,"sceneInited",!1),G(this,"animateInstanceCount",0),G(this,"shaderPicking",!0),G(this,"enableRender",!0),G(this,"reRender",H_(()=>{this.renderLayers()},32)),G(this,"throttleRenderLayers",H_(()=>{this.renderLayers()},16)),this.container=t}needPick(t){return this.updateLayerRenderList(),this.layerList.some(r=>r.needPick(t))}add(t){this.layers.push(t),this.sceneInited&&t.init().then(()=>{this.renderLayers()})}addMask(t){this.sceneInited&&t.init().then(()=>{this.renderLayers()})}initLayers(){var t=this;return Rt(function*(){t.sceneInited=!0,t.layers.forEach(function(){var r=Rt(function*(i){i.startInit||(yield i.init(),t.updateLayerRenderList())});return function(i){return r.apply(this,arguments)}}())})()}getSceneInited(){return this.sceneInited}getRenderList(){return this.layerList}getLayers(){return this.layers}getLayer(t){return this.layers.find(r=>r.id===t)}getLayerByName(t){return this.layers.find(r=>r.name===t)}remove(t,r){var i=this;return Rt(function*(){r?r.layerChildren=r.layerChildren.filter(s=>s!==t):i.layers=i.layers.filter(s=>s!==t),t.destroy(),i.reRender(),i.emit("layerChange",i.layers)})()}removeAllLayers(){var t=this;return Rt(function*(){t.destroy(),t.reRender()})()}setEnableRender(t){this.enableRender=t}renderLayers(){var t=this;return Rt(function*(){if(t.alreadyInRendering||!t.enableRender)return;t.updateLayerRenderList();const r=t.debugService.generateRenderUid();t.debugService.renderStart(r),t.alreadyInRendering=!0,t.clear();for(const i of t.layerList)i.prerender();t.renderService.beginFrame();for(const i of t.layerList){const{enableMask:s}=i.getLayerConfig();i.masks.filter(p=>p.inited).length>0&&s&&t.renderMask(i.masks),i.getLayerConfig().enableMultiPassRenderer?yield i.renderMultiPass():i.render()}t.renderService.endFrame(),t.debugService.renderEnd(r),t.alreadyInRendering=!1})()}renderMask(t){let r=0;this.renderService.clear({stencil:0,depth:1,framebuffer:null});const i=t.length>1?s1.MULTIPLE:s1.SINGLE;for(const s of t)s.render({isStencil:!0,stencilType:i,stencilIndex:r++})}beforeRenderData(t){var r=this;return Rt(function*(){(yield t.hooks.beforeRenderData.promise())&&r.renderLayers()})()}renderTileLayerMask(t){let r=0;const{enableMask:i=!0}=t.getLayerConfig();let s=t.tileMask?1:0;const p=t.masks.filter(f=>f.inited);s=s+(i?p.length:1);const n=s>1?s1.MULTIPLE:s1.SINGLE;if((t.tileMask||p.length&&i)&&this.renderService.clear({stencil:0,depth:1,framebuffer:null}),p.length&&i)for(const f of p)f.render({isStencil:!0,stencilType:n,stencilIndex:r++});t.tileMask&&t.tileMask.render({isStencil:!0,stencilType:n,stencilIndex:r++,stencilOperation:Ff.OR})}renderTileLayer(t){var r=this;return Rt(function*(){r.renderTileLayerMask(t),t.getLayerConfig().enableMultiPassRenderer?yield t.renderMultiPass():yield t.render()})()}updateLayerRenderList(){this.layerList=[],this.layers.filter(t=>t.inited).filter(t=>t.isVisible()).sort((t,r)=>t.zIndex-r.zIndex).forEach(t=>{this.layerList.push(t)})}destroy(){this.layers.forEach(t=>{t.destroy()}),this.layers=[],this.layerList=[],this.emit("layerChange",this.layers)}startAnimate(){this.animateInstanceCount++===0&&(this.clock.start(),this.runRender())}stopAnimate(){--this.animateInstanceCount===0&&(this.stopRender(),this.clock.stop())}getOESTextureFloat(){return this.renderService.extensionObject.OES_texture_float}enableShaderPick(){this.shaderPicking=!0}disableShaderPick(){this.shaderPicking=!1}getShaderPickStat(){return this.shaderPicking}clear(){const t=Di(this.mapService.bgColor);this.renderService.clear({color:t,depth:1,stencil:0,framebuffer:null})}runRender(){this.renderLayers(),this.layerRenderID=window.requestAnimationFrame(this.runRender.bind(this))}stopRender(){window.cancelAnimationFrame(this.layerRenderID)}}function Qb(e,t){if(e==null)return{};var r={};for(var i in e)if({}.hasOwnProperty.call(e,i)){if(t.includes(i))continue;r[i]=e[i]}return r}function Zp(e,t){if(e==null)return{};var r,i,s=Qb(e,t);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(e);for(i=0;i<p.length;i++)r=p[i],t.includes(r)||{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}const{isNil:Jb}=Kn;class eA{constructor(t){G(this,"name",void 0),G(this,"type",void 0),G(this,"scale",void 0),G(this,"descriptor",void 0),G(this,"featureBufferLayout",[]),G(this,"needRescale",!1),G(this,"needRemapping",!1),G(this,"needRegenerateVertices",!1),G(this,"featureRange",{startIndex:0,endIndex:1/0}),G(this,"vertexAttribute",void 0),G(this,"defaultCallback",r=>{if(r.length===0){var i;return((i=this.scale)===null||i===void 0?void 0:i.defaultValues)||[]}return r.map((s,p)=>{var n;return((n=this.scale)===null||n===void 0?void 0:n.scalers[p].func)(s)})}),this.setProps(t)}setProps(t){Object.assign(this,t)}mapping(t){var r;if((r=this.scale)!==null&&r!==void 0&&r.callback){var i;const s=(i=this.scale)===null||i===void 0?void 0:i.callback(...t);if(!Jb(s))return[s]}return this.defaultCallback(t)}resetDescriptor(){this.descriptor&&(this.descriptor.buffer.data=[])}}const tA=["buffer","update","name"],rA=["buffer","update","name"],oA={[k.FLOAT]:4,[k.UNSIGNED_BYTE]:1,[k.UNSIGNED_SHORT]:2};class iA{constructor(t){G(this,"attributesAndIndices",void 0),G(this,"attributes",[]),G(this,"triangulation",void 0),G(this,"featureLayout",{sizePerElement:0,elements:[]}),this.rendererService=t}registerStyleAttribute(t){let r=this.getLayerStyleAttribute(t.name||"");return r?r.setProps(t):(r=new eA(t),this.attributes.push(r)),r}unRegisterStyleAttribute(t){const r=this.attributes.findIndex(i=>i.name===t);r>-1&&this.attributes.splice(r,1)}updateScaleAttribute(t){this.attributes.forEach(r=>{var i;const s=r.name,p=(i=r.scale)===null||i===void 0?void 0:i.field;(t[s]||p&&t[p])&&(r.needRescale=!0,r.needRemapping=!0,r.needRegenerateVertices=!0)})}updateStyleAttribute(t,r,i){let s=this.getLayerStyleAttribute(t);s||(s=this.registerStyleAttribute(wt(wt({},r),{},{name:t})));const{scale:p}=r;p&&s&&(s.scale=p,s.needRescale=!0,s.needRemapping=!0,s.needRegenerateVertices=!0,i&&i.featureRange&&(s.featureRange=i.featureRange))}getLayerStyleAttributes(){return this.attributes}getLayerStyleAttribute(t){return this.attributes.find(r=>r.name===t)}getLayerAttributeScale(t){var r;const i=this.getLayerStyleAttribute(t),s=i==null||(r=i.scale)===null||r===void 0?void 0:r.scalers;return s&&s[0]?s[0].func:null}updateAttributeByFeatureRange(t,r,i=0,s,p){const n=this.attributes.find(f=>f.name===t);if(n&&n.descriptor){const{descriptor:f}=n,{update:m,buffer:g,size:x=0}=f,b=oA[g.type||k.FLOAT];if(m){const{elements:F,sizePerElement:R}=this.featureLayout,I=F.slice(i,s);if(!I.length)return;const{offset:O}=I[0],U=O*x*b,Y=I.map(({featureIdx:ee,vertices:oe,normals:Re},Ae)=>{const ce=oe.length/R,Ie=[];for(let De=0;De<ce;De++){const ht=Re?Re.slice(De*3,De*3+3):[];Ie.push(...m(r[ee],ee,oe.slice(De*R,De*R+R),Ae,ht))}return Ie}).flat();n.vertexAttribute.updateBuffer({data:Y,offset:U}),p==null||p.emit(`legend:${t}`,p.getLegend(t))}}}createAttributesAndIndices(t,r,i,s){this.featureLayout={sizePerElement:0,elements:[]},r&&(this.triangulation=r);const p=this.attributes.map(O=>(O.resetDescriptor(),O.descriptor));let n=0,f=0;const m=[];let g=3;t.forEach((O,U)=>{const{indices:Y,vertices:ee,normals:oe,size:Re,indexes:Ae,count:ce}=this.triangulation(O,i);typeof ce=="number"&&(f+=ce),Y.forEach(De=>{m.push(De+n)}),g=Re;const Ie=ee.length/Re;this.featureLayout.sizePerElement=g,this.featureLayout.elements.push({featureIdx:U,vertices:ee,normals:oe,offset:n}),n+=Ie;for(let De=0;De<Ie;De++){const ht=(oe==null?void 0:oe.slice(De*3,De*3+3))||[],qe=ee.slice(De*Re,De*Re+Re);let we=0;Ae&&Ae[De]!==void 0&&(we=Ae[De]),p.forEach((B,X)=>{B&&B.update&&B.buffer.data.push(...B.update(O,U,qe,De,ht,we))})}});const{createAttribute:x,createBuffer:b,createElements:F}=this.rendererService,R={};p.forEach((O,U)=>{if(O){const{buffer:Y,update:ee,name:oe}=O,Re=Zp(O,tA),Ae=x(wt({buffer:b(Y)},Re));R[O.name||""]=Ae,this.attributes[U].vertexAttribute=Ae}});const I=F({data:m,type:k.UNSIGNED_INT,count:m.length});return this.attributesAndIndices={attributes:R,elements:I,count:f},Object.values(this.attributes).filter(O=>O.scale).forEach(O=>{const U=O.name;s==null||s.emit(`legend:${U}`,s.getLegend(U))}),this.attributesAndIndices}createAttributes(t,r){this.featureLayout={sizePerElement:0,elements:[]},r&&(this.triangulation=r);const i=this.attributes.map(g=>(g.resetDescriptor(),g.descriptor));let s=0,p=3;t.forEach((g,x)=>{const{indices:b,vertices:F,normals:R,size:I,indexes:O}=this.triangulation(g);b.forEach(Y=>{}),p=I;const U=F.length/I;this.featureLayout.sizePerElement=p,this.featureLayout.elements.push({featureIdx:x,vertices:F,normals:R,offset:s}),s+=U;for(let Y=0;Y<U;Y++){const ee=(R==null?void 0:R.slice(Y*3,Y*3+3))||[],oe=F.slice(Y*I,Y*I+I);let Re=0;O&&O[Y]!==void 0&&(Re=O[Y]),i.forEach((Ae,ce)=>{Ae&&Ae.update&&Ae.buffer.data.push(...Ae.update(g,x,oe,Y,ee,Re))})}});const{createAttribute:n,createBuffer:f}=this.rendererService,m={};return i.forEach((g,x)=>{if(g){const{buffer:b,update:F,name:R}=g,I=Zp(g,rA),O=n(wt({buffer:f(b)},I));m[g.name||""]=O,this.attributes[x].vertexAttribute=O}}),{attributes:m}}clearAllAttributes(){var t;this.attributes.forEach(r=>{r.vertexAttribute&&r.vertexAttribute.destroy()}),(t=this.attributesAndIndices)===null||t===void 0||t.elements.destroy(),this.attributes=[]}}function z8(e,t,r,i){function s(p){return p instanceof r?p:new r(function(n){n(p)})}return new(r||(r=Promise))(function(p,n){function f(x){try{g(i.next(x))}catch(b){n(b)}}function m(x){try{g(i.throw(x))}catch(b){n(b)}}function g(x){x.done?p(x.value):s(x.value).then(f,m)}g((i=i.apply(e,[])).next())})}function V8(e,t){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},i,s,p,n;return n={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function f(g){return function(x){return m([g,x])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(p=g[0]&2?s.return:g[0]?s.throw||((p=s.return)&&p.call(s),0):s.next)&&!(p=p.call(s,g[1])).done)return p;switch(s=0,p&&(g=[g[0]&2,p.value]),g[0]){case 0:case 1:p=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,s=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!p||g[1]>p[0]&&g[1]<p[3])){r.label=g[1];break}if(g[0]===6&&r.label<p[1]){r.label=p[1],p=g;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(g);break}p[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(x){g=[6,x],s=0}finally{i=p=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}function v6(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var i=r.call(e),s,p=[],n;try{for(;(t===void 0||t-- >0)&&!(s=i.next()).done;)p.push(s.value)}catch(f){n={error:f}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return p}function E6(e,t,r){if(arguments.length===2)for(var i=0,s=t.length,p;i<s;i++)(p||!(i in t))&&(p||(p=Array.prototype.slice.call(t,0,i)),p[i]=t[i]);return e.concat(p||Array.prototype.slice.call(t))}function H8(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var T2={exports:{}},Xh={exports:{}},iy={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(i){return i&&typeof i.length=="number"&&i.length>=0&&i.length%1===0}e.exports=t.default})(iy,iy.exports);var zs={},S2={exports:{}},R2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return function(){for(var i=[],s=arguments.length;s--;)i[s]=arguments[s];var p=i.pop();return r.call(this,i,p)}},e.exports=t.default})(R2,R2.exports);var Fl={};Object.defineProperty(Fl,"__esModule",{value:!0});Fl.fallback=G8;Fl.wrap=j8;var nA=Fl.hasQueueMicrotask=typeof queueMicrotask=="function"&&queueMicrotask,aA=Fl.hasSetImmediate=typeof setImmediate=="function"&&setImmediate,sA=Fl.hasNextTick=typeof process=="object"&&typeof process.nextTick=="function";function G8(e){setTimeout(e,0)}function j8(e){return function(t){for(var r=[],i=arguments.length-1;i-- >0;)r[i]=arguments[i+1];return e(function(){return t.apply(void 0,r)})}}var zd;nA?zd=queueMicrotask:aA?zd=setImmediate:sA?zd=process.nextTick:zd=G8;Fl.default=j8(zd);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=m;var r=R2.exports,i=f(r),s=Fl,p=f(s),n=zs;function f(b){return b&&b.__esModule?b:{default:b}}function m(b){return(0,n.isAsync)(b)?function(){for(var F=[],R=arguments.length;R--;)F[R]=arguments[R];var I=F.pop(),O=b.apply(this,F);return g(O,I)}:(0,i.default)(function(F,R){var I;try{I=b.apply(this,F)}catch(O){return R(O)}if(I&&typeof I.then=="function")return g(I,R);R(null,I)})}function g(b,F){return b.then(function(R){x(F,null,R)},function(R){x(F,R&&R.message?R:new Error(R))})}function x(b,F,R){try{b(F,R)}catch(I){(0,p.default)(function(O){throw O},I)}}e.exports=t.default})(S2,S2.exports);Object.defineProperty(zs,"__esModule",{value:!0});zs.isAsyncIterable=zs.isAsyncGenerator=zs.isAsync=void 0;var uA=S2.exports,pA=cA(uA);function cA(e){return e&&e.__esModule?e:{default:e}}function W8(e){return e[Symbol.toStringTag]==="AsyncFunction"}function lA(e){return e[Symbol.toStringTag]==="AsyncGenerator"}function dA(e){return typeof e[Symbol.asyncIterator]=="function"}function yA(e){if(typeof e!="function")throw new Error("expected a function");return W8(e)?(0,pA.default)(e):e}zs.default=yA;zs.isAsync=W8;zs.isAsyncGenerator=lA;zs.isAsyncIterable=dA;var h1={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(i,s){if(s===void 0&&(s=i.length),!s)throw new Error("arity is undefined");function p(){for(var n=this,f=[],m=arguments.length;m--;)f[m]=arguments[m];return typeof f[s-1]=="function"?i.apply(this,f):new Promise(function(g,x){f[s-1]=function(b){for(var F=[],R=arguments.length-1;R-- >0;)F[R]=arguments[R+1];if(b)return x(b);g(F.length>1?F:F[0])},i.apply(n,f)})}return p}e.exports=t.default})(h1,h1.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=iy.exports,i=m(r),s=zs,p=m(s),n=h1.exports,f=m(n);function m(g){return g&&g.__esModule?g:{default:g}}t.default=(0,f.default)(function(g,x,b){var F=(0,i.default)(x)?[]:{};g(x,function(R,I,O){(0,p.default)(R)(function(U){for(var Y,ee=[],oe=arguments.length-1;oe-- >0;)ee[oe]=arguments[oe+1];ee.length<2&&(Y=ee,ee=Y[0]),F[I]=ee,O(U)})},function(R){return b(R,F)})},3),e.exports=t.default})(Xh,Xh.exports);var w2={exports:{}},Zh={exports:{}},C2={exports:{}},ny={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(i){function s(){for(var p=[],n=arguments.length;n--;)p[n]=arguments[n];if(i!==null){var f=i;i=null,f.apply(this,p)}}return Object.assign(s,i),s}e.exports=t.default})(ny,ny.exports);var I2={exports:{}},M2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(r){return r[Symbol.iterator]&&r[Symbol.iterator]()},e.exports=t.default})(M2,M2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=x;var r=iy.exports,i=n(r),s=M2.exports,p=n(s);function n(b){return b&&b.__esModule?b:{default:b}}function f(b){var F=-1,R=b.length;return function(){return++F<R?{value:b[F],key:F}:null}}function m(b){var F=-1;return function(){var I=b.next();return I.done?null:(F++,{value:I.value,key:F})}}function g(b){var F=b?Object.keys(b):[],R=-1,I=F.length;return function O(){var U=F[++R];return U==="__proto__"?O():R<I?{value:b[U],key:U}:null}}function x(b){if((0,i.default)(b))return f(b);var F=(0,p.default)(b);return F?m(F):g(b)}e.exports=t.default})(I2,I2.exports);var ay={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;function r(i){return function(){for(var s=[],p=arguments.length;p--;)s[p]=arguments[p];if(i===null)throw new Error("Callback was already called.");var n=i;i=null,n.apply(this,s)}}e.exports=t.default})(ay,ay.exports);var N2={exports:{}},sy={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r={};t.default=r,e.exports=t.default})(sy,sy.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=p;var r=sy.exports,i=s(r);function s(n){return n&&n.__esModule?n:{default:n}}function p(n,f,m,g){var x=!1,b=!1,F=!1,R=0,I=0;function O(){R>=f||F||x||(F=!0,n.next().then(function(ee){var oe=ee.value,Re=ee.done;if(!(b||x)){if(F=!1,Re){x=!0,R<=0&&g(null);return}R++,m(oe,I,U),I++,O()}}).catch(Y))}function U(ee,oe){if(R-=1,!b){if(ee)return Y(ee);if(ee===!1){x=!0,b=!0;return}if(oe===i.default||x&&R<=0)return x=!0,g(null);O()}}function Y(ee){b||(F=!1,x=!0,g(ee))}O()}e.exports=t.default})(N2,N2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=ny.exports,i=R(r),s=I2.exports,p=R(s),n=ay.exports,f=R(n),m=zs,g=N2.exports,x=R(g),b=sy.exports,F=R(b);function R(I){return I&&I.__esModule?I:{default:I}}t.default=function(I){return function(O,U,Y){if(Y=(0,i.default)(Y),I<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!O)return Y(null);if((0,m.isAsyncGenerator)(O))return(0,x.default)(O,I,U,Y);if((0,m.isAsyncIterable)(O))return(0,x.default)(O[Symbol.asyncIterator](),I,U,Y);var ee=(0,p.default)(O),oe=!1,Re=!1,Ae=0,ce=!1;function Ie(ht,qe){if(!Re)if(Ae-=1,ht)oe=!0,Y(ht);else if(ht===!1)oe=!0,Re=!0;else{if(qe===F.default||oe&&Ae<=0)return oe=!0,Y(null);ce||De()}}function De(){for(ce=!0;Ae<I&&!oe;){var ht=ee();if(ht===null){oe=!0,Ae<=0&&Y(null);return}Ae+=1,U(ht.value,ht.key,(0,f.default)(Ie))}ce=!1}De()}},e.exports=t.default})(C2,C2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=C2.exports,i=m(r),s=zs,p=m(s),n=h1.exports,f=m(n);function m(x){return x&&x.__esModule?x:{default:x}}function g(x,b,F,R){return(0,i.default)(b)(x,(0,p.default)(F),R)}t.default=(0,f.default)(g,4),e.exports=t.default})(Zh,Zh.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=Zh.exports,i=n(r),s=h1.exports,p=n(s);function n(m){return m&&m.__esModule?m:{default:m}}function f(m,g,x){return(0,i.default)(m,1,g,x)}t.default=(0,p.default)(f,3),e.exports=t.default})(w2,w2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=Xh.exports,i=n(r),s=w2.exports,p=n(s);function n(m){return m&&m.__esModule?m:{default:m}}function f(m,g){return(0,i.default)(p.default,m,g)}e.exports=t.default})(T2,T2.exports);var Tf=H8(T2.exports),jp=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.call=function(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];return this.args=r,Tf(this.tasks)},e.prototype.tap=function(t,r){var i=this;this.tasks.push(function(s){r.apply(void 0,E6([],v6(i.args),!1)),s(null,t)})},e}(),G_={exports:{}},D2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=iy.exports,i=U(r),s=sy.exports,p=U(s),n=Zh.exports,f=U(n),m=ny.exports,g=U(m),x=ay.exports,b=U(x),F=zs,R=U(F),I=h1.exports,O=U(I);function U(Re){return Re&&Re.__esModule?Re:{default:Re}}function Y(Re,Ae,ce){ce=(0,g.default)(ce);var Ie=0,De=0,ht=Re.length,qe=!1;ht===0&&ce(null);function we(B,X){B===!1&&(qe=!0),qe!==!0&&(B?ce(B):(++De===ht||X===p.default)&&ce(null))}for(;Ie<ht;Ie++)Ae(Re[Ie],Ie,(0,b.default)(we))}function ee(Re,Ae,ce){return(0,f.default)(Re,1/0,Ae,ce)}function oe(Re,Ae,ce){var Ie=(0,i.default)(Re)?Y:ee;return Ie(Re,(0,R.default)(Ae),ce)}t.default=(0,O.default)(oe,3),e.exports=t.default})(D2,D2.exports);(function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=f;var r=D2.exports,i=n(r),s=Xh.exports,p=n(s);function n(m){return m&&m.__esModule?m:{default:m}}function f(m,g){return(0,p.default)(i.default,m,g)}e.exports=t.default})(G_,G_.exports);var O2={exports:{}};(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=ny.exports,i=x(r),s=ay.exports,p=x(s),n=zs,f=x(n),m=h1.exports,g=x(m);function x(F){return F&&F.__esModule?F:{default:F}}function b(F,R){if(R=(0,i.default)(R),!Array.isArray(F))return R(new Error("First argument to waterfall must be an array of functions"));if(!F.length)return R();var I=0;function O(Y){var ee=(0,f.default)(F[I++]);ee.apply(void 0,Y.concat([(0,p.default)(U)]))}function U(Y){for(var ee=[],oe=arguments.length-1;oe-- >0;)ee[oe]=arguments[oe+1];if(Y!==!1){if(Y||I===F.length)return R.apply(void 0,[Y].concat(ee));O(ee)}}O([])}t.default=(0,g.default)(b),e.exports=t.default})(O2,O2.exports);var hA=H8(O2.exports),j_=function(){function e(){this.tasks=[]}return e.prototype.call=function(){return Tf(this.tasks)},e.prototype.tap=function(t,r){this.tasks.push(function(i){var s=r();i(s,t)})},e}(),fA=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];return this.args=r,Tf(this.tasks)},e.prototype.tapPromise=function(t,r){var i=this;this.tasks.push(function(s){return z8(i,void 0,void 0,function(){return V8(this,function(p){switch(p.label){case 0:return[4,r.apply(void 0,E6([],v6(this.args),!1))];case 1:return p.sent(),s(null,t),[2]}})})})},e}(),mA=function(){function e(){this.args=[],this.tasks=[]}return e.prototype.promise=function(){for(var t=arguments,r=[],i=0;i<arguments.length;i++)r[i]=t[i];return this.args=r,Tf(this.tasks)},e.prototype.tapPromise=function(t,r){var i=this;this.tasks.push(function(s){return z8(i,void 0,void 0,function(){var p;return V8(this,function(n){switch(n.label){case 0:return[4,r.apply(void 0,E6([],v6(this.args),!1))];case 1:return p=n.sent(),s(p,t),[2]}})})})},e}(),_A=function(){function e(){this.tasks=[]}return e.prototype.promise=function(){return hA(this.tasks)},e.prototype.tapPromise=function(t,r){this.tasks.length===0?this.tasks.push(function(i){r().then(function(s){i(null,s)})}):this.tasks.push(function(i,s){r(i).then(function(p){s(null,p)})})},e}(),Nm={exports:{}},W_;function X8(){if(W_)return Nm.exports;W_=1;var e=Nm.exports={};return e.forEach=function(t,r){for(var i=0;i<t.length;i++){var s=r(t[i]);if(s)return s}},Nm.exports}var Dm,X_;function gA(){return X_||(X_=1,Dm=function(e){var t=e.stateHandler.getState;function r(n){var f=t(n);return f&&!!f.isDetectable}function i(n){t(n).isDetectable=!0}function s(n){return!!t(n).busy}function p(n,f){t(n).busy=!!f}return{isDetectable:r,markAsDetectable:i,isBusy:s,markBusy:p}}),Dm}var Om,Z_;function vA(){return Z_||(Z_=1,Om=function(e){var t={};function r(n){var f=e.get(n);return f===void 0?[]:t[f]||[]}function i(n,f){var m=e.get(n);t[m]||(t[m]=[]),t[m].push(f)}function s(n,f){for(var m=r(n),g=0,x=m.length;g<x;++g)if(m[g]===f){m.splice(g,1);break}}function p(n){var f=r(n);f&&(f.length=0)}return{get:r,add:i,removeListener:s,removeAllListeners:p}}),Om}var Lm,Y_;function EA(){return Y_||(Y_=1,Lm=function(){var e=1;function t(){return e++}return{generate:t}}),Lm}var Bm,q_;function xA(){return q_||(q_=1,Bm=function(e){var t=e.idGenerator,r=e.stateHandler.getState;function i(p){var n=r(p);return n&&n.id!==void 0?n.id:null}function s(p){var n=r(p);if(!n)throw new Error("setId required the element to have a resize detection state.");var f=t.generate();return n.id=f,f}return{get:i,set:s}}),Bm}var Um,$_;function PA(){return $_||($_=1,Um=function(e){function t(){}var r={log:t,warn:t,error:t};if(!e&&window.console){var i=function(s,p){s[p]=function(){var f=console[p];if(f.apply)f.apply(console,arguments);else for(var m=0;m<arguments.length;m++)f(arguments[m])}};i(r,"log"),i(r,"warn"),i(r,"error")}return r}),Um}var km={exports:{}},K_;function Z8(){if(K_)return km.exports;K_=1;var e=km.exports={};return e.isIE=function(t){function r(){var s=navigator.userAgent.toLowerCase();return s.indexOf("msie")!==-1||s.indexOf("trident")!==-1||s.indexOf(" edge/")!==-1}if(!r())return!1;if(!t)return!0;var i=function(){var s,p=3,n=document.createElement("div"),f=n.getElementsByTagName("i");do n.innerHTML="<!--[if gt IE "+ ++p+"]><i></i><![endif]-->";while(f[0]);return p>4?p:s}();return t===i},e.isLegacyOpera=function(){return!!window.opera},km.exports}var zm={exports:{}},Q_;function bA(){if(Q_)return zm.exports;Q_=1;var e=zm.exports={};e.getOption=t;function t(r,i,s){var p=r[i];return p==null&&s!==void 0?s:p}return zm.exports}var Vm,J_;function AA(){if(J_)return Vm;J_=1;var e=bA();Vm=function(i){i=i||{};var s=i.reporter,p=e.getOption(i,"async",!0),n=e.getOption(i,"auto",!0);n&&!p&&(s&&s.warn("Invalid options combination. auto=true and async=false is invalid. Setting async=true."),p=!0);var f=t(),m,g=!1;function x(U,Y){!g&&n&&p&&f.size()===0&&R(),f.add(U,Y)}function b(){for(g=!0;f.size();){var U=f;f=t(),U.process()}g=!1}function F(U){g||(U===void 0&&(U=p),m&&(I(m),m=null),U?R():b())}function R(){m=O(b)}function I(U){var Y=clearTimeout;return Y(U)}function O(U){var Y=function(ee){return setTimeout(ee,0)};return Y(U)}return{add:x,force:F}};function t(){var r={},i=0,s=0,p=0;function n(g,x){x||(x=g,g=0),g>s?s=g:g<p&&(p=g),r[g]||(r[g]=[]),r[g].push(x),i++}function f(){for(var g=p;g<=s;g++)for(var x=r[g],b=0;b<x.length;b++){var F=x[b];F()}}function m(){return i}return{add:n,process:f,size:m}}return Vm}var Hm,e5;function FA(){if(e5)return Hm;e5=1;var e="_erd";function t(s){return s[e]={},r(s)}function r(s){return s[e]}function i(s){delete s[e]}return Hm={initState:t,getState:r,cleanState:i},Hm}var Gm,t5;function TA(){if(t5)return Gm;t5=1;var e=Z8();return Gm=function(t){t=t||{};var r=t.reporter,i=t.batchProcessor,s=t.stateHandler.getState;if(!r)throw new Error("Missing required dependency: reporter.");function p(x,b){function F(){b(x)}if(e.isIE(8))s(x).object={proxy:F},x.attachEvent("onresize",F);else{var R=m(x);if(!R)throw new Error("Element is not detectable by this strategy.");R.contentDocument.defaultView.addEventListener("resize",F)}}function n(x){var b=t.important?" !important; ":"; ";return(x.join(b)+b).trim()}function f(x,b,F){F||(F=b,b=x,x=null),x=x||{},x.debug;function R(I,O){var U=n(["display: block","position: absolute","top: 0","left: 0","width: 100%","height: 100%","border: none","padding: 0","margin: 0","opacity: 0","z-index: -1000","pointer-events: none"]),Y=!1,ee=window.getComputedStyle(I),oe=I.offsetWidth,Re=I.offsetHeight;s(I).startSize={width:oe,height:Re};function Ae(){function ce(){if(ee.position==="static"){I.style.setProperty("position","relative",x.important?"important":"");var ht=function(qe,we,B,X){function de(re){return re.replace(/[^-\d\.]/g,"")}var mt=B[X];mt!=="auto"&&de(mt)!=="0"&&(qe.warn("An element that is positioned static has style."+X+"="+mt+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+X+" will be set to 0. Element: ",we),we.style.setProperty(X,"0",x.important?"important":""))};ht(r,I,ee,"top"),ht(r,I,ee,"right"),ht(r,I,ee,"bottom"),ht(r,I,ee,"left")}}function Ie(){Y||ce();function ht(we,B){if(!we.contentDocument){var X=s(we);X.checkForObjectDocumentTimeoutId&&window.clearTimeout(X.checkForObjectDocumentTimeoutId),X.checkForObjectDocumentTimeoutId=setTimeout(function(){X.checkForObjectDocumentTimeoutId=0,ht(we,B)},100);return}B(we.contentDocument)}var qe=this;ht(qe,function(B){O(I)})}ee.position!==""&&(ce(),Y=!0);var De=document.createElement("object");De.style.cssText=U,De.tabIndex=-1,De.type="text/html",De.setAttribute("aria-hidden","true"),De.onload=Ie,e.isIE()||(De.data="about:blank"),s(I)&&(I.appendChild(De),s(I).object=De,e.isIE()&&(De.data="about:blank"))}i?i.add(Ae):Ae()}e.isIE(8)?F(b):R(b,F)}function m(x){return s(x).object}function g(x){if(s(x)){var b=m(x);b&&(e.isIE(8)?x.detachEvent("onresize",b.proxy):x.removeChild(b),s(x).checkForObjectDocumentTimeoutId&&window.clearTimeout(s(x).checkForObjectDocumentTimeoutId),delete s(x).object)}}return{makeDetectable:f,addListener:p,uninstall:g}},Gm}var jm,r5;function SA(){if(r5)return jm;r5=1;var e=X8().forEach;return jm=function(t){t=t||{};var r=t.reporter,i=t.batchProcessor,s=t.stateHandler.getState;t.stateHandler.hasState;var p=t.idHandler;if(!i)throw new Error("Missing required dependency: batchProcessor");if(!r)throw new Error("Missing required dependency: reporter.");var n=b(),f="erd_scroll_detection_scrollbar_style",m="erd_scroll_detection_container";function g(Ae){F(Ae,f,m)}g(window.document);function x(Ae){var ce=t.important?" !important; ":"; ";return(Ae.join(ce)+ce).trim()}function b(){var Ae=500,ce=500,Ie=document.createElement("div");Ie.style.cssText=x(["position: absolute","width: "+Ae*2+"px","height: "+ce*2+"px","visibility: hidden","margin: 0","padding: 0"]);var De=document.createElement("div");De.style.cssText=x(["position: absolute","width: "+Ae+"px","height: "+ce+"px","overflow: scroll","visibility: none","top: "+-Ae*3+"px","left: "+-ce*3+"px","visibility: hidden","margin: 0","padding: 0"]),De.appendChild(Ie),document.body.insertBefore(De,document.body.firstChild);var ht=Ae-De.clientWidth,qe=ce-De.clientHeight;return document.body.removeChild(De),{width:ht,height:qe}}function F(Ae,ce,Ie){function De(B,X){X=X||function(mt){Ae.head.appendChild(mt)};var de=Ae.createElement("style");return de.innerHTML=B,de.id=ce,X(de),de}if(!Ae.getElementById(ce)){var ht=Ie+"_animation",qe=Ie+"_animation_active",we=`/* Created by the element-resize-detector library. */
`;we+="."+Ie+" > div::-webkit-scrollbar { "+x(["display: none"])+` }

`,we+="."+qe+" { "+x(["-webkit-animation-duration: 0.1s","animation-duration: 0.1s","-webkit-animation-name: "+ht,"animation-name: "+ht])+` }
`,we+="@-webkit-keyframes "+ht+` { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }
`,we+="@keyframes "+ht+" { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }",De(we)}}function R(Ae){Ae.className+=" "+m+"_animation_active"}function I(Ae,ce,Ie){if(Ae.addEventListener)Ae.addEventListener(ce,Ie);else if(Ae.attachEvent)Ae.attachEvent("on"+ce,Ie);else return r.error("[scroll] Don't know how to add event listeners.")}function O(Ae,ce,Ie){if(Ae.removeEventListener)Ae.removeEventListener(ce,Ie);else if(Ae.detachEvent)Ae.detachEvent("on"+ce,Ie);else return r.error("[scroll] Don't know how to remove event listeners.")}function U(Ae){return s(Ae).container.childNodes[0].childNodes[0].childNodes[0]}function Y(Ae){return s(Ae).container.childNodes[0].childNodes[0].childNodes[1]}function ee(Ae,ce){var Ie=s(Ae).listeners;if(!Ie.push)throw new Error("Cannot add listener to an element that is not detectable.");s(Ae).listeners.push(ce)}function oe(Ae,ce,Ie){Ie||(Ie=ce,ce=Ae,Ae=null),Ae=Ae||{};function De(){if(Ae.debug){var lt=Array.prototype.slice.call(arguments);if(lt.unshift(p.get(ce),"Scroll: "),r.log.apply)r.log.apply(null,lt);else for(var yr=0;yr<lt.length;yr++)r.log(lt[yr])}}function ht(lt){function yr(bt){var Fr=bt.getRootNode&&bt.getRootNode().contains(bt);return bt===bt.ownerDocument.body||bt.ownerDocument.body.contains(bt)||Fr}return!yr(lt)||window.getComputedStyle(lt)===null}function qe(lt){var yr=s(lt).container.childNodes[0],bt=window.getComputedStyle(yr);return!bt.width||bt.width.indexOf("px")===-1}function we(){var lt=window.getComputedStyle(ce),yr={};return yr.position=lt.position,yr.width=ce.offsetWidth,yr.height=ce.offsetHeight,yr.top=lt.top,yr.right=lt.right,yr.bottom=lt.bottom,yr.left=lt.left,yr.widthCSS=lt.width,yr.heightCSS=lt.height,yr}function B(){var lt=we();s(ce).startSize={width:lt.width,height:lt.height},De("Element start size",s(ce).startSize)}function X(){s(ce).listeners=[]}function de(){if(De("storeStyle invoked."),!s(ce)){De("Aborting because element has been uninstalled");return}var lt=we();s(ce).style=lt}function mt(lt,yr,bt){s(lt).lastWidth=yr,s(lt).lastHeight=bt}function re(lt){return U(lt).childNodes[0]}function fe(){return 2*n.width+1}function Pe(){return 2*n.height+1}function Xe(lt){return lt+10+fe()}function Ye(lt){return lt+10+Pe()}function at(lt){return lt*2+fe()}function ct(lt){return lt*2+Pe()}function Lt(lt,yr,bt){var Fr=U(lt),to=Y(lt),Ir=Xe(yr),wr=Ye(bt),No=at(yr),Qr=ct(bt);Fr.scrollLeft=Ir,Fr.scrollTop=wr,to.scrollLeft=No,to.scrollTop=Qr}function pr(){var lt=s(ce).container;if(!lt){lt=document.createElement("div"),lt.className=m,lt.style.cssText=x(["visibility: hidden","display: inline","width: 0px","height: 0px","z-index: -1","overflow: hidden","margin: 0","padding: 0"]),s(ce).container=lt,R(lt),ce.appendChild(lt);var yr=function(){s(ce).onRendered&&s(ce).onRendered()};I(lt,"animationstart",yr),s(ce).onAnimationStart=yr}return lt}function Wt(){function lt(){var fi=s(ce).style;if(fi.position==="static"){ce.style.setProperty("position","relative",Ae.important?"important":"");var Mn=function(Nn,Qn,ln,Ea){function Ga(Vs){return Vs.replace(/[^-\d\.]/g,"")}var ss=ln[Ea];ss!=="auto"&&Ga(ss)!=="0"&&(Nn.warn("An element that is positioned static has style."+Ea+"="+ss+" which is ignored due to the static positioning. The element will need to be positioned relative, so the style."+Ea+" will be set to 0. Element: ",Qn),Qn.style[Ea]=0)};Mn(r,ce,fi,"top"),Mn(r,ce,fi,"right"),Mn(r,ce,fi,"bottom"),Mn(r,ce,fi,"left")}}function yr(fi,Mn,Nn,Qn){return fi=fi?fi+"px":"0",Mn=Mn?Mn+"px":"0",Nn=Nn?Nn+"px":"0",Qn=Qn?Qn+"px":"0",["left: "+fi,"top: "+Mn,"right: "+Qn,"bottom: "+Nn]}if(De("Injecting elements"),!s(ce)){De("Aborting because element has been uninstalled");return}lt();var bt=s(ce).container;bt||(bt=pr());var Fr=n.width,to=n.height,Ir=x(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden","width: 100%","height: 100%","left: 0px","top: 0px"]),wr=x(["position: absolute","flex: none","overflow: hidden","z-index: -1","visibility: hidden"].concat(yr(-(1+Fr),-(1+to),-to,-Fr))),No=x(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),Qr=x(["position: absolute","flex: none","overflow: scroll","z-index: -1","visibility: hidden","width: 100%","height: 100%"]),bi=x(["position: absolute","left: 0","top: 0"]),ni=x(["position: absolute","width: 200%","height: 200%"]),oi=document.createElement("div"),Wi=document.createElement("div"),ue=document.createElement("div"),Hn=document.createElement("div"),ga=document.createElement("div"),Pn=document.createElement("div");oi.dir="ltr",oi.style.cssText=Ir,oi.className=m,Wi.className=m,Wi.style.cssText=wr,ue.style.cssText=No,Hn.style.cssText=bi,ga.style.cssText=Qr,Pn.style.cssText=ni,ue.appendChild(Hn),ga.appendChild(Pn),Wi.appendChild(ue),Wi.appendChild(ga),oi.appendChild(Wi),bt.appendChild(oi);function as(){var fi=s(ce);fi&&fi.onExpand?fi.onExpand():De("Aborting expand scroll handler: element has been uninstalled")}function va(){var fi=s(ce);fi&&fi.onShrink?fi.onShrink():De("Aborting shrink scroll handler: element has been uninstalled")}I(ue,"scroll",as),I(ga,"scroll",va),s(ce).onExpandScroll=as,s(ce).onShrinkScroll=va}function uo(){function lt(No,Qr,bi){var ni=re(No),oi=Xe(Qr),Wi=Ye(bi);ni.style.setProperty("width",oi+"px",Ae.important?"important":""),ni.style.setProperty("height",Wi+"px",Ae.important?"important":"")}function yr(No){var Qr=ce.offsetWidth,bi=ce.offsetHeight,ni=Qr!==s(ce).lastWidth||bi!==s(ce).lastHeight;De("Storing current size",Qr,bi),mt(ce,Qr,bi),i.add(0,function(){if(ni){if(!s(ce)){De("Aborting because element has been uninstalled");return}if(!bt()){De("Aborting because element container has not been initialized");return}if(Ae.debug){var Wi=ce.offsetWidth,ue=ce.offsetHeight;(Wi!==Qr||ue!==bi)&&r.warn(p.get(ce),"Scroll: Size changed before updating detector elements.")}lt(ce,Qr,bi)}}),i.add(1,function(){if(!s(ce)){De("Aborting because element has been uninstalled");return}if(!bt()){De("Aborting because element container has not been initialized");return}Lt(ce,Qr,bi)}),ni&&No&&i.add(2,function(){if(!s(ce)){De("Aborting because element has been uninstalled");return}if(!bt()){De("Aborting because element container has not been initialized");return}No()})}function bt(){return!!s(ce).container}function Fr(){function No(){return s(ce).lastNotifiedWidth===void 0}De("notifyListenersIfNeeded invoked");var Qr=s(ce);if(No()&&Qr.lastWidth===Qr.startSize.width&&Qr.lastHeight===Qr.startSize.height)return De("Not notifying: Size is the same as the start size, and there has been no notification yet.");if(Qr.lastWidth===Qr.lastNotifiedWidth&&Qr.lastHeight===Qr.lastNotifiedHeight)return De("Not notifying: Size already notified");De("Current size not notified, notifying..."),Qr.lastNotifiedWidth=Qr.lastWidth,Qr.lastNotifiedHeight=Qr.lastHeight,e(s(ce).listeners,function(bi){bi(ce)})}function to(){if(De("startanimation triggered."),qe(ce)){De("Ignoring since element is still unrendered...");return}De("Element rendered.");var No=U(ce),Qr=Y(ce);(No.scrollLeft===0||No.scrollTop===0||Qr.scrollLeft===0||Qr.scrollTop===0)&&(De("Scrollbars out of sync. Updating detector elements..."),yr(Fr))}function Ir(){if(De("Scroll detected."),qe(ce)){De("Scroll event fired while unrendered. Ignoring...");return}yr(Fr)}if(De("registerListenersAndPositionElements invoked."),!s(ce)){De("Aborting because element has been uninstalled");return}s(ce).onRendered=to,s(ce).onExpand=Ir,s(ce).onShrink=Ir;var wr=s(ce).style;lt(ce,wr.width,wr.height)}function hr(){if(De("finalizeDomMutation invoked."),!s(ce)){De("Aborting because element has been uninstalled");return}var lt=s(ce).style;mt(ce,lt.width,lt.height),Lt(ce,lt.width,lt.height)}function Lr(){Ie(ce)}function At(){De("Installing..."),X(),B(),i.add(0,de),i.add(1,Wt),i.add(2,uo),i.add(3,hr),i.add(4,Lr)}De("Making detectable..."),ht(ce)?(De("Element is detached"),pr(),De("Waiting until element is attached..."),s(ce).onRendered=function(){De("Element is now attached"),At()}):At()}function Re(Ae){var ce=s(Ae);ce&&(ce.onExpandScroll&&O(U(Ae),"scroll",ce.onExpandScroll),ce.onShrinkScroll&&O(Y(Ae),"scroll",ce.onShrinkScroll),ce.onAnimationStart&&O(ce.container,"animationstart",ce.onAnimationStart),ce.container&&Ae.removeChild(ce.container))}return{makeDetectable:oe,addListener:ee,uninstall:Re,initDocument:g}},jm}var Wm,o5;function RA(){if(o5)return Wm;o5=1;var e=X8().forEach,t=gA(),r=vA(),i=EA(),s=xA(),p=PA(),n=Z8(),f=AA(),m=FA(),g=TA(),x=SA();function b(O){return Array.isArray(O)||O.length!==void 0}function F(O){if(Array.isArray(O))return O;var U=[];return e(O,function(Y){U.push(Y)}),U}function R(O){return O&&O.nodeType===1}Wm=function(O){O=O||{};var U;if(O.idHandler)U={get:function(fe){return O.idHandler.get(fe,!0)},set:O.idHandler.set};else{var Y=i(),ee=s({idGenerator:Y,stateHandler:m});U=ee}var oe=O.reporter;if(!oe){var Re=oe===!1;oe=p(Re)}var Ae=I(O,"batchProcessor",f({reporter:oe})),ce={};ce.callOnAdd=!!I(O,"callOnAdd",!0),ce.debug=!!I(O,"debug",!1);var Ie=r(U),De=t({stateHandler:m}),ht,qe=I(O,"strategy","object"),we=I(O,"important",!1),B={reporter:oe,batchProcessor:Ae,stateHandler:m,idHandler:U,important:we};if(qe==="scroll"&&(n.isLegacyOpera()?(oe.warn("Scroll strategy is not supported on legacy Opera. Changing to object strategy."),qe="object"):n.isIE(9)&&(oe.warn("Scroll strategy is not supported on IE9. Changing to object strategy."),qe="object")),qe==="scroll")ht=x(B);else if(qe==="object")ht=g(B);else throw new Error("Invalid strategy name: "+qe);var X={};function de(fe,Pe,Xe){function Ye(uo){var hr=Ie.get(uo);e(hr,function(At){At(uo)})}function at(uo,hr,Lr){Ie.add(hr,Lr),uo&&Lr(hr)}if(Xe||(Xe=Pe,Pe=fe,fe={}),!Pe)throw new Error("At least one element required.");if(!Xe)throw new Error("Listener required.");if(R(Pe))Pe=[Pe];else if(b(Pe))Pe=F(Pe);else return oe.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");var ct=0,Lt=I(fe,"callOnAdd",ce.callOnAdd),pr=I(fe,"onReady",function(){}),Wt=I(fe,"debug",ce.debug);e(Pe,function(hr){m.getState(hr)||(m.initState(hr),U.set(hr));var Lr=U.get(hr);if(Wt&&oe.log("Attaching listener to element",Lr,hr),!De.isDetectable(hr)){if(Wt&&oe.log(Lr,"Not detectable."),De.isBusy(hr)){Wt&&oe.log(Lr,"System busy making it detectable"),at(Lt,hr,Xe),X[Lr]=X[Lr]||[],X[Lr].push(function(){ct++,ct===Pe.length&&pr()});return}return Wt&&oe.log(Lr,"Making detectable..."),De.markBusy(hr,!0),ht.makeDetectable({debug:Wt,important:we},hr,function(lt){if(Wt&&oe.log(Lr,"onElementDetectable"),m.getState(lt)){De.markAsDetectable(lt),De.markBusy(lt,!1),ht.addListener(lt,Ye),at(Lt,lt,Xe);var yr=m.getState(lt);if(yr&&yr.startSize){var bt=lt.offsetWidth,Fr=lt.offsetHeight;(yr.startSize.width!==bt||yr.startSize.height!==Fr)&&Ye(lt)}X[Lr]&&e(X[Lr],function(to){to()})}else Wt&&oe.log(Lr,"Element uninstalled before being detectable.");delete X[Lr],ct++,ct===Pe.length&&pr()})}Wt&&oe.log(Lr,"Already detecable, adding listener."),at(Lt,hr,Xe),ct++}),ct===Pe.length&&pr()}function mt(fe){if(!fe)return oe.error("At least one element is required.");if(R(fe))fe=[fe];else if(b(fe))fe=F(fe);else return oe.error("Invalid arguments. Must be a DOM element or a collection of DOM elements.");e(fe,function(Pe){Ie.removeAllListeners(Pe),ht.uninstall(Pe),m.cleanState(Pe)})}function re(fe){ht.initDocument&&ht.initDocument(fe)}return{listenTo:de,removeListener:Ie.removeListener,removeAllListeners:Ie.removeAllListeners,uninstall:mt,initDocument:re}};function I(O,U,Y){var ee=O[U];return ee==null&&Y!==void 0?Y:ee}return Wm}var wA=RA();const CA=mp(wA);let IA=class extends du.EventEmitter{get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get controlService(){return this.container.controlService}get configService(){return this.container.globalConfigService}get map(){return this.container.mapService}get coordinateSystemService(){return this.container.coordinateSystemService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get cameraService(){return this.container.cameraService}get interactionService(){return this.container.interactionService}get pickingService(){return this.container.pickingService}get shaderModuleService(){return this.container.shaderModuleService}get markerService(){return this.container.markerService}get popupService(){return this.container.popupService}constructor(t){super(),G(this,"destroyed",!1),G(this,"loaded",!1),G(this,"id",void 0),G(this,"inited",!1),G(this,"rendering",!1),G(this,"$container",void 0),G(this,"canvas",void 0),G(this,"markerContainer",void 0),G(this,"resizeDetector",void 0),G(this,"hooks",void 0),G(this,"handleWindowResized",()=>{this.emit("resize"),this.$container&&(this.initContainer(),this.coordinateSystemService.needRefresh=!0,this.render())}),G(this,"handleMapCameraChanged",r=>{this.cameraService.update(r),this.render()}),this.container=t,this.hooks={init:new fA},this.id=t.id}init(t){var r=this;this.configService.setSceneConfig(this.id,t),this.shaderModuleService.registerBuiltinModules(),this.iconService.init(),this.iconService.on("imageUpdate",()=>this.render()),this.fontService.init(),this.hooks.init.tapPromise("initMap",Rt(function*(){r.debugService.log("map.mapInitStart",{type:r.map.version}),yield new Promise(i=>{r.map.onCameraChanged(s=>{r.cameraService.init(),r.cameraService.update(s),i()}),r.map.init()}),r.map.onCameraChanged(r.handleMapCameraChanged),r.map.addMarkerContainer(),r.markerService.addMarkers(),r.markerService.addMarkerLayers(),r.popupService.initPopup(),r.interactionService.init(),r.interactionService.on(Ls.Drag,r.addSceneEvent.bind(r))})),this.hooks.init.tapPromise("initRenderer",Rt(function*(){var i;const s=((i=r.map)===null||i===void 0?void 0:i.getOverlayContainer())||void 0;if(s?r.$container=s:r.$container=Zb(r.configService.getSceneConfig(r.id).id||""),r.$container){const{canvas:n}=t;if(r.canvas=n||cu("canvas","",r.$container),r.setCanvas(),yield r.rendererService.init(r.canvas,r.configService.getSceneConfig(r.id),t.gl),r.registerContextLost(),r.initContainer(),r.resizeDetector=CA({strategy:"scroll"}),r.resizeDetector.listenTo(r.$container,r.handleWindowResized),window.matchMedia){var p;(p=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 1.5)"))===null||p===void 0||p.addListener(r.handleWindowResized.bind("screen"))}}else console.error("容器 id 不存在");r.pickingService.init(r.id)})),this.render()}registerContextLost(){const t=this.rendererService.getCanvas();t&&t.addEventListener("webglcontextlost",()=>this.emit("webglcontextlost"))}addLayer(t){this.layerService.sceneService=this,this.layerService.add(t)}addMask(t){this.layerService.sceneService=this,this.layerService.addMask(t)}render(){var t=this;return Rt(function*(){t.rendering||t.destroyed||(t.rendering=!0,t.inited?(yield t.layerService.initLayers(),yield t.layerService.renderLayers()):(yield t.hooks.init.promise(),t.destroyed&&t.destroy(),yield t.layerService.initLayers(),t.layerService.renderLayers(),t.controlService.addControls(),t.loaded=!0,t.emit("loaded"),t.inited=!0),t.rendering=!1)})()}addFontFace(t,r){this.fontService.addFontFace(t,r)}getSceneContainer(){return this.$container}exportPng(t){var r=this;return Rt(function*(){var i;const s=(i=r.$container)===null||i===void 0?void 0:i.getElementsByTagName("canvas")[0];return yield r.render(),t==="jpg"?s==null?void 0:s.toDataURL("image/jpeg"):s==null?void 0:s.toDataURL("image/png")})()}getSceneConfig(){return this.configService.getSceneConfig(this.id)}getPointSizeRange(){return this.rendererService.getPointSizeRange()}addMarkerContainer(){const t=this.$container.parentElement;t!==null&&(this.markerContainer=cu("div","l7-marker-container",t))}getMarkerContainer(){return this.markerContainer}destroy(){var t;if(!this.inited){this.destroyed=!0;return}this.resizeDetector.removeListener(this.$container,this.handleWindowResized),this.pickingService.destroy(),this.layerService.destroy(),this.interactionService.destroy(),this.controlService.destroy(),this.markerService.destroy(),this.fontService.destroy(),this.iconService.destroy(),this.removeAllListeners(),this.inited=!1,this.map.destroy(),setTimeout(()=>{var r;(r=this.$container)===null||r===void 0||r.removeChild(this.canvas),this.canvas=null,this.rendererService.destroy()}),(t=this.$container)===null||t===void 0||(t=t.parentNode)===null||t===void 0||t.removeChild(this.$container),this.emit("destroy")}initContainer(){var t,r;const i=Os,s=((t=this.$container)===null||t===void 0?void 0:t.clientWidth)||400,p=((r=this.$container)===null||r===void 0?void 0:r.clientHeight)||300,n=this.canvas;n&&(n.width=s*i,n.height=p*i),this.rendererService.viewport({x:0,y:0,width:i*s,height:i*p})}setCanvas(){var t,r;const i=Os,s=((t=this.$container)===null||t===void 0?void 0:t.clientWidth)||400,p=((r=this.$container)===null||r===void 0?void 0:r.clientHeight)||300,n=this.canvas;n.width=s*i,n.height=p*i,n.style.width="100%",n.style.height="100%"}addSceneEvent(t){this.emit(t.type,t)}};const{uniq:MA}=Kn,i5="#define PI 3.14159265359",NA=`#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2


float calc_lighting(vec4 pos) {

    vec3 worldPos = vec3(pos * u_ModelMatrix);

    vec3 worldNormal = a_Normal;
      // //cal light weight
    vec3 viewDir = normalize(u_CameraPosition - worldPos);

    vec3 lightDir = normalize(vec3(1, -10.5, 12));

    vec3 halfDir = normalize(viewDir+lightDir);
      // //lambert
    float lambert = dot(worldNormal, lightDir);
        //specular
    float specular = pow(max(0.0, dot(worldNormal, halfDir)), 32.0);
        //sum to light weight
    float lightWeight = ambientRatio + diffuseRatio * lambert + specularRatio * specular;

    return lightWeight;
}
`,DA=`#define SHIFT_RIGHT17 1.0 / 131072.0
#define SHIFT_RIGHT18 1.0 / 262144.0
#define SHIFT_RIGHT19 1.0 / 524288.0
#define SHIFT_RIGHT20 1.0 / 1048576.0
#define SHIFT_RIGHT21 1.0 / 2097152.0
#define SHIFT_RIGHT22 1.0 / 4194304.0
#define SHIFT_RIGHT23 1.0 / 8388608.0
#define SHIFT_RIGHT24 1.0 / 16777216.0

#define SHIFT_LEFT17 131072.0
#define SHIFT_LEFT18 262144.0
#define SHIFT_LEFT19 524288.0
#define SHIFT_LEFT20 1048576.0
#define SHIFT_LEFT21 2097152.0
#define SHIFT_LEFT22 4194304.0
#define SHIFT_LEFT23 8388608.0
#define SHIFT_LEFT24 16777216.0

vec2 unpack_float(float packedValue) {
  int packedIntValue = int(packedValue);
  int v0 = packedIntValue / 256;
  return vec2(v0, packedIntValue - v0 * 256);
}

vec4 decode_color(vec2 encodedColor) {
  return vec4(
    unpack_float(encodedColor[0]) / 255.0,
    unpack_float(encodedColor[1]) / 255.0
  );
}
`,OA=`// Blinn-Phong model
// apply lighting in vertex shader instead of fragment shader
// @see https://learnopengl.com/Advanced-Lighting/Advanced-Lighting
uniform float u_Ambient : 1.0;
uniform float u_Diffuse : 1.0;
uniform float u_Specular : 1.0;
uniform int u_NumOfDirectionalLights : 1;
uniform int u_NumOfSpotLights : 0;

#define SHININESS 32.0
#define MAX_NUM_OF_DIRECTIONAL_LIGHTS 3
#define MAX_NUM_OF_SPOT_LIGHTS 3

struct DirectionalLight {
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
};

struct SpotLight {
  vec3 position;
  vec3 direction;
  vec3 ambient;
  vec3 diffuse;
  vec3 specular;
  float constant;
  float linear;
  float quadratic;
  float angle;
  float blur;
  float exponent;
};

uniform DirectionalLight u_DirectionalLights[MAX_NUM_OF_DIRECTIONAL_LIGHTS];
uniform SpotLight u_SpotLights[MAX_NUM_OF_SPOT_LIGHTS];

vec3 calc_directional_light(DirectionalLight light, vec3 normal, vec3 viewDir) {
  vec3 lightDir = normalize(light.direction);
  // diffuse shading
  float diff = max(dot(normal, lightDir), 0.0);
  // Blinn-Phong specular shading
  vec3 halfwayDir = normalize(lightDir + viewDir);
  float spec = pow(max(dot(normal, halfwayDir), 0.0), SHININESS);

  vec3 ambient = light.ambient * u_Ambient;
  vec3 diffuse = light.diffuse * diff * u_Diffuse;
  vec3 specular = light.specular * spec * u_Specular;

  return ambient + diffuse + specular;
}


vec3 calc_lighting(vec3 position, vec3 normal, vec3 viewDir) {
  vec3 weight = vec3(0.0);
  for (int i = 0; i < MAX_NUM_OF_DIRECTIONAL_LIGHTS; i++) {
    if (i >= u_NumOfDirectionalLights) {
      break;
    }
    weight += calc_directional_light(u_DirectionalLights[i], normal, viewDir);
  }
  return weight;
}
`,LA=`
in vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define HIGHLIGHT 1.0
#define SELECT 2.0

/*
 * Returns highlight color if this item is selected.
 */
vec4 filterHighlightColor(vec4 color, float weight) {
  float activeType = v_PickingResult.a;
  if(activeType > 0.0) {
    vec4 highLightColor =  activeType > 1.5 ? u_SelectColor : u_HighlightColor;
    highLightColor = highLightColor * COLOR_SCALE;
    float highLightAlpha = highLightColor.a;
    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));
    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);
    return vec4(mix(resultRGB * weight, color.rgb, u_activeMix), color.a);
  }
  else {
    return color;
  }

  
}

/*
 * Returns picking color if picking enabled else unmodified argument.
 */
vec4 filterPickingColor(vec4 color) {
  vec3 pickingColor = v_PickingResult.rgb;
  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {
    discard;
  }
  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;
}

/*
 * Returns picking color if picking is enabled if not
 * highlight color if this item is selected, otherwise unmodified argument.
 */
vec4 filterColor(vec4 color) {
  // 过滤多余的 shader 计算
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, 1.0));
  }
  
}

vec4 filterColorAlpha(vec4 color, float alpha) {
  // 过滤多余的 shader 计算
  // return color;
  if(u_shaderPick < 0.5) {
    return color; // 暂时去除 直接取消计算在选中时拖拽地图会有问题
  } else {
    return filterPickingColor(filterHighlightColor(color, alpha));
  }
}

`,BA=`layout(location = ATTRIBUTE_LOCATION_PICKING_COLOR) in vec3 a_PickingColor;
out vec4 v_PickingResult;

#pragma include "picking_uniforms"

#define PICKING_NONE 0.0
#define PICKING_ENCODE 1.0
#define PICKING_HIGHLIGHT 2.0
#define COLOR_SCALE 1. / 255.

#define NORMAL 0.0
#define HIGHLIGHT 1.0
#define SELECT 2.0

bool isVertexPicked(vec3 vertexColor) {
  return distance(vertexColor,u_PickingColor.rgb) < 0.01;
}

// 判断当前点是否已经被 select 选中
bool isVertexSelected(vec3 vertexColor) {
  return distance(vertexColor,u_CurrentSelectedId.rgb) < 0.01;
}

void setPickingColor(vec3 pickingColor) {
  if(u_shaderPick < 0.5) {
    return;
  }
  // compares only in highlight stage

  if(u_PickingStage == PICKING_HIGHLIGHT) {
    if(isVertexPicked(pickingColor)) {
       v_PickingResult = vec4(pickingColor.rgb * COLOR_SCALE,HIGHLIGHT);
       return;
    }
    if(isVertexSelected(pickingColor)) {
     v_PickingResult = vec4(u_CurrentSelectedId.rgb * COLOR_SCALE,SELECT);
      return;
    }

  } else {
      v_PickingResult= vec4(pickingColor.rgb * COLOR_SCALE,NORMAL);
      return;
  }

  // // v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && (isVertexPicked(pickingColor) || isVertexPicked(u_CurrentSelectedId)));

  // // Stores the picking color so that the fragment shader can render it during picking
  // v_PickingResult.rgb = pickingColor * COLOR_SCALE;
}

float setPickingSize(float x) {
   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;
}

float setPickingOrder(float z) {
   bool selected = bool(v_PickingResult.a);
   return selected ? z + 1. : 0.;
}
`,n5=`layout(std140) uniform PickingUniforms {
  vec4 u_HighlightColor;
  vec4 u_SelectColor;
  vec3 u_PickingColor;
  float u_PickingStage;
  vec3 u_CurrentSelectedId;
  float u_PickingThreshold;
  float u_PickingBuffer;
  float u_shaderPick;
  float u_activeMix;
};`,UA=`
#define E 2.718281828459045
vec2 ProjectFlat(vec2 lnglat){
  float maxs=85.0511287798;
  float lat=max(min(maxs,lnglat.y),-maxs);
  float scale= 268435456.;
  float d=PI/180.;
  float x=lnglat.x*d;
  float y=lat*d;
  y=log(tan((PI/4.)+(y/2.)));

  float a=.5/PI,
  b=.5,
  c=-.5/PI;
  d=.5;
  x=scale*(a*x+b);
  y=scale*(c*y+d);
  return vec2(x,y);
}

vec2 unProjectFlat(vec2 px){
  float a=.5/PI;
  float b=.5;
  float c=-.5/PI;
  float d=.5;
  float scale = 268435456.;
  float x=(px.x/scale-b)/a;
  float y=(px.y/scale-d)/c;
  y=(atan(pow(E,y))-(PI/4.))*2.;
  d=PI/180.;
  float lat=y/d;
  float lng=x/d;
  return vec2(lng,lat);
}

float pixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}

// gaode2.0
vec2 customProject(vec2 lnglat) { // 经纬度 => 平面坐标
  float t = lnglat.x;
  float e = lnglat.y;
  float Sm = 180.0 / PI;
  float Tm = 6378137.0;
  float Rm = PI / 180.0;
  float r = 85.0511287798;
  e = max(min(r, e), -r);
  t *= Rm;
  e *= Rm;
  e = log(tan(PI / 4.0 + e / 2.0));
  return vec2(t * Tm, e * Tm);
}

vec2 unProjCustomCoord(vec2 point) { // 平面坐标 => 经纬度
  float Sm = 57.29577951308232; //180 / Math.PI
  float Tm = 6378137.0;
  float t = point.x;
  float e = point.y;
  return vec2(t / Tm * Sm, (2.0 * atan(exp(e / Tm)) - PI / 2.0) * Sm);
}


float customPixelDistance(vec2 from, vec2 to) {
 vec2 a1 = ProjectFlat(from);
 vec2 b1 = ProjectFlat(to);
 return distance(a1, b1);
}`,a5=`#define TILE_SIZE (512.0)
#define PI (3.1415926536)
#define WORLD_SCALE (TILE_SIZE / (PI * 2.0))
#define EARTH_CIRCUMFERENCE (40.03e6)

#define COORDINATE_SYSTEM_LNGLAT (1.0) // mapbox
#define COORDINATE_SYSTEM_LNGLAT_OFFSET (2.0) // mapbox offset
#define COORDINATE_SYSTEM_VECTOR_TILE (3.0)
#define COORDINATE_SYSTEM_IDENTITY (4.0)
#define COORDINATE_SYSTEM_METER_OFFSET (5.0)

#pragma include "scene_uniforms"

const vec2 ZERO_64_XY_LOW = vec2(0.0, 0.0);

// web mercator coords -> world coords
vec2 project_mercator(vec2 lnglat) {
  float x = lnglat.x;
  return vec2(radians(x) + PI, PI - log(tan(PI * 0.25 + radians(lnglat.y) * 0.5)));
}

float project_scale(float meters) {
  return meters * u_PixelsPerMeter.z;
}

// offset coords -> world coords
vec4 project_offset(vec4 offset) {
  float dy = offset.y;
  dy = clamp(dy, -1.0, 1.0);
  vec3 pixels_per_unit = u_PixelsPerDegree + u_PixelsPerDegree2 * dy;
  return vec4(offset.xyz * pixels_per_unit, offset.w);
}

vec3 project_normal(vec3 normal) {
  vec4 normal_modelspace = u_ModelMatrix * vec4(normal, 0.0);
  return normalize(normal_modelspace.xyz * u_PixelsPerMeter);
}

vec3 project_offset_normal(vec3 vector) {
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
      u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01 ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // normals generated by the polygon tesselator are in lnglat offsets instead of meters
    return normalize(vector * u_PixelsPerDegree);
  }
  return project_normal(vector);
}

vec4 project_position(vec4 position, vec2 position64xyLow) {
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float X = position.x - u_ViewportCenter.x;
    float Y = position.y - u_ViewportCenter.y;
    return project_offset(
      vec4(X + position64xyLow.x, Y + position64xyLow.y, position.z, position.w)
    );
  }
  if (
    u_CoordinateSystem < COORDINATE_SYSTEM_LNGLAT + 0.01 &&
    u_CoordinateSystem > COORDINATE_SYSTEM_LNGLAT - 0.01
  ) {
    return vec4(
      project_mercator(position.xy) * WORLD_SCALE * u_ZoomScale,
      project_scale(position.z),
      position.w
    );
  }

  return position;
}

vec4 project_position(vec4 position) {
  return project_position(position, ZERO_64_XY_LOW);
}

vec2 project_pixel_size_to_clipspace(vec2 pixels) {
  vec2 offset = pixels / u_ViewportSize * u_DevicePixelRatio * 2.0;
  return offset * u_FocalDistance;
}

// 适配纹理贴图的等像素大小
float project_pixel_texture(float pixel) {
  // mapbox zoom > 12
  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    return pixel * pow(0.5, u_Zoom) * u_FocalDistance;
  }

  return pixel * 2.0 * u_FocalDistance;
}

// 在不论什么底图下需要统一处理的时候使用
float project_float_pixel(float pixel) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox 坐标系下，为了和 Web 墨卡托坐标系统一，zoom 默认减1
    return pixel * pow(2.0, 19.0 - u_Zoom) * u_FocalDistance;
  }

  return pixel * u_FocalDistance;
}

// Project meter into the unit of pixel which used in the camera world space
float project_float_meter(float meter) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Since the zoom level uniform is updated by mapservice and it's alread been subtracted by 1
    // Not sure if we are supposed to do that again
    return meter;
  } else {
    return project_float_pixel(meter);
  }

  // TODO: change the following code to make adaptations for amap
  // return u_FocalDistance * TILE_SIZE * pow(2.0, u_Zoom) * meter / EARTH_CIRCUMFERENCE;

}

float project_pixel(float pixel) {
  return pixel * u_FocalDistance;
}

vec2 project_pixel(vec2 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec3 project_pixel(vec3 pixel) {
  return pixel * -1.0 * u_FocalDistance;
}

vec4 project_common_position_to_clipspace(vec4 position, mat4 viewProjectionMatrix, vec4 center) {
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    position.w *= u_PixelsPerMeter.z;
  }

  return viewProjectionMatrix * position + center;
}

// Projects from common space coordinates to clip space
vec4 project_common_position_to_clipspace(vec4 position) {
  return project_common_position_to_clipspace(
    position,
    u_ViewProjectionMatrix,
    u_ViewportCenterProjection
  );
}

vec4 unproject_clipspace_to_position(vec4 clipspacePos, mat4 u_InverseViewProjectionMatrix) {
  vec4 pos = u_InverseViewProjectionMatrix * (clipspacePos - u_ViewportCenterProjection);

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_METER_OFFSET ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // Needs to be divided with project_uCommonUnitsPerMeter
    pos.w = pos.w / u_PixelsPerMeter.z;
  }
  return pos;
}

bool isEqual(float a, float b) {
  return a < b + 0.001 && a > b - 0.001;
}

`,kA=`vec2 rotate_matrix(vec2 v, float a) {
    float b = a / 180.0 * 3.1415926535897932384626433832795;
    float s = sin(b);
    float c = cos(b);
    mat2 m = mat2(c, s, -s, c);
    return m * v;
}`,s5=`layout(std140) uniform SceneUniforms {
  mat4 u_ViewMatrix;
  mat4 u_ProjectionMatrix;
  mat4 u_ViewProjectionMatrix;
  mat4 u_ModelMatrix;
  vec4 u_ViewportCenterProjection;
  vec3 u_PixelsPerDegree;
  float u_Zoom;
  vec3 u_PixelsPerDegree2;
  float u_ZoomScale;
  vec3 u_PixelsPerMeter;
  float u_CoordinateSystem;
  vec3 u_CameraPosition;
  float u_DevicePixelRatio;
  vec2 u_ViewportCenter;
  vec2 u_ViewportSize;
  float u_FocalDistance;
};
`,zA=`/**
 * 2D signed distance field functions
 * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm
 */

float ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }

float sdCircle(vec2 p, float r) {
  return length(p) - r;
}

float sdEquilateralTriangle(vec2 p) {
  float k = sqrt(3.0);
  p.x = abs(p.x) - 1.0;
  p.y = p.y + 1.0/k;
  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;
  p.x -= clamp( p.x, -2.0, 0.0 );
  return -length(p)*sign(p.y);
}

float sdBox(vec2 p, vec2 b) {
  vec2 d = abs(p)-b;
  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);
}

float sdPentagon(vec2 p, float r) {
  vec3 k = vec3(0.809016994,0.587785252,0.726542528);
  p.x = abs(p.x);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);
  return length(p)*sign(p.y);
}

float sdHexagon(vec2 p, float r) {
  vec3 k = vec3(-0.866025404,0.5,0.577350269);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdOctogon(vec2 p, float r) {
  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );
  p = abs(p);
  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);
  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);
  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);
  return length(p)*sign(p.y);
}

float sdHexagram(vec2 p, float r) {
  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);
  p = abs(p);
  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;
  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;
  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);
  return length(p)*sign(p.y);
}

float sdRhombus(vec2 p, vec2 b) {
  vec2 q = abs(p);
  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);
  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );
  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );
}

float sdVesica(vec2 p, float r, float d) {
  p = abs(p);
  float b = sqrt(r*r-d*d); // can delay this sqrt
  return ((p.y-b)*d>p.x*b)
          ? length(p-vec2(0.0,b))
          : length(p-vec2(-d,0.0))-r;
}
`,u5=/precision\s+(high|low|medium)p\s+float/,p5=`#ifdef GL_FRAGMENT_PRECISION_HIGH
 precision highp float;
 #else
 precision mediump float;
#endif
`,VA=/#pragma include (["^+"]?["[a-zA-Z_0-9](.*)"]*?)/g,HA=/void\s+main\s*\([^)]*\)\s*\{\n?/;class GA{constructor(){G(this,"moduleCache",{}),G(this,"rawContentCache",{})}registerBuiltinModules(){this.destroy(),this.registerModule("common",{vs:i5,fs:i5}),this.registerModule("decode",{vs:DA,fs:""}),this.registerModule("scene_uniforms",{vs:s5,fs:s5}),this.registerModule("picking_uniforms",{vs:n5,fs:n5}),this.registerModule("projection",{vs:a5,fs:a5}),this.registerModule("project",{vs:UA,fs:""}),this.registerModule("sdf_2d",{vs:"",fs:zA}),this.registerModule("lighting",{vs:OA,fs:""}),this.registerModule("light",{vs:NA,fs:""}),this.registerModule("picking",{vs:BA,fs:LA}),this.registerModule("rotation_2d",{vs:kA,fs:""})}registerModule(t,r){r.vs=r.vs.replace(/\r\n/g,`
`),r.fs=r.fs.replace(/\r\n/g,`
`);const{vs:i,fs:s,uniforms:p,defines:n,inject:f}=r,{content:m,uniforms:g}=Cm(i),{content:x,uniforms:b}=Cm(s);this.rawContentCache[t]={fs:x,defines:n,inject:f,uniforms:wt(wt(wt({},g),b),p),vs:m}}getModule(t){let r=this.rawContentCache[t].vs,i=this.rawContentCache[t].fs;const{defines:s={},inject:p={}}=this.rawContentCache[t];let n={};p["vs:#decl"]&&(r=p["vs:#decl"]+r,n=Cm(p["vs:#decl"]).uniforms),p["vs:#main-start"]&&(r=r.replace(HA,O=>O+p["vs:#main-start"])),p["fs:#decl"]&&(i=p["fs:#decl"]+i),r=jA(s)+r;const{content:m,includeList:g}=this.processModule(r,[],"vs"),{content:x,includeList:b}=this.processModule(i,[],"fs"),F=MA(g.concat(b).concat(t)).reduce((O,U)=>wt(wt({},O),this.rawContentCache[U].uniforms),wt({},n)),R=(u5.test(x)?"":p5)+m,I=(u5.test(x)?"":p5)+x;return this.moduleCache[t]={vs:R.trim(),fs:I.trim(),uniforms:F},this.moduleCache[t]}destroy(){this.moduleCache={},this.rawContentCache={}}processModule(t,r,i){return{content:t.replace(VA,(p,n)=>{const m=n.split(" ")[0].replace(/"/g,"");if(r.indexOf(m)>-1)return"";const g=this.rawContentCache[m][i];r.push(m);const{content:x}=this.processModule(g,r,i);return x}),includeList:r}}}function jA(e){return Object.keys(e).reduce((r,i)=>r+`#define ${i.toUpperCase()} ${e[i]}
`,`
`)}class x6{constructor(){G(this,"shaderModuleService",void 0),G(this,"rendererService",void 0),G(this,"cameraService",void 0),G(this,"mapService",void 0),G(this,"interactionService",void 0),G(this,"layerService",void 0),G(this,"config",void 0)}getName(){return""}getType(){return fy.Normal}init(t,r){this.config=r,this.rendererService=t.getContainer().rendererService,this.cameraService=t.getContainer().cameraService,this.mapService=t.getContainer().mapService,this.interactionService=t.getContainer().interactionService,this.layerService=t.getContainer().layerService,this.shaderModuleService=t.getContainer().shaderModuleService}render(t){}}class WA extends x6{getName(){return"clear"}init(t,r){super.init(t,r)}render(){this.rendererService.clear({color:[0,0,0,0],depth:1,framebuffer:null})}}class XA{constructor(t){G(this,"passes",[]),G(this,"layer",void 0),G(this,"renderFlag",void 0),G(this,"width",0),G(this,"height",0),this.postProcessor=t}setLayer(t){this.layer=t}setRenderFlag(t){this.renderFlag=t}getRenderFlag(){return this.renderFlag}getPostProcessor(){return this.postProcessor}render(){var t=this;return Rt(function*(){for(const r of t.passes)yield r.render(t.layer);yield t.postProcessor.render(t.layer)})()}resize(t,r){(this.width!==t||this.height!==r)&&(this.postProcessor.resize(t,r),this.width=t,this.height=r)}add(t,r){t.getType()===fy.PostProcessing?this.postProcessor.add(t,this.layer,r):(t.init(this.layer,r),this.passes.push(t))}insert(t,r,i){t.init(this.layer,r),this.passes.splice(i,0,t)}destroy(){this.passes.length=0}}class ZA extends x6{constructor(...t){var r;super(...t),r=this,G(this,"pickingFBO",void 0),G(this,"layer",void 0),G(this,"width",0),G(this,"height",0),G(this,"alreadyInRendering",!1),G(this,"pickFromPickingFBO",({x:i,y:s,lngLat:p,type:n})=>{if(!this.layer.isVisible()||!this.layer.needPick(n))return;const{getViewportSize:f,readPixelsAsync:m,useFramebuffer:g}=this.rendererService,{width:x,height:b}=f(),{enableHighlight:F,enableSelect:R}=this.layer.getLayerConfig(),I=i*Os,O=s*Os;if(I>x||I<0||O>b||O<0)return;let U;g(this.pickingFBO,Rt(function*(){var Y;if(U=yield m({x:Math.round(I),y:Math.round(b-(s+1)*Os),width:1,height:1,data:new Uint8Array(1*1*4),framebuffer:r.pickingFBO}),U[0]!==0||U[1]!==0||U[2]!==0){const ee=p1(U),oe=r.layer.getSource().getFeatureById(ee),Re={x:i,y:s,type:n,lngLat:p,featureId:ee,feature:oe};oe&&(r.layer.setCurrentPickId(ee),r.triggerHoverOnLayer(Re))}else{const ee={x:i,y:s,lngLat:p,type:r.layer.getCurrentPickId()===null?"un"+n:"mouseout",featureId:null,feature:null};r.triggerHoverOnLayer(wt(wt({},ee),{},{type:"unpick"})),r.triggerHoverOnLayer(ee),r.layer.setCurrentPickId(null)}F&&r.highlightPickedFeature(U),R&&n==="click"&&((Y=U)===null||Y===void 0?void 0:Y.toString())!==[0,0,0,0].toString()&&r.selectFeature(U)}))})}getType(){return fy.Normal}getName(){return"pixelPicking"}init(t,r){super.init(t,r),this.layer=t;const{createTexture2D:i,createFramebuffer:s,getViewportSize:p}=this.rendererService,{width:n,height:f}=p(),m=i({width:n,height:f,wrapS:k.CLAMP_TO_EDGE,wrapT:k.CLAMP_TO_EDGE,label:"Picking Texture"});this.pickingFBO=s({color:m}),this.interactionService.on(Ls.Hover,this.pickFromPickingFBO),this.interactionService.on(Ls.Select,this.selectFeatureHandle.bind(this)),this.interactionService.on(Ls.Active,this.highlightFeatureHandle.bind(this))}render(t){if(this.alreadyInRendering)return;const{getViewportSize:r,useFramebuffer:i,clear:s}=this.rendererService,{width:p,height:n}=r();this.alreadyInRendering=!0,(this.width!==p||this.height!==n)&&(this.pickingFBO.resize({width:p,height:n}),this.width=p,this.height=n),i(this.pickingFBO,()=>{s({framebuffer:this.pickingFBO,color:[0,0,0,0],stencil:0,depth:1});const f=this.layer.multiPassRenderer.getRenderFlag();this.layer.multiPassRenderer.setRenderFlag(!1),t.hooks.beforePickingEncode.call(),t.render(),t.hooks.afterPickingEncode.call(),this.layer.multiPassRenderer.setRenderFlag(f),this.alreadyInRendering=!1})}triggerHoverOnLayer(t){this.layer.emit(t.type,t)}highlightPickedFeature(t){const[r,i,s]=t;this.layer.hooks.beforeHighlight.call([r,i,s]),this.layerService.renderLayers()}selectFeature(t){const[r,i,s]=t;this.layer.hooks.beforeSelect.call([r,i,s]),this.layerService.renderLayers()}selectFeatureHandle({featureId:t}){const r=T0(t);this.selectFeature(new Uint8Array(r))}highlightFeatureHandle({featureId:t}){const r=T0(t);this.highlightPickedFeature(new Uint8Array(r))}}class YA{constructor(t){G(this,"passes",[]),G(this,"readFBO",void 0),G(this,"writeFBO",void 0),this.rendererService=t,this.init()}getReadFBO(){return this.readFBO}getWriteFBO(){return this.writeFBO}getCurrentFBOTex(){const{getViewportSize:t,createTexture2D:r}=this.rendererService,{width:i,height:s}=t();return r({x:0,y:0,width:i,height:s,copy:!0})}getReadFBOTex(){var t=this;const{useFramebuffer:r}=this.rendererService;return new Promise(i=>{r(this.readFBO,Rt(function*(){i(t.getCurrentFBOTex())}))})}renderBloomPass(t,r){var i=this;return Rt(function*(){const s=yield i.getReadFBOTex();let p=0;for(;p<4;)yield r.render(t,s),i.swap(),p++})()}render(t){var r=this;return Rt(function*(){for(let i=0;i<r.passes.length;i++){const s=r.passes[i];s.setRenderToScreen(r.isLastEnabledPass(i)),s.getName()==="bloom"?yield r.renderBloomPass(t,s):(yield s.render(t),i!==r.passes.length-1&&r.swap())}})()}resize(t,r){this.readFBO.resize({width:t,height:r}),this.writeFBO.resize({width:t,height:r})}add(t,r,i){t.init(r,i),this.passes.push(t)}insert(t,r,i,s){t.init(i,s),this.passes.splice(r,0,t)}getPostProcessingPassByName(t){return this.passes.find(r=>r.getName()===t)}init(){const{createFramebuffer:t,createTexture2D:r}=this.rendererService;this.readFBO=t({color:r({width:1,height:1,wrapS:k.CLAMP_TO_EDGE,wrapT:k.CLAMP_TO_EDGE,usage:y1.RENDER_TARGET})}),this.writeFBO=t({color:r({width:1,height:1,wrapS:k.CLAMP_TO_EDGE,wrapT:k.CLAMP_TO_EDGE,usage:y1.RENDER_TARGET})})}isLastEnabledPass(t){for(let r=t+1;r<this.passes.length;r++)if(this.passes[r].isEnabled())return!1;return!0}swap(){const t=this.readFBO;this.readFBO=this.writeFBO,this.writeFBO=t}}class qA extends x6{getType(){return fy.Normal}getName(){return"render"}init(t,r){super.init(t,r)}render(t){const{useFramebuffer:r,clear:i}=this.rendererService,s=t.multiPassRenderer.getPostProcessor().getReadFBO();r(s,()=>{i({color:[0,0,0,0],depth:1,stencil:0,framebuffer:s}),t.multiPassRenderer.setRenderFlag(!1),t.models.forEach(p=>{p.draw({uniforms:t.layerModel.getUninforms()})}),t.multiPassRenderer.setRenderFlag(!0)})}}const $A=`varying vec2 v_UV;

uniform float u_BloomFinal: 0.0;
uniform sampler2D u_Texture;
uniform sampler2D u_Texture2;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_radius: 5.0;
uniform float u_intensity: 0.3;
uniform float u_baseRadio: 0.5;

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

float luminance(vec4 color) {
  return  0.2125 * color.r + 0.7154 * color.g + 0.0721 * color.b;
}

void main() {
  // vec4 baseColor = texture2D(u_Texture, v_UV);

  float r = sqrt(u_radius);

  vec4 c1 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(u_radius, 0.0));
  // c1 *= luminance(c1);
  vec4 c2 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(0.0, u_radius));
  // c2 *= luminance(c2);
  vec4 c3 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, r));
  // c3 *= luminance(c3);
  vec4 c4 = blur9(u_Texture, v_UV, u_ViewportSize, vec2(r, -r));
  // c4 *= luminance(c4);
  vec4 inbloomColor = (c1 + c2 + c3 + c4) * 0.25;

  // float lum = luminance(inbloomColor);
  // inbloomColor.rgb *= lum;

  if(u_BloomFinal > 0.0) {
    vec4 baseColor = texture2D(u_Texture2, v_UV);
    float baselum = luminance(baseColor);
    gl_FragColor = mix(inbloomColor, baseColor, u_baseRadio);
    if(baselum <= 0.2) {
      gl_FragColor = inbloomColor * u_intensity;
    }
  } else {
    gl_FragColor = inbloomColor;
  }
}`,KA=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:Xm}=Kn;class QA extends Rc{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:KA,fs:$A});const{vs:t,fs:r,uniforms:i}=this.shaderModuleService.getModule("blur-pass"),{width:s,height:p}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:wt(wt({},i),{},{u_ViewportSize:[s,p]})}}convertOptionsToUniforms(t){const r={};return Xm(t.bloomRadius)||(r.u_radius=t.bloomRadius),Xm(t.bloomIntensity)||(r.u_intensity=t.bloomIntensity),Xm(t.bloomBaseRadio)||(r.u_baseRadio=t.bloomBaseRadio),r}}const JA=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,eF=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:tF}=Kn;class rF extends Rc{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:eF,fs:JA});const{vs:t,fs:r,uniforms:i}=this.shaderModuleService.getModule("blur-pass"),{width:s,height:p}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:wt(wt({},i),{},{u_ViewportSize:[s,p]})}}convertOptionsToUniforms(t){const r={};return tF(t.blurRadius)||(r.u_BlurDir=[t.blurRadius,0]),r}}const oF=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_BlurDir: [1.0, 0.0];

// https://github.com/Jam3/glsl-fast-gaussian-blur/blob/master/9.glsl
vec4 blur9(sampler2D image, vec2 uv, vec2 resolution, vec2 direction) {
  vec4 color = vec4(0.0);
  vec2 off1 = vec2(1.3846153846) * direction;
  vec2 off2 = vec2(3.2307692308) * direction;
  color += texture2D(image, uv) * 0.2270270270;
  color += texture2D(image, uv + (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv - (off1 / resolution)) * 0.3162162162;
  color += texture2D(image, uv + (off2 / resolution)) * 0.0702702703;
  color += texture2D(image, uv - (off2 / resolution)) * 0.0702702703;
  return color;
}

void main() {
  gl_FragColor = blur9(u_Texture, v_UV, u_ViewportSize, u_BlurDir);
}`,iF=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,{isNil:nF}=Kn;class aF extends Rc{setupShaders(){this.shaderModuleService.registerModule("blur-pass",{vs:iF,fs:oF});const{vs:t,fs:r,uniforms:i}=this.shaderModuleService.getModule("blur-pass"),{width:s,height:p}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:wt(wt({},i),{},{u_ViewportSize:[s,p]})}}convertOptionsToUniforms(t){const r={};return nF(t.blurRadius)||(r.u_BlurDir=[0,t.blurRadius]),r}}const sF=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Angle : 0;
uniform float u_Size : 8;

#pragma include "common"

float scale = PI / u_Size;

float pattern(float u_Angle, vec2 texSize, vec2 texCoord) {
  float s = sin(u_Angle), c = cos(u_Angle);
  vec2 tex = texCoord * texSize - u_Center * texSize;
  vec2 point = vec2(
    c * tex.x - s * tex.y,
    s * tex.x + c * tex.y
  ) * scale;
  return (sin(point.x) * sin(point.y)) * 4.0;
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/colorhalftone.js
vec4 colorHalftone_filterColor(vec4 color, vec2 texSize, vec2 texCoord) {
  vec3 cmy = 1.0 - color.rgb;
  float k = min(cmy.x, min(cmy.y, cmy.z));
  cmy = (cmy - k) / (1.0 - k);
  cmy = clamp(
    cmy * 10.0 - 3.0 + vec3(
      pattern(u_Angle + 0.26179, texSize, texCoord),
      pattern(u_Angle + 1.30899, texSize, texCoord),
      pattern(u_Angle, texSize, texCoord)
    ),
    0.0,
    1.0
  );
  k = clamp(k * 10.0 - 5.0 + pattern(u_Angle + 0.78539, texSize, texCoord), 0.0, 1.0);
  return vec4(1.0 - cmy - k, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = colorHalftone_filterColor(gl_FragColor, u_ViewportSize, v_UV);
}`,uF=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class pF extends Rc{setupShaders(){this.shaderModuleService.registerModule("colorhalftone-pass",{vs:uF,fs:sF});const{vs:t,fs:r,uniforms:i}=this.shaderModuleService.getModule("colorhalftone-pass"),{width:s,height:p}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:wt(wt({},i),{},{u_ViewportSize:[s,p]})}}}const cF=`varying vec2 v_UV;

uniform sampler2D u_Texture;

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
}`,lF=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class dF extends Rc{setupShaders(){return this.shaderModuleService.registerModule("copy-pass",{vs:lF,fs:cF}),this.shaderModuleService.getModule("copy-pass")}}const yF=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform vec2 u_Center : [0.5, 0.5];
uniform float u_Scale : 10;

// https://github.com/evanw/glfx.js/blob/master/src/filters/fun/hexagonalpixelate.js
vec4 hexagonalPixelate_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 tex = (texCoord * texSize - u_Center * texSize) / u_Scale;
  tex.y /= 0.866025404;
  tex.x -= tex.y * 0.5;
  vec2 a;
  if (tex.x + tex.y - floor(tex.x) - floor(tex.y) < 1.0) {
    a = vec2(floor(tex.x), floor(tex.y));
  }
  else a = vec2(ceil(tex.x), ceil(tex.y));
  vec2 b = vec2(ceil(tex.x), floor(tex.y));
  vec2 c = vec2(floor(tex.x), ceil(tex.y));
  vec3 TEX = vec3(tex.x, tex.y, 1.0 - tex.x - tex.y);
  vec3 A = vec3(a.x, a.y, 1.0 - a.x - a.y);
  vec3 B = vec3(b.x, b.y, 1.0 - b.x - b.y);
  vec3 C = vec3(c.x, c.y, 1.0 - c.x - c.y);
  float alen = length(TEX - A);
  float blen = length(TEX - B);
  float clen = length(TEX - C);
  vec2 choice;
  if (alen < blen) {
    if (alen < clen) choice = a;
    else choice = c;
  } else {
    if (blen < clen) choice = b;
    else choice = c;
  }
  choice.x += choice.y * 0.5;
  choice.y *= 0.866025404;
  choice *= u_Scale / texSize;
  return texture2D(texture, choice + u_Center);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = hexagonalPixelate_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,hF=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class fF extends Rc{setupShaders(){this.shaderModuleService.registerModule("hexagonalpixelate-pass",{vs:hF,fs:yF});const{vs:t,fs:r,uniforms:i}=this.shaderModuleService.getModule("hexagonalpixelate-pass"),{width:s,height:p}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:wt(wt({},i),{},{u_ViewportSize:[s,p]})}}}const mF=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform vec2 u_ViewportSize: [1.0, 1.0];
uniform float u_Strength : 0.6;

vec4 ink_sampleColor(sampler2D texture, vec2 texSize, vec2 texCoord) {
  vec2 dx = vec2(1.0 / texSize.x, 0.0);
  vec2 dy = vec2(0.0, 1.0 / texSize.y);
  vec4 color = texture2D(texture, texCoord);
  float bigTotal = 0.0;
  float smallTotal = 0.0;
  vec3 bigAverage = vec3(0.0);
  vec3 smallAverage = vec3(0.0);
  for (float x = -2.0; x <= 2.0; x += 1.0) {
    for (float y = -2.0; y <= 2.0; y += 1.0) {
      vec3 sample = texture2D(texture, texCoord + dx * x + dy * y).rgb;
      bigAverage += sample;
      bigTotal += 1.0;
      if (abs(x) + abs(y) < 2.0) {
        smallAverage += sample;
        smallTotal += 1.0;
      }
    }
  }
  vec3 edge = max(vec3(0.0), bigAverage / bigTotal - smallAverage / smallTotal);
  float power = u_Strength * u_Strength * u_Strength * u_Strength * u_Strength;
  return vec4(color.rgb - dot(edge, edge) * power * 100000.0, color.a);
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = ink_sampleColor(u_Texture, u_ViewportSize, v_UV);
}`,_F=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class gF extends Rc{setupShaders(){this.shaderModuleService.registerModule("ink-pass",{vs:_F,fs:mF});const{vs:t,fs:r,uniforms:i}=this.shaderModuleService.getModule("ink-pass"),{width:s,height:p}=this.rendererService.getViewportSize();return{vs:t,fs:r,uniforms:wt(wt({},i),{},{u_ViewportSize:[s,p]})}}}const vF=`varying vec2 v_UV;

uniform sampler2D u_Texture;
uniform float u_Amount : 0.5;

float rand(vec2 co) {
  return fract(sin(dot(co.xy ,vec2(12.9898,78.233))) * 43758.5453);
}

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/noise.js
vec4 noise_filterColor(vec4 color, vec2 texCoord) {
  float diff = (rand(texCoord) - 0.5) * u_Amount;
  color.r += diff;
  color.g += diff;
  color.b += diff;
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = noise_filterColor(gl_FragColor, v_UV);
}`,EF=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`;class xF extends Rc{setupShaders(){return this.shaderModuleService.registerModule("noise-pass",{vs:EF,fs:vF}),this.shaderModuleService.getModule("noise-pass")}}const PF=`attribute vec2 a_Position;

varying vec2 v_UV;

void main() {
  v_UV = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);
}`,bF=`varying vec2 v_UV;

uniform sampler2D u_Texture;

uniform float u_Amount : 0.5;

// https://github.com/evanw/glfx.js/blob/master/src/filters/adjust/sepia.js
vec4 sepia_filterColor(vec4 color) {
  float r = color.r;
  float g = color.g;
  float b = color.b;
  color.r =
    min(1.0, (r * (1.0 - (0.607 * u_Amount))) + (g * (0.769 * u_Amount)) + (b * (0.189 * u_Amount)));
  color.g = min(1.0, (r * 0.349 * u_Amount) + (g * (1.0 - (0.314 * u_Amount))) + (b * 0.168 * u_Amount));
  color.b = min(1.0, (r * 0.272 * u_Amount) + (g * 0.534 * u_Amount) + (b * (1.0 - (0.869 * u_Amount))));
  return color;
}

void main() {
  gl_FragColor = vec4(texture2D(u_Texture, v_UV));
  gl_FragColor = sepia_filterColor(gl_FragColor);
}`;class AF extends Rc{setupShaders(){return this.shaderModuleService.registerModule("sepia-pass",{vs:PF,fs:bF}),this.shaderModuleService.getModule("sepia-pass")}}const Y8=new Bb;let FF=0;function TF(){const e=new GA,t=new Vb,r=new Rb,i=new zb(r),s=new Fb,p=new Sb,n=new Ib,f=new Mb,m=new Cb,g={id:`${FF++}`,globalConfigService:Y8,shaderModuleService:e,debugService:t,cameraService:r,coordinateSystemService:i,fontService:s,iconService:p,markerService:n,popupService:f,controlService:m,customRenderService:{}},x=new Kb(g);g.layerService=x;const b=new IA(g);g.sceneService=b;const F=new Wb(g);g.interactionService=F;const R=new qb(g);g.pickingService=R;const I={clear:new WA,pixelPicking:new ZA,render:new qA};g.normalPassFactory=U=>I[U];const O={copy:new dF,bloom:new QA,blurH:new rF,blurV:new aF,noise:new xF,sepia:new AF,colorHalftone:new pF,hexagonalPixelate:new fF,ink:new gF};return g.postProcessingPass=O,g.postProcessingPassFactory=U=>O[U],g}function Kd(e){const t=wt({},e);return t.postProcessor=new YA(t.rendererService),t.multiPassRenderer=new XA(t.postProcessor),t.styleAttributeService=new iA(t.rendererService),t}const sh=["loaded","fontloaded","maploaded","resize","destroy","dragstart","dragging","dragend","dragcancel"];let Va=function(e){return e.IMAGE="image",e.CUSTOMIMAGE="customImage",e.ARRAYBUFFER="arraybuffer",e.RGB="rgb",e.TERRAINRGB="terrainRGB",e.CUSTOMRGB="customRGB",e.CUSTOMARRAYBUFFER="customArrayBuffer",e.CUSTOMTERRAINRGB="customTerrainRGB",e}({});var q8=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),SF=(e,t,r,i)=>q8(void 0,null,function*(){return new Promise((s,p)=>{t({x:e.x,y:e.y,z:e.z},(n,f)=>{if(n||f.length===0){p(n);return}f&&F2([{data:f,bands:[0]}],r,i,(m,g)=>{m?p(m):g&&s(g)})})})}),RF=(e,t)=>q8(void 0,null,function*(){return new Promise((r,i)=>{t({x:e.x,y:e.y,z:e.z},(s,p)=>{if(s||!p){i(s);return}p instanceof ArrayBuffer?oE(p,(n,f)=>{n&&i(n),r(f)}):p instanceof HTMLImageElement?r(p):i(s)})})});function wF(e,t){return Array.isArray(e)?typeof e[0]=="string"?e.map(r=>E0(r,t)):e.map(r=>({url:E0(r.url,t),bands:r.bands||[0]})):E0(e,t)}function CF(e){return typeof e=="string"?[{url:e,bands:[0]}]:typeof e[0]=="string"?e.map(t=>({url:t,bands:[0]})):e}function c5(e,t){e.xhrCancel=()=>{t.map(r=>{r.abort()})}}var IF=Object.defineProperty,MF=Object.defineProperties,NF=Object.getOwnPropertyDescriptors,l5=Object.getOwnPropertySymbols,DF=Object.prototype.hasOwnProperty,OF=Object.prototype.propertyIsEnumerable,d5=(e,t,r)=>t in e?IF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,y5=(e,t)=>{for(var r in t||(t={}))DF.call(t,r)&&d5(e,r,t[r]);if(l5)for(var r of l5(t))OF.call(t,r)&&d5(e,r,t[r]);return e},h5=(e,t)=>MF(e,NF(t)),$8=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),LF=(e,t,r,i,s)=>$8(void 0,null,function*(){const p=CF(t.url);if(p.length>1){const{rasterFiles:n,xhrList:f,errList:m}=yield BF(p,t);if(c5(e,f),m.length>0){r(m,null);return}F2(n,i,s,r)}else{const n=c6(t,(f,m)=>{if(f)r(f);else if(m){const g=[{data:m,bands:p[0].bands}];F2(g,i,s,r)}});c5(e,[n])}});function BF(e,t){return $8(this,null,function*(){const r=[],i=[],s=[];for(let p=0;p<e.length;p++){const n=e[p],f=h5(y5({},t),{url:n.url}),m=n.bands,{err:g,data:x,xhr:b}=yield eE(h5(y5({},f),{type:"arrayBuffer"}));g&&s.push(g),i.push(b),r.push({data:x,bands:m})}return{rasterFiles:r,xhrList:i,errList:s}})}var UF=Object.defineProperty,kF=Object.defineProperties,zF=Object.getOwnPropertyDescriptors,f5=Object.getOwnPropertySymbols,VF=Object.prototype.hasOwnProperty,HF=Object.prototype.propertyIsEnumerable,m5=(e,t,r)=>t in e?UF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fh=(e,t)=>{for(var r in t||(t={}))VF.call(t,r)&&m5(e,r,t[r]);if(f5)for(var r of f5(t))HF.call(t,r)&&m5(e,r,t[r]);return e},K8=(e,t)=>kF(e,zF(t)),Q8=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),GF=(e,t,r,i)=>Q8(void 0,null,function*(){const{format:s=J8,operation:p,requestParameters:n={}}=i,f=K8(Fh({},n),{url:wF(e,t)});return new Promise((m,g)=>{LF(r,f,(x,b)=>{x?g(x):b&&m(b)},s,p)})}),_5=(e,t,r,i)=>Q8(void 0,null,function*(){let s;const p=Array.isArray(e)?e[0]:e;return i.wmtsOptions?s=((i==null?void 0:i.getURLFromTemplate)||dx)(p,Fh(Fh({},t),i.wmtsOptions)):s=((i==null?void 0:i.getURLFromTemplate)||E0)(p,t),new Promise((n,f)=>{var m;const g=h2(K8(Fh({},i==null?void 0:i.requestParameters),{url:s,type:((m=i==null?void 0:i.requestParameters)==null?void 0:m.type)||"arrayBuffer"}),(x,b)=>{x?f(x):b&&n(b)},i.transformResponse);r.xhrCancel=()=>g.cancel()})}),J8=()=>({rasterData:new Uint8Array([0]),width:1,height:1}),jF=Object.defineProperty,WF=Object.defineProperties,XF=Object.getOwnPropertyDescriptors,g5=Object.getOwnPropertySymbols,ZF=Object.prototype.hasOwnProperty,YF=Object.prototype.propertyIsEnumerable,v5=(e,t,r)=>t in e?jF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,E5=(e,t)=>{for(var r in t||(t={}))ZF.call(t,r)&&v5(e,r,t[r]);if(g5)for(var r of g5(t))YF.call(t,r)&&v5(e,r,t[r]);return e},qF=(e,t)=>WF(e,XF(t)),$F={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0,warp:!0};Va.ARRAYBUFFER,Va.RGB;function KF(e){return!!(Array.isArray(e)&&e.length===0||!Array.isArray(e)&&typeof e!="string")}function QF(e,t={}){if(KF(e))throw new Error("tile server url is error");const{extent:r=[1/0,1/0,-1/0,-1/0],coordinates:i}=t;let s=(t==null?void 0:t.dataType)||Va.IMAGE;s===Va.RGB&&(s=Va.ARRAYBUFFER);const p=(m,g)=>{switch(s){case Va.IMAGE:return _5(e,m,g,t);case Va.CUSTOMIMAGE:case Va.CUSTOMTERRAINRGB:return RF(g,t==null?void 0:t.getCustomData);case Va.ARRAYBUFFER:return GF(e,m,g,t);case Va.CUSTOMARRAYBUFFER:case Va.CUSTOMRGB:return SF(g,t==null?void 0:t.getCustomData,(t==null?void 0:t.format)||J8,t==null?void 0:t.operation);default:return _5(e,m,g,t)}},n=qF(E5(E5({},$F),t),{getTileData:p}),f=B0(i,r);return{data:e,dataArray:[{_id:1,coordinates:f}],tilesetOptions:n,isTile:!0}}var JF=Object.defineProperty,eT=Object.defineProperties,tT=Object.getOwnPropertyDescriptors,Yh=Object.getOwnPropertySymbols,e9=Object.prototype.hasOwnProperty,t9=Object.prototype.propertyIsEnumerable,x5=(e,t,r)=>t in e?JF(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,rT=(e,t)=>{for(var r in t)e9.call(t,r)&&x5(e,r,t[r]);if(Yh)for(var r of Yh(t))t9.call(t,r)&&x5(e,r,t[r]);return e},oT=(e,t)=>eT(e,tT(t)),iT=(e,t)=>{var r={};for(var i in e)e9.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&Yh)for(var i of Yh(e))t.indexOf(i)<0&&t9.call(e,i)&&(r[i]=e[i]);return r};function nT(e,t){const r=t,{extent:i=[121.168,30.2828,121.384,30.4219],coordinates:s,width:p,height:n}=r,f=iT(r,["extent","coordinates","width","height"]);e.length<2&&console.warn("RGB解析需要2个波段的数据");const[m,g]=f.bands||[0,1],x=[e[m],e[g]],b=[];for(let I=0;I<x[0].length;I++)b.push((x[1][I]-x[0][I])/(x[1][I]+x[0][I]));const F=B0(s,i);return{_id:1,dataArray:[oT(rT({_id:1,data:b,width:p,height:n},f),{coordinates:F})]}}var aT=Object.defineProperty,sT=Object.defineProperties,uT=Object.getOwnPropertyDescriptors,qh=Object.getOwnPropertySymbols,r9=Object.prototype.hasOwnProperty,o9=Object.prototype.propertyIsEnumerable,P5=(e,t,r)=>t in e?aT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,pT=(e,t)=>{for(var r in t)r9.call(t,r)&&P5(e,r,t[r]);if(qh)for(var r of qh(t))o9.call(t,r)&&P5(e,r,t[r]);return e},cT=(e,t)=>sT(e,uT(t)),lT=(e,t)=>{var r={};for(var i in e)r9.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&qh)for(var i of qh(e))t.indexOf(i)<0&&o9.call(e,i)&&(r[i]=e[i]);return r};function dT(e,t){const r=t,{extent:i,coordinates:s,width:p,height:n}=r,f=lT(r,["extent","coordinates","width","height"]);e.length<3&&console.warn("RGB解析需要三个波段的数据");const[m,g,x]=f.bands||[0,1,2],b=[e[m],e[g],e[x]],F=[],[R,I]=(f==null?void 0:f.countCut)||[2,98],O=(f==null?void 0:f.RMinMax)||x0(b[0],R,I),U=(f==null?void 0:f.GMinMax)||x0(b[1],R,I),Y=(f==null?void 0:f.BMinMax)||x0(b[2],R,I);for(let Re=0;Re<b[0].length;Re++)F.push(Math.max(0,b[0][Re]-O[0])),F.push(Math.max(0,b[1][Re]-U[0])),F.push(Math.max(0,b[2][Re]-Y[0]));const ee=B0(s,i);return{_id:1,dataArray:[cT(pT({_id:1,data:F,width:p,height:n,rMinMax:O,gMinMax:U,bMinMax:Y},f),{coordinates:ee})]}}var yT=Object.defineProperty,hT=Object.defineProperties,fT=Object.getOwnPropertyDescriptors,$h=Object.getOwnPropertySymbols,i9=Object.prototype.hasOwnProperty,n9=Object.prototype.propertyIsEnumerable,b5=(e,t,r)=>t in e?yT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,mT=(e,t)=>{for(var r in t)i9.call(t,r)&&b5(e,r,t[r]);if($h)for(var r of $h(t))n9.call(t,r)&&b5(e,r,t[r]);return e},_T=(e,t)=>hT(e,fT(t)),gT=(e,t)=>{var r={};for(var i in e)i9.call(e,i)&&t.indexOf(i)<0&&(r[i]=e[i]);if(e!=null&&$h)for(var i of $h(e))t.indexOf(i)<0&&n9.call(e,i)&&(r[i]=e[i]);return r};function vT(e,t){const r=t,{extent:i,coordinates:s,min:p,max:n,width:f,height:m,format:g,operation:x}=r,b=gT(r,["extent","coordinates","min","max","width","height","format","operation"]);let F;if(g===void 0||F8(e))F=Array.from(e);else{const O=Array.isArray(e)?e:[e];F=g6(O,g,x)}const R=B0(s,i);return{_id:1,dataArray:[_T(mT({_id:1,data:F,width:f,height:m},b),{min:p,max:n,coordinates:R})]}}var ET=Object.defineProperty,xT=Object.defineProperties,PT=Object.getOwnPropertyDescriptors,A5=Object.getOwnPropertySymbols,bT=Object.prototype.hasOwnProperty,AT=Object.prototype.propertyIsEnumerable,F5=(e,t,r)=>t in e?ET(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,T5=(e,t)=>{for(var r in t||(t={}))bT.call(t,r)&&F5(e,r,t[r]);if(A5)for(var r of A5(t))AT.call(t,r)&&F5(e,r,t[r]);return e},FT=(e,t)=>xT(e,PT(t)),TT=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),ST={tileSize:256,minZoom:0,maxZoom:1/0,zoomOffset:0},RT=e=>TT(void 0,null,function*(){return new Promise(t=>{const[r,i,s,p]=e.bounds,n={layers:{testTile:{features:[{type:"Feature",properties:{key:e.x+"/"+e.y+"/"+e.z,x:(r+s)/2,y:(i+p)/2},geometry:{type:"LineString",coordinates:[[s,p],[s,i],[r,i],[r,i]]}}]}}};t(n)})});function wT(e,t){const r=s=>RT(s),i=FT(T5(T5({},ST),t),{getTileData:r});return{data:e,dataArray:[],tilesetOptions:i,isTile:!0}}var Th={exports:{}},CT=Th.exports,S5;function IT(){return S5||(S5=1,function(e,t){(function(r,i){e.exports=i()})(CT,function(){function r(qe,we,B,X,de,mt){if(!(de-X<=B)){var re=X+de>>1;i(qe,we,re,X,de,mt%2),r(qe,we,B,X,re-1,mt+1),r(qe,we,B,re+1,de,mt+1)}}function i(qe,we,B,X,de,mt){for(;de>X;){if(de-X>600){var re=de-X+1,fe=B-X+1,Pe=Math.log(re),Xe=.5*Math.exp(2*Pe/3),Ye=.5*Math.sqrt(Pe*Xe*(re-Xe)/re)*(fe-re/2<0?-1:1),at=Math.max(X,Math.floor(B-fe*Xe/re+Ye)),ct=Math.min(de,Math.floor(B+(re-fe)*Xe/re+Ye));i(qe,we,B,at,ct,mt)}var Lt=we[2*B+mt],pr=X,Wt=de;for(s(qe,we,X,B),we[2*de+mt]>Lt&&s(qe,we,X,de);pr<Wt;){for(s(qe,we,pr,Wt),pr++,Wt--;we[2*pr+mt]<Lt;)pr++;for(;we[2*Wt+mt]>Lt;)Wt--}we[2*X+mt]===Lt?s(qe,we,X,Wt):(Wt++,s(qe,we,Wt,de)),Wt<=B&&(X=Wt+1),B<=Wt&&(de=Wt-1)}}function s(qe,we,B,X){p(qe,B,X),p(we,2*B,2*X),p(we,2*B+1,2*X+1)}function p(qe,we,B){var X=qe[we];qe[we]=qe[B],qe[B]=X}function n(qe,we,B,X,de,mt,re){for(var fe=[0,qe.length-1,0],Pe=[],Xe,Ye;fe.length;){var at=fe.pop(),ct=fe.pop(),Lt=fe.pop();if(ct-Lt<=re){for(var pr=Lt;pr<=ct;pr++)Xe=we[2*pr],Ye=we[2*pr+1],Xe>=B&&Xe<=de&&Ye>=X&&Ye<=mt&&Pe.push(qe[pr]);continue}var Wt=Math.floor((Lt+ct)/2);Xe=we[2*Wt],Ye=we[2*Wt+1],Xe>=B&&Xe<=de&&Ye>=X&&Ye<=mt&&Pe.push(qe[Wt]);var uo=(at+1)%2;(at===0?B<=Xe:X<=Ye)&&(fe.push(Lt),fe.push(Wt-1),fe.push(uo)),(at===0?de>=Xe:mt>=Ye)&&(fe.push(Wt+1),fe.push(ct),fe.push(uo))}return Pe}function f(qe,we,B,X,de,mt){for(var re=[0,qe.length-1,0],fe=[],Pe=de*de;re.length;){var Xe=re.pop(),Ye=re.pop(),at=re.pop();if(Ye-at<=mt){for(var ct=at;ct<=Ye;ct++)m(we[2*ct],we[2*ct+1],B,X)<=Pe&&fe.push(qe[ct]);continue}var Lt=Math.floor((at+Ye)/2),pr=we[2*Lt],Wt=we[2*Lt+1];m(pr,Wt,B,X)<=Pe&&fe.push(qe[Lt]);var uo=(Xe+1)%2;(Xe===0?B-de<=pr:X-de<=Wt)&&(re.push(at),re.push(Lt-1),re.push(uo)),(Xe===0?B+de>=pr:X+de>=Wt)&&(re.push(Lt+1),re.push(Ye),re.push(uo))}return fe}function m(qe,we,B,X){var de=qe-B,mt=we-X;return de*de+mt*mt}var g=function(qe){return qe[0]},x=function(qe){return qe[1]},b=function(we,B,X,de,mt){B===void 0&&(B=g),X===void 0&&(X=x),de===void 0&&(de=64),mt===void 0&&(mt=Float64Array),this.nodeSize=de,this.points=we;for(var re=we.length<65536?Uint16Array:Uint32Array,fe=this.ids=new re(we.length),Pe=this.coords=new mt(we.length*2),Xe=0;Xe<we.length;Xe++)fe[Xe]=Xe,Pe[2*Xe]=B(we[Xe]),Pe[2*Xe+1]=X(we[Xe]);r(fe,Pe,de,0,fe.length-1,0)};b.prototype.range=function(we,B,X,de){return n(this.ids,this.coords,we,B,X,de,this.nodeSize)},b.prototype.within=function(we,B,X){return f(this.ids,this.coords,we,B,X,this.nodeSize)};var F={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(qe){return qe}},R=Math.fround||function(qe){return function(we){return qe[0]=+we,qe[0]}}(new Float32Array(1)),I=function(we){this.options=Ie(Object.create(F),we),this.trees=new Array(this.options.maxZoom+1)};I.prototype.load=function(we){var B=this.options,X=B.log,de=B.minZoom,mt=B.maxZoom,re=B.nodeSize;X&&console.time("total time");var fe="prepare "+we.length+" points";X&&console.time(fe),this.points=we;for(var Pe=[],Xe=0;Xe<we.length;Xe++)we[Xe].geometry&&Pe.push(U(we[Xe],Xe));this.trees[mt+1]=new b(Pe,De,ht,re,Float32Array),X&&console.timeEnd(fe);for(var Ye=mt;Ye>=de;Ye--){var at=+Date.now();Pe=this._cluster(Pe,Ye),this.trees[Ye]=new b(Pe,De,ht,re,Float32Array),X&&console.log("z%d: %d clusters in %dms",Ye,Pe.length,+Date.now()-at)}return X&&console.timeEnd("total time"),this},I.prototype.getClusters=function(we,B){var X=((we[0]+180)%360+360)%360-180,de=Math.max(-90,Math.min(90,we[1])),mt=we[2]===180?180:((we[2]+180)%360+360)%360-180,re=Math.max(-90,Math.min(90,we[3]));if(we[2]-we[0]>=360)X=-180,mt=180;else if(X>mt){var fe=this.getClusters([X,de,180,re],B),Pe=this.getClusters([-180,de,mt,re],B);return fe.concat(Pe)}for(var Xe=this.trees[this._limitZoom(B)],Ye=Xe.range(oe(X),Re(re),oe(mt),Re(de)),at=[],ct=0,Lt=Ye;ct<Lt.length;ct+=1){var pr=Lt[ct],Wt=Xe.points[pr];at.push(Wt.numPoints?Y(Wt):this.points[Wt.index])}return at},I.prototype.getChildren=function(we){var B=this._getOriginId(we),X=this._getOriginZoom(we),de="No cluster with the specified id.",mt=this.trees[X];if(!mt)throw new Error(de);var re=mt.points[B];if(!re)throw new Error(de);for(var fe=this.options.radius/(this.options.extent*Math.pow(2,X-1)),Pe=mt.within(re.x,re.y,fe),Xe=[],Ye=0,at=Pe;Ye<at.length;Ye+=1){var ct=at[Ye],Lt=mt.points[ct];Lt.parentId===we&&Xe.push(Lt.numPoints?Y(Lt):this.points[Lt.index])}if(Xe.length===0)throw new Error(de);return Xe},I.prototype.getLeaves=function(we,B,X){B=B||10,X=X||0;var de=[];return this._appendLeaves(de,we,B,X,0),de},I.prototype.getTile=function(we,B,X){var de=this.trees[this._limitZoom(we)],mt=Math.pow(2,we),re=this.options,fe=re.extent,Pe=re.radius,Xe=Pe/fe,Ye=(X-Xe)/mt,at=(X+1+Xe)/mt,ct={features:[]};return this._addTileFeatures(de.range((B-Xe)/mt,Ye,(B+1+Xe)/mt,at),de.points,B,X,mt,ct),B===0&&this._addTileFeatures(de.range(1-Xe/mt,Ye,1,at),de.points,mt,X,mt,ct),B===mt-1&&this._addTileFeatures(de.range(0,Ye,Xe/mt,at),de.points,-1,X,mt,ct),ct.features.length?ct:null},I.prototype.getClusterExpansionZoom=function(we){for(var B=this._getOriginZoom(we)-1;B<=this.options.maxZoom;){var X=this.getChildren(we);if(B++,X.length!==1)break;we=X[0].properties.cluster_id}return B},I.prototype._appendLeaves=function(we,B,X,de,mt){for(var re=this.getChildren(B),fe=0,Pe=re;fe<Pe.length;fe+=1){var Xe=Pe[fe],Ye=Xe.properties;if(Ye&&Ye.cluster?mt+Ye.point_count<=de?mt+=Ye.point_count:mt=this._appendLeaves(we,Ye.cluster_id,X,de,mt):mt<de?mt++:we.push(Xe),we.length===X)break}return mt},I.prototype._addTileFeatures=function(we,B,X,de,mt,re){for(var fe=0,Pe=we;fe<Pe.length;fe+=1){var Xe=Pe[fe],Ye=B[Xe],at=Ye.numPoints,ct=void 0,Lt=void 0,pr=void 0;if(at)ct=ee(Ye),Lt=Ye.x,pr=Ye.y;else{var Wt=this.points[Ye.index];ct=Wt.properties,Lt=oe(Wt.geometry.coordinates[0]),pr=Re(Wt.geometry.coordinates[1])}var uo={type:1,geometry:[[Math.round(this.options.extent*(Lt*mt-X)),Math.round(this.options.extent*(pr*mt-de))]],tags:ct},hr=void 0;at?hr=Ye.id:this.options.generateId?hr=Ye.index:this.points[Ye.index].id&&(hr=this.points[Ye.index].id),hr!==void 0&&(uo.id=hr),re.features.push(uo)}},I.prototype._limitZoom=function(we){return Math.max(this.options.minZoom,Math.min(Math.floor(+we),this.options.maxZoom+1))},I.prototype._cluster=function(we,B){for(var X=[],de=this.options,mt=de.radius,re=de.extent,fe=de.reduce,Pe=de.minPoints,Xe=mt/(re*Math.pow(2,B)),Ye=0;Ye<we.length;Ye++){var at=we[Ye];if(!(at.zoom<=B)){at.zoom=B;for(var ct=this.trees[B+1],Lt=ct.within(at.x,at.y,Xe),pr=at.numPoints||1,Wt=pr,uo=0,hr=Lt;uo<hr.length;uo+=1){var Lr=hr[uo],At=ct.points[Lr];At.zoom>B&&(Wt+=At.numPoints||1)}if(Wt>pr&&Wt>=Pe){for(var lt=at.x*pr,yr=at.y*pr,bt=fe&&pr>1?this._map(at,!0):null,Fr=(Ye<<5)+(B+1)+this.points.length,to=0,Ir=Lt;to<Ir.length;to+=1){var wr=Ir[to],No=ct.points[wr];if(!(No.zoom<=B)){No.zoom=B;var Qr=No.numPoints||1;lt+=No.x*Qr,yr+=No.y*Qr,No.parentId=Fr,fe&&(bt||(bt=this._map(at,!0)),fe(bt,this._map(No)))}}at.parentId=Fr,X.push(O(lt/Wt,yr/Wt,Fr,Wt,bt))}else if(X.push(at),Wt>1)for(var bi=0,ni=Lt;bi<ni.length;bi+=1){var oi=ni[bi],Wi=ct.points[oi];Wi.zoom<=B||(Wi.zoom=B,X.push(Wi))}}}return X},I.prototype._getOriginId=function(we){return we-this.points.length>>5},I.prototype._getOriginZoom=function(we){return(we-this.points.length)%32},I.prototype._map=function(we,B){if(we.numPoints)return B?Ie({},we.properties):we.properties;var X=this.points[we.index].properties,de=this.options.map(X);return B&&de===X?Ie({},de):de};function O(qe,we,B,X,de){return{x:R(qe),y:R(we),zoom:1/0,id:B,parentId:-1,numPoints:X,properties:de}}function U(qe,we){var B=qe.geometry.coordinates,X=B[0],de=B[1];return{x:R(oe(X)),y:R(Re(de)),zoom:1/0,index:we,parentId:-1}}function Y(qe){return{type:"Feature",id:qe.id,properties:ee(qe),geometry:{type:"Point",coordinates:[Ae(qe.x),ce(qe.y)]}}}function ee(qe){var we=qe.numPoints,B=we>=1e4?Math.round(we/1e3)+"k":we>=1e3?Math.round(we/100)/10+"k":we;return Ie(Ie({},qe.properties),{cluster:!0,cluster_id:qe.id,point_count:we,point_count_abbreviated:B})}function oe(qe){return qe/360+.5}function Re(qe){var we=Math.sin(qe*Math.PI/180),B=.5-.25*Math.log((1+we)/(1-we))/Math.PI;return B<0?0:B>1?1:B}function Ae(qe){return(qe-.5)*360}function ce(qe){var we=(180-qe*360)*Math.PI/180;return 360*Math.atan(Math.exp(we))/Math.PI-90}function Ie(qe,we){for(var B in we)qe[B]=we[B];return qe}function De(qe){return qe.x}function ht(qe){return qe.y}return I})}(Th)),Th.exports}var MT=IT();const NT=mp(MT);var DT=Object.defineProperty,R5=Object.getOwnPropertySymbols,OT=Object.prototype.hasOwnProperty,LT=Object.prototype.propertyIsEnumerable,w5=(e,t,r)=>t in e?DT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a9=(e,t)=>{for(var r in t||(t={}))OT.call(t,r)&&w5(e,r,t[r]);if(R5)for(var r of R5(t))LT.call(t,r)&&w5(e,r,t[r]);return e};function s9(e,t){const{radius:r=40,maxZoom:i=18,minZoom:s=0,zoom:p=2}=t;if(e.pointIndex){const m=e.pointIndex.getClusters(e.extent,Math.floor(p));return e.dataArray=BT(m),e}const n=new NT({radius:r,minZoom:s,maxZoom:i}),f={type:"FeatureCollection",features:[]};return f.features=e.dataArray.map(m=>({type:"Feature",geometry:{type:"Point",coordinates:m.coordinates},properties:a9({},m)})),n.load(f.features),n}function BT(e){return e.map((t,r)=>a9({coordinates:t.geometry.coordinates,_id:r+1},t.properties))}function UT(e){if(e.length===0)throw new Error("max requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]>t&&(t=e[r]);return t}function kT(e){if(e.length===0)throw new Error("min requires at least one data point");let t=e[0];for(let r=1;r<e.length;r++)e[r]<t&&(t=e[r]);return t}function u9(e){if(e.length===0)return 0;let t=e[0],r=0,i;for(let s=1;s<e.length;s++)i=t+e[s]*1,Math.abs(t)>=Math.abs(e[s])?r+=t-i+e[s]:r+=e[s]-i+t,t=i;return t+r*1}function zT(e){if(e.length===0)throw new Error("mean requires at least one data point");return u9(e)/e.length}var VT={min:kT,max:UT,mean:zT,sum:u9},HT=Object.defineProperty,C5=Object.getOwnPropertySymbols,GT=Object.prototype.hasOwnProperty,jT=Object.prototype.propertyIsEnumerable,I5=(e,t,r)=>t in e?HT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ed=(e,t)=>{for(var r in t||(t={}))GT.call(t,r)&&I5(e,r,t[r]);if(C5)for(var r of C5(t))jT.call(t,r)&&I5(e,r,t[r]);return e},M5=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),{cloneDeep:WT,isFunction:N5,isString:XT,mergeWith:ZT}=Kn;function YT(e,t){if(Array.isArray(t))return t}var qT=class extends du.EventEmitter{constructor(e,t){super(),this.type="source",this.isTile=!1,this.inited=!1,this.hooks={init:new jp},this.parser={type:"geojson"},this.transforms=[],this.cluster=!1,this.clusterOptions={enable:!1,radius:40,maxZoom:20,zoom:-99,method:"count"},this.invalidExtent=!1,this.dataArrayChanged=!1,this.cfg={autoRender:!0},this.originData=e,this.initCfg(t),this.init().then(()=>{this.inited=!0,this.emit("update",{type:"inited"})})}getSourceCfg(){return this.cfg}getClusters(e){return this.clusterIndex.getClusters(this.caculClusterExtent(2),e)}getClustersLeaves(e){return this.clusterIndex.getLeaves(e,1/0)}getParserType(){return this.parser.type}updateClusterData(e){const{method:t="sum",field:r}=this.clusterOptions;let i=this.clusterIndex.getClusters(this.caculClusterExtent(2),Math.floor(e));this.clusterOptions.zoom=e,i.forEach(s=>{s.id||(s.properties.point_count=1)}),(r||N5(t))&&(i=i.map(s=>{const p=s.id;if(p){const f=this.clusterIndex.getLeaves(p,1/0).map(g=>g.properties);let m;if(XT(t)&&r){const g=mx(f,r);m=VT[t](g)}N5(t)&&(m=t(f)),s.properties.stat=m}else s.properties.point_count=1;return s})),this.data=S3("geojson")({type:"FeatureCollection",features:i}),this.executeTrans()}getFeatureById(e){const{type:t="geojson",geometry:r}=this.parser;if(t==="geojson"&&!this.cluster){const i=e<this.originData.features.length?this.originData.features[e]:"null",s=WT(i);if(s!=null&&s.properties&&(this.transforms.length!==0||this.dataArrayChanged)){const p=this.data.dataArray.find(n=>n._id===e);s.properties=p}return s}else return t==="json"&&r?this.data.dataArray.find(i=>i._id===e):e<this.data.dataArray.length?this.data.dataArray[e]:"null"}updateFeaturePropertiesById(e,t){this.data.dataArray=this.data.dataArray.map(r=>r._id===e?Ed(Ed({},r),t):r),this.dataArrayChanged=!0,this.emit("update",{type:"update"})}getFeatureId(e,t){const r=this.data.dataArray.find(i=>i[e]===t);return r==null?void 0:r._id}setData(e,t){this.originData=e,this.dataArrayChanged=!1,this.initCfg(t),this.init().then(()=>{this.emit("update",{type:"update"})})}reloadAllTile(){var e;(e=this.tileset)==null||e.reloadAll()}reloadTilebyId(e,t,r){var i;(i=this.tileset)==null||i.reloadTileById(e,t,r)}reloadTileByLnglat(e,t,r){var i;(i=this.tileset)==null||i.reloadTileByLnglat(e,t,r)}getTileExtent(e,t){var r;return(r=this.tileset)==null?void 0:r.getTileExtent(e,t)}getTileByZXY(e,t,r){var i;return(i=this.tileset)==null?void 0:i.getTileByZXY(e,t,r)}reloadTileByExtent(e,t){var r;(r=this.tileset)==null||r.reloadTileByExtent(e,t)}destroy(){var e;this.removeAllListeners(),this.originData=null,this.clusterIndex=null,this.data=null,(e=this.tileset)==null||e.destroy()}processData(){return M5(this,null,function*(){return new Promise((e,t)=>{try{this.excuteParser(),this.initCluster(),this.executeTrans(),e({})}catch(r){t(r)}})})}initCfg(e){this.cfg=ZT(this.cfg,e,YT);const t=this.cfg;t&&(t.parser&&(this.parser=t.parser),t.transforms&&(this.transforms=t.transforms),this.cluster=t.cluster||!1,t.clusterOptions&&(this.cluster=!0,this.clusterOptions=Ed(Ed({},this.clusterOptions),t.clusterOptions)))}init(){return M5(this,null,function*(){this.inited=!1,yield this.processData(),this.inited=!0})}excuteParser(){const e=this.parser,t=e.type||"geojson",r=S3(t);this.data=r(this.originData,e),this.tileset=this.initTileset(),!e.cancelExtent&&(this.extent=wE(this.data.dataArray),this.setCenter(this.extent),this.invalidExtent=this.extent[0]===this.extent[2]||this.extent[1]===this.extent[3])}setCenter(e){this.center=[(e[0]+e[2])/2,(e[1]+e[3])/2],(isNaN(this.center[0])||isNaN(this.center[1]))&&(this.center=[108.92361111111111,34.54083333333333])}initTileset(){const{tilesetOptions:e}=this.data;return e?(this.isTile=!0,this.tileset?(this.tileset.updateOptions(e),this.tileset):new lx(Ed({},e))):void 0}executeTrans(){this.transforms.forEach(t=>{const{type:r}=t,i=Bv(r)(this.data,t);Object.assign(this.data,i)})}initCluster(){if(!this.cluster)return;const e=this.clusterOptions||{};this.clusterIndex=s9(this.data,e)}caculClusterExtent(e){let t=[[-1/0,-1/0],[1/0,1/0]];return this.invalidExtent||(t=f6(Hh(this.extent),e)),t[0].concat(t[1])}};function $T(e,t){const{callback:r}=t;return r&&(e.dataArray=e.dataArray.filter(r)),e}var P6=6378e3;function KT(e,t){const r=e.dataArray,{size:i=10}=t,s=i/(2*Math.PI*P6)*(256<<20)/2,{gridHash:p,gridOffset:n}=QT(r,i),f=rS(p,n,t);return{yOffset:s,xOffset:s,radius:s,type:"grid",dataArray:f}}function QT(e,t){let r=1/0,i=-1/0,s;for(const m of e)s=m.coordinates[1],Number.isFinite(s)&&(r=s<r?s:r,i=s>i?s:i);const p=(r+i)/2,n=JT(t,p);if(n.xOffset<=0||n.yOffset<=0)return{gridHash:{},gridOffset:n};const f={};for(const m of e){const g=m.coordinates[1],x=m.coordinates[0];if(Number.isFinite(g)&&Number.isFinite(x)){const b=Math.floor((g+90)/n.yOffset),F=Math.floor((x+180)/n.xOffset),R=`${b}-${F}`;f[R]=f[R]||{count:0,points:[]},f[R].count+=1,f[R].points.push(m)}}return{gridHash:f,gridOffset:n}}function JT(e,t){const r=eS(e),i=tS(t,e);return{yOffset:r,xOffset:i}}function eS(e){return e/P6*(180/Math.PI)}function tS(e,t){return t/P6*(180/Math.PI)/Math.cos(e*Math.PI/180)}function rS(e,t,r){return Object.keys(e).reduce((i,s,p)=>{const n=s.split("-"),f=parseInt(n[0],10),m=parseInt(n[1],10),g={};if(r.field&&r.method){const x=v8(e[s].points,r.field);g[r.method]=g8[r.method](x)}return Object.assign(g,{_id:p,coordinates:Gu([-180+t.xOffset*(m+.5),-90+t.yOffset*(f+.5)]),rawData:e[s].points,count:e[s].count}),i.push(g),i},[])}var l0=Math.PI/3,oS=[0,l0,2*l0,3*l0,4*l0,5*l0];function iS(e){return e[0]}function nS(e){return e[1]}function aS(){var e=0,t=0,r=1,i=1,s=iS,p=nS,n,f,m;function g(b){var F={},R=[],I,O=b.length;for(I=0;I<O;++I)if(!(isNaN(Y=+s.call(null,U=b[I],I,b))||isNaN(ee=+p.call(null,U,I,b)))){var U,Y,ee,oe=Math.round(ee=ee/m),Re=Math.round(Y=Y/f-(oe&1)/2),Ae=ee-oe;if(Math.abs(Ae)*3>1){var ce=Y-Re,Ie=Re+(Y<Re?-1:1)/2,De=oe+(ee<oe?-1:1),ht=Y-Ie,qe=ee-De;ce*ce+Ae*Ae>ht*ht+qe*qe&&(Re=Ie+(oe&1?1:-1)/2,oe=De)}var we=Re+"-"+oe,B=F[we];B?B.push(U):(R.push(B=F[we]=[U]),B.x=(Re+(oe&1)/2)*f,B.y=oe*m)}return R}function x(b){var F=0,R=0;return oS.map(function(I){var O=Math.sin(I)*b,U=-Math.cos(I)*b,Y=O-F,ee=U-R;return F=O,R=U,[Y,ee]})}return g.hexagon=function(b){return"m"+x(b==null?n:+b).join("l")+"z"},g.centers=function(){for(var b=[],F=Math.round(t/m),R=Math.round(e/f),I=F*m;I<i+n;I+=m,++F)for(var O=R*f+(F&1)*f/2;O<r+f/2;O+=f)b.push([O,I]);return b},g.mesh=function(){var b=x(n).slice(0,4).join("l");return g.centers().map(function(F){return"M"+F+"m"+b}).join("")},g.x=function(b){return arguments.length?(s=b,g):s},g.y=function(b){return arguments.length?(p=b,g):p},g.radius=function(b){return arguments.length?(n=+b,f=n*2*Math.sin(l0),m=n*1.5,g):n},g.size=function(b){return arguments.length?(e=t=0,r=+b[0],i=+b[1],g):[r-e,i-t]},g.extent=function(b){return arguments.length?(e=+b[0][0],t=+b[0][1],r=+b[1][0],i=+b[1][1],g):[[e,t],[r,i]]},g.radius(1)}var sS=Object.defineProperty,uS=Object.defineProperties,pS=Object.getOwnPropertyDescriptors,D5=Object.getOwnPropertySymbols,cS=Object.prototype.hasOwnProperty,lS=Object.prototype.propertyIsEnumerable,O5=(e,t,r)=>t in e?sS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,dS=(e,t)=>{for(var r in t||(t={}))cS.call(t,r)&&O5(e,r,t[r]);if(D5)for(var r of D5(t))lS.call(t,r)&&O5(e,r,t[r]);return e},yS=(e,t)=>uS(e,pS(t)),hS=6378e3;function fS(e,t){const r=e.dataArray,{size:i=10,method:s="sum"}=t,p=i/(2*Math.PI*hS)*(256<<20)/2,n=r.map(x=>{const[b,F]=Gu(x.coordinates);return yS(dS({},x),{coordinates:[b,F]})});return{dataArray:aS().radius(p).x(x=>x.coordinates[0]).y(x=>x.coordinates[1])(n).map((x,b)=>{if(t.field&&s){const F=v8(x,t.field);x[s]=g8[s](F)}return{[t.method]:x[s],count:x.length,rawData:x,coordinates:[x.x,x.y],_id:b}}),radius:p,xOffset:p,yOffset:p,type:"hexagon"}}var mS=Object.defineProperty,L5=Object.getOwnPropertySymbols,_S=Object.prototype.hasOwnProperty,gS=Object.prototype.propertyIsEnumerable,B5=(e,t,r)=>t in e?mS(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,U5=(e,t)=>{for(var r in t||(t={}))_S.call(t,r)&&B5(e,r,t[r]);if(L5)for(var r of L5(t))gS.call(t,r)&&B5(e,r,t[r]);return e};function vS(e,t){const{sourceField:r,targetField:i,data:s}=t,p={};return s.forEach(n=>{p[n[r]]=n}),e.dataArray=e.dataArray.map(n=>{const f=n[i];return U5(U5({},n),p[f])}),e}function ES(e,t){const{callback:r}=t;return r&&(e.dataArray=e.dataArray.map(r)),e}lu("rasterTile",QF);lu("mvt",GP);lu("geojsonvt",aP);lu("testTile",wT);lu("geojson",Nx);lu("jsonTile",EP);lu("image",C8);lu("csv",Px);lu("json",T8);lu("raster",ob);lu("rasterRgb",vT);lu("rgb",dT);lu("ndi",nT);L0("cluster",s9);L0("filter",$T);L0("join",vS);L0("map",ES);L0("grid",KT);L0("hexagon",fS);var xS=qT;window._iconfont_svg_string_3580659='<svg><symbol id="l7-icon-area1" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.064889 219.136l38.798223 466.261333a113.777778 113.777778 0 1 1-133.518223 145.237334H279.210667a113.777778 113.777778 0 1 1-60.302223-137.272889L697.856 227.555556A113.777778 113.777778 0 0 1 796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m577.592889-534.072889L269.198222 796.444444c4.152889 7.168 7.509333 14.791111 10.012445 22.812445h465.578666a114.119111 114.119111 0 0 1 65.479111-71.224889l-38.798222-466.261333a112.924444 112.924444 0 0 1-23.210666-7.964445zM796.444444 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-area" viewBox="0 0 1024 1024"><path d="M796.444444 56.888889a113.777778 113.777778 0 0 1 43.008 219.136l38.855112 466.261333a113.777778 113.777778 0 0 1-16.497778 224.540445L853.333333 967.111111a113.777778 113.777778 0 0 1-108.544-79.644444H279.210667a113.834667 113.834667 0 0 1-100.067556 79.36L170.666667 967.111111a113.777778 113.777778 0 0 1-17.066667-226.304l30.492444-351.175111a113.777778 113.777778 0 0 1 34.986667-218.680889L227.555556 170.666667a113.777778 113.777778 0 0 1 99.896888 59.221333l355.84-71.395556a113.777778 113.777778 0 0 1 104.675556-101.262222L796.444444 56.888889z m56.888889 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-682.666666 0a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m526.051555-582.314666L340.650667 296.903111a113.891556 113.891556 0 0 1-88.462223 98.645333l-30.947555 355.84c27.477333 13.653333 48.64 38.115556 58.026667 67.754667h465.521777a114.119111 114.119111 0 0 1 65.536-71.168l-38.855111-466.261333a113.948444 113.948444 0 0 1-74.752-56.206222zM227.555556 238.933333a45.511111 45.511111 0 1 0 0 91.022223 45.511111 45.511111 0 0 0 0-91.022223z m568.888888-113.777777a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-delete" viewBox="0 0 1024 1024"><path d="M705.422222 85.333333a34.133333 34.133333 0 0 1 34.133334 34.133334V227.555556h136.533333a34.133333 34.133333 0 0 1 0 68.266666h-25.543111l-24.348445 610.076445a34.133333 34.133333 0 0 1-34.133333 32.768H231.936a34.133333 34.133333 0 0 1-34.076444-32.768L173.340444 295.822222H147.911111a34.133333 34.133333 0 1 1 0-68.266666H284.444444V119.466667a34.133333 34.133333 0 0 1 34.133334-34.133334h386.844444zM241.720889 295.822222l22.983111 574.577778h494.535111l23.04-574.577778H241.720889zM671.288889 153.6H352.711111V227.555556h318.577778V153.6z"  ></path></symbol><symbol id="l7-icon-color" viewBox="0 0 1024 1024"><path d="M512 56.888889c9.841778 0 19.626667 0.341333 29.354667 0.910222 69.176889 4.437333 119.068444 62.577778 124.302222 131.072l0.455111 9.386667c0.739556 44.600889 15.303111 84.935111 44.999111 114.631111 27.022222 27.022222 62.805333 41.528889 102.570667 44.430222l12.060444 0.568889c72.476444 1.194667 135.793778 52.451556 140.458667 124.757333 1.137778 18.261333 1.251556 36.807111 0.170667 55.637334-13.198222 233.585778-211.399111 424.220444-445.326223 428.714666L512 967.111111a455.111111 455.111111 0 0 1-455.054222-464.156444c4.551111-233.927111 195.185778-432.128 428.771555-445.326223C494.535111 57.116444 503.296 56.888889 512 56.888889z m0 68.266667a385.706667 385.706667 0 0 0-22.414222 0.625777C291.726222 136.988444 129.080889 305.948444 125.155556 504.263111c-4.152889 212.366222 163.100444 387.185778 372.508444 394.353778l13.425778 0.227555 8.533333-0.113777c198.371556-3.811556 367.331556-166.456889 378.538667-364.373334a396.174222 396.174222 0 0 0-0.170667-47.331555c-1.991111-31.232-29.127111-56.604444-67.128889-60.472889l-8.248889-0.455111-14.051555-0.682667c-56.547556-4.209778-107.406222-25.884444-145.806222-64.284444-38.855111-38.798222-60.416-90.225778-64.284445-145.749334l-0.910222-21.333333c-2.901333-38.001778-28.785778-66.048-60.302222-68.096A433.891556 433.891556 0 0 0 512 125.155556zM438.044444 682.666667a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m-170.666666-227.555556a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z m142.222222-227.555555a68.266667 68.266667 0 1 1 0 136.533333 68.266667 68.266667 0 0 1 0-136.533333z"  ></path></symbol><symbol id="l7-icon-base-map" viewBox="0 0 1024 1024"><path d="M923.761778 115.029333A34.133333 34.133333 0 0 1 967.111111 147.911111v624.128a34.133333 34.133333 0 0 1-22.186667 32.028445l-278.755555 103.992888a34.133333 34.133333 0 0 1-23.665778 0.056889L381.724444 812.714667a34.133333 34.133333 0 0 0-23.665777 0.113777L102.968889 908.060444a34.133333 34.133333 0 0 1-45.738667-26.965333L56.888889 876.088889V251.960889a34.133333 34.133333 0 0 1 22.186667-32.028445l278.755555-103.992888a34.133333 34.133333 0 0 1 20.992-0.967112l266.183111 72.988445a34.133333 34.133333 0 0 0 18.204445 0zM403.911111 192.625778v555.576889l216.177778 79.075555V251.960889l-216.177778-59.335111z m-68.266667 4.380444L125.155556 275.569778v551.310222l210.432-78.506667V197.006222zM898.844444 192.853333l-210.545777 58.936889v575.089778l210.545777-78.563556V192.853333z"  ></path></symbol><symbol id="l7-icon-dot" viewBox="0 0 1024 1024"><path d="M341.333333 739.555556a113.777778 113.777778 0 0 1 8.533334 227.271111L341.333333 967.111111a113.777778 113.777778 0 0 1-8.533333-227.271111L341.333333 739.555556z m0 68.266666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM910.222222 341.333333a113.777778 113.777778 0 0 1 8.533334 227.271111L910.222222 568.888889a113.777778 113.777778 0 0 1-8.533333-227.271111L910.222222 341.333333z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM227.555556 56.888889a113.777778 113.777778 0 0 1 8.533333 227.271111L227.555556 284.444444a113.777778 113.777778 0 0 1-8.533334-227.271111L227.555556 56.888889z m0 68.266667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-display" viewBox="0 0 1024 1024"><path d="M512 170.666667c284.444444 0 455.111111 227.555556 455.111111 341.333333s-170.666667 341.333333-455.111111 341.333333-455.111111-227.555556-455.111111-341.333333 170.666667-341.333333 455.111111-341.333333z m0 68.266666C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 110.762667 178.574222 273.066667 386.844444 273.066667s386.844444-162.304 386.844444-273.066667c0-110.762667-178.574222-273.066667-386.844444-273.066667zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-enlarge" viewBox="0 0 1024 1024"><path d="M546.133333 147.911111l-0.056889 329.955556H876.088889a34.133333 34.133333 0 0 1 0 68.266666H546.076444v329.955556a34.133333 34.133333 0 0 1-68.266666 0V546.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h329.898667V147.911111a34.133333 34.133333 0 0 1 68.266666 0z"  ></path></symbol><symbol id="l7-icon-export-picture" viewBox="0 0 1024 1024"><path d="M883.873684 161.684211a32.336842 32.336842 0 0 1 32.336842 32.336842v582.063158a32.336842 32.336842 0 0 1-32.336842 32.336842H86.231579a32.336842 32.336842 0 0 1-32.336842-32.336842V194.021053a32.336842 32.336842 0 0 1 32.336842-32.336842h797.642105z m-32.336842 64.673684H118.568421v517.389473h170.792421a32.175158 32.175158 0 0 1 0.431158-0.646736l3.772632-4.473264 330.320842-330.374736a32.336842 32.336842 0 0 1 38.588631-5.389474l4.473263 3.018105 184.589474 147.725474V226.357895z m-202.428631 248.131368L379.850105 743.747368H851.536842v-107.304421l-202.428631-161.953684zM323.368421 323.368421a107.789474 107.789474 0 1 1 0 215.578947 107.789474 107.789474 0 0 1 0-215.578947z m0 64.673684a43.115789 43.115789 0 1 0 0 86.231579 43.115789 43.115789 0 0 0 0-86.231579z"  ></path></symbol><symbol id="l7-icon-exit-fullscreen" viewBox="0 0 1024 1024"><path d="M841.955556 591.644444a34.133333 34.133333 0 0 1 5.518222 67.811556l-5.518222 0.455111h-133.745778l192 192.056889a34.133333 34.133333 0 0 1-38.343111 55.182222l-5.176889-2.958222-4.721778-3.982222L659.911111 708.266667V841.955556a34.133333 34.133333 0 0 1-28.615111 33.678222L625.777778 876.088889a34.133333 34.133333 0 0 1-33.678222-28.615111L591.644444 841.955556V625.777778a34.133333 34.133333 0 0 1 28.615112-33.678222L625.777778 591.644444h216.177778z m-443.733334 0a34.133333 34.133333 0 0 1 33.678222 28.615112L432.355556 625.777778v216.177778a34.133333 34.133333 0 0 1-67.811556 5.518222L364.088889 841.955556v-133.745778l-192.056889 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L315.847111 659.911111H182.044444a34.133333 34.133333 0 0 1-33.678222-28.615111L147.911111 625.777778a34.133333 34.133333 0 0 1 28.615111-33.678222L182.044444 591.644444H398.222222zM167.310222 119.808l4.721778 3.982222L364.088889 315.847111V182.044444a34.133333 34.133333 0 0 1 28.615111-33.678222L398.222222 147.911111a34.133333 34.133333 0 0 1 33.678222 28.615111L432.355556 182.044444V398.222222a34.133333 34.133333 0 0 1-28.615112 33.678222L398.222222 432.355556H182.044444a34.133333 34.133333 0 0 1-5.518222-67.811556L182.044444 364.088889h133.802667L123.790222 172.032a34.133333 34.133333 0 0 1 43.52-52.224z m732.899556 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L708.266667 364.088889H841.955556a34.133333 34.133333 0 0 1 33.678222 28.615111L876.088889 398.222222a34.133333 34.133333 0 0 1-28.615111 33.678222L841.955556 432.355556H625.777778a34.133333 34.133333 0 0 1-33.678222-28.615112L591.644444 398.222222V182.044444a34.133333 34.133333 0 0 1 67.811556-5.518222l0.455111 5.518222v133.802667l192.056889-192.056889a34.133333 34.133333 0 0 1 48.241778 0z"  ></path></symbol><symbol id="l7-icon-line" viewBox="0 0 1024 1024"><path d="M853.333333 56.888889a113.777778 113.777778 0 0 1 8.533334 227.271111L853.333333 284.444444c-19.000889 0-36.864-4.664889-52.622222-12.856888l-529.123555 529.066666a113.777778 113.777778 0 0 1-92.387556 166.115556L170.666667 967.111111a113.777778 113.777778 0 0 1-8.533334-227.271111L170.666667 739.555556c19.000889 0 36.864 4.664889 52.622222 12.856888l529.123555-529.066666a113.777778 113.777778 0 0 1 92.387556-166.115556L853.333333 56.888889zM170.666667 807.822222a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m682.666666-682.666666a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-layer" viewBox="0 0 1024 1024"><path d="M767.089778 625.777778l180.167111 82.773333a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730667-420.977778 193.422222a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422222a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730667L256.853333 625.777778l81.749334 37.546666L172.771556 739.555556 512 895.374222 851.171556 739.555556l-165.831112-76.231112 81.749334-37.546666z m0-227.555556l180.167111 82.773334a34.133333 34.133333 0 0 1 4.892444 59.278222l-4.892444 2.730666-420.977778 193.422223a34.133333 34.133333 0 0 1-22.983111 1.991111l-5.575111-1.991111-420.977778-193.422223a34.133333 34.133333 0 0 1-4.892444-59.278222l4.892444-2.730666L256.853333 398.222222l81.749334 37.546667-165.831111 76.174222L512 667.818667l339.171556-155.875556-165.831112-76.174222L767.089778 398.222222zM497.720889 60.017778a34.133333 34.133333 0 0 1 28.558222 0l420.977778 193.422222a34.133333 34.133333 0 0 1 0 62.008889l-420.977778 193.422222a34.133333 34.133333 0 0 1-28.558222 0l-420.977778-193.422222a34.133333 34.133333 0 0 1 0-62.008889zM512 128.568889L172.771556 284.387556 512 440.263111l339.171556-155.875555L512 128.568889z"  ></path></symbol><symbol id="l7-icon-narrow" viewBox="0 0 1024 1024"><path d="M910.222222 512a34.133333 34.133333 0 0 1-34.133333 34.133333H147.911111a34.133333 34.133333 0 1 1 0-68.266666h728.177778a34.133333 34.133333 0 0 1 34.133333 34.133333z"  ></path></symbol><symbol id="l7-icon-fullscreen" viewBox="0 0 1024 1024"><path d="M645.176889 597.674667l4.721778 3.982222L841.955556 793.6l0.056888-133.688889a34.133333 34.133333 0 0 1 28.615112-33.678222L876.088889 625.777778a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 659.911111v216.177778a34.133333 34.133333 0 0 1-28.615111 33.678222L876.088889 910.222222h-216.177778a34.133333 34.133333 0 0 1-5.518222-67.811555l5.518222-0.455111h133.745778l-192-192.056889a34.133333 34.133333 0 0 1 43.52-52.224z m-222.833778 3.982222a34.133333 34.133333 0 0 1 3.982222 43.52l-3.982222 4.721778L230.286222 841.955556H364.088889a34.133333 34.133333 0 0 1 33.678222 28.615111L398.222222 876.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L364.088889 910.222222H147.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 876.088889v-216.177778a34.133333 34.133333 0 0 1 67.811555-5.518222l0.455111 5.518222-0.056888 133.745778 192.113777-192a34.133333 34.133333 0 0 1 48.241778 0zM364.088889 113.777778a34.133333 34.133333 0 0 1 5.518222 67.811555L364.088889 182.044444H230.343111l192 192.056889a34.133333 34.133333 0 0 1-43.52 52.224l-4.721778-3.982222-192.113777-192.056889L182.044444 364.088889a34.133333 34.133333 0 0 1-28.615111 33.678222L147.911111 398.222222a34.133333 34.133333 0 0 1-33.678222-28.615111L113.777778 364.088889V147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L147.911111 113.777778h216.177778z m512 0a34.133333 34.133333 0 0 1 33.678222 28.615111L910.222222 147.911111v216.177778a34.133333 34.133333 0 0 1-67.811555 5.518222L841.955556 364.088889l-0.056889-133.745778-192 192a34.133333 34.133333 0 0 1-52.224-43.52l3.982222-4.721778L793.6 182.044444H659.911111a34.133333 34.133333 0 0 1-33.678222-28.615111L625.777778 147.911111a34.133333 34.133333 0 0 1 28.615111-33.678222L659.911111 113.777778h216.177778z"  ></path></symbol><symbol id="l7-icon-hide" viewBox="0 0 1024 1024"><path d="M875.52 87.836444a34.133333 34.133333 0 0 1 7.281778 43.121778l-3.527111 5.006222-682.666667 796.444445a34.133333 34.133333 0 0 1-55.409778-39.367111l3.527111-5.006222 97.166223-113.379556C123.164444 697.969778 56.888889 582.940444 56.888889 512c0-113.777778 170.666667-341.333333 455.111111-341.333333a496.64 496.64 0 0 1 208.952889 45.112889l106.439111-124.188445a34.133333 34.133333 0 0 1 48.128-3.754667z m-38.684444 202.524445C921.031111 362.951111 967.111111 452.835556 967.111111 512c0 113.777778-170.666667 341.333333-455.111111 341.333333-50.631111 0-97.678222-7.224889-140.8-19.740444l50.232889-58.595556A417.393778 417.393778 0 0 0 512 785.066667c208.270222 0 386.844444-162.304 386.844444-273.066667 0-52.849778-40.675556-117.418667-105.813333-170.496l43.804445-51.2zM512 238.933333C303.729778 238.933333 125.155556 401.237333 125.155556 512c0 66.787556 64.853333 152.291556 162.133333 209.692444L377.173333 616.675556a170.666667 170.666667 0 0 1 217.713778-253.895112l78.620445-91.704888A432.924444 432.924444 0 0 0 512 238.933333z m166.684444 236.088889a170.666667 170.666667 0 0 1-177.664 207.303111l177.607112-207.303111zM512 409.6a102.4 102.4 0 0 0-88.746667 153.486222L548.864 416.426667A102.172444 102.172444 0 0 0 512 409.6z"  ></path></symbol><symbol id="l7-icon-rectangle" viewBox="0 0 1024 1024"><path d="M170.666667 56.888889a113.777778 113.777778 0 0 1 108.544 79.644444H853.333333a34.133333 34.133333 0 0 1 33.678223 28.615111L887.466667 170.666667v574.122666a113.777778 113.777778 0 1 1-142.677334 142.734223L170.666667 887.466667a34.133333 34.133333 0 0 1-33.678223-28.615111L136.533333 853.333333V279.210667A113.777778 113.777778 0 0 1 170.666667 56.888889z m682.666666 750.933333a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z m-34.133333-603.022222H279.210667a114.062222 114.062222 0 0 1-74.353778 74.410667L204.8 819.2h539.989333a114.062222 114.062222 0 0 1 74.410667-74.410667V204.8zM170.666667 125.155556a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-ranging" viewBox="0 0 1024 1024"><path d="M723.171556 50.403556l250.424888 250.424888a31.061333 31.061333 0 0 1 0 43.918223L344.746667 973.596444a31.061333 31.061333 0 0 1-43.918223 0L50.403556 723.171556a31.061333 31.061333 0 0 1 0-43.918223L679.253333 50.403556a31.061333 31.061333 0 0 1 43.918223 0z m-21.959112 74.524444l-39.765333 39.822222 98.986667 98.872889a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222 62.179556 62.122667a34.133333 34.133333 0 0 1-44.088889 51.882667L563.2 387.242667 501.077333 325.063111 437.191111 388.949333l98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-63.886222 63.886222L387.242667 563.2a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.584-62.122667-62.179556-63.886222 63.886222 98.986667 98.929778a34.133333 34.133333 0 0 1-44.088889 51.882667l-4.209778-3.640889-98.929778-98.929778-39.765333 39.822222 197.802667 197.745778 576.284444-576.284444-197.802667-197.745778z"  ></path></symbol><symbol id="l7-icon-reposition" viewBox="0 0 1024 1024"><path d="M512 56.888889a34.133333 34.133333 0 0 1 34.133333 34.133333v24.177778A398.336 398.336 0 0 1 908.856889 477.866667h24.177778a34.133333 34.133333 0 0 1 0 68.266666h-24.177778A398.336 398.336 0 0 1 546.133333 908.856889L546.133333 932.977778a34.133333 34.133333 0 0 1-68.266666 0v-24.177778A398.336 398.336 0 0 1 115.2 546.133333L91.022222 546.133333a34.133333 34.133333 0 1 1 0-68.266666h24.177778A398.336 398.336 0 0 1 477.866667 115.2V91.022222A34.133333 34.133333 0 0 1 512 56.888889z m34.190222 126.862222L546.133333 193.422222a34.133333 34.133333 0 1 1-68.266666 0v-9.671111A330.069333 330.069333 0 0 0 183.751111 477.866667h9.671111a34.133333 34.133333 0 1 1 0 68.266666l-9.671111 0.056889A330.069333 330.069333 0 0 0 477.866667 840.248889V830.577778a34.133333 34.133333 0 0 1 68.266666 0l0.056889 9.671111A330.069333 330.069333 0 0 0 840.248889 546.133333L830.577778 546.133333a34.133333 34.133333 0 0 1 0-68.266666h9.671111A330.069333 330.069333 0 0 0 546.133333 183.751111zM512 341.333333a170.666667 170.666667 0 1 1 0 341.333334 170.666667 170.666667 0 0 1 0-341.333334z m0 68.266667a102.4 102.4 0 1 0 0 204.8 102.4 102.4 0 0 0 0-204.8z"  ></path></symbol><symbol id="l7-icon-round" viewBox="0 0 1024 1024"><path d="M512 56.888889a455.111111 455.111111 0 0 1 391.395556 687.502222 113.777778 113.777778 0 0 1-159.061334 158.890667A455.111111 455.111111 0 0 1 120.604444 279.608889 113.777778 113.777778 0 0 1 279.608889 120.604444 452.835556 452.835556 0 0 1 512 56.888889z m0 68.266667a384.910222 384.910222 0 0 0-191.715556 50.744888A113.777778 113.777778 0 0 1 175.957333 320.284444a386.844444 386.844444 0 0 0 527.815111 527.758223 113.777778 113.777778 0 0 1 144.270223-144.440889A386.844444 386.844444 0 0 0 512 125.155556z m299.406222 640.739555a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222zM212.593778 167.082667a45.511111 45.511111 0 1 0 0 91.022222 45.511111 45.511111 0 0 0 0-91.022222z"  ></path></symbol><symbol id="l7-icon-guanbi" viewBox="0 0 1024 1024"><path d="M576 512l277.333333 277.333333-64 64-277.333333-277.333333L234.666667 853.333333 170.666667 789.333333l277.333333-277.333333L170.666667 234.666667 234.666667 170.666667l277.333333 277.333333L789.333333 170.666667 853.333333 234.666667 576 512z"  ></path></symbol></svg>',function(e){try{let g=function(){f||(f=!0,p())},x=function(){try{n.documentElement.doScroll("left")}catch{return void setTimeout(x,50)}g()};var r=(r=document.getElementsByTagName("script"))[r.length-1],t=r.getAttribute("data-injectcss"),r=r.getAttribute("data-disable-injectsvg");if(!r){var i,s,p,n,f,m=function(b,F){F.parentNode.insertBefore(b,F)};if(t&&!e.__iconfont__svg__cssinject__){e.__iconfont__svg__cssinject__=!0;try{document.write("<style>.svgfont {display: inline-block;width: 1em;height: 1em;fill: currentColor;vertical-align: -0.1em;font-size:16px;}</style>")}catch(b){console&&console.log(b)}}i=function(){var b,F=document.createElement("div");F.innerHTML=e._iconfont_svg_string_3580659,(F=F.getElementsByTagName("svg")[0])&&(F.setAttribute("aria-hidden","true"),F.style.position="absolute",F.style.width=0,F.style.height=0,F.style.overflow="hidden",F=F,(b=document.body).firstChild?m(F,b.firstChild):b.appendChild(F))},document.addEventListener?~["complete","loaded","interactive"].indexOf(document.readyState)?setTimeout(i,0):(s=function(){document.removeEventListener("DOMContentLoaded",s,!1),i()},document.addEventListener("DOMContentLoaded",s,!1)):document.attachEvent&&(p=i,n=e.document,f=!1,x(),n.onreadystatechange=function(){n.readyState=="complete"&&(n.onreadystatechange=null,g())})}}catch{}}(window);class uy extends m6{constructor(t){super(),G(this,"controlOption",void 0),G(this,"container",void 0),G(this,"isShow",void 0),G(this,"sceneContainer",void 0),G(this,"scene",void 0),G(this,"mapsService",void 0),G(this,"renderService",void 0),G(this,"layerService",void 0),G(this,"controlService",void 0),G(this,"configService",void 0),uy.controlCount++,this.controlOption=wt(wt({},this.getDefault(t)),t||{})}getOptions(){return this.controlOption}setOptions(t){const r=this.getDefault(t);Object.entries(t).forEach(([i,s])=>{s===void 0&&(t[i]=r[i])}),"position"in t&&this.setPosition(t.position),"className"in t&&this.setClassName(t.className),"style"in t&&this.setStyle(t.style),this.controlOption=wt(wt({},this.controlOption),t)}addTo(t){this.mapsService=t.mapService,this.renderService=t.rendererService,this.layerService=t.layerService,this.controlService=t.controlService,this.configService=t.globalConfigService,this.scene=t.sceneService,this.sceneContainer=t,this.isShow=!0,this.container=this.onAdd(),Yd(this.container,"l7-control");const{className:r,style:i}=this.controlOption;return r&&this.setClassName(r),i&&this.setStyle(i),this.insertContainer(),this.emit("add",this),this}remove(){if(!this.mapsService)return this;Vh(this.container),this.onRemove(),this.emit("remove",this)}onAdd(){return cu("div")}onRemove(){}show(){const t=this.container;f2(t,"l7-control--hide"),this.isShow=!0,this.emit("show",this)}hide(){const t=this.container;Yd(t,"l7-control--hide"),this.isShow=!1,this.emit("hide",this)}getDefault(t){return{position:jh.TOPRIGHT,name:`${uy.controlCount}`}}getContainer(){return this.container}getIsShow(){return this.isShow}_refocusOnMap(t){if(this.mapsService&&t&&t.screenX>0&&t.screenY>0){const r=this.mapsService.getContainer();r!==null&&r.focus()}}setPosition(t=jh.TOPLEFT){const r=this.controlService;return r&&r.removeControl(this),this.controlOption.position=t,r&&r.addControl(this,this.sceneContainer),this}setClassName(t){const r=this.container,{className:i}=this.controlOption;i&&f2(r,i),t&&Yd(r,t)}setStyle(t){const r=this.container;t?r.setAttribute("style",t):r.removeAttribute("style")}insertContainer(){const t=this.controlOption.position,r=this.container;if(t instanceof Element)t.appendChild(r);else{const i=this.controlService.controlCorners[t];["bottomleft","bottomright","righttop","rightbottom"].includes(t)?i.insertBefore(r,i.firstChild):i.appendChild(r)}}checkUpdateOption(t,r){return r.some(i=>i in t)}}G(uy,"controlCount",0);class Kh extends du.EventEmitter{get buttonRect(){return this.button.getBoundingClientRect()}constructor(t,r){super(),G(this,"popperDOM",void 0),G(this,"contentDOM",void 0),G(this,"button",void 0),G(this,"option",void 0),G(this,"isShow",!1),G(this,"content",void 0),G(this,"timeout",null),G(this,"show",()=>this.isShow||!this.contentDOM.innerHTML?this:(this.resetPopperPosition(),f2(this.popperDOM,"l7-popper-hide"),this.isShow=!0,this.option.unique&&Kh.conflictPopperList.forEach(i=>{i!==this&&i.isShow&&i.hide()}),this.emit("show"),window.addEventListener("pointerdown",this.onPopperUnClick),this)),G(this,"hide",()=>this.isShow?(Yd(this.popperDOM,"l7-popper-hide"),this.isShow=!1,this.emit("hide"),window.removeEventListener("pointerdown",this.onPopperUnClick),this):this),G(this,"setHideTimeout",()=>{this.timeout||(this.timeout=window.setTimeout(()=>{this.isShow&&(this.hide(),this.timeout=null)},300))}),G(this,"clearHideTimeout",()=>{this.timeout&&(window.clearTimeout(this.timeout),this.timeout=null)}),G(this,"onBtnClick",()=>{this.isShow?this.hide():this.show()}),G(this,"onPopperUnClick",i=>{TE(i.target,[".l7-button-control",".l7-popper-content"])||this.hide()}),G(this,"onBtnMouseLeave",()=>{this.setHideTimeout()}),G(this,"onBtnMouseMove",()=>{this.clearHideTimeout(),!this.isShow&&this.show()}),this.button=t,this.option=r,this.init(),r.unique&&Kh.conflictPopperList.push(this)}getPopperDOM(){return this.popperDOM}getIsShow(){return this.isShow}getContent(){return this.content}setContent(t){typeof t=="string"?this.contentDOM.innerHTML=t:t instanceof HTMLElement&&(h8(this.contentDOM),this.contentDOM.appendChild(t)),this.content=t}init(){const{trigger:t}=this.option;this.popperDOM=this.createPopper(),t==="click"?this.button.addEventListener("click",this.onBtnClick):(this.button.addEventListener("mousemove",this.onBtnMouseMove),this.button.addEventListener("mouseleave",this.onBtnMouseLeave),this.popperDOM.addEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.addEventListener("mouseleave",this.onBtnMouseLeave))}destroy(){this.button.removeEventListener("click",this.onBtnClick),this.button.removeEventListener("mousemove",this.onBtnMouseMove),this.button.removeEventListener("mousemove",this.onBtnMouseLeave),this.popperDOM.removeEventListener("mousemove",this.onBtnMouseMove),this.popperDOM.removeEventListener("mouseleave",this.onBtnMouseLeave),Vh(this.popperDOM)}resetPopperPosition(){const t={},{container:r,offset:i=[0,0],placement:s}=this.option,[p,n]=i,f=this.button.getBoundingClientRect(),m=r.getBoundingClientRect(),{left:g,right:x,top:b,bottom:F}=AE(f,m);let R=!1,I=!1;/^(left|right)/.test(s)?(s.includes("left")?t.right=`${f.width+x}px`:s.includes("right")&&(t.left=`${f.width+g}px`),s.includes("start")?t.top=`${b}px`:s.includes("end")?t.bottom=`${F}px`:(t.top=`${b+f.height/2}px`,I=!0,t.transform=`translate(${p}px, calc(${n}px - 50%))`)):/^(top|bottom)/.test(s)&&(s.includes("top")?t.bottom=`${f.height+F}px`:s.includes("bottom")&&(t.top=`${f.height+b}px`),s.includes("start")?t.left=`${g}px`:s.includes("end")?t.right=`${x}px`:(t.left=`${g+f.width/2}px`,R=!0,t.transform=`translate(calc(${p}px - 50%), ${n}px)`)),t.transform=`translate(calc(${p}px - ${R?"50%":"0%"}), calc(${n}px - ${I?"50%":"0%"})`;const O=s.split("-");O.length&&Yd(this.popperDOM,O.map(U=>`l7-popper-${U}`).join(" ")),PE(this.popperDOM,bE(t))}createPopper(){const{container:t,className:r="",content:i}=this.option,s=cu("div",`l7-popper l7-popper-hide ${r}`),p=cu("div","l7-popper-content"),n=cu("div","l7-popper-arrow");return s.appendChild(p),s.appendChild(n),t.appendChild(s),this.popperDOM=s,this.contentDOM=p,i&&this.setContent(i),s}}G(Kh,"conflictPopperList",[]);const k5=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],Fc=(()=>{if(typeof document>"u")return!1;const e=k5[0],t={};for(const r of k5)if((r==null?void 0:r[1])in document){for(const[s,p]of r.entries())t[e[s]]=p;return t}return!1})(),z5={change:Fc.fullscreenchange,error:Fc.fullscreenerror};let Vu={request(e=document.documentElement,t){return new Promise((r,i)=>{const s=()=>{Vu.off("change",s),r()};Vu.on("change",s);const p=e[Fc.requestFullscreen](t);p instanceof Promise&&p.then(s).catch(i)})},exit(){return new Promise((e,t)=>{if(!Vu.isFullscreen){e();return}const r=()=>{Vu.off("change",r),e()};Vu.on("change",r);const i=document[Fc.exitFullscreen]();i instanceof Promise&&i.then(r).catch(t)})},toggle(e,t){return Vu.isFullscreen?Vu.exit():Vu.request(e,t)},onchange(e){Vu.on("change",e)},onerror(e){Vu.on("error",e)},on(e,t){const r=z5[e];r&&document.addEventListener(r,t,!1)},off(e,t){const r=z5[e];r&&document.removeEventListener(r,t,!1)},raw:Fc};Object.defineProperties(Vu,{isFullscreen:{get:()=>!!document[Fc.fullscreenElement]},element:{enumerable:!0,get:()=>{var e;return(e=document[Fc.fullscreenElement])!==null&&e!==void 0?e:void 0}},isEnabled:{enumerable:!0,get:()=>!!document[Fc.fullscreenEnabled]}});Fc||(Vu={isEnabled:!1});class PS extends uy{getDefault(){return{position:jh.BOTTOMLEFT,name:"logo",href:"https://l7.antv.antgroup.com/",img:"https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*GRb1TKp4HcMAAAAAAAAAAAAAARQnAQ"}}onAdd(){const t=cu("div","l7-control-logo");return this.setLogoContent(t),t}onRemove(){return null}setOptions(t){super.setOptions(t),this.checkUpdateOption(t,["img","href"])&&(h8(this.container),this.setLogoContent(this.container))}setLogoContent(t){const{href:r,img:i}=this.controlOption,s=cu("img");if(s.setAttribute("src",i),s.setAttribute("aria-label","AntV logo"),FE(s),r){const p=cu("a","l7-control-logo-link");p.target="_blank",p.href=r,p.rel="noopener nofollow",p.setAttribute("rel","noopener nofollow"),p.appendChild(s),t.appendChild(p)}else t.appendChild(s)}}class bS{constructor(){G(this,"mapService",void 0),G(this,"fontService",void 0)}apply(t,{styleAttributeService:r,mapService:i,fontService:s}){var p=this;this.mapService=i,this.fontService=s,t.hooks.init.tapPromise("DataMappingPlugin",Rt(function*(){t.log(_a.MappingStart,Ha.INIT),p.generateMaping(t,{styleAttributeService:r}),t.log(_a.MappingEnd,Ha.INIT)})),t.hooks.beforeRenderData.tapPromise("DataMappingPlugin",function(){var n=Rt(function*(f){if(!f)return f;t.dataState.dataMappingNeedUpdate=!1,t.log(_a.MappingStart,Ha.UPDATE);const m=p.generateMaping(t,{styleAttributeService:r});return t.log(_a.MappingEnd,Ha.UPDATE),m});return function(f){return n.apply(this,arguments)}}()),t.hooks.beforeRender.tap("DataMappingPlugin",()=>{const n=t.getSource();if(t.layerModelNeedUpdate||!n||!n.inited)return;const f=r.getLayerStyleAttributes()||[],m=r.getLayerStyleAttribute("filter"),{dataArray:g}=n.data;if(Array.isArray(g)&&g.length===0)return;const x=f.filter(F=>F.needRemapping);let b=g;if(m!=null&&m.needRemapping&&m!==null&&m!==void 0&&m.scale&&(b=g.filter(F=>this.applyAttributeMapping(m,F)[0])),x.length){const F=this.mapping(t,x,b,t.getEncodedData());t.setEncodedData(F)}})}generateMaping(t,{styleAttributeService:r}){const i=r.getLayerStyleAttributes()||[],s=r.getLayerStyleAttribute("filter"),{dataArray:p}=t.getSource().data;let n=p;s!=null&&s.scale&&(n=p.filter(m=>this.applyAttributeMapping(s,m)[0])),n=t.processData(n);const f=this.mapping(t,i,n,void 0);return t.setEncodedData(f),t.emit("dataUpdate",null),!0}mapping(t,r,i,s){const p=r.filter(f=>f.scale!==void 0).filter(f=>f.name!=="filter"),n=i.map((f,m)=>{const g=s?s[m]:{},x=wt({id:f._id,coordinates:f.coordinates},g);return p.forEach(b=>{let F=this.applyAttributeMapping(b,f);(b.name==="color"||b.name==="stroke")&&(F=F.map(R=>Di(R))),x[b.name]=Array.isArray(F)&&F.length===1?F[0]:F,b.name==="shape"&&(x.shape=this.fontService.getIconFontKey(x[b.name]))}),x});return r.forEach(f=>{f.needRemapping=!1}),this.adjustData2SimpleCoordinates(n),n}adjustData2SimpleCoordinates(t){t.length>0&&this.mapService.version==="SIMPLE"&&t.map(r=>{r.simpleCoordinate||(r.coordinates=this.unProjectCoordinates(r.coordinates),r.simpleCoordinate=!0)})}unProjectCoordinates(t){if(typeof t[0]=="number")return this.mapService.simpleMapCoord.unproject(t);if(t[0]&&t[0][0]instanceof Array){const r=[];return t.map(i=>{const s=[];i.map(p=>{s.push(this.mapService.simpleMapCoord.unproject(p))}),r.push(s)}),r}else{const r=[];return t.map(i=>{r.push(this.mapService.simpleMapCoord.unproject(i))}),r}}applyAttributeMapping(t,r){var i;if(!t.scale)return[];const s=(t==null||(i=t.scale)===null||i===void 0?void 0:i.scalers)||[],p=[];return s.forEach(({field:f})=>{var m;(r.hasOwnProperty(f)||((m=t.scale)===null||m===void 0?void 0:m.type)==="variable")&&p.push(r[f])}),t.mapping?t.mapping(p):[]}getArrowPoints(t,r){const i=[r[0]-t[0],r[1]-t[1]],s=NE(i);return[t[0]+s[0]*1e-4,t[1]+s[1]*1e-4]}}class AS{constructor(){G(this,"mapService",void 0)}apply(t){var r=this;this.mapService=t.getContainer().mapService,t.hooks.init.tapPromise("DataSourcePlugin",Rt(function*(){t.log(_a.SourceInitStart,Ha.INIT);let i=t.getSource();if(!i){const{data:s,options:p}=t.sourceOption||t.defaultSourceConfig;i=new xS(s,p),t.setSource(i)}i.inited?(r.updateClusterData(t),t.log(_a.SourceInitEnd,Ha.INIT)):yield new Promise(s=>{i.on("update",p=>{p.type==="inited"&&(r.updateClusterData(t),t.log(_a.SourceInitEnd,Ha.INIT)),s(null)})})})),t.hooks.beforeRenderData.tapPromise("DataSourcePlugin",Rt(function*(){const i=r.updateClusterData(t),s=t.dataState.dataSourceNeedUpdate;return t.dataState.dataSourceNeedUpdate=!1,i||s}))}updateClusterData(t){if(t.isTileLayer||t.tileLayer||!t.getSource())return!1;const r=t.getSource(),i=r.cluster,{zoom:s=0}=r.clusterOptions,p=this.mapService.getZoom()-1,n=t.dataState.dataSourceNeedUpdate;return i&&n&&r.updateClusterData(Math.floor(p)),i&&Math.abs(t.clusterZoom-p)>=1?(s!==Math.floor(p)&&r.updateClusterData(Math.floor(p)),t.clusterZoom=p,!0):!1}}function V5(e,t){let r,i;for(const s of e)s!=null&&(r===void 0?s>=s&&(r=i=s):(r>s&&(r=s),i<s&&(i=s)));return[r,i]}function FS(e,t,r,i,s){var p=e*e,n=p*e;return((1-3*e+3*p-n)*t+(4-6*p+3*n)*r+(1+3*e+3*p-3*n)*i+n*s)/6}function TS(e){var t=e.length-1;return function(r){var i=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),s=e[i],p=e[i+1],n=i>0?e[i-1]:2*s-p,f=i<t-1?e[i+2]:2*p-s;return FS((r-i/t)*t,n,s,p,f)}}function b6(e){return function(){return e}}function SS(e,t){return function(r){return e+r*t}}function RS(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(i){return Math.pow(e+i*t,r)}}function wS(e){return(e=+e)==1?p9:function(t,r){return r-t?RS(t,r,e):b6(isNaN(t)?r:t)}}function p9(e,t){var r=t-e;return r?SS(e,r):b6(isNaN(e)?t:e)}const H5=function e(t){var r=wS(t);function i(s,p){var n=r((s=zh(s)).r,(p=zh(p)).r),f=r(s.g,p.g),m=r(s.b,p.b),g=p9(s.opacity,p.opacity);return function(x){return s.r=n(x),s.g=f(x),s.b=m(x),s.opacity=g(x),s+""}}return i.gamma=e,i}(1);function CS(e){return function(t){var r=t.length,i=new Array(r),s=new Array(r),p=new Array(r),n,f;for(n=0;n<r;++n)f=zh(t[n]),i[n]=f.r||0,s[n]=f.g||0,p[n]=f.b||0;return i=e(i),s=e(s),p=e(p),f.opacity=1,function(m){return f.r=i(m),f.g=s(m),f.b=p(m),f+""}}}var IS=CS(TS);function MS(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,i=t.slice(),s;return function(p){for(s=0;s<r;++s)i[s]=e[s]*(1-p)+t[s]*p;return i}}function NS(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function DS(e,t){var r=t?t.length:0,i=e?Math.min(r,e.length):0,s=new Array(i),p=new Array(r),n;for(n=0;n<i;++n)s[n]=A6(e[n],t[n]);for(;n<r;++n)p[n]=t[n];return function(f){for(n=0;n<i;++n)p[n]=s[n](f);return p}}function OS(e,t){var r=new Date;return e=+e,t=+t,function(i){return r.setTime(e*(1-i)+t*i),r}}function Qh(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function LS(e,t){var r={},i={},s;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(s in t)s in e?r[s]=A6(e[s],t[s]):i[s]=t[s];return function(p){for(s in r)i[s]=r[s](p);return i}}var L2=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Zm=new RegExp(L2.source,"g");function BS(e){return function(){return e}}function US(e){return function(t){return e(t)+""}}function kS(e,t){var r=L2.lastIndex=Zm.lastIndex=0,i,s,p,n=-1,f=[],m=[];for(e=e+"",t=t+"";(i=L2.exec(e))&&(s=Zm.exec(t));)(p=s.index)>r&&(p=t.slice(r,p),f[n]?f[n]+=p:f[++n]=p),(i=i[0])===(s=s[0])?f[n]?f[n]+=s:f[++n]=s:(f[++n]=null,m.push({i:n,x:Qh(i,s)})),r=Zm.lastIndex;return r<t.length&&(p=t.slice(r),f[n]?f[n]+=p:f[++n]=p),f.length<2?m[0]?US(m[0].x):BS(t):(t=m.length,function(g){for(var x=0,b;x<t;++x)f[(b=m[x]).i]=b.x(g);return f.join("")})}function A6(e,t){var r=typeof t,i;return t==null||r==="boolean"?b6(t):(r==="number"?Qh:r==="string"?(i=F0(t))?(t=i,H5):kS:t instanceof F0?H5:t instanceof Date?OS:NS(t)?MS:Array.isArray(t)?DS:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?LS:Qh)(e,t)}function zS(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}function F6(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function c9(e){return e.length===1&&(e=VS(e)),{left:function(t,r,i,s){for(i==null&&(i=0),s==null&&(s=t.length);i<s;){var p=i+s>>>1;e(t[p],r)<0?i=p+1:s=p}return i},right:function(t,r,i,s){for(i==null&&(i=0),s==null&&(s=t.length);i<s;){var p=i+s>>>1;e(t[p],r)>0?s=p:i=p+1}return i}}}function VS(e){return function(t,r){return F6(e(t),r)}}var HS=c9(F6),Sf=HS.right;function GS(e){return e===null?NaN:+e}var B2=Math.sqrt(50),U2=Math.sqrt(10),k2=Math.sqrt(2);function l9(e,t,r){var i,s=-1,p,n,f;if(t=+t,e=+e,r=+r,e===t&&r>0)return[e];if((i=t<e)&&(p=e,e=t,t=p),(f=Sh(e,t,r))===0||!isFinite(f))return[];if(f>0)for(e=Math.ceil(e/f),t=Math.floor(t/f),n=new Array(p=Math.ceil(t-e+1));++s<p;)n[s]=(e+s)*f;else for(e=Math.floor(e*f),t=Math.ceil(t*f),n=new Array(p=Math.ceil(e-t+1));++s<p;)n[s]=(e-s)/f;return i&&n.reverse(),n}function Sh(e,t,r){var i=(t-e)/Math.max(0,r),s=Math.floor(Math.log(i)/Math.LN10),p=i/Math.pow(10,s);return s>=0?(p>=B2?10:p>=U2?5:p>=k2?2:1)*Math.pow(10,s):-Math.pow(10,-s)/(p>=B2?10:p>=U2?5:p>=k2?2:1)}function z2(e,t,r){var i=Math.abs(t-e)/Math.max(0,r),s=Math.pow(10,Math.floor(Math.log(i)/Math.LN10)),p=i/s;return p>=B2?s*=10:p>=U2?s*=5:p>=k2&&(s*=2),t<e?-s:s}function jS(e,t,r){if(r==null&&(r=GS),!!(i=e.length)){if((t=+t)<=0||i<2)return+r(e[0],0,e);if(t>=1)return+r(e[i-1],i-1,e);var i,s=(i-1)*t,p=Math.floor(s),n=+r(e[p],p,e),f=+r(e[p+1],p+1,e);return n+(f-n)*(s-p)}}function Tl(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function d9(e,t){switch(arguments.length){case 0:break;case 1:this.interpolator(e);break;default:this.interpolator(t).domain(e);break}return this}var zu="$";function Jh(){}Jh.prototype=ef.prototype={constructor:Jh,has:function(e){return zu+e in this},get:function(e){return this[zu+e]},set:function(e,t){return this[zu+e]=t,this},remove:function(e){var t=zu+e;return t in this&&delete this[t]},clear:function(){for(var e in this)e[0]===zu&&delete this[e]},keys:function(){var e=[];for(var t in this)t[0]===zu&&e.push(t.slice(1));return e},values:function(){var e=[];for(var t in this)t[0]===zu&&e.push(this[t]);return e},entries:function(){var e=[];for(var t in this)t[0]===zu&&e.push({key:t.slice(1),value:this[t]});return e},size:function(){var e=0;for(var t in this)t[0]===zu&&++e;return e},empty:function(){for(var e in this)if(e[0]===zu)return!1;return!0},each:function(e){for(var t in this)t[0]===zu&&e(this[t],t.slice(1),this)}};function ef(e,t){var r=new Jh;if(e instanceof Jh)e.each(function(f,m){r.set(m,f)});else if(Array.isArray(e)){var i=-1,s=e.length,p;if(t==null)for(;++i<s;)r.set(i,e[i]);else for(;++i<s;)r.set(t(p=e[i],i,e),p)}else if(e)for(var n in e)r.set(n,e[n]);return r}function G5(){}var n1=ef.prototype;G5.prototype={constructor:G5,has:n1.has,add:function(e){return e+="",this[zu+e]=e,this},remove:n1.remove,clear:n1.clear,values:n1.keys,size:n1.size,empty:n1.empty,each:n1.each};var y9=Array.prototype,h9=y9.map,f1=y9.slice,j5={name:"implicit"};function tf(){var e=ef(),t=[],r=[],i=j5;function s(p){var n=p+"",f=e.get(n);if(!f){if(i!==j5)return i;e.set(n,f=t.push(p))}return r[(f-1)%r.length]}return s.domain=function(p){if(!arguments.length)return t.slice();t=[],e=ef();for(var n=-1,f=p.length,m,g;++n<f;)e.has(g=(m=p[n])+"")||e.set(g,t.push(m));return s},s.range=function(p){return arguments.length?(r=f1.call(p),s):r.slice()},s.unknown=function(p){return arguments.length?(i=p,s):i},s.copy=function(){return tf(t,r).unknown(i)},Tl.apply(s,arguments),s}function WS(e){return function(){return e}}function XS(e){return+e}var W5=[0,1];function is(e){return e}function V2(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:WS(isNaN(t)?NaN:.5)}function X5(e){var t=e[0],r=e[e.length-1],i;return t>r&&(i=t,t=r,r=i),function(s){return Math.max(t,Math.min(r,s))}}function ZS(e,t,r){var i=e[0],s=e[1],p=t[0],n=t[1];return s<i?(i=V2(s,i),p=r(n,p)):(i=V2(i,s),p=r(p,n)),function(f){return p(i(f))}}function YS(e,t,r){var i=Math.min(e.length,t.length)-1,s=new Array(i),p=new Array(i),n=-1;for(e[i]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++n<i;)s[n]=V2(e[n],e[n+1]),p[n]=r(t[n],t[n+1]);return function(f){var m=Sf(e,f,1,i)-1;return p[m](s[m](f))}}function Rf(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function T6(){var e=W5,t=W5,r=A6,i,s,p,n=is,f,m,g;function x(){return f=Math.min(e.length,t.length)>2?YS:ZS,m=g=null,b}function b(F){return isNaN(F=+F)?p:(m||(m=f(e.map(i),t,r)))(i(n(F)))}return b.invert=function(F){return n(s((g||(g=f(t,e.map(i),Qh)))(F)))},b.domain=function(F){return arguments.length?(e=h9.call(F,XS),n===is||(n=X5(e)),x()):e.slice()},b.range=function(F){return arguments.length?(t=f1.call(F),x()):t.slice()},b.rangeRound=function(F){return t=f1.call(F),r=zS,x()},b.clamp=function(F){return arguments.length?(n=F?X5(e):is,b):n!==is},b.interpolate=function(F){return arguments.length?(r=F,x()):r},b.unknown=function(F){return arguments.length?(p=F,b):p},function(F,R){return i=F,s=R,x()}}function f9(e,t){return T6()(e,t)}function qS(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,i=e.slice(0,r);return[i.length>1?i[0]+i.slice(2):i,+e.slice(r+1)]}function S0(e){return e=rf(Math.abs(e)),e?e[1]:NaN}function $S(e,t){return function(r,i){for(var s=r.length,p=[],n=0,f=e[0],m=0;s>0&&f>0&&(m+f+1>i&&(f=Math.max(1,i-m)),p.push(r.substring(s-=f,s+f)),!((m+=f+1)>i));)f=e[n=(n+1)%e.length];return p.reverse().join(t)}}function KS(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var QS=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function of(e){if(!(t=QS.exec(e)))throw new Error("invalid format: "+e);var t;return new S6({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}of.prototype=S6.prototype;function S6(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}S6.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JS(e){e:for(var t=e.length,r=1,i=-1,s;r<t;++r)switch(e[r]){case".":i=s=r;break;case"0":i===0&&(i=r),s=r;break;default:if(!+e[r])break e;i>0&&(i=0);break}return i>0?e.slice(0,i)+e.slice(s+1):e}var m9;function eR(e,t){var r=rf(e,t);if(!r)return e+"";var i=r[0],s=r[1],p=s-(m9=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,n=i.length;return p===n?i:p>n?i+new Array(p-n+1).join("0"):p>0?i.slice(0,p)+"."+i.slice(p):"0."+new Array(1-p).join("0")+rf(e,Math.max(0,t+p-1))[0]}function Z5(e,t){var r=rf(e,t);if(!r)return e+"";var i=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+i:i.length>s+1?i.slice(0,s+1)+"."+i.slice(s+1):i+new Array(s-i.length+2).join("0")}const Y5={"%":function(e,t){return(e*100).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:qS,e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return Z5(e*100,t)},r:Z5,s:eR,X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}};function q5(e){return e}var $5=Array.prototype.map,K5=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tR(e){var t=e.grouping===void 0||e.thousands===void 0?q5:$S($5.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",i=e.currency===void 0?"":e.currency[1]+"",s=e.decimal===void 0?".":e.decimal+"",p=e.numerals===void 0?q5:KS($5.call(e.numerals,String)),n=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"-":e.minus+"",m=e.nan===void 0?"NaN":e.nan+"";function g(b){b=of(b);var F=b.fill,R=b.align,I=b.sign,O=b.symbol,U=b.zero,Y=b.width,ee=b.comma,oe=b.precision,Re=b.trim,Ae=b.type;Ae==="n"?(ee=!0,Ae="g"):Y5[Ae]||(oe===void 0&&(oe=12),Re=!0,Ae="g"),(U||F==="0"&&R==="=")&&(U=!0,F="0",R="=");var ce=O==="$"?r:O==="#"&&/[boxX]/.test(Ae)?"0"+Ae.toLowerCase():"",Ie=O==="$"?i:/[%p]/.test(Ae)?n:"",De=Y5[Ae],ht=/[defgprs%]/.test(Ae);oe=oe===void 0?6:/[gprs]/.test(Ae)?Math.max(1,Math.min(21,oe)):Math.max(0,Math.min(20,oe));function qe(we){var B=ce,X=Ie,de,mt,re;if(Ae==="c")X=De(we)+X,we="";else{we=+we;var fe=we<0||1/we<0;if(we=isNaN(we)?m:De(Math.abs(we),oe),Re&&(we=JS(we)),fe&&+we==0&&I!=="+"&&(fe=!1),B=(fe?I==="("?I:f:I==="-"||I==="("?"":I)+B,X=(Ae==="s"?K5[8+m9/3]:"")+X+(fe&&I==="("?")":""),ht){for(de=-1,mt=we.length;++de<mt;)if(re=we.charCodeAt(de),48>re||re>57){X=(re===46?s+we.slice(de+1):we.slice(de))+X,we=we.slice(0,de);break}}}ee&&!U&&(we=t(we,1/0));var Pe=B.length+we.length+X.length,Xe=Pe<Y?new Array(Y-Pe+1).join(F):"";switch(ee&&U&&(we=t(Xe+we,Xe.length?Y-X.length:1/0),Xe=""),R){case"<":we=B+we+X+Xe;break;case"=":we=B+Xe+we+X;break;case"^":we=Xe.slice(0,Pe=Xe.length>>1)+B+we+X+Xe.slice(Pe);break;default:we=Xe+B+we+X;break}return p(we)}return qe.toString=function(){return b+""},qe}function x(b,F){var R=g((b=of(b),b.type="f",b)),I=Math.max(-8,Math.min(8,Math.floor(S0(F)/3)))*3,O=Math.pow(10,-I),U=K5[8+I/3];return function(Y){return R(O*Y)+U}}return{format:g,formatPrefix:x}}var uh,R6,_9;rR({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function rR(e){return uh=tR(e),R6=uh.format,_9=uh.formatPrefix,uh}function oR(e){return Math.max(0,-S0(Math.abs(e)))}function iR(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(S0(t)/3)))*3-S0(Math.abs(e)))}function nR(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,S0(t)-S0(e))+1}function aR(e,t,r,i){var s=z2(e,t,r),p;switch(i=of(i??",f"),i.type){case"s":{var n=Math.max(Math.abs(e),Math.abs(t));return i.precision==null&&!isNaN(p=iR(s,n))&&(i.precision=p),_9(i,n)}case"":case"e":case"g":case"p":case"r":{i.precision==null&&!isNaN(p=nR(s,Math.max(Math.abs(e),Math.abs(t))))&&(i.precision=p-(i.type==="e"));break}case"f":case"%":{i.precision==null&&!isNaN(p=oR(s))&&(i.precision=p-(i.type==="%")*2);break}}return R6(i)}function _y(e){var t=e.domain;return e.ticks=function(r){var i=t();return l9(i[0],i[i.length-1],r??10)},e.tickFormat=function(r,i){var s=t();return aR(s[0],s[s.length-1],r??10,i)},e.nice=function(r){r==null&&(r=10);var i=t(),s=0,p=i.length-1,n=i[s],f=i[p],m;return f<n&&(m=n,n=f,f=m,m=s,s=p,p=m),m=Sh(n,f,r),m>0?(n=Math.floor(n/m)*m,f=Math.ceil(f/m)*m,m=Sh(n,f,r)):m<0&&(n=Math.ceil(n*m)/m,f=Math.floor(f*m)/m,m=Sh(n,f,r)),m>0?(i[s]=Math.floor(n/m)*m,i[p]=Math.ceil(f/m)*m,t(i)):m<0&&(i[s]=Math.ceil(n*m)/m,i[p]=Math.floor(f*m)/m,t(i)),e},e}function g9(){var e=f9(is,is);return e.copy=function(){return Rf(e,g9())},Tl.apply(e,arguments),_y(e)}function v9(e,t){e=e.slice();var r=0,i=e.length-1,s=e[r],p=e[i],n;return p<s&&(n=r,r=i,i=n,n=s,s=p,p=n),e[r]=t.floor(s),e[i]=t.ceil(p),e}function Q5(e){return Math.log(e)}function J5(e){return Math.exp(e)}function sR(e){return-Math.log(-e)}function uR(e){return-Math.exp(-e)}function pR(e){return isFinite(e)?+("1e"+e):e<0?0:e}function cR(e){return e===10?pR:e===Math.E?Math.exp:function(t){return Math.pow(e,t)}}function lR(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),function(t){return Math.log(t)/e})}function e4(e){return function(t){return-e(-t)}}function dR(e){var t=e(Q5,J5),r=t.domain,i=10,s,p;function n(){return s=lR(i),p=cR(i),r()[0]<0?(s=e4(s),p=e4(p),e(sR,uR)):e(Q5,J5),t}return t.base=function(f){return arguments.length?(i=+f,n()):i},t.domain=function(f){return arguments.length?(r(f),n()):r()},t.ticks=function(f){var m=r(),g=m[0],x=m[m.length-1],b;(b=x<g)&&(F=g,g=x,x=F);var F=s(g),R=s(x),I,O,U,Y=f==null?10:+f,ee=[];if(!(i%1)&&R-F<Y){if(F=Math.round(F)-1,R=Math.round(R)+1,g>0){for(;F<R;++F)for(O=1,I=p(F);O<i;++O)if(U=I*O,!(U<g)){if(U>x)break;ee.push(U)}}else for(;F<R;++F)for(O=i-1,I=p(F);O>=1;--O)if(U=I*O,!(U<g)){if(U>x)break;ee.push(U)}}else ee=l9(F,R,Math.min(R-F,Y)).map(p);return b?ee.reverse():ee},t.tickFormat=function(f,m){if(m==null&&(m=i===10?".0e":","),typeof m!="function"&&(m=R6(m)),f===1/0)return m;f==null&&(f=10);var g=Math.max(1,i*f/t.ticks().length);return function(x){var b=x/p(Math.round(s(x)));return b*i<i-.5&&(b*=i),b<=g?m(x):""}},t.nice=function(){return r(v9(r(),{floor:function(f){return p(Math.floor(s(f)))},ceil:function(f){return p(Math.ceil(s(f)))}}))},t}function E9(){var e=dR(T6()).domain([1,10]);return e.copy=function(){return Rf(e,E9()).base(e.base())},Tl.apply(e,arguments),e}function t4(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function yR(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function hR(e){return e<0?-e*e:e*e}function fR(e){var t=e(is,is),r=1;function i(){return r===1?e(is,is):r===.5?e(yR,hR):e(t4(r),t4(1/r))}return t.exponent=function(s){return arguments.length?(r=+s,i()):r},_y(t)}function x9(){var e=fR(T6());return e.copy=function(){return Rf(e,x9()).exponent(e.exponent())},Tl.apply(e,arguments),e}function P9(){var e=[],t=[],r=[],i;function s(){var n=0,f=Math.max(1,t.length);for(r=new Array(f-1);++n<f;)r[n-1]=jS(e,n/f);return p}function p(n){return isNaN(n=+n)?i:t[Sf(r,n)]}return p.invertExtent=function(n){var f=t.indexOf(n);return f<0?[NaN,NaN]:[f>0?r[f-1]:e[0],f<r.length?r[f]:e[e.length-1]]},p.domain=function(n){if(!arguments.length)return e.slice();e=[];for(var f=0,m=n.length,g;f<m;++f)g=n[f],g!=null&&!isNaN(g=+g)&&e.push(g);return e.sort(F6),s()},p.range=function(n){return arguments.length?(t=f1.call(n),s()):t.slice()},p.unknown=function(n){return arguments.length?(i=n,p):i},p.quantiles=function(){return r.slice()},p.copy=function(){return P9().domain(e).range(t).unknown(i)},Tl.apply(p,arguments)}function b9(){var e=0,t=1,r=1,i=[.5],s=[0,1],p;function n(m){return m<=m?s[Sf(i,m,0,r)]:p}function f(){var m=-1;for(i=new Array(r);++m<r;)i[m]=((m+1)*t-(m-r)*e)/(r+1);return n}return n.domain=function(m){return arguments.length?(e=+m[0],t=+m[1],f()):[e,t]},n.range=function(m){return arguments.length?(r=(s=f1.call(m)).length-1,f()):s.slice()},n.invertExtent=function(m){var g=s.indexOf(m);return g<0?[NaN,NaN]:g<1?[e,i[0]]:g>=r?[i[r-1],t]:[i[g-1],i[g]]},n.unknown=function(m){return arguments.length&&(p=m),n},n.thresholds=function(){return i.slice()},n.copy=function(){return b9().domain([e,t]).range(s).unknown(p)},Tl.apply(_y(n),arguments)}function A9(){var e=[.5],t=[0,1],r,i=1;function s(p){return p<=p?t[Sf(e,p,0,i)]:r}return s.domain=function(p){return arguments.length?(e=f1.call(p),i=Math.min(e.length,t.length-1),s):e.slice()},s.range=function(p){return arguments.length?(t=f1.call(p),i=Math.min(e.length,t.length-1),s):t.slice()},s.invertExtent=function(p){var n=t.indexOf(p);return[e[n-1],e[n]]},s.unknown=function(p){return arguments.length?(r=p,s):r},s.copy=function(){return A9().domain(e).range(t).unknown(r)},Tl.apply(s,arguments)}var Ym=new Date,qm=new Date;function _s(e,t,r,i){function s(p){return e(p=arguments.length===0?new Date:new Date(+p)),p}return s.floor=function(p){return e(p=new Date(+p)),p},s.ceil=function(p){return e(p=new Date(p-1)),t(p,1),e(p),p},s.round=function(p){var n=s(p),f=s.ceil(p);return p-n<f-p?n:f},s.offset=function(p,n){return t(p=new Date(+p),n==null?1:Math.floor(n)),p},s.range=function(p,n,f){var m=[],g;if(p=s.ceil(p),f=f==null?1:Math.floor(f),!(p<n)||!(f>0))return m;do m.push(g=new Date(+p)),t(p,f),e(p);while(g<p&&p<n);return m},s.filter=function(p){return _s(function(n){if(n>=n)for(;e(n),!p(n);)n.setTime(n-1)},function(n,f){if(n>=n)if(f<0)for(;++f<=0;)for(;t(n,-1),!p(n););else for(;--f>=0;)for(;t(n,1),!p(n););})},r&&(s.count=function(p,n){return Ym.setTime(+p),qm.setTime(+n),e(Ym),e(qm),Math.floor(r(Ym,qm))},s.every=function(p){return p=Math.floor(p),!isFinite(p)||!(p>0)?null:p>1?s.filter(i?function(n){return i(n)%p===0}:function(n){return s.count(0,n)%p===0}):s}),s}var nf=_s(function(){},function(e,t){e.setTime(+e+t)},function(e,t){return t-e});nf.every=function(e){return e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?_s(function(t){t.setTime(Math.floor(t/e)*e)},function(t,r){t.setTime(+t+r*e)},function(t,r){return(r-t)/e}):nf};nf.range;var af=1e3,py=6e4,r4=36e5,F9=864e5,T9=6048e5,S9=_s(function(e){e.setTime(e-e.getMilliseconds())},function(e,t){e.setTime(+e+t*af)},function(e,t){return(t-e)/af},function(e){return e.getUTCSeconds()});S9.range;var R9=_s(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*af)},function(e,t){e.setTime(+e+t*py)},function(e,t){return(t-e)/py},function(e){return e.getMinutes()});R9.range;var w9=_s(function(e){e.setTime(e-e.getMilliseconds()-e.getSeconds()*af-e.getMinutes()*py)},function(e,t){e.setTime(+e+t*r4)},function(e,t){return(t-e)/r4},function(e){return e.getHours()});w9.range;var wf=_s(function(e){e.setHours(0,0,0,0)},function(e,t){e.setDate(e.getDate()+t)},function(e,t){return(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*py)/F9},function(e){return e.getDate()-1});wf.range;function v1(e){return _s(function(t){t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},function(t,r){t.setDate(t.getDate()+r*7)},function(t,r){return(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*py)/T9})}var w6=v1(0),sf=v1(1),mR=v1(2),_R=v1(3),R0=v1(4),gR=v1(5),vR=v1(6);w6.range;sf.range;mR.range;_R.range;R0.range;gR.range;vR.range;var C9=_s(function(e){e.setDate(1),e.setHours(0,0,0,0)},function(e,t){e.setMonth(e.getMonth()+t)},function(e,t){return t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12},function(e){return e.getMonth()});C9.range;var bl=_s(function(e){e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e,t){return t.getFullYear()-e.getFullYear()},function(e){return e.getFullYear()});bl.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:_s(function(t){t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,r){t.setFullYear(t.getFullYear()+r*e)})};bl.range;var C6=_s(function(e){e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCDate(e.getUTCDate()+t)},function(e,t){return(t-e)/F9},function(e){return e.getUTCDate()-1});C6.range;function E1(e){return _s(function(t){t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCDate(t.getUTCDate()+r*7)},function(t,r){return(r-t)/T9})}var I9=E1(0),uf=E1(1),ER=E1(2),xR=E1(3),w0=E1(4),PR=E1(5),bR=E1(6);I9.range;uf.range;ER.range;xR.range;w0.range;PR.range;bR.range;var m1=_s(function(e){e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,t){e.setUTCFullYear(e.getUTCFullYear()+t)},function(e,t){return t.getUTCFullYear()-e.getUTCFullYear()},function(e){return e.getUTCFullYear()});m1.every=function(e){return!isFinite(e=Math.floor(e))||!(e>0)?null:_s(function(t){t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,r){t.setUTCFullYear(t.getUTCFullYear()+r*e)})};m1.range;function $m(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Km(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function xd(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function AR(e){var t=e.dateTime,r=e.date,i=e.time,s=e.periods,p=e.days,n=e.shortDays,f=e.months,m=e.shortMonths,g=Pd(s),x=bd(s),b=Pd(p),F=bd(p),R=Pd(n),I=bd(n),O=Pd(f),U=bd(f),Y=Pd(m),ee=bd(m),oe={a:fe,A:Pe,b:Xe,B:Ye,c:null,d:u4,e:u4,f:ZR,g:ow,G:nw,H:jR,I:WR,j:XR,L:M9,m:YR,M:qR,p:at,q:ct,Q:l4,s:d4,S:$R,u:KR,U:QR,V:JR,w:ew,W:tw,x:null,X:null,y:rw,Y:iw,Z:aw,"%":c4},Re={a:Lt,A:pr,b:Wt,B:uo,c:null,d:p4,e:p4,f:cw,g:Ew,G:Pw,H:sw,I:uw,j:pw,L:D9,m:lw,M:dw,p:hr,q:Lr,Q:l4,s:d4,S:yw,u:hw,U:fw,V:mw,w:_w,W:gw,x:null,X:null,y:vw,Y:xw,Z:bw,"%":c4},Ae={a:qe,A:we,b:B,B:X,c:de,d:a4,e:a4,f:zR,g:n4,G:i4,H:s4,I:s4,j:LR,L:kR,m:OR,M:BR,p:ht,q:DR,Q:HR,s:GR,S:UR,u:wR,U:CR,V:IR,w:RR,W:MR,x:mt,X:re,y:n4,Y:i4,Z:NR,"%":VR};oe.x=ce(r,oe),oe.X=ce(i,oe),oe.c=ce(t,oe),Re.x=ce(r,Re),Re.X=ce(i,Re),Re.c=ce(t,Re);function ce(At,lt){return function(yr){var bt=[],Fr=-1,to=0,Ir=At.length,wr,No,Qr;for(yr instanceof Date||(yr=new Date(+yr));++Fr<Ir;)At.charCodeAt(Fr)===37&&(bt.push(At.slice(to,Fr)),(No=o4[wr=At.charAt(++Fr)])!=null?wr=At.charAt(++Fr):No=wr==="e"?" ":"0",(Qr=lt[wr])&&(wr=Qr(yr,No)),bt.push(wr),to=Fr+1);return bt.push(At.slice(to,Fr)),bt.join("")}}function Ie(At,lt){return function(yr){var bt=xd(1900,void 0,1),Fr=De(bt,At,yr+="",0),to,Ir;if(Fr!=yr.length)return null;if("Q"in bt)return new Date(bt.Q);if("s"in bt)return new Date(bt.s*1e3+("L"in bt?bt.L:0));if(lt&&!("Z"in bt)&&(bt.Z=0),"p"in bt&&(bt.H=bt.H%12+bt.p*12),bt.m===void 0&&(bt.m="q"in bt?bt.q:0),"V"in bt){if(bt.V<1||bt.V>53)return null;"w"in bt||(bt.w=1),"Z"in bt?(to=Km(xd(bt.y,0,1)),Ir=to.getUTCDay(),to=Ir>4||Ir===0?uf.ceil(to):uf(to),to=C6.offset(to,(bt.V-1)*7),bt.y=to.getUTCFullYear(),bt.m=to.getUTCMonth(),bt.d=to.getUTCDate()+(bt.w+6)%7):(to=$m(xd(bt.y,0,1)),Ir=to.getDay(),to=Ir>4||Ir===0?sf.ceil(to):sf(to),to=wf.offset(to,(bt.V-1)*7),bt.y=to.getFullYear(),bt.m=to.getMonth(),bt.d=to.getDate()+(bt.w+6)%7)}else("W"in bt||"U"in bt)&&("w"in bt||(bt.w="u"in bt?bt.u%7:"W"in bt?1:0),Ir="Z"in bt?Km(xd(bt.y,0,1)).getUTCDay():$m(xd(bt.y,0,1)).getDay(),bt.m=0,bt.d="W"in bt?(bt.w+6)%7+bt.W*7-(Ir+5)%7:bt.w+bt.U*7-(Ir+6)%7);return"Z"in bt?(bt.H+=bt.Z/100|0,bt.M+=bt.Z%100,Km(bt)):$m(bt)}}function De(At,lt,yr,bt){for(var Fr=0,to=lt.length,Ir=yr.length,wr,No;Fr<to;){if(bt>=Ir)return-1;if(wr=lt.charCodeAt(Fr++),wr===37){if(wr=lt.charAt(Fr++),No=Ae[wr in o4?lt.charAt(Fr++):wr],!No||(bt=No(At,yr,bt))<0)return-1}else if(wr!=yr.charCodeAt(bt++))return-1}return bt}function ht(At,lt,yr){var bt=g.exec(lt.slice(yr));return bt?(At.p=x[bt[0].toLowerCase()],yr+bt[0].length):-1}function qe(At,lt,yr){var bt=R.exec(lt.slice(yr));return bt?(At.w=I[bt[0].toLowerCase()],yr+bt[0].length):-1}function we(At,lt,yr){var bt=b.exec(lt.slice(yr));return bt?(At.w=F[bt[0].toLowerCase()],yr+bt[0].length):-1}function B(At,lt,yr){var bt=Y.exec(lt.slice(yr));return bt?(At.m=ee[bt[0].toLowerCase()],yr+bt[0].length):-1}function X(At,lt,yr){var bt=O.exec(lt.slice(yr));return bt?(At.m=U[bt[0].toLowerCase()],yr+bt[0].length):-1}function de(At,lt,yr){return De(At,t,lt,yr)}function mt(At,lt,yr){return De(At,r,lt,yr)}function re(At,lt,yr){return De(At,i,lt,yr)}function fe(At){return n[At.getDay()]}function Pe(At){return p[At.getDay()]}function Xe(At){return m[At.getMonth()]}function Ye(At){return f[At.getMonth()]}function at(At){return s[+(At.getHours()>=12)]}function ct(At){return 1+~~(At.getMonth()/3)}function Lt(At){return n[At.getUTCDay()]}function pr(At){return p[At.getUTCDay()]}function Wt(At){return m[At.getUTCMonth()]}function uo(At){return f[At.getUTCMonth()]}function hr(At){return s[+(At.getUTCHours()>=12)]}function Lr(At){return 1+~~(At.getUTCMonth()/3)}return{format:function(At){var lt=ce(At+="",oe);return lt.toString=function(){return At},lt},parse:function(At){var lt=Ie(At+="",!1);return lt.toString=function(){return At},lt},utcFormat:function(At){var lt=ce(At+="",Re);return lt.toString=function(){return At},lt},utcParse:function(At){var lt=Ie(At+="",!0);return lt.toString=function(){return At},lt}}}var o4={"-":"",_:" ",0:"0"},Ca=/^\s*\d+/,FR=/^%/,TR=/[\\^$*+?|[\]().{}]/g;function gi(e,t,r){var i=e<0?"-":"",s=(i?-e:e)+"",p=s.length;return i+(p<r?new Array(r-p+1).join(t)+s:s)}function SR(e){return e.replace(TR,"\\$&")}function Pd(e){return new RegExp("^(?:"+e.map(SR).join("|")+")","i")}function bd(e){for(var t={},r=-1,i=e.length;++r<i;)t[e[r].toLowerCase()]=r;return t}function RR(e,t,r){var i=Ca.exec(t.slice(r,r+1));return i?(e.w=+i[0],r+i[0].length):-1}function wR(e,t,r){var i=Ca.exec(t.slice(r,r+1));return i?(e.u=+i[0],r+i[0].length):-1}function CR(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.U=+i[0],r+i[0].length):-1}function IR(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.V=+i[0],r+i[0].length):-1}function MR(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.W=+i[0],r+i[0].length):-1}function i4(e,t,r){var i=Ca.exec(t.slice(r,r+4));return i?(e.y=+i[0],r+i[0].length):-1}function n4(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.y=+i[0]+(+i[0]>68?1900:2e3),r+i[0].length):-1}function NR(e,t,r){var i=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return i?(e.Z=i[1]?0:-(i[2]+(i[3]||"00")),r+i[0].length):-1}function DR(e,t,r){var i=Ca.exec(t.slice(r,r+1));return i?(e.q=i[0]*3-3,r+i[0].length):-1}function OR(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.m=i[0]-1,r+i[0].length):-1}function a4(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.d=+i[0],r+i[0].length):-1}function LR(e,t,r){var i=Ca.exec(t.slice(r,r+3));return i?(e.m=0,e.d=+i[0],r+i[0].length):-1}function s4(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.H=+i[0],r+i[0].length):-1}function BR(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.M=+i[0],r+i[0].length):-1}function UR(e,t,r){var i=Ca.exec(t.slice(r,r+2));return i?(e.S=+i[0],r+i[0].length):-1}function kR(e,t,r){var i=Ca.exec(t.slice(r,r+3));return i?(e.L=+i[0],r+i[0].length):-1}function zR(e,t,r){var i=Ca.exec(t.slice(r,r+6));return i?(e.L=Math.floor(i[0]/1e3),r+i[0].length):-1}function VR(e,t,r){var i=FR.exec(t.slice(r,r+1));return i?r+i[0].length:-1}function HR(e,t,r){var i=Ca.exec(t.slice(r));return i?(e.Q=+i[0],r+i[0].length):-1}function GR(e,t,r){var i=Ca.exec(t.slice(r));return i?(e.s=+i[0],r+i[0].length):-1}function u4(e,t){return gi(e.getDate(),t,2)}function jR(e,t){return gi(e.getHours(),t,2)}function WR(e,t){return gi(e.getHours()%12||12,t,2)}function XR(e,t){return gi(1+wf.count(bl(e),e),t,3)}function M9(e,t){return gi(e.getMilliseconds(),t,3)}function ZR(e,t){return M9(e,t)+"000"}function YR(e,t){return gi(e.getMonth()+1,t,2)}function qR(e,t){return gi(e.getMinutes(),t,2)}function $R(e,t){return gi(e.getSeconds(),t,2)}function KR(e){var t=e.getDay();return t===0?7:t}function QR(e,t){return gi(w6.count(bl(e)-1,e),t,2)}function N9(e){var t=e.getDay();return t>=4||t===0?R0(e):R0.ceil(e)}function JR(e,t){return e=N9(e),gi(R0.count(bl(e),e)+(bl(e).getDay()===4),t,2)}function ew(e){return e.getDay()}function tw(e,t){return gi(sf.count(bl(e)-1,e),t,2)}function rw(e,t){return gi(e.getFullYear()%100,t,2)}function ow(e,t){return e=N9(e),gi(e.getFullYear()%100,t,2)}function iw(e,t){return gi(e.getFullYear()%1e4,t,4)}function nw(e,t){var r=e.getDay();return e=r>=4||r===0?R0(e):R0.ceil(e),gi(e.getFullYear()%1e4,t,4)}function aw(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+gi(t/60|0,"0",2)+gi(t%60,"0",2)}function p4(e,t){return gi(e.getUTCDate(),t,2)}function sw(e,t){return gi(e.getUTCHours(),t,2)}function uw(e,t){return gi(e.getUTCHours()%12||12,t,2)}function pw(e,t){return gi(1+C6.count(m1(e),e),t,3)}function D9(e,t){return gi(e.getUTCMilliseconds(),t,3)}function cw(e,t){return D9(e,t)+"000"}function lw(e,t){return gi(e.getUTCMonth()+1,t,2)}function dw(e,t){return gi(e.getUTCMinutes(),t,2)}function yw(e,t){return gi(e.getUTCSeconds(),t,2)}function hw(e){var t=e.getUTCDay();return t===0?7:t}function fw(e,t){return gi(I9.count(m1(e)-1,e),t,2)}function O9(e){var t=e.getUTCDay();return t>=4||t===0?w0(e):w0.ceil(e)}function mw(e,t){return e=O9(e),gi(w0.count(m1(e),e)+(m1(e).getUTCDay()===4),t,2)}function _w(e){return e.getUTCDay()}function gw(e,t){return gi(uf.count(m1(e)-1,e),t,2)}function vw(e,t){return gi(e.getUTCFullYear()%100,t,2)}function Ew(e,t){return e=O9(e),gi(e.getUTCFullYear()%100,t,2)}function xw(e,t){return gi(e.getUTCFullYear()%1e4,t,4)}function Pw(e,t){var r=e.getUTCDay();return e=r>=4||r===0?w0(e):w0.ceil(e),gi(e.getUTCFullYear()%1e4,t,4)}function bw(){return"+0000"}function c4(){return"%"}function l4(e){return+e}function d4(e){return Math.floor(+e/1e3)}var n0,L9;Aw({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Aw(e){return n0=AR(e),L9=n0.format,n0.parse,n0.utcFormat,n0.utcParse,n0}var Vd=1e3,Hd=Vd*60,Gd=Hd*60,cy=Gd*24,Fw=cy*7,y4=cy*30,Qm=cy*365;function Tw(e){return new Date(e)}function Sw(e){return e instanceof Date?+e:+new Date(+e)}function B9(e,t,r,i,s,p,n,f,m){var g=f9(is,is),x=g.invert,b=g.domain,F=m(".%L"),R=m(":%S"),I=m("%I:%M"),O=m("%I %p"),U=m("%a %d"),Y=m("%b %d"),ee=m("%B"),oe=m("%Y"),Re=[[n,1,Vd],[n,5,5*Vd],[n,15,15*Vd],[n,30,30*Vd],[p,1,Hd],[p,5,5*Hd],[p,15,15*Hd],[p,30,30*Hd],[s,1,Gd],[s,3,3*Gd],[s,6,6*Gd],[s,12,12*Gd],[i,1,cy],[i,2,2*cy],[r,1,Fw],[t,1,y4],[t,3,3*y4],[e,1,Qm]];function Ae(Ie){return(n(Ie)<Ie?F:p(Ie)<Ie?R:s(Ie)<Ie?I:i(Ie)<Ie?O:t(Ie)<Ie?r(Ie)<Ie?U:Y:e(Ie)<Ie?ee:oe)(Ie)}function ce(Ie,De,ht,qe){if(Ie==null&&(Ie=10),typeof Ie=="number"){var we=Math.abs(ht-De)/Ie,B=c9(function(X){return X[2]}).right(Re,we);B===Re.length?(qe=z2(De/Qm,ht/Qm,Ie),Ie=e):B?(B=Re[we/Re[B-1][2]<Re[B][2]/we?B-1:B],qe=B[1],Ie=B[0]):(qe=Math.max(z2(De,ht,Ie),1),Ie=f)}return qe==null?Ie:Ie.every(qe)}return g.invert=function(Ie){return new Date(x(Ie))},g.domain=function(Ie){return arguments.length?b(h9.call(Ie,Sw)):b().map(Tw)},g.ticks=function(Ie,De){var ht=b(),qe=ht[0],we=ht[ht.length-1],B=we<qe,X;return B&&(X=qe,qe=we,we=X),X=ce(Ie,qe,we,De),X=X?X.range(qe,we+1):[],B?X.reverse():X},g.tickFormat=function(Ie,De){return De==null?Ae:m(De)},g.nice=function(Ie,De){var ht=b();return(Ie=ce(Ie,ht[0],ht[ht.length-1],De))?b(v9(ht,Ie)):g},g.copy=function(){return Rf(g,B9(e,t,r,i,s,p,n,f,m))},g}function Rw(){return Tl.apply(B9(bl,C9,w6,wf,w9,R9,S9,nf,L9).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function ww(){var e=0,t=1,r,i,s,p,n=is,f=!1,m;function g(x){return isNaN(x=+x)?m:n(s===0?.5:(x=(p(x)-r)*s,f?Math.max(0,Math.min(1,x)):x))}return g.domain=function(x){return arguments.length?(r=p(e=+x[0]),i=p(t=+x[1]),s=r===i?0:1/(i-r),g):[e,t]},g.clamp=function(x){return arguments.length?(f=!!x,g):f},g.interpolator=function(x){return arguments.length?(n=x,g):n},g.unknown=function(x){return arguments.length?(m=x,g):m},function(x){return p=x,r=x(e),i=x(t),s=r===i?0:1/(i-r),g}}function U9(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function k9(){var e=_y(ww()(is));return e.copy=function(){return U9(e,k9())},d9.apply(e,arguments)}function Cw(){var e=0,t=.5,r=1,i,s,p,n,f,m=is,g,x=!1,b;function F(R){return isNaN(R=+R)?b:(R=.5+((R=+g(R))-s)*(R<s?n:f),m(x?Math.max(0,Math.min(1,R)):R))}return F.domain=function(R){return arguments.length?(i=g(e=+R[0]),s=g(t=+R[1]),p=g(r=+R[2]),n=i===s?0:.5/(s-i),f=s===p?0:.5/(p-s),F):[e,t,r]},F.clamp=function(R){return arguments.length?(x=!!R,F):x},F.interpolator=function(R){return arguments.length?(m=R,F):m},F.unknown=function(R){return arguments.length?(b=R,F):b},function(R){return g=R,i=R(e),s=R(t),p=R(r),n=i===s?0:.5/(s-i),f=s===p?0:.5/(p-s),F}}function z9(){var e=_y(Cw()(is));return e.copy=function(){return U9(e,z9())},d9.apply(e,arguments)}function V9(e){let t,r=[];function i(s){return s??t}return i.invert=i,i.domain=i.range=s=>s?(r=s,s):r,i.unknown=s=>s?(t=s,s):t,i.copy=()=>V9().unknown(t),i}const{isNil:Jm,isString:Iw,uniq:Mw}=Kn,Nw=/^(?:(?!0000)[0-9]{4}([-/.]+)(?:(?:0?[1-9]|1[0-2])\1(?:0?[1-9]|1[0-9]|2[0-8])|(?:0?[13-9]|1[0-2])\1(?:29|30)|(?:0?[13578]|1[02])\1(?:31))|(?:[0-9]{2}(?:0[48]|[2468][048]|[13579][26])|(?:0[48]|[2468][048]|[13579][26])00)([-/.]?)0?2\2(?:29))(\s+([01]|([01][0-9]|2[0-3])):([0-9]|[0-5][0-9]):([0-9]|[0-5][0-9]))?$/,Dw={[Ei.LINEAR]:g9,[Ei.POWER]:x9,[Ei.LOG]:E9,[Ei.IDENTITY]:V9,[Ei.SEQUENTIAL]:k9,[Ei.TIME]:Rw,[Ei.QUANTILE]:P9,[Ei.QUANTIZE]:b9,[Ei.THRESHOLD]:A9,[Ei.CAT]:tf,[Ei.DIVERGING]:z9};class Ow{constructor(){G(this,"scaleOptions",{})}apply(t,{styleAttributeService:r}){var i=this;t.hooks.init.tapPromise("FeatureScalePlugin",Rt(function*(){var s;t.log(_a.ScaleInitStart,Ha.INIT),i.scaleOptions=t.getScaleOptions();const p=r.getLayerStyleAttributes(),n=(s=t.getSource())===null||s===void 0?void 0:s.data.dataArray;Array.isArray(n)&&n.length===0||(i.caculateScalesForAttributes(p||[],n),t.log(_a.ScaleInitEnd,Ha.INIT))})),t.hooks.beforeRenderData.tapPromise("FeatureScalePlugin",function(){var s=Rt(function*(p){if(!p)return p;t.log(_a.ScaleInitStart,Ha.UPDATE),i.scaleOptions=t.getScaleOptions();const n=r.getLayerStyleAttributes(),f=t.getSource().data.dataArray;return Array.isArray(f)&&f.length===0||(i.caculateScalesForAttributes(n||[],f),t.log(_a.ScaleInitEnd,Ha.UPDATE),t.layerModelNeedUpdate=!0),!0});return function(p){return s.apply(this,arguments)}}()),t.hooks.beforeRender.tap("FeatureScalePlugin",()=>{if(t.layerModelNeedUpdate)return;this.scaleOptions=t.getScaleOptions();const s=r.getLayerStyleAttributes(),p=t.getSource().data.dataArray;if(!(Array.isArray(p)&&p.length===0)&&s){const n=s.filter(f=>f.needRescale);n.length&&this.caculateScalesForAttributes(n,p)}})}isNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}caculateScalesForAttributes(t,r){t.forEach(i=>{if(i.scale){const s=i.scale,p=i.scale.field;s.names=this.parseFields(Jm(p)?[]:p);const n=[];s.names.forEach(f=>{var m;n.push(this.createScale(f,i.name,(m=i.scale)===null||m===void 0?void 0:m.values,r))}),n.some(f=>f.type===i0.VARIABLE)?(s.type=i0.VARIABLE,n.forEach(f=>{if(!s.callback&&s.values!=="text"){var m;switch((m=f.option)===null||m===void 0?void 0:m.type){case Ei.LOG:case Ei.LINEAR:case Ei.POWER:if(s.values&&s.values.length>2){const x=f.scale.ticks(s.values.length);f.scale.domain(x)}s.values?f.scale.range(s.values):f.scale.range(f.option.domain);break;case Ei.QUANTILE:case Ei.QUANTIZE:case Ei.THRESHOLD:f.scale.range(s.values);break;case Ei.IDENTITY:break;case Ei.CAT:s.values?f.scale.range(s.values):f.scale.range(f.option.domain);break;case Ei.DIVERGING:case Ei.SEQUENTIAL:f.scale.interpolator(IS(s.values));break}}if(s.values==="text"){var g;f.scale.range((g=f.option)===null||g===void 0?void 0:g.domain)}})):(s.type=i0.CONSTANT,s.defaultValues=n.map((f,m)=>f.scale(s.names[m]))),s.scalers=n.map(f=>({field:f.field,func:f.scale,option:f.option})),i.needRescale=!1}})}parseFields(t){return Array.isArray(t)?t:Iw(t)?t.split("*"):[t]}createScale(t,r,i,s){var p,n;const f=this.scaleOptions[r]&&((p=this.scaleOptions[r])===null||p===void 0?void 0:p.field)===t?this.scaleOptions[r]:this.scaleOptions[t],m={field:t,scale:void 0,type:i0.VARIABLE,option:f};if(!s||!s.length)return f&&f.type?m.scale=this.createDefaultScale(f):(m.scale=tf([t]),m.type=i0.CONSTANT),m;const g=(n=s.find(x=>!Jm(x[t])))===null||n===void 0?void 0:n[t];if(this.isNumber(t)||Jm(g)&&!f)m.scale=tf([t]),m.type=i0.CONSTANT;else{let x=f&&f.type||this.getDefaultType(g);i==="text"&&(x=Ei.CAT),i===void 0&&(x=Ei.IDENTITY);const b=this.createScaleConfig(x,t,f,s);m.scale=this.createDefaultScale(b),m.option=b}return m}getDefaultType(t){let r=Ei.LINEAR;return typeof t=="string"&&(r=Nw.test(t)?Ei.TIME:Ei.CAT),r}createScaleConfig(t,r,i,s){const p=wt(wt({},i),{},{type:t});if(p!=null&&p.domain)return p;let n=[];if(t===Ei.QUANTILE){const f=new Map;s==null||s.forEach(m=>{f.set(m._id,m[r])}),n=Array.from(f.values())}else n=(s==null?void 0:s.map(f=>f[r]))||[];if(t===Ei.CAT||t===Ei.IDENTITY)p.domain=Mw(n);else if(t===Ei.QUANTILE)p.domain=n;else if(t===Ei.DIVERGING){const f=V5(n),m=(i==null?void 0:i.neutral)!==void 0?i==null?void 0:i.neutral:(f[0]+f[1])/2;p.domain=[f[0],m,f[1]]}else p.domain=V5(n);return p}createDefaultScale({type:t,domain:r,unknown:i,clamp:s,nice:p}){const n=Dw[t]();return r&&n.domain&&n.domain(r),i&&n.unknown(i),s!==void 0&&n.clamp&&n.clamp(s),p!==void 0&&n.nice&&n.nice(p),n}}class Lw{apply(t){t.hooks.beforeRender.tap("LayerAnimateStylePlugin",()=>{t.animateStatus&&t.models.forEach(i=>{i.addUniforms(wt({},t.layerModel.getAnimateUniforms()))})})}}let Bw=class{apply(t){t.hooks.afterInit.tap("LayerMaskPlugin",()=>{const{maskLayers:r,enableMask:i}=t.getLayerConfig();!t.tileLayer&&r&&r.length>0&&t.updateLayerConfig({mask:i})})}};class Uw{build(t){return Rt(function*(){t.prepareBuildModel(),yield t.buildModels()})()}initLayerModel(t){var r=this;return Rt(function*(){yield r.build(t),t.styleNeedUpdate=!1})()}prepareLayerModel(t){var r=this;return Rt(function*(){yield r.build(t),t.styleNeedUpdate=!1})()}apply(t){var r=this;t.hooks.init.tapPromise("LayerModelPlugin",Rt(function*(){if(t.getSource().isTile){t.prepareBuildModel();return}t.log(_a.BuildModelStart,Ha.INIT),yield r.initLayerModel(t),t.log(_a.BuildModelEnd,Ha.INIT)})),t.hooks.beforeRenderData.tapPromise("LayerModelPlugin",function(){var i=Rt(function*(s){return!s||t.getSource().isTile?!1:(t.log(_a.BuildModelStart,Ha.UPDATE),yield r.prepareLayerModel(t),t.log(_a.BuildModelEnd,Ha.UPDATE),!0)});return function(s){return i.apply(this,arguments)}}())}}class kw{apply(t){t.hooks.afterInit.tap("LayerStylePlugin",()=>{const{autoFit:r,fitBoundsOptions:i}=t.getLayerConfig();r&&t.fitBounds(i),t.styleNeedUpdate=!1})}}const zw=["type"],h4={directional:{lights:"u_DirectionalLights",num:"u_NumOfDirectionalLights"},spot:{lights:"u_SpotLights",num:"u_NumOfSpotLights"}},Vw={type:"directional",direction:[1,10.5,12],ambient:[.2,.2,.2],diffuse:[.6,.6,.6],specular:[.1,.1,.1]},Hw={direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0]},Gw={position:[0,0,0],direction:[0,0,0],ambient:[0,0,0],diffuse:[0,0,0],specular:[0,0,0],constant:1,linear:0,quadratic:0,angle:14,exponent:40,blur:5};function jw(e){const t={u_DirectionalLights:new Array(3).fill(wt({},Hw)),u_NumOfDirectionalLights:0,u_SpotLights:new Array(3).fill(wt({},Gw)),u_NumOfSpotLights:0};return(!e||!e.length)&&(e=[Vw]),e.forEach(r=>{let{type:i="directional"}=r,s=Zp(r,zw);const p=h4[i].lights,n=h4[i].num,f=t[n];t[p][f]=wt(wt({},t[p][f]),s),t[n]++}),t}class Ww{apply(t){t.hooks.beforeRender.tap("LightingPlugin",()=>{const{enableLighting:r}=t.getLayerConfig();r&&t.models.forEach(i=>i.addUniforms(wt({},jw())))})}}function H9(e){return e.map(t=>(typeof t=="string"&&(t=[t,{}]),t))}function G9(e,t,r,i){const s=e.multiPassRenderer;return s.add(i("render")),H9(t).forEach(p=>{const[n,f]=p;s.add(r(n),f)}),s.add(r("copy")),s}class Xw{constructor(){G(this,"enabled",void 0)}apply(t,{rendererService:r,postProcessingPassFactory:i,normalPassFactory:s}){t.hooks.init.tapPromise("MultiPassRendererPlugin",()=>{const{enableMultiPassRenderer:p,passes:n=[]}=t.getLayerConfig();this.enabled=!!p&&t.getLayerConfig().enableMultiPassRenderer!==!1,this.enabled&&(t.multiPassRenderer=G9(t,n,i,s),t.multiPassRenderer.setRenderFlag(!0))}),t.hooks.beforeRender.tap("MultiPassRendererPlugin",()=>{if(this.enabled){const{width:p,height:n}=r.getViewportSize();t.multiPassRenderer.resize(p,n)}})}}const gl={POSITION:0,POSITION_64LOW:1,COLOR:2,PICKING_COLOR:3,STROKE:4,OPACITY:5,OFFSETS:6,ROTATION:7,MAX:8};function Zw(e){switch(e){case"rotation":return{name:"Rotation",type:Nr.Attribute,descriptor:{name:"a_Rotation",shaderLocation:gl.ROTATION,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{rotation:r=0}=t;return Array.isArray(r)?[r[0]]:[r]}}};case"stroke":return{name:"stroke",type:Nr.Attribute,descriptor:{name:"a_Stroke",shaderLocation:gl.STROKE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:4,update:t=>{const{stroke:r=[1,1,1,1]}=t;return r}}};case"opacity":return{name:"opacity",type:Nr.Attribute,descriptor:{name:"a_Opacity",shaderLocation:gl.OPACITY,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{opacity:r=1}=t;return[r]}}};case"offsets":return{name:"offsets",type:Nr.Attribute,descriptor:{name:"a_Offsets",shaderLocation:gl.OFFSETS,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const{offsets:r}=t;return r}}};default:return}}const{isNumber:Yw}=Kn,a0={NONE:0,ENCODE:1,HIGHLIGHT:2};class qw{constructor(){G(this,"pickingUniformMap",void 0)}pickOption2Array(){const t=[];return this.pickingUniformMap.forEach(r=>{Yw(r)?t.push(r):t.push(...r)}),t}updatePickOption(t,r){Object.keys(t).forEach(n=>{this.pickingUniformMap.set(n,t[n])});const i=r.getLayerConfig().pickingBuffer||0,s=Number(r.getShaderPickStat());this.pickingUniformMap.set("u_PickingBuffer",i),this.pickingUniformMap.set("u_shaderPick",s),r.getPickingUniformBuffer().subData({offset:0,data:this.pickOption2Array()})}apply(t,{styleAttributeService:r}){this.pickingUniformMap=new Map([["u_HighlightColor",[1,0,0,1]],["u_SelectColor",[1,0,0,1]],["u_PickingColor",[0,0,0]],["u_PickingStage",0],["u_CurrentSelectedId",[0,0,0]],["u_PickingThreshold",10],["u_PickingBuffer",0],["u_shaderPick",0],["u_activeMix",0]]),t.hooks.init.tapPromise("PixelPickingPlugin",()=>{const{enablePicking:i}=t.getLayerConfig();r.registerStyleAttribute({name:"pickingColor",type:Nr.Attribute,descriptor:{name:"a_PickingColor",shaderLocation:gl.PICKING_COLOR,buffer:{data:[],type:k.FLOAT},size:3,update:s=>{const{id:p}=s;return i?T0(p):[0,0,0]}}})}),t.hooks.beforePickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:i}=t.getLayerConfig();i&&t.isVisible()&&(this.updatePickOption({u_PickingStage:a0.ENCODE},t),t.models.forEach(s=>s.addUniforms({u_PickingStage:a0.ENCODE})))}),t.hooks.afterPickingEncode.tap("PixelPickingPlugin",()=>{const{enablePicking:i}=t.getLayerConfig();i&&t.isVisible()&&(this.updatePickOption({u_PickingStage:a0.HIGHLIGHT},t),t.models.forEach(s=>s.addUniforms({u_PickingStage:a0.HIGHLIGHT})))}),t.hooks.beforeHighlight.tap("PixelPickingPlugin",i=>{const{highlightColor:s,activeMix:p=0}=t.getLayerConfig(),n=typeof s=="string"?Di(s):s||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:p1(new Uint8Array(i))});const f={u_PickingStage:a0.HIGHLIGHT,u_PickingColor:i,u_HighlightColor:n.map(m=>m*255),u_activeMix:p};this.updatePickOption(f,t),t.models.forEach(m=>m.addUniforms(f))}),t.hooks.beforeSelect.tap("PixelPickingPlugin",i=>{const{selectColor:s,selectMix:p=0}=t.getLayerConfig(),n=typeof s=="string"?Di(s):s||[1,0,0,1];t.updateLayerConfig({pickedFeatureID:p1(new Uint8Array(i))});const f={u_PickingStage:a0.HIGHLIGHT,u_PickingColor:i,u_HighlightColor:n.map(m=>m*255),u_activeMix:p,u_CurrentSelectedId:i,u_SelectColor:n.map(m=>m*255)};this.updatePickOption(f,t),t.models.forEach(m=>m.addUniforms(f))})}}const $w=["mvt","geojsonvt","testTile"];function Kw(e){const t=e.getSource();return $w.includes(t.parser.type)}class Qw{apply(t,{styleAttributeService:r}){t.hooks.init.tapPromise("RegisterStyleAttributePlugin",()=>{Kw(t)||this.registerBuiltinAttributes(r,t)})}registerBuiltinAttributes(t,r){if(r.type==="MaskLayer"){this.registerPositionAttribute(t);return}this.registerPositionAttribute(t),this.registerColorAttribute(t)}registerPositionAttribute(t){t.registerStyleAttribute({name:"position",type:Nr.Attribute,descriptor:{name:"a_Position",shaderLocation:gl.POSITION,buffer:{data:[],type:k.FLOAT},size:3,update:(r,i,s)=>s.length===2?[s[0],s[1],0]:[s[0],s[1],s[2]]}})}registerColorAttribute(t){t.registerStyleAttribute({name:"color",type:Nr.Attribute,descriptor:{name:"a_Color",shaderLocation:gl.COLOR,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:4,update:r=>{const{color:i}=r;return!i||!i.length?[1,1,1,1]:i}}})}}class Jw{constructor(){G(this,"cameraService",void 0),G(this,"coordinateSystemService",void 0),G(this,"rendererService",void 0),G(this,"mapService",void 0),G(this,"layerService",void 0)}apply(t,{rendererService:r,mapService:i,layerService:s,coordinateSystemService:p,cameraService:n}){this.rendererService=r,this.mapService=i,this.layerService=s,this.coordinateSystemService=p,this.cameraService=n;let f;this.rendererService.uniformBuffers[0]||(f=this.rendererService.createBuffer({data:new Float32Array(16*4+4*7),isUBO:!0,label:"renderUniformBuffer"}),this.rendererService.uniformBuffers[0]=f),t.hooks.beforeRender.tap("ShaderUniformPlugin",()=>{const m=t.getLayerConfig().tileOrigin;this.coordinateSystemService.refresh(m);const{width:g,height:x}=this.rendererService.getViewportSize(),{data:b,uniforms:F}=this.generateUBO(g,x);this.layerService.alreadyInRendering&&this.rendererService.uniformBuffers[0]&&this.rendererService.uniformBuffers[0].subData({offset:0,data:b}),this.rendererService.queryVerdorInfo()==="WebGL1"&&t.models.forEach(I=>{I.addUniforms(wt(wt({},F),{},{u_PickingBuffer:t.getLayerConfig().pickingBuffer||0,u_shaderPick:Number(t.getShaderPickStat())}))})})}generateUBO(t,r){const i=this.cameraService.getProjectionMatrix(),s=this.cameraService.getViewMatrix(),p=this.cameraService.getViewProjectionMatrix(),n=this.cameraService.getModelMatrix(),f=this.coordinateSystemService.getViewportCenterProjection(),m=this.coordinateSystemService.getPixelsPerDegree(),g=this.cameraService.getZoom(),x=this.coordinateSystemService.getPixelsPerDegree2(),b=this.cameraService.getZoomScale(),F=this.coordinateSystemService.getPixelsPerMeter(),R=this.coordinateSystemService.getCoordinateSystem(),I=this.cameraService.getCameraPosition(),O=window.devicePixelRatio,U=this.coordinateSystemService.getViewportCenter(),Y=[t,r],ee=this.cameraService.getFocalDistance();return{data:[...s,...i,...p,...n,...f,...m,g,...x,b,...F,R,...I,O,...U,...Y,ee,0,0,0],uniforms:{[i1.ProjectionMatrix]:i,[i1.ViewMatrix]:s,[i1.ViewProjectionMatrix]:p,[i1.Zoom]:g,[i1.ZoomScale]:b,[i1.FocalDistance]:ee,[i1.CameraPosition]:I,[o0.CoordinateSystem]:R,[o0.ViewportCenter]:U,[o0.ViewportCenterProjection]:f,[o0.PixelsPerDegree]:m,[o0.PixelsPerDegree2]:x,[o0.PixelsPerMeter]:F,u_ViewportSize:Y,u_ModelMatrix:n,u_DevicePixelRatio:O}}}}class eC{apply(t){t.hooks.beforeRender.tap("UpdateModelPlugin",()=>{t.layerModel&&t.layerModel.needUpdate().then(r=>{r&&t.renderLayers()})}),t.hooks.afterRender.tap("UpdateModelPlugin",()=>{t.layerModelNeedUpdate=!1})}}class tC{apply(t,{styleAttributeService:r}){t.hooks.init.tapPromise("UpdateStyleAttributePlugin",()=>{this.initStyleAttribute(t,{styleAttributeService:r})}),t.hooks.beforeRender.tap("UpdateStyleAttributePlugin",()=>{t.layerModelNeedUpdate||t.inited&&this.updateStyleAttribute(t,{styleAttributeService:r})})}updateStyleAttribute(t,{styleAttributeService:r}){const i=r.getLayerStyleAttributes()||[],s=r.getLayerStyleAttribute("filter");if(s&&s.needRegenerateVertices){t.layerModelNeedUpdate=!0,i.forEach(p=>p.needRegenerateVertices=!1);return}i.filter(p=>p.needRegenerateVertices).forEach(p=>{r.updateAttributeByFeatureRange(p.name,t.getEncodedData(),p.featureRange.startIndex,p.featureRange.endIndex,t),p.needRegenerateVertices=!1})}initStyleAttribute(t,{styleAttributeService:r}){(r.getLayerStyleAttributes()||[]).filter(s=>s.needRegenerateVertices).forEach(s=>{r.updateAttributeByFeatureRange(s.name,t.getEncodedData(),s.featureRange.startIndex,s.featureRange.endIndex),s.needRegenerateVertices=!1})}}function rC(){return[new AS,new Qw,new Ow,new bS,new kw,new Bw,new tC,new eC,new Xw,new Jw,new Lw,new Ww,new qw,new Uw]}const j9={[fl.additive]:{enable:!0,func:{srcRGB:k.ONE,dstRGB:k.ONE,srcAlpha:1,dstAlpha:1}},[fl.none]:{enable:!1},[fl.normal]:{enable:!0,func:{srcRGB:k.SRC_ALPHA,dstRGB:k.ONE_MINUS_SRC_ALPHA,srcAlpha:1,dstAlpha:1}},[fl.subtractive]:{enable:!0,func:{srcRGB:k.ONE,dstRGB:k.ONE,srcAlpha:k.ZERO,dstAlpha:k.ONE_MINUS_SRC_COLOR},equation:{rgb:k.FUNC_SUBTRACT,alpha:k.FUNC_SUBTRACT}},[fl.max]:{enable:!0,func:{srcRGB:k.ONE,dstRGB:k.ONE},equation:{rgb:k.MAX_EXT}},[fl.min]:{enable:!0,func:{srcRGB:k.ONE,dstRGB:k.ONE},equation:{rgb:k.MIN_EXT}}};class oC{constructor(t){G(this,"layer",void 0),this.layer=t}pickRender(t){const i=this.layer.getContainer().layerService,s=this.layer;if(s.tileLayer)return s.tileLayer.pickRender(t);s.hooks.beforePickingEncode.call(),i.renderTileLayerMask(s),s.renderModels({ispick:!0}),s.hooks.afterPickingEncode.call()}pick(t,r){var i=this;return Rt(function*(){const p=i.layer.getContainer().pickingService;return t.type==="RasterLayer"?i.pickRasterLayer(t,r):(i.pickRender(r),p.pickFromPickingFBO(t,r))})()}pickRasterLayer(t,r,i){const s=this.layer.getContainer(),p=s.pickingService,n=s.mapService,f=this.layer.getSource().extent,m=RE(r.lngLat,f),g={x:r.x,y:r.y,type:r.type,lngLat:r.lngLat,target:r,rasterValue:null},x=i||t;if(m){const b=this.readRasterValue(t,f,n,r.x,r.y);return g.rasterValue=b,p.triggerHoverOnLayer(x,g),!0}else return g.type=r.type==="mousemove"?"mouseout":"un"+r.type,p.triggerHoverOnLayer(x,wt(wt({},g),{},{type:"unpick"})),p.triggerHoverOnLayer(x,g),!1}readRasterValue(t,r,i,s,p){const n=t.getSource().data.dataArray[0],[f=0,m=0,g=10,x=-10]=r,b=i.lngLatToContainer([f,m]),F=i.lngLatToContainer([g,x]),R=F.x-b.x,I=b.y-F.y,O=[(s-b.x)/R,(p-F.y)/I],U=n.width||1,Y=n.height||1,ee=Math.floor(O[0]*U),oe=Math.floor(O[1]*Y),Re=Math.max(0,oe-1)*U+ee;return n.data[Re]}selectFeature(t){const r=this.layer,[i,s,p]=t;r.hooks.beforeSelect.call([i,s,p])}highlightPickedFeature(t){const[r,i,s]=t;this.layer.hooks.beforeHighlight.call([r,i,s])}getFeatureById(t){return this.layer.getSource().getFeatureById(t)}}class iC{constructor(t){G(this,"layer",void 0),G(this,"rendererService",void 0),G(this,"colorTexture",void 0),G(this,"key",void 0),this.layer=t;const r=this.layer.getContainer();this.rendererService=r.rendererService}getColorTexture(t,r){const i=this.getTextureKey(t,r);return this.key===i?this.colorTexture:(this.createColorTexture(t,r),this.key=i,this.colorTexture)}createColorTexture(t,r){const{createTexture2D:i}=this.rendererService,s=this.getColorRampBar(t,r),p=i({data:new Uint8Array(s.data),width:s.width,height:s.height,flipY:!1,unorm:!0});return this.colorTexture=p,p}setColorTexture(t,r,i){this.key=this.getTextureKey(r,i),this.colorTexture=t}destroy(){var t;(t=this.colorTexture)===null||t===void 0||t.destroy()}getColorRampBar(t,r){switch(t.type){case"cat":return fE(t);case"quantize":return mE(t);case"custom":return _E(t,r);case"linear":return hE(t,r);default:return c8(t)}}getTextureKey(t,r){var i;return`${t.colors.join("_")}_${t==null||(i=t.positions)===null||i===void 0?void 0:i.join("_")}_${t.type}_${r==null?void 0:r.join("_")}`}}const nC=["passes"],aC=["moduleName","vertexShader","fragmentShader","defines","inject","triangulation","styleOption","pickingEnabled"],{isEqual:e2,isFunction:f4,isNumber:m4,isObject:za,isPlainObject:sC,isUndefined:uC}=Kn;let _4=0;class x1 extends du.EventEmitter{get shaderModuleService(){return this.container.shaderModuleService}get cameraService(){return this.container.cameraService}get coordinateService(){return this.container.coordinateSystemService}get iconService(){return this.container.iconService}get fontService(){return this.container.fontService}get pickingService(){return this.container.pickingService}get rendererService(){return this.container.rendererService}get layerService(){return this.container.layerService}get debugService(){return this.container.debugService}get interactionService(){return this.container.interactionService}get mapService(){var t;return(t=this.container)===null||t===void 0?void 0:t.mapService}get normalPassFactory(){return this.container.normalPassFactory}constructor(t={}){super(),G(this,"id",`${_4++}`),G(this,"name",`${_4}`),G(this,"parent",void 0),G(this,"coordCenter",void 0),G(this,"type",void 0),G(this,"visible",!0),G(this,"zIndex",0),G(this,"minZoom",void 0),G(this,"maxZoom",void 0),G(this,"inited",!1),G(this,"layerModelNeedUpdate",!1),G(this,"pickedFeatureID",null),G(this,"selectedFeatureID",null),G(this,"styleNeedUpdate",!1),G(this,"rendering",void 0),G(this,"forceRender",!1),G(this,"clusterZoom",0),G(this,"layerType",void 0),G(this,"triangulation",void 0),G(this,"layerPickService",void 0),G(this,"textureService",void 0),G(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json"}}}),G(this,"dataState",{dataSourceNeedUpdate:!1,dataMappingNeedUpdate:!1,filterNeedUpdate:!1,featureScaleNeedUpdate:!1,StyleAttrNeedUpdate:!1}),G(this,"hooks",{init:new mA,afterInit:new j_,beforeRender:new j_,beforeRenderData:new _A,afterRender:new jp,beforePickingEncode:new jp,afterPickingEncode:new jp,beforeHighlight:new jp(["pickedColor"]),afterHighlight:new jp,beforeSelect:new jp(["pickedColor"]),afterSelect:new jp,beforeDestroy:new jp,afterDestroy:new jp}),G(this,"models",[]),G(this,"multiPassRenderer",void 0),G(this,"plugins",void 0),G(this,"startInit",!1),G(this,"sourceOption",void 0),G(this,"layerModel",void 0),G(this,"shapeOption",void 0),G(this,"tileLayer",void 0),G(this,"layerChildren",[]),G(this,"masks",[]),G(this,"configService",Y8),G(this,"styleAttributeService",void 0),G(this,"layerSource",void 0),G(this,"postProcessingPassFactory",void 0),G(this,"animateOptions",{enable:!1}),G(this,"container",void 0),G(this,"encodedData",void 0),G(this,"currentPickId",null),G(this,"rawConfig",void 0),G(this,"needUpdateConfig",void 0),G(this,"encodeStyleAttribute",{}),G(this,"enableShaderEncodeStyles",[]),G(this,"enableDataEncodeStyles",[]),G(this,"pendingStyleAttributes",[]),G(this,"scaleOptions",{}),G(this,"animateStartTime",void 0),G(this,"animateStatus",!1),G(this,"isDestroyed",!1),G(this,"uniformBuffers",[]),G(this,"encodeDataLength",0),G(this,"sourceEvent",()=>{this.dataState.dataSourceNeedUpdate=!0;const r=this.getLayerConfig();r&&r.autoFit&&this.fitBounds(r.fitBoundsOptions),this.layerSource.getSourceCfg().autoRender&&setTimeout(()=>{this.reRender()},10)}),this.name=t.name||this.id,this.zIndex=t.zIndex||0,this.rawConfig=t,this.masks=t.maskLayers||[]}addMask(t){this.masks.push(t),this.updateLayerConfig({maskLayers:this.masks}),this.enableMask()}removeMask(t){const r=this.masks.indexOf(t);r>-1&&this.masks.splice(r,1),this.updateLayerConfig({maskLayers:this.masks})}disableMask(){this.updateLayerConfig({enableMask:!1})}enableMask(){this.updateLayerConfig({enableMask:!0})}addMaskLayer(t){this.masks.push(t)}removeMaskLayer(t){const r=this.masks.indexOf(t);r>-1&&this.masks.splice(r,1),t.destroy()}getAttribute(t){return this.styleAttributeService.getLayerStyleAttribute(t)}getLayerConfig(){return this.configService.getLayerConfig(this.id)}updateLayerConfig(t){if(Object.keys(t).map(r=>{r in this.rawConfig&&(this.rawConfig[r]=t[r])}),!this.startInit)this.needUpdateConfig=wt(wt({},this.needUpdateConfig),t);else{const r=this.container.id;this.configService.setLayerConfig(r,this.id,wt(wt(wt({},this.configService.getLayerConfig(this.id)),this.needUpdateConfig),t)),this.needUpdateConfig={}}}setContainer(t){this.container=t}getContainer(){return this.container}addPlugin(t){return this.plugins.push(t),this}init(){var t=this;return Rt(function*(){const r=t.container.id;t.startInit=!0,t.configService.setLayerConfig(r,t.id,t.rawConfig),t.layerType=t.rawConfig.layerType;const{enableMultiPassRenderer:i,passes:s}=t.getLayerConfig();i&&s!==null&&s!==void 0&&s.length&&s.length>0&&t.mapService.on("mapAfterFrameChange",()=>{t.renderLayers()}),t.postProcessingPassFactory=t.container.postProcessingPassFactory,t.styleAttributeService=t.container.styleAttributeService,i&&(t.multiPassRenderer=t.container.multiPassRenderer,t.multiPassRenderer.setLayer(t)),t.pendingStyleAttributes.forEach(({attributeName:p,attributeField:n,attributeValues:f,updateOptions:m})=>{t.styleAttributeService.updateStyleAttribute(p,{scale:wt({field:n},t.splitValuesAndCallbackInAttribute(f,n?void 0:t.getLayerConfig()[p]))},m)}),t.pendingStyleAttributes=[],t.plugins=rC();for(const p of t.plugins)p.apply(t,t.container);t.layerPickService=new oC(t),t.textureService=new iC(t),t.log(_a.LayerInitStart),yield t.hooks.init.promise(),t.log(_a.LayerInitEnd),t.inited=!0,t.emit("inited",{target:t,type:"inited"}),t.emit("add",{target:t,type:"add"}),t.hooks.afterInit.call()})()}log(t,r="init"){var i;if(this.tileLayer||this.isTileLayer)return;const s=`${this.id}.${r}.${t}`,p={id:this.id,type:this.type};(i=this.debugService)===null||i===void 0||i.log(s,p)}updateModelData(t){t.attributes&&t.elements?this.models.map(r=>{r.updateAttributesAndElements(t.attributes,t.elements)}):console.warn("data error")}setLayerPickService(t){this.layerPickService=t}prepareBuildModel(){Object.keys(this.needUpdateConfig||{}).length!==0&&this.updateLayerConfig({});const{animateOption:t}=this.getLayerConfig();t!=null&&t.enable&&(this.layerService.startAnimate(),this.animateStatus=!0)}color(t,r,i){return this.updateStyleAttribute("color",t,r,i),this}texture(t,r,i){return this.updateStyleAttribute("texture",t,r,i),this}rotate(t,r,i){return this.updateStyleAttribute("rotate",t,r,i),this}size(t,r,i){return this.updateStyleAttribute("size",t,r,i),this}filter(t,r,i){const s=this.updateStyleAttribute("filter",t,r,i);return this.dataState.dataSourceNeedUpdate=s&&this.inited,this}shape(t,r,i){this.shapeOption={field:t,values:r};const s=this.updateStyleAttribute("shape",t,r,i);return this.dataState.dataSourceNeedUpdate=s&&this.inited,this}label(t,r,i){return this.pendingStyleAttributes.push({attributeName:"label",attributeField:t,attributeValues:r,updateOptions:i}),this}animate(t){let r={};return za(t)?(r.enable=!0,r=wt(wt({},r),t)):r.enable=t,this.updateLayerConfig({animateOption:r}),this}source(t,r){return(t==null?void 0:t.type)==="source"?(this.setSource(t),this):(this.sourceOption={data:t,options:r},this.clusterZoom=0,this)}setData(t,r){return this.inited?(this.dataUpdatelog(),this.layerSource.setData(t,r)):this.on("inited",()=>{this.dataUpdatelog(),this.layerSource.setData(t,r)}),this}dataUpdatelog(){this.log(_a.SourceInitStart,Ha.UPDATE),this.layerSource.once("update",()=>{this.log(_a.SourceInitEnd,Ha.UPDATE)})}style(t){const{passes:r}=t,i=Zp(t,nC);r&&H9(r).forEach(p=>{const n=this.multiPassRenderer.getPostProcessor().getPostProcessingPassByName(p[0]);n&&n.updateOptions(p[1])}),i.borderColor&&(i.stroke=i.borderColor),i.borderWidth&&(i.strokeWidth=i.borderWidth);const s=i;return Object.keys(i).forEach(p=>{const n=i[p];Array.isArray(n)&&n.length===2&&!m4(n[0])&&!m4(n[1])&&(s[p]={field:n[0],value:n[1]})}),this.encodeStyle(s),this.updateLayerConfig(s),this}encodeStyle(t){Object.keys(t).forEach(r=>{[...this.enableShaderEncodeStyles,...this.enableDataEncodeStyles].includes(r)&&sC(t[r])&&(t[r].field||t[r].value)&&!e2(this.encodeStyleAttribute[r],t[r])?(this.encodeStyleAttribute[r]=t[r],this.updateStyleAttribute(r,t[r].field,t[r].value),this.inited&&(this.dataState.dataMappingNeedUpdate=!0)):this.encodeStyleAttribute[r]&&(delete this.encodeStyleAttribute[r],this.dataState.dataSourceNeedUpdate=!0)})}scale(t,r){const i=wt({},this.scaleOptions);if(za(t)?this.scaleOptions=wt(wt({},this.scaleOptions),t):this.scaleOptions[t]=r,this.styleAttributeService&&!e2(i,this.scaleOptions)){const s=za(t)?t:{[t]:r};this.styleAttributeService.updateScaleAttribute(s)}return this}renderLayers(){this.rendering=!0,this.layerService.reRender(),this.rendering=!1}prerender(){}render(t={}){return this.tileLayer?(this.tileLayer.render(),this):(this.layerService.beforeRenderData(this),this.encodeDataLength<=0&&!this.forceRender?this:(this.renderModels(t),this))}renderMultiPass(){var t=this;return Rt(function*(){t.encodeDataLength<=0&&!t.forceRender||(t.multiPassRenderer&&t.multiPassRenderer.getRenderFlag()?yield t.multiPassRenderer.render():t.renderModels())})()}active(t){const r={};return r.enableHighlight=za(t)?!0:t,za(t)?(r.enableHighlight=!0,t.color&&(r.highlightColor=t.color),t.mix&&(r.activeMix=t.mix)):r.enableHighlight=!!t,this.updateLayerConfig(r),this}setActive(t,r){if(za(t)){const{x:i=0,y:s=0}=t;this.updateLayerConfig({highlightColor:za(r)?r.color:this.getLayerConfig().highlightColor,activeMix:za(r)?r.mix:this.getLayerConfig().activeMix}),this.pick({x:i,y:s})}else this.updateLayerConfig({pickedFeatureID:t,highlightColor:za(r)?r.color:this.getLayerConfig().highlightColor,activeMix:za(r)?r.mix:this.getLayerConfig().activeMix}),this.hooks.beforeHighlight.call(T0(t)).then(()=>{setTimeout(()=>{this.reRender()},1)})}select(t){const r={};return r.enableSelect=za(t)?!0:t,za(t)?(r.enableSelect=!0,t.color&&(r.selectColor=t.color),t.mix&&(r.selectMix=t.mix)):r.enableSelect=!!t,this.updateLayerConfig(r),this}setSelect(t,r){if(za(t)){const{x:i=0,y:s=0}=t;this.updateLayerConfig({selectColor:za(r)?r.color:this.getLayerConfig().selectColor,selectMix:za(r)?r.mix:this.getLayerConfig().selectMix}),this.pick({x:i,y:s})}else this.updateLayerConfig({pickedFeatureID:t,selectColor:za(r)?r.color:this.getLayerConfig().selectColor,selectMix:za(r)?r.mix:this.getLayerConfig().selectMix}),this.hooks.beforeSelect.call(T0(t)).then(()=>{setTimeout(()=>{this.reRender()},1)})}setBlend(t){return this.updateLayerConfig({blend:t}),this.reRender(),this}show(){return this.updateLayerConfig({visible:!0}),this.reRender(),this.emit("show"),this}hide(){return this.updateLayerConfig({visible:!1}),this.reRender(),this.emit("hide"),this}setIndex(t){return this.zIndex=t,this.layerService.updateLayerRenderList(),this.layerService.renderLayers(),this}setCurrentPickId(t){this.currentPickId=t}getCurrentPickId(){return this.currentPickId}setCurrentSelectedId(t){this.selectedFeatureID=t}getCurrentSelectedId(){return this.selectedFeatureID}isVisible(){const t=this.mapService.getZoom(),{visible:r,minZoom:i=-1/0,maxZoom:s=1/0}=this.getLayerConfig();return!!r&&t>=i&&t<s}setMultiPass(t,r){if(this.updateLayerConfig({enableMultiPassRenderer:t}),r&&this.updateLayerConfig({passes:r}),t){const{passes:i=[]}=this.getLayerConfig();this.multiPassRenderer=G9(this,i,this.postProcessingPassFactory,this.normalPassFactory),this.multiPassRenderer.setRenderFlag(!0);const{width:s,height:p}=this.rendererService.getViewportSize();this.multiPassRenderer.resize(s,p)}return this}setMinZoom(t){return this.updateLayerConfig({minZoom:t}),this}getMinZoom(){const{minZoom:t}=this.getLayerConfig();return t}getMaxZoom(){const{maxZoom:t}=this.getLayerConfig();return t}get(t){return this.getLayerConfig()[t]}setMaxZoom(t){return this.updateLayerConfig({maxZoom:t}),this}setAutoFit(t){return this.updateLayerConfig({autoFit:t}),this}fitBounds(t){if(!this.inited)return this.updateLayerConfig({autoFit:!0}),this;const i=this.getSource().extent;return i.some(p=>Math.abs(p)===1/0)?this:(this.mapService.fitBounds([[i[0],i[1]],[i[2],i[3]]],t),this)}destroy(t=!0){var r,i,s,p,n;if(this.isDestroyed)return;(r=this.layerModel)===null||r===void 0||r.uniformBuffers.forEach(m=>{m.destroy()}),this.layerChildren.map(m=>m.destroy(!1)),this.layerChildren=[];const{maskfence:f}=this.getLayerConfig();f&&(this.masks.map(m=>m.destroy(!1)),this.masks=[]),this.hooks.beforeDestroy.call(),this.layerSource.off("update",this.sourceEvent),(i=this.multiPassRenderer)===null||i===void 0||i.destroy(),this.textureService.destroy(),this.styleAttributeService.clearAllAttributes(),this.hooks.afterDestroy.call(),(s=this.layerModel)===null||s===void 0||s.clearModels(t),(p=this.tileLayer)===null||p===void 0||p.destroy(),this.models=[],(n=this.debugService)===null||n===void 0||n.removeLog(this.id),this.emit("remove",{target:this,type:"remove"}),this.emit("destroy",{target:this,type:"destroy"}),this.removeAllListeners(),this.isDestroyed=!0}clear(){this.styleAttributeService.clearAllAttributes()}clearModels(){var t;this.models.forEach(r=>r.destroy()),(t=this.layerModel)===null||t===void 0||t.clearModels(),this.models=[]}isDirty(){return!!(this.styleAttributeService.getLayerStyleAttributes()||[]).filter(t=>t.needRescale||t.needRemapping||t.needRegenerateVertices).length}setSource(t){if(this.layerSource&&this.layerSource.off("update",this.sourceEvent),this.layerSource=t,this.clusterZoom=0,this.inited&&this.layerSource.cluster){const r=this.mapService.getZoom();this.layerSource.updateClusterData(r)}this.layerSource.inited&&this.sourceEvent(),this.layerSource.on("update",({type:r})=>{if(this.coordCenter===void 0){const i=this.layerSource.center;this.coordCenter=i}if(r==="update"){if(this.tileLayer){this.tileLayer.reload();return}this.sourceEvent()}})}getSource(){return this.layerSource}getScaleOptions(){return this.scaleOptions}setEncodedData(t){this.encodedData=t,this.encodeDataLength=t.length}getEncodedData(){return this.encodedData}getScale(t){return this.styleAttributeService.getLayerAttributeScale(t)}getLegend(t){var r,i,s;const p=this.styleAttributeService.getLayerStyleAttribute(t);return{type:(i=((p==null||(r=p.scale)===null||r===void 0?void 0:r.scalers)||[])[0])===null||i===void 0||(i=i.option)===null||i===void 0?void 0:i.type,field:p==null||(s=p.scale)===null||s===void 0?void 0:s.field,items:this.getLegendItems(t)}}getLegendItems(t){const r=this.styleAttributeService.getLayerAttributeScale(t);return r?r.invertExtent?r.range().map(s=>({value:r.invertExtent(s),[t]:s})):r.ticks?r.ticks().map(s=>({value:s,[t]:r(s)})):r!=null&&r.domain?r.domain().filter(s=>!uC(s)).map(s=>({value:s,[t]:r(s)})):[]:[]}pick({x:t,y:r}){this.interactionService.triggerHover({x:t,y:r})}boxSelect(t,r){this.pickingService.boxPickLayer(this,t,r)}buildLayerModel(t){var r=this;return Rt(function*(){const{moduleName:i,vertexShader:s,fragmentShader:p,defines:n,inject:f,triangulation:m,styleOption:g,pickingEnabled:x=!0}=t,b=Zp(t,aC);r.shaderModuleService.registerModule(i,{vs:s,fs:p,defines:n,inject:f});const{vs:F,fs:R,uniforms:I}=r.shaderModuleService.getModule(i),{createModel:O}=r.rendererService;return new Promise(U=>{const{attributes:Y,elements:ee,count:oe}=r.styleAttributeService.createAttributesAndIndices(r.encodedData,m,g,r),Re=[...r.layerModel.uniformBuffers,...r.rendererService.uniformBuffers];x&&Re.push(r.getPickingUniformBuffer());const Ae=wt({attributes:Y,uniforms:I,fs:R,vs:F,elements:ee,blend:j9[fl.normal],uniformBuffers:Re,textures:r.layerModel.textures},b);oe&&(Ae.count=oe);const ce=O(Ae);U(ce)})})()}createAttributes(t){const{triangulation:r}=t,{attributes:i}=this.styleAttributeService.createAttributes(this.encodedData,r);return i}getTime(){return this.layerService.clock.getDelta()}setAnimateStartTime(){this.animateStartTime=this.layerService.clock.getElapsedTime()}stopAnimate(){this.animateStatus&&(this.layerService.stopAnimate(),this.animateStatus=!1,this.updateLayerConfig({animateOption:{enable:!1}}))}getLayerAnimateTime(){return this.layerService.clock.getElapsedTime()-this.animateStartTime}needPick(t){const{enableHighlight:r=!0,enableSelect:i=!0}=this.getLayerConfig();let s=this.eventNames().indexOf(t)!==-1||this.eventNames().indexOf("un"+t)!==-1;return(t==="click"||t==="dblclick")&&i&&(s=!0),t==="mousemove"&&(r||this.eventNames().indexOf("mouseenter")!==-1||this.eventNames().indexOf("unmousemove")!==-1||this.eventNames().indexOf("mouseout")!==-1)&&(s=!0),this.isVisible()&&s}buildModels(){return Rt(function*(){throw new Error("Method not implemented.")})()}rebuildModels(){var t=this;return Rt(function*(){yield t.buildModels()})()}renderMulPass(t){return Rt(function*(){yield t.render()})()}renderModels(t={}){return this.encodeDataLength<=0&&!this.forceRender?(this.clearModels(),this):(this.hooks.beforeRender.call(),this.models.forEach(r=>{r.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(t),textures:this.layerModel.textures},(t==null?void 0:t.ispick)||!1)}),this.hooks.afterRender.call(),this)}updateStyleAttribute(t,r,i,s){const p=this.configService.getAttributeConfig(this.id)||{};return e2(p[t],{field:r,values:i})?!1:(["color","size","texture","rotate","filter","label","shape"].indexOf(t)!==-1&&this.configService.setAttributeConfig(this.id,{[t]:{field:r,values:i}}),this.startInit?this.styleAttributeService.updateStyleAttribute(t,{scale:wt({field:r},this.splitValuesAndCallbackInAttribute(i,this.getLayerConfig()[r]))},s):this.pendingStyleAttributes.push({attributeName:t,attributeField:r,attributeValues:i,updateOptions:s}),!0)}getLayerAttributeConfig(){return this.configService.getAttributeConfig(this.id)}getShaderPickStat(){return this.layerService.getShaderPickStat()}setEarthTime(t){console.warn("empty fn")}processData(t){return t}getModelType(){throw new Error("Method not implemented.")}getDefaultConfig(){return{}}initLayerModels(){var t=this;return Rt(function*(){t.models.forEach(i=>i.destroy()),t.models=[],t.uniformBuffers.forEach(i=>{i.destroy()}),t.uniformBuffers=[];const r=t.rendererService.createBuffer({data:new Float32Array(20).fill(0),isUBO:!0,label:"pickingUniforms"});t.uniformBuffers.push(r),t.models=yield t.layerModel.initModels()})()}getPickingUniformBuffer(){return this.uniformBuffers[0]}reRender(){this.inited&&this.layerService.reRender()}splitValuesAndCallbackInAttribute(t){return{values:f4(t)?void 0:t,callback:f4(t)?t:void 0}}}function pC(e,t){return{enable:e,mask:255,func:{cmp:k.EQUAL,ref:t?1:0,mask:1}}}function g4(e){return e.maskOperation===Ff.OR?{enable:!0,mask:255,func:{cmp:k.ALWAYS,ref:1,mask:255},opFront:{fail:k.KEEP,zfail:k.REPLACE,zpass:k.REPLACE}}:{enable:!0,mask:255,func:{cmp:e.stencilType===s1.SINGLE||e.stencilIndex===0?k.ALWAYS:k.LESS,ref:e.stencilType===s1.SINGLE?1:e.stencilIndex===0?2:1,mask:255},opFront:{fail:k.KEEP,zfail:k.REPLACE,zpass:k.REPLACE}}}const cC={opacity:1,stroke:[1,0,0,1],offsets:[0,0],rotation:0,extrusionBase:0,strokeOpacity:1,thetaOffset:.314},ph={opacity:"float",stroke:"vec4",offsets:"vec2",textOffset:"vec2",rotation:"float",extrusionBase:"float",strokeOpacity:"float",thetaOffset:"float"};var ch={exports:{}},v4;function lC(){if(v4)return ch.exports;v4=1,ch.exports=e,ch.exports.default=e;function e(re,fe,Pe){Pe=Pe||2;var Xe=fe&&fe.length,Ye=Xe?fe[0]*Pe:re.length,at=t(re,0,Ye,Pe,!0),ct=[];if(!at||at.next===at.prev)return ct;var Lt,pr,Wt,uo,hr,Lr,At;if(Xe&&(at=m(re,fe,at,Pe)),re.length>80*Pe){Lt=Wt=re[0],pr=uo=re[1];for(var lt=Pe;lt<Ye;lt+=Pe)hr=re[lt],Lr=re[lt+1],hr<Lt&&(Lt=hr),Lr<pr&&(pr=Lr),hr>Wt&&(Wt=hr),Lr>uo&&(uo=Lr);At=Math.max(Wt-Lt,uo-pr),At=At!==0?32767/At:0}return i(at,ct,Pe,Lt,pr,At,0),ct}function t(re,fe,Pe,Xe,Ye){var at,ct;if(Ye===mt(re,fe,Pe,Xe)>0)for(at=fe;at<Pe;at+=Xe)ct=B(at,re[at],re[at+1],ct);else for(at=Pe-Xe;at>=fe;at-=Xe)ct=B(at,re[at],re[at+1],ct);return ct&&Re(ct,ct.next)&&(X(ct),ct=ct.next),ct}function r(re,fe){if(!re)return re;fe||(fe=re);var Pe=re,Xe;do if(Xe=!1,!Pe.steiner&&(Re(Pe,Pe.next)||oe(Pe.prev,Pe,Pe.next)===0)){if(X(Pe),Pe=fe=Pe.prev,Pe===Pe.next)break;Xe=!0}else Pe=Pe.next;while(Xe||Pe!==fe);return fe}function i(re,fe,Pe,Xe,Ye,at,ct){if(re){!ct&&at&&R(re,Xe,Ye,at);for(var Lt=re,pr,Wt;re.prev!==re.next;){if(pr=re.prev,Wt=re.next,at?p(re,Xe,Ye,at):s(re)){fe.push(pr.i/Pe|0),fe.push(re.i/Pe|0),fe.push(Wt.i/Pe|0),X(re),re=Wt.next,Lt=Wt.next;continue}if(re=Wt,re===Lt){ct?ct===1?(re=n(r(re),fe,Pe),i(re,fe,Pe,Xe,Ye,at,2)):ct===2&&f(re,fe,Pe,Xe,Ye,at):i(r(re),fe,Pe,Xe,Ye,at,1);break}}}}function s(re){var fe=re.prev,Pe=re,Xe=re.next;if(oe(fe,Pe,Xe)>=0)return!1;for(var Ye=fe.x,at=Pe.x,ct=Xe.x,Lt=fe.y,pr=Pe.y,Wt=Xe.y,uo=Ye<at?Ye<ct?Ye:ct:at<ct?at:ct,hr=Lt<pr?Lt<Wt?Lt:Wt:pr<Wt?pr:Wt,Lr=Ye>at?Ye>ct?Ye:ct:at>ct?at:ct,At=Lt>pr?Lt>Wt?Lt:Wt:pr>Wt?pr:Wt,lt=Xe.next;lt!==fe;){if(lt.x>=uo&&lt.x<=Lr&&lt.y>=hr&&lt.y<=At&&Y(Ye,Lt,at,pr,ct,Wt,lt.x,lt.y)&&oe(lt.prev,lt,lt.next)>=0)return!1;lt=lt.next}return!0}function p(re,fe,Pe,Xe){var Ye=re.prev,at=re,ct=re.next;if(oe(Ye,at,ct)>=0)return!1;for(var Lt=Ye.x,pr=at.x,Wt=ct.x,uo=Ye.y,hr=at.y,Lr=ct.y,At=Lt<pr?Lt<Wt?Lt:Wt:pr<Wt?pr:Wt,lt=uo<hr?uo<Lr?uo:Lr:hr<Lr?hr:Lr,yr=Lt>pr?Lt>Wt?Lt:Wt:pr>Wt?pr:Wt,bt=uo>hr?uo>Lr?uo:Lr:hr>Lr?hr:Lr,Fr=O(At,lt,fe,Pe,Xe),to=O(yr,bt,fe,Pe,Xe),Ir=re.prevZ,wr=re.nextZ;Ir&&Ir.z>=Fr&&wr&&wr.z<=to;){if(Ir.x>=At&&Ir.x<=yr&&Ir.y>=lt&&Ir.y<=bt&&Ir!==Ye&&Ir!==ct&&Y(Lt,uo,pr,hr,Wt,Lr,Ir.x,Ir.y)&&oe(Ir.prev,Ir,Ir.next)>=0||(Ir=Ir.prevZ,wr.x>=At&&wr.x<=yr&&wr.y>=lt&&wr.y<=bt&&wr!==Ye&&wr!==ct&&Y(Lt,uo,pr,hr,Wt,Lr,wr.x,wr.y)&&oe(wr.prev,wr,wr.next)>=0))return!1;wr=wr.nextZ}for(;Ir&&Ir.z>=Fr;){if(Ir.x>=At&&Ir.x<=yr&&Ir.y>=lt&&Ir.y<=bt&&Ir!==Ye&&Ir!==ct&&Y(Lt,uo,pr,hr,Wt,Lr,Ir.x,Ir.y)&&oe(Ir.prev,Ir,Ir.next)>=0)return!1;Ir=Ir.prevZ}for(;wr&&wr.z<=to;){if(wr.x>=At&&wr.x<=yr&&wr.y>=lt&&wr.y<=bt&&wr!==Ye&&wr!==ct&&Y(Lt,uo,pr,hr,Wt,Lr,wr.x,wr.y)&&oe(wr.prev,wr,wr.next)>=0)return!1;wr=wr.nextZ}return!0}function n(re,fe,Pe){var Xe=re;do{var Ye=Xe.prev,at=Xe.next.next;!Re(Ye,at)&&Ae(Ye,Xe,Xe.next,at)&&ht(Ye,at)&&ht(at,Ye)&&(fe.push(Ye.i/Pe|0),fe.push(Xe.i/Pe|0),fe.push(at.i/Pe|0),X(Xe),X(Xe.next),Xe=re=at),Xe=Xe.next}while(Xe!==re);return r(Xe)}function f(re,fe,Pe,Xe,Ye,at){var ct=re;do{for(var Lt=ct.next.next;Lt!==ct.prev;){if(ct.i!==Lt.i&&ee(ct,Lt)){var pr=we(ct,Lt);ct=r(ct,ct.next),pr=r(pr,pr.next),i(ct,fe,Pe,Xe,Ye,at,0),i(pr,fe,Pe,Xe,Ye,at,0);return}Lt=Lt.next}ct=ct.next}while(ct!==re)}function m(re,fe,Pe,Xe){var Ye=[],at,ct,Lt,pr,Wt;for(at=0,ct=fe.length;at<ct;at++)Lt=fe[at]*Xe,pr=at<ct-1?fe[at+1]*Xe:re.length,Wt=t(re,Lt,pr,Xe,!1),Wt===Wt.next&&(Wt.steiner=!0),Ye.push(U(Wt));for(Ye.sort(g),at=0;at<Ye.length;at++)Pe=x(Ye[at],Pe);return Pe}function g(re,fe){return re.x-fe.x}function x(re,fe){var Pe=b(re,fe);if(!Pe)return fe;var Xe=we(Pe,re);return r(Xe,Xe.next),r(Pe,Pe.next)}function b(re,fe){var Pe=fe,Xe=re.x,Ye=re.y,at=-1/0,ct;do{if(Ye<=Pe.y&&Ye>=Pe.next.y&&Pe.next.y!==Pe.y){var Lt=Pe.x+(Ye-Pe.y)*(Pe.next.x-Pe.x)/(Pe.next.y-Pe.y);if(Lt<=Xe&&Lt>at&&(at=Lt,ct=Pe.x<Pe.next.x?Pe:Pe.next,Lt===Xe))return ct}Pe=Pe.next}while(Pe!==fe);if(!ct)return null;var pr=ct,Wt=ct.x,uo=ct.y,hr=1/0,Lr;Pe=ct;do Xe>=Pe.x&&Pe.x>=Wt&&Xe!==Pe.x&&Y(Ye<uo?Xe:at,Ye,Wt,uo,Ye<uo?at:Xe,Ye,Pe.x,Pe.y)&&(Lr=Math.abs(Ye-Pe.y)/(Xe-Pe.x),ht(Pe,re)&&(Lr<hr||Lr===hr&&(Pe.x>ct.x||Pe.x===ct.x&&F(ct,Pe)))&&(ct=Pe,hr=Lr)),Pe=Pe.next;while(Pe!==pr);return ct}function F(re,fe){return oe(re.prev,re,fe.prev)<0&&oe(fe.next,re,re.next)<0}function R(re,fe,Pe,Xe){var Ye=re;do Ye.z===0&&(Ye.z=O(Ye.x,Ye.y,fe,Pe,Xe)),Ye.prevZ=Ye.prev,Ye.nextZ=Ye.next,Ye=Ye.next;while(Ye!==re);Ye.prevZ.nextZ=null,Ye.prevZ=null,I(Ye)}function I(re){var fe,Pe,Xe,Ye,at,ct,Lt,pr,Wt=1;do{for(Pe=re,re=null,at=null,ct=0;Pe;){for(ct++,Xe=Pe,Lt=0,fe=0;fe<Wt&&(Lt++,Xe=Xe.nextZ,!!Xe);fe++);for(pr=Wt;Lt>0||pr>0&&Xe;)Lt!==0&&(pr===0||!Xe||Pe.z<=Xe.z)?(Ye=Pe,Pe=Pe.nextZ,Lt--):(Ye=Xe,Xe=Xe.nextZ,pr--),at?at.nextZ=Ye:re=Ye,Ye.prevZ=at,at=Ye;Pe=Xe}at.nextZ=null,Wt*=2}while(ct>1);return re}function O(re,fe,Pe,Xe,Ye){return re=(re-Pe)*Ye|0,fe=(fe-Xe)*Ye|0,re=(re|re<<8)&16711935,re=(re|re<<4)&252645135,re=(re|re<<2)&858993459,re=(re|re<<1)&1431655765,fe=(fe|fe<<8)&16711935,fe=(fe|fe<<4)&252645135,fe=(fe|fe<<2)&858993459,fe=(fe|fe<<1)&1431655765,re|fe<<1}function U(re){var fe=re,Pe=re;do(fe.x<Pe.x||fe.x===Pe.x&&fe.y<Pe.y)&&(Pe=fe),fe=fe.next;while(fe!==re);return Pe}function Y(re,fe,Pe,Xe,Ye,at,ct,Lt){return(Ye-ct)*(fe-Lt)>=(re-ct)*(at-Lt)&&(re-ct)*(Xe-Lt)>=(Pe-ct)*(fe-Lt)&&(Pe-ct)*(at-Lt)>=(Ye-ct)*(Xe-Lt)}function ee(re,fe){return re.next.i!==fe.i&&re.prev.i!==fe.i&&!De(re,fe)&&(ht(re,fe)&&ht(fe,re)&&qe(re,fe)&&(oe(re.prev,re,fe.prev)||oe(re,fe.prev,fe))||Re(re,fe)&&oe(re.prev,re,re.next)>0&&oe(fe.prev,fe,fe.next)>0)}function oe(re,fe,Pe){return(fe.y-re.y)*(Pe.x-fe.x)-(fe.x-re.x)*(Pe.y-fe.y)}function Re(re,fe){return re.x===fe.x&&re.y===fe.y}function Ae(re,fe,Pe,Xe){var Ye=Ie(oe(re,fe,Pe)),at=Ie(oe(re,fe,Xe)),ct=Ie(oe(Pe,Xe,re)),Lt=Ie(oe(Pe,Xe,fe));return!!(Ye!==at&&ct!==Lt||Ye===0&&ce(re,Pe,fe)||at===0&&ce(re,Xe,fe)||ct===0&&ce(Pe,re,Xe)||Lt===0&&ce(Pe,fe,Xe))}function ce(re,fe,Pe){return fe.x<=Math.max(re.x,Pe.x)&&fe.x>=Math.min(re.x,Pe.x)&&fe.y<=Math.max(re.y,Pe.y)&&fe.y>=Math.min(re.y,Pe.y)}function Ie(re){return re>0?1:re<0?-1:0}function De(re,fe){var Pe=re;do{if(Pe.i!==re.i&&Pe.next.i!==re.i&&Pe.i!==fe.i&&Pe.next.i!==fe.i&&Ae(Pe,Pe.next,re,fe))return!0;Pe=Pe.next}while(Pe!==re);return!1}function ht(re,fe){return oe(re.prev,re,re.next)<0?oe(re,fe,re.next)>=0&&oe(re,re.prev,fe)>=0:oe(re,fe,re.prev)<0||oe(re,re.next,fe)<0}function qe(re,fe){var Pe=re,Xe=!1,Ye=(re.x+fe.x)/2,at=(re.y+fe.y)/2;do Pe.y>at!=Pe.next.y>at&&Pe.next.y!==Pe.y&&Ye<(Pe.next.x-Pe.x)*(at-Pe.y)/(Pe.next.y-Pe.y)+Pe.x&&(Xe=!Xe),Pe=Pe.next;while(Pe!==re);return Xe}function we(re,fe){var Pe=new de(re.i,re.x,re.y),Xe=new de(fe.i,fe.x,fe.y),Ye=re.next,at=fe.prev;return re.next=fe,fe.prev=re,Pe.next=Ye,Ye.prev=Pe,Xe.next=Pe,Pe.prev=Xe,at.next=Xe,Xe.prev=at,Xe}function B(re,fe,Pe,Xe){var Ye=new de(re,fe,Pe);return Xe?(Ye.next=Xe.next,Ye.prev=Xe,Xe.next.prev=Ye,Xe.next=Ye):(Ye.prev=Ye,Ye.next=Ye),Ye}function X(re){re.next.prev=re.prev,re.prev.next=re.next,re.prevZ&&(re.prevZ.nextZ=re.nextZ),re.nextZ&&(re.nextZ.prevZ=re.prevZ)}function de(re,fe,Pe){this.i=re,this.x=fe,this.y=Pe,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}e.deviation=function(re,fe,Pe,Xe){var Ye=fe&&fe.length,at=Ye?fe[0]*Pe:re.length,ct=Math.abs(mt(re,0,at,Pe));if(Ye)for(var Lt=0,pr=fe.length;Lt<pr;Lt++){var Wt=fe[Lt]*Pe,uo=Lt<pr-1?fe[Lt+1]*Pe:re.length;ct-=Math.abs(mt(re,Wt,uo,Pe))}var hr=0;for(Lt=0;Lt<Xe.length;Lt+=3){var Lr=Xe[Lt]*Pe,At=Xe[Lt+1]*Pe,lt=Xe[Lt+2]*Pe;hr+=Math.abs((re[Lr]-re[lt])*(re[At+1]-re[Lr+1])-(re[Lr]-re[At])*(re[lt+1]-re[Lr+1]))}return ct===0&&hr===0?0:Math.abs((hr-ct)/ct)};function mt(re,fe,Pe,Xe){for(var Ye=0,at=fe,ct=Pe-Xe;at<Pe;at+=Xe)Ye+=(re[ct]-re[at])*(re[at+1]+re[ct+1]),ct=at;return Ye}return e.flatten=function(re){for(var fe=re[0][0].length,Pe={vertices:[],holes:[],dimensions:fe},Xe=0,Ye=0;Ye<re.length;Ye++){for(var at=0;at<re[Ye].length;at++)for(var ct=0;ct<fe;ct++)Pe.vertices.push(re[Ye][at][ct]);Ye>0&&(Xe+=re[Ye-1].length,Pe.holes.push(Xe))}return Pe},ch.exports}var dC=lC();const Sc=mp(dC);function E4(e){return Math.max(Math.ceil(e/4)*4,4)}function W9(e,t,r,i=!0){const s=r===3;if(i){e=e.slice();const n=[];for(let f=0;f<e.length;f+=r){n[0]=e[f],n[1]=e[f+1],s&&(n[2]=e[f+2]);const m=bh(n,!0,{enable:!1,decimal:1});e[f]=m[0],e[f+1]=m[1],s&&(e[f+2]=m[2])}}return Sc(e,t,r)}const X9="ATTRIBUTE_LOCATION_";class Pi{get attributeLocation(){return wt({},gl)}constructor(t){G(this,"triangulation",void 0),G(this,"uniformBuffers",[]),G(this,"textures",[]),G(this,"createTexture2D",void 0),G(this,"preStyleAttribute",{}),G(this,"encodeStyleAttribute",{}),G(this,"layer",void 0),G(this,"dataTexture",void 0),G(this,"DATA_TEXTURE_WIDTH",void 0),G(this,"dataTextureTest",void 0),G(this,"configService",void 0),G(this,"shaderModuleService",void 0),G(this,"rendererService",void 0),G(this,"iconService",void 0),G(this,"fontService",void 0),G(this,"styleAttributeService",void 0),G(this,"mapService",void 0),G(this,"cameraService",void 0),G(this,"layerService",void 0),G(this,"pickingService",void 0),G(this,"attributeUnifoms",void 0),G(this,"commonUnifoms",void 0),this.layer=t,this.configService=t.getContainer().globalConfigService,this.rendererService=t.getContainer().rendererService,this.pickingService=t.getContainer().pickingService,this.shaderModuleService=t.getContainer().shaderModuleService,this.styleAttributeService=t.getContainer().styleAttributeService,this.mapService=t.getContainer().mapService,this.iconService=t.getContainer().iconService,this.fontService=t.getContainer().fontService,this.cameraService=t.getContainer().cameraService,this.layerService=t.getContainer().layerService,this.registerStyleAttribute(),this.registerBuiltinAttributes(),this.startModelAnimate();const{createTexture2D:r}=this.rendererService;this.createTexture2D=r}getBlend(){const{blend:t="normal"}=this.layer.getLayerConfig();return j9[fl[t]]}getStencil(t){const{mask:r=!1,maskInside:i=!0,enableMask:s,maskOperation:p=Ff.AND}=this.layer.getLayerConfig();if(this.layer.type==="MaskLayer")return g4({isStencil:!0,stencilType:s1.SINGLE});if(t.isStencil)return g4(wt(wt({},t),{},{maskOperation:p}));const n=r||s&&this.layer.masks.length!==0||this.layer.tileMask!==void 0;return pC(n,i)}getDefaultStyle(){return{}}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());this.updateStyleUnifoms();const i=wt(wt({},r.uniformsOption),t.uniformsOption);return Object.keys(i).forEach(s=>{typeof i[s]=="boolean"&&(i[s]=i[s]?1:0)}),!this.rendererService.hasOwnProperty("device")&&this.textures&&this.textures.length===1&&(i.u_texture=this.textures[0]),i}getAnimateUniforms(){return{}}needUpdate(){return Rt(function*(){return!1})()}buildModels(){return Rt(function*(){throw new Error("Method not implemented.")})()}initModels(){return Rt(function*(){throw new Error("Method not implemented.")})()}clearModels(t=!0){}getAttribute(){throw new Error("Method not implemented.")}prerender(){}render(t){throw new Error("Method not implemented.")}registerBuiltinAttributes(){throw new Error("Method not implemented.")}animateOption2Array(t){return[t.enable?0:1,t.duration||4,t.interval||.2,t.trailLength||.1]}startModelAnimate(){const{animateOption:t}=this.layer.getLayerConfig();t.enable&&this.layer.setAnimateStartTime()}getInject(){return yC(this.layer.enableShaderEncodeStyles,this.layer.encodeStyleAttribute)}getDefines(){const t=Object.keys(this.attributeLocation).reduce((r,i)=>{const s=X9+i;return r[s]=this.attributeLocation[i],r},{});return wt({},t)}getStyleAttribute(){const t={};return this.layer.enableShaderEncodeStyles.forEach(r=>{if(!this.layer.encodeStyleAttribute[r]){const i=this.layer.getLayerConfig()[r];let s=typeof i>"u"?cC[r]:i;r==="stroke"&&(s=Di(s)),t["u_"+r]=s}}),t}registerStyleAttribute(){Object.keys(this.layer.encodeStyleAttribute).forEach(t=>{const r=Zw(t);r&&this.styleAttributeService.registerStyleAttribute(r)})}registerPosition64LowAttribute(t=!0){this.styleAttributeService.registerStyleAttribute({name:"position64Low",type:Nr.Attribute,descriptor:{name:"a_Position64Low",shaderLocation:this.attributeLocation.POSITION_64LOW,buffer:{data:[],type:k.FLOAT},size:2,update:(r,i,s)=>t?[sa(s[0]),sa(s[1])]:[0,0]}})}updateEncodeAttribute(t,r){this.encodeStyleAttribute[t]=r}initUniformsBuffer(){const t=this.getUniformsBufferInfo(this.getStyleAttribute()),r=this.getCommonUniformsInfo();t.uniformsLength!==0&&(this.attributeUnifoms=this.rendererService.createBuffer({data:new Float32Array(E4(t.uniformsLength)).fill(0),isUBO:!0,label:"layerModelAttributeUnifoms"}),this.uniformBuffers.push(this.attributeUnifoms)),r.uniformsLength!==0&&(this.commonUnifoms=this.rendererService.createBuffer({data:new Float32Array(E4(r.uniformsLength)).fill(0),isUBO:!0,label:"layerModelCommonUnifoms"}),this.uniformBuffers.push(this.commonUnifoms))}getUniformsBufferInfo(t){let r=0;const i=[];return Object.values(t).forEach(s=>{Array.isArray(s)?(i.push(...s),r+=s.length):typeof s=="number"?(i.push(s),r+=1):typeof s=="boolean"&&(i.push(Number(s)),r+=1)}),{uniformsOption:t,uniformsLength:r,uniformsArray:i}}getCommonUniformsInfo(){return{uniformsLength:0,uniformsArray:[],uniformsOption:{}}}updateStyleUnifoms(){var t,r;const{uniformsArray:i}=this.getUniformsBufferInfo(this.getStyleAttribute()),{uniformsArray:s}=this.getCommonUniformsInfo();(t=this.attributeUnifoms)===null||t===void 0||t.subData({offset:0,data:new Uint8Array(new Float32Array(i).buffer)}),(r=this.commonUnifoms)===null||r===void 0||r.subData({offset:0,data:new Uint8Array(new Float32Array(s).buffer)})}}function yC(e,t){const r=[];let i="";e.forEach(n=>{const f=n.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase(),m=X9+f;t[n]?i+=`#define USE_ATTRIBUTE_${f} 0.0 
`:r.push(`  ${ph[n]} u_${n};`),i+=`
#ifdef USE_ATTRIBUTE_${f}
layout(location = ${m}) in ${ph[n]} a_${n.charAt(0).toUpperCase()+n.slice(1)};
#endif 
`});const s=r.length?`
layout(std140) uniform AttributeUniforms {
  ${r.join(`
`)}
};
`:"";i+=s;let p="";return e.forEach(n=>{const f=n.replace(/([a-z])([A-Z])/g,"$1_$2").toUpperCase();p+=`
  #ifdef USE_ATTRIBUTE_${f}
    ${ph[n]} ${n} = a_${n.charAt(0).toUpperCase()+n.slice(1)};
  #else
    ${ph[n]} ${n} = u_${n};
  #endif
  `}),{"vs:#decl":i,"fs:#decl":s,"vs:#main-start":p}}let x4=function(e){return e.VERTICAL="vertical",e.HORIZONTAL="horizontal",e}({}),hC=function(e){return e.NORMAL="normal",e.REPLACE="replace",e}({}),I6=function(e){return e[e.pixel=0]="pixel",e[e.meter=1]="meter",e}({});const Z9=100;function P4(e){return e/180*Math.acos(-1)}function Y9(e){const t=P4(e[0])+Math.PI/2,r=P4(e[1]),i=Z9+Math.random()*.4,s=i*Math.cos(r)*Math.cos(t),p=i*Math.cos(r)*Math.sin(t),n=i*Math.sin(r);return[p,n,s]}const b4=uu();uu();const Uu=uu(),Ad=uu(),lh=uu();function A4(e,t,r,i,s){ml(e,r,i),Lh(e,e),t=d2(-e[1],e[0]);const p=d2(-r[1],r[0]);return[s/y2(t,p),t]}function Fd(e,t){return xv(e,-t[1],t[0])}function dh(e,t,r){return qg(e,t,r),Lh(e,e),e}function F4(e,t){return e[0]===t[0]&&e[1]===t[1]}class fC{constructor(t={}){G(this,"complex",void 0),G(this,"join",void 0),G(this,"cap",void 0),G(this,"miterLimit",void 0),G(this,"thickness",void 0),G(this,"normal",void 0),G(this,"lastFlip",-1),G(this,"miter",d2(0,0)),G(this,"started",!1),G(this,"dash",!1),G(this,"totalDistance",0),G(this,"currentIndex",0),this.join=t.join||"miter",this.cap=t.cap||"butt",this.miterLimit=t.miterLimit||10,this.thickness=t.thickness||1,this.dash=t.dash||!1,this.complex={positions:[],indices:[],normals:[],startIndex:0,indexes:[]}}simpleExtrude(t){const r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const i=t.length;let s=r.startIndex;for(let p=1;p<i;p++){const n=t[p-1],f=t[p],m=p<t.length-1?t[p+1]:null,g=this.simpleSegment(r,s,n,f,m);s+=g}if(this.dash)for(let p=0;p<r.positions.length/6;p++)r.positions[p*6+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}extrude(t){const r=this.complex;if(t.length<=1)return r;this.lastFlip=-1,this.started=!1,this.normal=null,this.totalDistance=0;const i=t.length;let s=r.startIndex;for(let p=1;p<i;p++){const n=t[p-1],f=t[p],m=p<t.length-1?t[p+1]:null,g=this.segment(r,s,n,f,m);s+=g}if(this.dash)for(let p=0;p<r.positions.length/6;p++)r.positions[p*6+5]=this.totalDistance;return r.startIndex=r.positions.length/6,r}simpleSegment(t,r,i,s,p){let n=0;const f=t.indices,m=t.positions,g=t.normals,x=Gu([s[0],s[1]]),b=Gu([i[0],i[1]]);dh(Uu,x,b);let F=0;if(this.dash&&(F=this.lineSegmentDistance(x,b),this.totalDistance+=F),this.normal||(this.normal=uu(),Fd(this.normal,Uu)),this.started||(this.started=!0,this.extrusions(m,g,i,this.normal,this.thickness,this.totalDistance-F)),f.push(r+0,r+1,r+2),!p)Fd(this.normal,Uu),this.extrusions(m,g,s,this.normal,this.thickness,this.totalDistance),f.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),n+=2;else{const R=Gu([p[0],p[1]]);F4(x,R)&&ml(R,x,Lh(R,b3(R,x,b))),dh(Ad,R,x);const[I,O]=A4(lh,uu(),Uu,Ad,this.thickness);let U=y2(lh,this.normal)<0?-1:1;this.extrusions(m,g,s,O,I,this.totalDistance),f.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),U=-1,cm(this.normal,O),n+=2,this.lastFlip=U}return n}segment(t,r,i,s,p){let n=0;const f=t.indices,m=t.positions,g=t.normals,x=this.cap==="square",b=this.join==="bevel",F=Gu([s[0],s[1]]),R=Gu([i[0],i[1]]);dh(Uu,F,R);let I=0;if(this.dash&&(I=this.lineSegmentDistance(F,R),this.totalDistance+=I),this.normal||(this.normal=uu(),Fd(this.normal,Uu)),!this.started)if(this.started=!0,x){const O=uu(),U=uu();ml(O,this.normal,Uu),ml(U,this.normal,Uu),g.push(U[0],U[1],0),g.push(O[0],O[1],0),m.push(i[0],i[1],i[2]|0,this.totalDistance-I,-this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),m.push(i[0],i[1],i[2]|0,this.totalDistance-I,this.thickness,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(m,g,i,this.normal,this.thickness,this.totalDistance-I);if(f.push(r+0,r+1,r+2),p){const O=Gu([p[0],p[1]]);F4(F,O)&&ml(O,F,Lh(O,b3(O,F,R))),dh(Ad,O,F);const[U,Y]=A4(lh,uu(),Uu,Ad,this.thickness);let ee=y2(lh,this.normal)<0?-1:1,oe=b;!oe&&this.join==="miter"&&U>this.miterLimit&&(oe=!0),oe?(g.push(this.normal[0],this.normal[1],0),g.push(Y[0],Y[1],0),m.push(s[0],s[1],s[2]|0,this.totalDistance,-this.thickness*ee,s[2]|0),this.complex.indexes.push(this.currentIndex),m.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness*ee,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,f.push(...this.lastFlip!==-ee?[r,r+2,r+3]:[r+2,r+1,r+3]),f.push(r+2,r+3,r+4),Fd(b4,Ad),cm(this.normal,b4),g.push(this.normal[0],this.normal[1],0),m.push(s[0],s[1],s[2]|0,this.totalDistance,-this.thickness*ee,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++,n+=3):(this.extrusions(m,g,s,Y,U,this.totalDistance),f.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),ee=-1,cm(this.normal,Y),n+=2),this.lastFlip=ee}else{if(Fd(this.normal,Uu),x){const O=uu(),U=uu();qg(U,Uu,this.normal),ml(O,Uu,this.normal),g.push(U[0],U[1],0),g.push(O[0],O[1],0),m.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness,s[2]|0),this.complex.indexes.push(this.currentIndex),m.push(s[0],s[1],s[2]|0,this.totalDistance,this.thickness,s[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}else this.extrusions(m,g,s,this.normal,this.thickness,this.totalDistance);f.push(...this.lastFlip===1?[r,r+2,r+3]:[r+2,r+1,r+3]),n+=2}return n}extrusions(t,r,i,s,p,n){r.push(s[0],s[1],0),r.push(s[0],s[1],0),t.push(i[0],i[1],i[2]|0,n,-p,i[2]|0),this.complex.indexes.push(this.currentIndex),t.push(i[0],i[1],i[2]|0,n,p,i[2]|0),this.complex.indexes.push(this.currentIndex),this.currentIndex++}lineSegmentDistance(t,r){const i=r[0]-t[0],s=r[1]-t[1];return Math.sqrt(i*i+s*s)}}let Td=function(e){return e.CYLINDER="cylinder",e.SQUARECOLUMN="squareColumn",e.TRIANGLECOLUMN="triangleColumn",e.HEXAGONCOLUMN="hexagonColumn",e.PENTAGONCOLUMN="pentagonColumn",e}({}),Sd=function(e){return e.CIRCLE="circle",e.SQUARE="square",e.TRIANGLE="triangle",e.HEXAGON="hexagon",e.PENTAGON="pentagon",e}({});function gy(e,t=0){const r=Math.PI*2/e,i=[];for(let p=0;p<e;p++)i.push(r*p+t*Math.PI/12);return i.map(p=>{const n=Math.sin(p+Math.PI/4),f=Math.cos(p+Math.PI/4);return[n,f,0]})}function H2(){return gy(30)}function T4(){return gy(4)}function S4(){return gy(3)}function R4(){return gy(6,1)}function w4(){return gy(5)}const P0={[Sd.CIRCLE]:H2,[Sd.HEXAGON]:R4,[Sd.TRIANGLE]:S4,[Sd.SQUARE]:T4,[Sd.PENTAGON]:w4,[Td.CYLINDER]:H2,[Td.HEXAGONCOLUMN]:R4,[Td.TRIANGLECOLUMN]:S4,[Td.SQUARECOLUMN]:T4,[Td.PENTAGONCOLUMN]:w4};function mC(e){const t=e[0][0],r=e[0][e[0].length-1];t[0]===r[0]&&t[1]===r[1]&&(e[0]=e[0].slice(0,e[0].length-1));const i=e[0].length,s=Sc.flatten(e),{vertices:p,dimensions:n}=s,f=[],m=[];for(let x=0;x<p.length/n;x++)n===2?f.push(p[x*2],p[x*2+1],1):f.push(p[x*3],p[x*3+1],1);const g=Sc(s.vertices,s.holes,s.dimensions);m.push(...g);for(let x=0;x<i;x++){const b=s.vertices.slice(x*n,(x+1)*n);let F=s.vertices.slice((x+1)*n,(x+2)*n);F.length===0&&(F=s.vertices.slice(0,n));const R=f.length/3;f.push(b[0],b[1],1,F[0],F[1],1,b[0],b[1],0,F[0],F[1],0),m.push(...[0,2,1,2,3,1].map(I=>I+R))}return{positions:f,index:m}}function _C(e){const t=Sc.flatten(e),r=Sc(t.vertices,t.holes,t.dimensions);return{positions:t.vertices,index:r}}function q9(e,t=!1){const r=e[0][0],i=e[0][e[0].length-1];r[0]===i[0]&&r[1]===i[1]&&(e[0]=e[0].slice(0,e[0].length-1));const s=e[0].length,p=Sc.flatten(e),{vertices:n,dimensions:f,holes:m}=p,g=[],x=[],b=[];for(let R=0;R<n.length/f;R++)g.push(n[R*f],n[R*f+1],1,-1,-1),b.push(0,0,1);const F=W9(n,m,f,t);x.push(...F);for(let R=0;R<s;R++){const I=p.vertices.slice(R*f,(R+1)*f);let O=p.vertices.slice((R+1)*f,(R+2)*f);O.length===0&&(O=p.vertices.slice(0,f));const U=g.length/5;g.push(I[0],I[1],1,0,0,O[0],O[1],1,.1,0,I[0],I[1],0,0,.8,O[0],O[1],0,.1,.8);const Y=gC([O[0],O[1],1],[I[0],I[1],0],[I[0],I[1],1],t);b.push(...Y,...Y,...Y,...Y),x.push(...[1,2,0,3,2,1].map(ee=>ee+U))}return{positions:g,index:x,normals:b}}function gC(e,t,r,i=!1){const s=rh(),p=rh(),n=rh();i&&(e=bh(e),t=bh(t),r=bh(r));const f=lp(...e),m=lp(...t),g=lp(...r);A3(s,g,m),A3(p,f,m),Pv(n,s,p);const x=rh();return Ud(x,n),x}const t2={};function c1(e){const t=d1(e.coordinates);return{vertices:[...t,...t,...t,...t],indices:[0,1,2,2,3,0],size:t.length}}function C4(e){const t=d1(e.coordinates),r=Y9(t);return{vertices:[...r,...r,...r,...r],indices:[0,1,2,2,3,0],size:r.length}}function M6(e){const{shape:t}=e,{positions:r,index:i,normals:s}=AC(t,!1);return{vertices:r,indices:i,normals:s,size:5}}function vC(e){const t=d1(e.coordinates);return{vertices:[...t],indices:[0],size:t.length}}function G2(e){const{coordinates:t}=e,r=new fC({dash:!0,join:"bevel"});let i=t;i[0]&&!Array.isArray(i[0][0])&&(i=[t]),i.forEach(p=>{r.extrude(p)});const s=r.complex;return{vertices:s.positions,indices:s.indices,normals:s.normals,indexes:s.indexes,size:6}}function EC(e){const{coordinates:t}=e,r=[];if(!Array.isArray(t[0]))return{vertices:[],indices:[],normals:[],size:6,count:0};const{results:i,totalDistance:s}=xC(t);return i.map(p=>{r.push(p[0],p[1],p[2],p[3],0,s)}),{vertices:r,indices:[],normals:[],size:6,count:i.length}}function I4(e,t){const r=t[0]-e[0],i=t[1]-e[1];return Math.sqrt(r*r+i*i)}function r2(e,t){return e.length<3&&e.push(0),t!==void 0&&e.push(t),e}function xC(e){let t=e;Array.isArray(t)&&Array.isArray(t[0])&&Array.isArray(t[0][0])&&(t=e.flat());let r=0;if(t.length<2)return{results:t,totalDistance:0};{const i=[],s=r2(t[0],r);i.push(s);for(let n=1;n<t.length-1;n++){const f=I4(Gu(t[n-1]),Gu(t[n]));r+=f;const m=r2(t[n],r);i.push(m),i.push(m)}const p=I4(Gu(t[t.length-2]),Gu(t[t.length-1]));return r+=p,i.push(r2(t[t.length-1],r)),{results:i,totalDistance:r}}}function vy(e){const{coordinates:t}=e,r=Sc.flatten(t),{vertices:i,dimensions:s,holes:p}=r;return{indices:W9(i,p,s),vertices:i,size:s}}function PC(e){const{indices:t,vertices:r,size:i}=vy(e);return{indices:t,vertices:bC(r),size:i+4}}function bC(e){const t=[],{center:r,radius:i}=OE(e);for(let s=0;s<e.length;s+=2){const p=e[s],n=e[s+1];t.push(p,n,0,...r,i)}return t}function $9(e){const t=e.coordinates,{positions:r,index:i,normals:s}=q9(t,!0);return{vertices:r,indices:i,normals:s,size:5}}function K9(e){const{shape:t}=e,{positions:r,index:i}=FC(t);return{vertices:r,indices:i,size:3}}function Cf(e){const t=e.coordinates;return{vertices:[...t[0],0,0,0,...t[1],0,1,0,...t[2],0,1,1,...t[3],0,0,1],indices:[0,1,2,0,2,3],size:5}}function N6(e,t){const{segmentNumber:r=30}=t,i=e.coordinates,s=[],p=[];for(let n=0;n<r;n++)s.push(n,1,n,i[0][0],i[0][1],i[1][0],i[1][1],n,-1,n,i[0][0],i[0][1],i[1][0],i[1][1]),n!==r-1&&p.push(...[0,1,2,1,3,2].map(f=>n*2+f));return{vertices:s,indices:p,size:7}}function M4(e){const t=e.coordinates;t.length===2&&t.push(0);const r=yh(-1,1),i=yh(1,1),s=yh(-1,-1),p=yh(1,-1);return{vertices:[...t,...r,...t,...s,...t,...p,...t,...i],indices:[0,1,2,3,0,2],size:5}}function AC(e,t=!1){if(t2[e])return t2[e];const r=P0[e]?P0[e]():P0.cylinder(),i=q9([r],t);return t2[e]=i,i}function FC(e){const t=["cylinder","triangleColumn","hexagonColumn","squareColumn"],r=P0[e]?P0[e]():P0.circle();return t.indexOf(e)===-1?_C([r]):mC([r])}function yh(e,t){const r=(e+1)/2,i=(t+1)/2;return[r,i]}function Q9(e,t){return{type:e.type,field:"value",items:e.positions.map((r,i)=>({[t]:i>=e.colors.length?null:e.colors[i],value:r}))}}const TC=`in vec4 v_color;

#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,SC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location =  ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;

layout(std140) uniform commonUniforms {
    vec2 u_radius;
    float u_opacity;
    float u_coverage;
    float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
  v_color.a *= u_opacity;

  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = a_Position.xy * u_radius * rotationMatrix * u_coverage;

  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);
  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  gl_Position = project_common_position_to_clipspace(project_pos);

  setPickingColor(a_PickingColor);
}
`;class RC extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t,coverage:r,angle:i}=this.layer.getLayerConfig(),s={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:t||1,u_coverage:r||.9,u_angle:i||0};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"heatmapGrid",vertexShader:SC,fragmentShader:TC,defines:t.getDefines(),triangulation:K9,primitive:k.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:Nr.Attribute,descriptor:{shaderLocation:this.attributeLocation.POS,name:"a_Pos",buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:t=>{const r=t.coordinates;return[r[0],r[1],0]}}})}}const wC=`in vec4 v_color;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,CC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "light"
#pragma include "picking"

void main() {
  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);

  vec2 lnglat = unProjectFlat(a_Pos.xy + offset); // 实际的经纬度
  vec4 project_pos = project_position(vec4(lnglat, a_Position.z * a_Size, 1.0));

  float lightWeight = calc_lighting(project_pos);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w);

  gl_Position = project_common_position_to_clipspace(project_pos);

  setPickingColor(a_PickingColor);
}
`;class IC extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t,coverage:r,angle:i}=this.layer.getLayerConfig(),s={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:t||1,u_coverage:r||.9,u_angle:i||0};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"heatmapGrid3d",vertexShader:CC,fragmentShader:wC,defines:t.getDefines(),triangulation:M6,primitive:k.TRIANGLES,depth:{enable:!0}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Nr.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s,p)=>p}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Nr.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:t=>{const r=t.coordinates;return[r[0],r[1],0]}}})}}function MC(e,t){const r=[],i=[],s=[],p=e+1,n=t+1,f=e/2,m=t/2;for(let g=0;g<n;g++){const x=g-m;for(let b=0;b<p;b++){const F=b-f;i.push(F/f,-x/m,0),s.push(b/e),s.push(1-g/t)}}for(let g=0;g<t;g++)for(let x=0;x<e;x++){const b=x+p*g,F=x+p*(g+1),R=x+1+p*(g+1),I=x+1+p*g;r.push(b,F,I),r.push(F,R,I)}return{vertices:i,indices:r,uvs:s}}const NC=`layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;
in float v_intensity;
out vec4 outputColor;

void main(){
   
    float intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
    vec4 color = texture(SAMPLER_2D(u_colorTexture),vec2(intensity, 0));
    outputColor = color;
    // gl_FragColor.a = color.a * smoothstep(0.1,0.2,intensity)* u_opacity;
   outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;
}
`,DC=`layout(location = 0) in vec3 a_Position;
layout(location = 10) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  mat4 u_ViewProjectionMatrixUncentered;
  mat4 u_InverseViewProjectionMatrix;
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

out vec2 v_texCoord;
out float v_intensity;

vec2 toBezier(float t, vec2 P0, vec2 P1, vec2 P2, vec2 P3) {
  float t2 = t * t;
  float one_minus_t = 1.0 - t;
  float one_minus_t2 = one_minus_t * one_minus_t;
  return P0 * one_minus_t2 * one_minus_t +
  P1 * 3.0 * t * one_minus_t2 +
  P2 * 3.0 * t2 * one_minus_t +
  P3 * t2 * t;
}
vec2 toBezier(float t, vec4 p) {
  return toBezier(t, vec2(0.0, 0.0), vec2(p.x, p.y), vec2(p.z, p.w), vec2(1.0, 1.0));
}

#pragma include "projection"
#pragma include "project"

void main() {
  v_texCoord = a_Uv;

  vec2 pos = a_Uv * vec2(2.0) - vec2(1.0); // 将原本 0 -> 1 的 uv 转换为 -1 -> 1 的标准坐标空间（NDC）

  vec4 p1 = vec4(pos, 0.0, 1.0); // x/y 平面上的点（z == 0）可以认为是三维上的点被投影到平面后的点
  vec4 p2 = vec4(pos, 1.0, 1.0); // 平行于x/y平面、z==1 的平面上的点

  vec4 inverseP1 = u_InverseViewProjectionMatrix * p1; // 根据视图投影矩阵的逆矩阵平面上的反算出三维空间中的点（p1平面上的点）
  vec4 inverseP2 = u_InverseViewProjectionMatrix * p2;

  inverseP1 = inverseP1 / inverseP1.w; // 归一化操作（归一化后为世界坐标）
  inverseP2 = inverseP2 / inverseP2.w;

  float zPos = (0.0 - inverseP1.z) / (inverseP2.z - inverseP1.z); // ??
  vec4 position = inverseP1 + zPos * (inverseP2 - inverseP1);

  vec4 b = vec4(0.5, 0.0, 1.0, 0.5);
  float fh;

  v_intensity = texture(SAMPLER_2D(u_texture), v_texCoord).r;
  fh = toBezier(v_intensity, b).y;
  gl_Position = u_ViewProjectionMatrixUncentered * vec4(position.xy, fh * project_pixel(50.0), 1.0);

}
`,OC=`uniform sampler2D u_texture;        // 热力强度图
uniform sampler2D u_colorTexture;   // 根据强度分布的色带

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};
in vec2 v_texCoord;
out vec4 outputColor;

#pragma include "scene_uniforms"

float getBlurIndusty() {
    float vW = 2.0/ u_ViewportSize.x;
    float vH = 2.0/ u_ViewportSize.y;
    vec2 vUv = v_texCoord;
    float i11 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y + 1.0 * vH) ).r;
    float i12 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y + 1.0 * vH) ).r;
    float i13 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y + 1.0 * vH) ).r;

    float i21 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y) ).r;
    float i22 = texture(SAMPLER_2D(u_texture), vec2( vUv.x , vUv.y) ).r;
    float i23 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y) ).r;

    float i31 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 1.0 * vW, vUv.y-1.0*vH) ).r;
    float i32 = texture(SAMPLER_2D(u_texture), vec2( vUv.x - 0.0 * vW, vUv.y-1.0*vH) ).r;
    float i33 = texture(SAMPLER_2D(u_texture), vec2( vUv.x + 1.0 * vW, vUv.y-1.0*vH) ).r;

    return(
        i11 + 
        i12 + 
        i13 + 
        i21 + 
        i21 + 
        i22 + 
        i23 + 
        i31 + 
        i32 + 
        i33
        )/9.0;
}


void main(){
    // float intensity = texture(u_texture, v_texCoord).r;
    float intensity = getBlurIndusty();
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(intensity, 0.0));
    outputColor = color;
    outputColor.a = color.a * smoothstep(0.,0.1,intensity) * u_opacity;
}
`,LC=`layout(location = 0) in vec3 a_Position;
layout(location = 10) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  float u_opacity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
  float u_common_uniforms_padding3;
};

#pragma include "scene_uniforms"

out vec2 v_texCoord;
void main() {
  v_texCoord = a_Uv;
  #ifdef VIEWPORT_ORIGIN_TL
  v_texCoord.y = 1.0 - v_texCoord.y;
  #endif

  gl_Position = vec4(a_Position.xy, 0, 1.0);
}
`,BC=`layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

in vec2 v_extrude;
in float v_weight;
out vec4 outputColor;
#define GAUSS_COEF  0.3989422804014327

void main(){
    float d = -0.5 * 3.0 * 3.0 * dot(v_extrude, v_extrude);
    float val = v_weight * u_intensity * GAUSS_COEF * exp(d);
    outputColor = vec4(val, 1., 1., 1.);
}
`,UC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_DIR) in vec2 a_Dir;

layout(std140) uniform commonUniforms {
  float u_radius;
  float u_intensity;
  float u_common_uniforms_padding1;
  float u_common_uniforms_padding2;
};

out vec2 v_extrude;
out float v_weight;

#define GAUSS_COEF (0.3989422804014327)

#pragma include "projection"
#pragma include "picking"

void main() {
  vec3 picking_color_placeholder = u_PickingColor;

  v_weight = a_Size;
  float ZERO = 1.0 / 255.0 / 16.0;
  float extrude_x = a_Dir.x * 2.0 - 1.0;
  float extrude_y = a_Dir.y * 2.0 - 1.0;
  vec2 extrude_dir = normalize(vec2(extrude_x, extrude_y));
  float S = sqrt(-2.0 * log(ZERO / a_Size / u_intensity / GAUSS_COEF)) / 2.5;
  v_extrude = extrude_dir * S;

  vec2 offset = project_pixel(v_extrude * u_radius);
  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

}
`,{isEqual:kC}=Kn;class N4 extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"colorTexture",void 0),G(this,"heatmapFramerBuffer",void 0),G(this,"heatmapTexture",void 0),G(this,"intensityModel",void 0),G(this,"colorModel",void 0),G(this,"shapeType",void 0),G(this,"preRampColors",void 0),G(this,"colorModelUniformBuffer",[]),G(this,"heat3DModelUniformBuffer",[])}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10,DIR:11})}prerender(){const{clear:t,useFramebuffer:r}=this.rendererService;r(this.heatmapFramerBuffer,()=>{t({color:[0,0,0,0],depth:1,stencil:0,framebuffer:this.heatmapFramerBuffer}),this.drawIntensityMode()})}render(t){const{rampColors:r}=this.layer.getLayerConfig();kC(this.preRampColors,r)||this.updateColorTexture(),this.shapeType==="heatmap"?this.drawHeatMap(t):this.draw3DHeatMap(t)}getUninforms(){throw new Error("Method not implemented.")}initModels(){var t=this;return Rt(function*(){var r;const{createFramebuffer:i,getViewportSize:s,createTexture2D:p}=t.rendererService,n=t.styleAttributeService.getLayerStyleAttribute("shape"),f=(n==null||(r=n.scale)===null||r===void 0?void 0:r.field)||"heatmap";t.shapeType=f,t.intensityModel=yield t.buildHeatMapIntensity(),t.colorModel=f==="heatmap"?t.buildHeatmap():t.build3dHeatMap();const{width:m,height:g}=s();return t.heatmapTexture=p({width:Math.floor(m/4),height:Math.floor(g/4),wrapS:k.CLAMP_TO_EDGE,wrapT:k.CLAMP_TO_EDGE,min:k.LINEAR,mag:k.LINEAR,usage:y1.RENDER_TARGET}),t.heatmapFramerBuffer=i({color:t.heatmapTexture,depth:!0,width:Math.floor(m/4),height:Math.floor(g/4)}),t.updateColorTexture(),[t.intensityModel,t.colorModel]})()}buildModels(){var t=this;return Rt(function*(){return t.initModels()})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"dir",type:Nr.Attribute,descriptor:{name:"a_Dir",shaderLocation:this.attributeLocation.DIR,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:(t,r,i)=>[i[3],i[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=1}=t;return[r]}}})}buildHeatMapIntensity(){var t=this;return Rt(function*(){return t.uniformBuffers=[t.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})],t.layer.triangulation=M4,yield t.layer.buildLayerModel({moduleName:"heatmapIntensity",vertexShader:UC,fragmentShader:BC,triangulation:M4,defines:t.getDefines(),depth:{enable:!1},cull:{enable:!0,face:k.FRONT}})})()}buildHeatmap(){this.shaderModuleService.registerModule("heatmapColor",{vs:LC,fs:OC}),this.colorModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(4).fill(0),isUBO:!0})];const{vs:t,fs:r,uniforms:i}=this.shaderModuleService.getModule("heatmapColor"),{createAttribute:s,createElements:p,createBuffer:n,createModel:f}=this.rendererService;return f({vs:t,fs:r,uniformBuffers:[...this.colorModelUniformBuffer,...this.rendererService.uniformBuffers],attributes:{a_Position:s({shaderLocation:this.attributeLocation.POSITION,buffer:n({data:[-1,1,0,1,1,0,-1,-1,0,1,-1,0],type:k.FLOAT}),size:3}),a_Uv:s({shaderLocation:this.attributeLocation.UV,buffer:n({data:[0,1,1,1,0,0,1,0],type:k.FLOAT}),size:2})},uniforms:wt({},i),depth:{enable:!1},elements:p({data:[0,2,1,2,3,1],type:k.UNSIGNED_INT,count:6})})}build3dHeatMap(){const{getViewportSize:t}=this.rendererService,{width:r,height:i}=t(),s=MC(r/4,i/4);this.shaderModuleService.registerModule("heatmap3dColor",{vs:DC,fs:NC}),this.heat3DModelUniformBuffer=[this.rendererService.createBuffer({data:new Float32Array(16*2+4).fill(0),isUBO:!0})];const{vs:p,fs:n,uniforms:f}=this.shaderModuleService.getModule("heatmap3dColor"),{createAttribute:m,createElements:g,createBuffer:x,createModel:b}=this.rendererService;return b({vs:p,fs:n,attributes:{a_Position:m({shaderLocation:this.attributeLocation.POSITION,buffer:x({data:s.vertices,type:k.FLOAT}),size:3}),a_Uv:m({shaderLocation:this.attributeLocation.UV,buffer:x({data:s.uvs,type:k.FLOAT}),size:2})},primitive:k.TRIANGLES,uniformBuffers:[...this.heat3DModelUniformBuffer,...this.rendererService.uniformBuffers],uniforms:wt({},f),depth:{enable:!0},blend:{enable:!0,func:{srcRGB:k.SRC_ALPHA,srcAlpha:1,dstRGB:k.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},elements:g({data:s.indices,type:k.UNSIGNED_INT,count:s.indices.length})})}drawIntensityMode(){var t;const{intensity:r=10,radius:i=5}=this.layer.getLayerConfig(),s={u_radius:i,u_intensity:r};this.uniformBuffers[0].subData({offset:0,data:[i,r]}),this.layerService.beforeRenderData(this.layer),this.layer.hooks.beforeRender.call(),(t=this.intensityModel)===null||t===void 0||t.draw({uniforms:s,blend:{enable:!0,func:{srcRGB:k.ONE,srcAlpha:1,dstRGB:k.ONE,dstAlpha:1}},stencil:{enable:!1,mask:255,func:{cmp:514,ref:1,mask:255}}}),this.layer.hooks.afterRender.call()}drawHeatMap(t){var r;const{opacity:i=1}=this.layer.getLayerConfig(),s={u_opacity:i,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer},p=[this.heatmapTexture,this.colorTexture];this.colorModelUniformBuffer[0].subData({offset:0,data:[i]}),(r=this.colorModel)===null||r===void 0||r.draw({uniforms:s,textures:p,blend:this.getBlend(),stencil:this.getStencil(t)})}draw3DHeatMap(t){var r;const{opacity:i=1}=this.layer.getLayerConfig(),s=Pf();r6(s,this.cameraService.getViewProjectionMatrixUncentered());const p={u_opacity:i,u_colorTexture:this.colorTexture,u_texture:this.heatmapFramerBuffer,u_ViewProjectionMatrixUncentered:this.cameraService.getViewProjectionMatrixUncentered(),u_InverseViewProjectionMatrix:[...s]};this.heat3DModelUniformBuffer[0].subData({offset:0,data:[...p.u_ViewProjectionMatrixUncentered,...p.u_InverseViewProjectionMatrix,i]});const n=[this.heatmapTexture,this.colorTexture];(r=this.colorModel)===null||r===void 0||r.draw({uniforms:p,textures:n,blend:{enable:!0,func:{srcRGB:k.SRC_ALPHA,srcAlpha:1,dstRGB:k.ONE_MINUS_SRC_ALPHA,dstAlpha:1}},stencil:this.getStencil(t)})}updateColorTexture(){const{createTexture2D:t}=this.rendererService;this.texture&&this.texture.destroy();const{rampColors:r}=this.layer.getLayerConfig(),i=c8(r);this.colorTexture=t({data:i.data,usage:y1.SAMPLED,width:i.width,height:i.height,wrapS:k.CLAMP_TO_EDGE,wrapT:k.CLAMP_TO_EDGE,min:k.NEAREST,mag:k.NEAREST,flipY:!1,unorm:!0}),this.preRampColors=r}}const zC=`in vec4 v_color;

#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,VC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;

layout(std140) uniform commonUniforms {
  vec2 u_radius;
  float u_opacity;
  float u_coverage;
  float u_angle;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

void main() {
  v_color = a_Color;
  v_color.a *= u_opacity;

  mat2 rotationMatrix = mat2(cos(u_angle), sin(u_angle), -sin(u_angle), cos(u_angle));
  vec2 offset = vec2(a_Position.xy * u_radius * rotationMatrix * u_coverage);
  vec2 lnglat = unProjectFlat(a_Pos.xy + offset);

  vec4 project_pos = project_position(vec4(lnglat, 0, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`;class HC extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,POS:9})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t,coverage:r,angle:i}=this.layer.getLayerConfig(),s={u_radius:[this.layer.getSource().data.xOffset,this.layer.getSource().data.yOffset],u_opacity:t||1,u_coverage:r||.9,u_angle:i||0};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"heatmapHexagon",vertexShader:VC,fragmentShader:zC,defines:t.getDefines(),triangulation:K9,depth:{enable:!1},primitive:k.TRIANGLES})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"pos",type:Nr.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:t=>{const r=t.coordinates;return[r[0],r[1],0]}}})}}const GC={heatmap:N4,heatmap3d:N4,grid:RC,grid3d:IC,hexagon:HC};class jC extends x1{constructor(...t){super(...t),G(this,"type","HeatMapLayer")}buildModels(){var t=this;return Rt(function*(){const r=t.getModelType();t.layerModel=new GC[r](t),yield t.initLayerModels()})()}prerender(){this.getModelType()==="heatmap"&&this.layerModel&&this.layerModel.prerender()}renderModels(t={}){return this.getModelType()==="heatmap"?(this.layerModel&&this.layerModel.render(t),this):this.encodeDataLength<=0&&!this.forceRender?this:(this.hooks.beforeRender.call(),this.models.forEach(i=>i.draw({uniforms:this.layerModel.getUninforms(),blend:this.layerModel.getBlend(),stencil:this.layerModel.getStencil(t)})),this.hooks.afterRender.call(),this)}updateModelData(t){t.attributes&&t.elements?this.models[0].updateAttributesAndElements(t.attributes,t.elements):console.warn("data error")}getModelType(){var t;const r=this.styleAttributeService.getLayerStyleAttribute("shape"),{shape3d:i}=this.getLayerConfig(),p=this.getSource().data.type,n=(r==null||(t=r.scale)===null||t===void 0?void 0:t.field)||"heatmap";return n==="heatmap"||n==="heatmap3d"?"heatmap":p==="hexagon"?(i==null?void 0:i.indexOf(n))===-1?"hexagon":"grid3d":p==="grid"?(i==null?void 0:i.indexOf(n))===-1?"grid":"grid3d":"heatmap"}getLegend(t){if(this.getModelType()==="heatmap"){if(t!=="color")return{type:void 0,field:void 0,items:[]};const r=this.getLayerConfig().rampColors;return Q9(r,t)}else return super.getLegend(t)}}const WC=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

in vec2 v_texCoord;
out vec4 outputColor;
vec3 setContrast(vec3 rgb, float contrast) {
  vec3 color = mix(vec3(0.5), rgb, contrast);
  color = clamp(color, 0.0, 1.0);
  return color;
}
vec3 setSaturation(vec3 rgb, float adjustment) {
  const vec3 grayVector = vec3(0.2125, 0.7154, 0.0721);
  vec3 intensity = vec3(dot(rgb, grayVector));
  vec3 color = mix(intensity, rgb, adjustment);
  color = clamp(color, 0.0, 1.0);
  return color;
}
void main() {
  vec4 color = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y));
  //brightness
  color.rgb = mix(vec3(0.0, 0.0, 0.0), color.rgb, u_brightness);
  //contrast
  color.rgb = setContrast(color.rgb, u_contrast);
  // saturation
  color.rgb = setSaturation(color.rgb, u_saturation);
  // gamma
  color.rgb = pow(color.rgb, vec3(u_gamma));
  outputColor = color;
  outputColor.a *= u_opacity;
  if(outputColor.a < 0.01)
    discard;
}
`,XC=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
    float u_opacity:1.0;
    float u_brightness:1.0;
    float u_contrast:1.0;
    float u_saturation:1.0;
    float u_gamma:1.0;
};

out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;let ZC=class extends Pi{constructor(...t){super(...t),G(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){const{opacity:t,brightness:r,contrast:i,saturation:s,gamma:p}=this.layer.getLayerConfig(),n={u_opacity:fd(t,1),u_brightness:fd(r,1),u_contrast:fd(i,1),u_saturation:fd(s,1),u_gamma:fd(p,1)};return this.textures=[this.texture],this.getUniformsBufferInfo(n)}initModels(){var t=this;return Rt(function*(){return yield t.loadTexture(),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}loadTexture(){var t=this;return Rt(function*(){const{createTexture2D:r}=t.rendererService,s=yield t.layer.getSource().data.images;t.texture=r({data:s[0],width:s[0].width,height:s[0].height,mag:k.LINEAR,min:k.LINEAR})})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"rasterImage",vertexShader:XC,fragmentShader:WC,defines:t.getDefines(),triangulation:Cf,primitive:k.TRIANGLES,blend:{enable:!0},depth:{enable:!1},pickingEnabled:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:(t,r,i)=>[i[3],i[4]]}})}};const YC={image:ZC};class qC extends x1{constructor(...t){super(...t),G(this,"type","ImageLayer")}buildModels(){var t=this;return Rt(function*(){const r=t.getModelType();t.layerModel=new YC[r](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{image:{}}[t]}getModelType(){return"image"}}const $C=`
#define Animate 0.0
#define LineTexture 1.0
uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_lineData;
//dash
in vec4 v_dash_array;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"

void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  outputColor = v_color;
  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_lineData.b, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;
  }

  // 当存在贴图时在底色上贴上贴图
  if(u_line_texture == LineTexture) { // while load texture
    float arcRadio = smoothstep( 0.0, 1.0, (v_lineData.r / segmentNumber));
    // float arcRadio = smoothstep( 0.0, 1.0, d_distance_ratio);

    float count = v_lineData.g; // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);
    float v = v_lineData.a; // 横向 v
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;

    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
    
  } else {
     outputColor = filterColor(outputColor);
  }
}`,KC=`#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_lineDir: 1.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_blur : 0.9;
  float u_line_type: 0.0;
  float u_time;
  float u_linearColor: 0.0;
};

out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_lineData;
//dash
out vec4 v_dash_array;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}
vec2 midPoint(vec2 source, vec2 target, float arcThetaOffset) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = arcThetaOffset;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  if (u_lineDir == 1.0) {
    // 正向
    return mid;
  } else {
    // 逆向
    // (mid + vmin)/2 = (s + t)/2
    vec2 vmid = source + target - mid;
    return vmid;
  }
  // return mid;
}
float getSegmentRatio(float index) {
  // dash: index / (segmentNumber - 1.);
  // normal: smoothstep(0.0, 1.0, index / (segmentNumber - 1.));
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
  //  return index / (segmentNumber - 1.);
}
vec2 interpolate(vec2 source, vec2 target, float t, float arcThetaOffset) {
  // if the angularDist is PI, linear interpolation is applied. otherwise, use spherical interpolation
  vec2 mid = midPoint(source, target, arcThetaOffset);
  vec3 x = vec3(source.x, mid.x, target.x);
  vec3 y = vec3(source.y, mid.y, target.y);
  return vec2(bezier3(x, t), bezier3(y, t));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
   dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
   return dir_screenspace.xy * sign(offset_direction);
}

void main() {
  //vs中计算渐变色
  if (u_linearColor == 1.0) {
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex / segmentNumber);
  } else {
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;

  vec2 source_world = a_Instance.rg; // 起始点
  vec2 target_world = a_Instance.ba; // 终点

  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);

  // 计算 dashArray 和 distanceRatio 输出到片元
  float total_Distance = pixelDistance(source_world, target_world) / 2.0 * PI;
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  v_distance_ratio = segmentIndex / segmentNumber;

  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));
  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  float d_distance_ratio;

  if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
      if(u_lineDir != 1.0) {
        d_distance_ratio = 1.0 - d_distance_ratio;
      }
  }

  v_lineData.b = d_distance_ratio;

  vec4 source = project_position(vec4(source_world, 0, 1.), a_Instance64Low.xy);
  vec4 target = project_position(vec4(target_world, 0, 1.), a_Instance64Low.zw);

  vec2 currPos = interpolate(source.xy, target.xy, segmentRatio, thetaOffset);
  vec2 nextPos = interpolate(source.xy, target.xy, nextSegmentRatio, thetaOffset);

  vec2 offset = project_pixel(
    getExtrusionOffset((nextPos.xy - currPos.xy) * indexDir, a_Position.y)
  );

  float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
  v_lineData.r = d_segmentIndex;

  if(LineTexture == u_line_texture) { // 开启贴图模式
    float arcDistrance = length(source - target); // 起始点和终点的距离
    arcDistrance = project_pixel(arcDistrance);

    v_iconMapUV = a_iconMapUV;

    float pixelLen = project_pixel_texture(u_icon_step); // 贴图沿弧线方向的长度 - 随地图缩放改变
    float texCount = floor(arcDistrance / pixelLen); // 贴图在弧线上重复的数量
    v_lineData.g = texCount;

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size); // 定点位置偏移
    v_lineData.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值
  }

  gl_Position = project_common_position_to_clipspace(vec4(currPos.xy + offset, 0, 1.0));

  setPickingColor(a_PickingColor);
}
`,QC={solid:0,dash:1};class JC extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:k.NEAREST,min:k.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:i="normal",lineType:s="solid",dashArray:p=[10,5],forward:n=!0,lineTexture:f=!1,iconStep:m=100,segmentNumber:g=30}=this.layer.getLayerConfig(),{animateOption:x}=this.layer.getLayerConfig();let b=p;s!=="dash"&&(b=[0,0]),b.length===2&&b.push(0,0);let F=0,R=[0,0,0,0],I=[0,0,0,0];if(t&&r&&(R=Di(t),I=Di(r),F=1),this.rendererService.getDirty()){var O;(O=this.texture)===null||O===void 0||O.bind()}const U={u_animate:this.animateOption2Array(x),u_dash_array:b,u_sourceColor:R,u_targetColor:I,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:g,u_lineDir:n?1:-1,u_icon_step:m,u_line_texture:f?1:0,u_textureBlend:i==="normal"?0:1,u_blur:.9,u_line_type:QC[s||"solid"],u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:F};return this.getUniformsBufferInfo(U)}initModels(){var t=this;return Rt(function*(){return t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:$C,vert:KC,type:""}}buildModels(){var t=this;return Rt(function*(){t.initUniformsBuffer();const{segmentNumber:r=30}=t.layer.getLayerConfig(),{frag:i,vert:s,type:p}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:"lineArc2d"+p,vertexShader:s,fragmentShader:i,defines:t.getDefines(),inject:t.getInject(),triangulation:N6,depth:{enable:!1},styleOption:{segmentNumber:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Nr.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[i[3],i[4],i[5],i[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Nr.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[sa(i[3]),sa(i[4]),sa(i[5]),sa(i[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:i}=t,{x:s,y:p}=r[i]||{x:0,y:0};return[s,p]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:Nr.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{thetaOffset:r=1}=t;return[r]}}})}}const eI=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};

in vec4 v_color;
in vec4 v_dash_array;
in float v_segmentIndex;
in vec2 v_iconMapUV;
in vec4 v_line_data;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_line_data.g; // 当前点位距离占线总长的比例
  outputColor = v_color;

  if(u_line_type == LineTypeDash) {
    float flag = 0.;
    float dashLength = mod(d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      flag = 1.;
    }
    outputColor.a *=flag;
  }

  if(u_animate.x == Animate && u_line_texture != LineTexture) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);

      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      // alpha = smoothstep(0., 1., alpha);
      alpha = clamp(alpha, 0.0, 1.0);
      outputColor.a *= alpha;

      // u_animate
      // x enable
      // y duration
      // z interval
      // w trailLength
  }

  if(u_line_texture == LineTexture && u_line_type != LineTypeDash) { // while load texture
    // float arcRadio = smoothstep( 0.0, 1.0, (v_segmentIndex / segmentNumber));
    float arcRadio = v_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // // 贴图在弧线上重复的数量

    float time = 0.0;
    if(u_animate.x == Animate) {
      time = u_time / u_animate.y;
    }
    float redioCount = arcRadio * count;

    float u = fract(redioCount - time);

    float v = v_line_data.a;  // 线图层贴图部分的 v 坐标值
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_animate.x == Animate) {
      float currentPlane = floor(redioCount - time);
      float textureStep = floor(count * u_animate.z);
      float a = mod(currentPlane, textureStep);
      if(a < textureStep - 1.0) {
        pattern = vec4(0.0);
      }
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
          discard;
        } else {
          outputColor = filterColor(pattern);
        }
    }

  } else {
    outputColor = filterColor(outputColor);
  }
}
`,tI=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;


layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_globel;
  float u_globel_radius;
  float u_global_height: 10;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0.0;
};
out vec4 v_color;
out vec4 v_dash_array;
out float v_segmentIndex;
out vec2 v_iconMapUV;
out vec4 v_line_data;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps (float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return smoothstep(0.0, 1.0, index / (segmentNumber - 1.0));
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(
    mix(source, target, segmentRatio),
    sqrt(max(0.0, vertex_height))
  );
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);

  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;

  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}

float torad(float deg) {
  return (deg / 180.0) * acos(-1.0);
}

vec3 lglt2xyz(vec2 lnglat) {
  float pi = 3.1415926;
  // + Math.PI/2 是为了对齐坐标
  float lng = torad(lnglat.x) + pi / 2.0;
  float lat = torad(lnglat.y);

  // 手动增加一些偏移，减轻面的冲突
  float radius = u_globel_radius;

  float z = radius * cos(lat) * cos(lng);
  float x = radius * cos(lat) * sin(lng);
  float y = radius * sin(lat);
  return vec3(x, y, z);
}

void main() {
  //vs中计算渐变色
  if(u_linearColor==1.0){
    float d_segmentIndex = a_Position.x + 1.0; // 当前顶点在弧线中所处的分段位置
    v_color = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
  }
  else{
    v_color = a_Color;
  }
  v_color.a = v_color.a * opacity;
  vec2 source = project_position(vec4(a_Instance.rg, 0, 0), a_Instance64Low.xy).xy;
  vec2 target = project_position(vec4(a_Instance.ba, 0, 0), a_Instance64Low.zw).xy;
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  float d_distance_ratio;
   if(u_line_type == LineTypeDash) {
    d_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / (total_Distance / segmentNumber * segmentIndex);
  }
    if(u_animate.x == Animate) {
      d_distance_ratio = segmentIndex / segmentNumber;
  }
  v_line_data.g = d_distance_ratio; // 当前点位距离占线总长的比例

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  vec3 curr = getPos(source, target, segmentRatio);
  vec3 next = getPos(source, target, nextSegmentRatio);
  vec2 offset = getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y);
  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);


  v_segmentIndex = a_Position.x;
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) { // 开启贴图模式

    float arcDistrance = length(source - target);
    float pixelLen =  project_pixel_texture(u_icon_step);
    v_line_data.b = floor(arcDistrance/pixelLen); // 贴图在弧线上重复的数量

    vec2 projectOffset = project_pixel(offset);
    float lineOffsetWidth = length(projectOffset + projectOffset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size);  // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth/linePixelSize;  // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }


  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + project_pixel(offset), curr.z * thetaOffset, 1.0));

  // 地球模式
  if(u_globel > 0.0) {
    vec3 startLngLat = lglt2xyz(a_Instance.rg);
    vec3 endLngLat = lglt2xyz(a_Instance.ba);
    float globalRadius = length(startLngLat);

    vec3 lineDir = normalize(endLngLat - startLngLat);
    vec3 midPointDir = normalize((startLngLat + endLngLat)/2.0);

    // 线的偏移
    vec3 lnglatOffset = cross(lineDir, midPointDir) * a_Position.y;
    // 计算起始点和终止点的距离
    float lnglatLength = length(a_Instance.rg - a_Instance.ba)/50.0;
    // 计算飞线各个节点相应的高度
    float lineHeight = u_global_height * (-4.0*segmentRatio*segmentRatio + 4.0 * segmentRatio) * lnglatLength;
    // 地球点位
    vec3 globalPoint = normalize(mix(startLngLat, endLngLat, segmentRatio)) * (globalRadius + lineHeight) + lnglatOffset * a_Size;

    gl_Position = u_ViewProjectionMatrix * vec4(globalPoint, 1.0);
  }


  setPickingColor(a_PickingColor);
}
`,rI={solid:0,dash:1};class D4 extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:k.NEAREST,min:k.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12,THETA_OFFSET:13})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:i="normal",lineType:s="solid",dashArray:p=[10,5],lineTexture:n=!1,iconStep:f=100,segmentNumber:m=30,globalArcHeight:g=10}=this.layer.getLayerConfig(),{animateOption:x}=this.layer.getLayerConfig();p.length===2&&p.push(0,0);let b=0,F=[0,0,0,0],R=[0,0,0,0];if(t&&r&&(F=Di(t),R=Di(r),b=1),this.rendererService.getDirty()){var I;(I=this.texture)===null||I===void 0||I.bind()}const O={u_animate:this.animateOption2Array(x),u_dash_array:p,u_sourceColor:F,u_targetColor:R,u_textSize:[1024,this.iconService.canvasHeight||128],u_globel:this.mapService.version==="GLOBEL"?1:0,u_globel_radius:Z9,u_global_height:g,segmentNumber:m,u_line_type:rI[s]||0,u_icon_step:f,u_line_texture:n?1:0,u_textureBlend:i==="normal"?0:1,u_time:this.layer.getLayerAnimateTime()||0,u_linearColor:b};return this.getUniformsBufferInfo(O)}initModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}getShaders(){return{frag:eI,vert:tI,type:""}}buildModels(){var t=this;return Rt(function*(){const{segmentNumber:r=30}=t.layer.getLayerConfig(),{frag:i,vert:s,type:p}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:"lineArc3d"+p,vertexShader:s,fragmentShader:i,defines:t.getDefines(),inject:t.getInject(),triangulation:N6,styleOption:{segmentNumber:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Nr.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[i[3],i[4],i[5],i[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Nr.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[sa(i[3]),sa(i[4]),sa(i[5]),sa(i[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:i}=t,{x:s,y:p}=r[i]||{x:0,y:0};return[s,p]}}}),this.styleAttributeService.registerStyleAttribute({name:"thetaOffset",type:Nr.Attribute,descriptor:{name:"a_ThetaOffset",shaderLocation:this.attributeLocation.THETA_OFFSET,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{thetaOffset:r=1}=t;return[r]}}})}}const O4={circle:2,triangle:2,diamond:4,rect:2,classic:3,halfTriangle:2,none:0},Us=1/2;function oI(e,t){const{width:r=2,height:i=1}=t;return{vertices:[0,Us*e,1*e*r,-(i+Us)*e,1*e*r,(i-Us)*e,0,Us*e,1*e*r,-(i+Us)*e,1*e*r,(i-Us)*e],indices:[3,4,5],outLineIndices:[0,1,2],normals:[1*e,-2*e,1,-2*e,1.5*e,1,1*e,1.5*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function iI(e,t){const{width:r=2,height:i=3}=t;return{vertices:[0,0,1*e*r,1*i,1*e*r,-1*i,0,0,1*e*r,1*i,1*e*r,-1*i],outLineIndices:[0,1,2],indices:[3,4,5],normals:[0,-1.5*e,1,2,1*e,1,-2,1*e,1,0,0,0,0,0,0,0,0,0],dimensions:2}}function nI(e,t){const{width:r=2,height:i=2}=t;return{vertices:[0,i/2,e*r*1,i/2,e*r*1,-i/2,0,-i/2,0,i/2,e*r*1,i/2,e*r*1,-i/2,0,-i/2],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function aI(e,t){const{width:r=2,height:i=3}=t;return{vertices:[0,0,1*r*e,.5*i,2*r*e,0,1*r*e,-.5*i,0,0,1*r*e,.5*i,2*r*e,0,1*r*e,-.5*i],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function sI(e,t){const{width:r=2,height:i=3}=t;return{vertices:[0,0,2*e*r,1*i,1.5*e*r,0,2*e*r,-1*i,0,0,2*e*r,1*i,1.5*e*r,0,2*e*r,-1*i],dimensions:2,indices:[4,5,6,4,6,7],outLineIndices:[0,1,2,0,2,3],normals:[0,-e,1,1,0,1,0,-e,1,-1,-0,1,0,0,0,0,0,0,0,0,0,0,0,0]}}function uI(e,t){const{width:r=2,height:i=2}=t,s=H2(),p=Sc.flatten([s]),n=Sc(p.vertices,p.holes,p.dimensions),f=s.map(m=>[m[0]*r*e,m[1]*i]).flat();return{vertices:[...f,...f],dimensions:2,indices:n.map(m=>m+s.length),outLineIndices:n,normals:[...s.map(m=>[m[1]*i,m[0]*r*e,1]).flat(),...new Array(s.length*3).fill(0)]}}function pI(e,t=0,r){const i=typeof r.source=="object"?r.source.type:r.source,s=typeof r.target=="object"?r.target.type:r.target,{width:p=i?O4[i]:0}=typeof r.source=="object"?r.source:{},{width:n=s?O4[s]:0}=typeof r.target=="object"?r.target:{};return{vertices:[0,Us,1*p,...e,1,Us,-1*n,...e,1,-Us,-1*n,...e,0,-Us,1*p,...e,0,Us,1*p,...e,1,Us,-1*n,...e,1,-Us,-1*n,...e,0,-Us,1*p,...e],outLineIndices:[0,1,2,0,2,3].map(f=>f+t),indices:[4,5,6,4,6,7].map(f=>f+t),normals:[1,-1,1,1,1,1,-1,0,1,-1,0,1,0,0,0,0,0,0,0,0,0,0,0,0],dimensions:2}}function L4(e,t){const r=typeof e=="object"?e.type:e,i=t==="source"?1:-1,s=typeof e=="object"?e:{};switch(r){case"circle":return uI(i,s);case"triangle":return iI(i,s);case"diamond":return aI(i,s);case"rect":return nI(i,s);case"classic":return sI(i,s);case"halfTriangle":return oI(i,s);default:return{vertices:[],indices:[],normals:[],dimensions:2,outLineIndices:[],outLineNormals:[]}}}function cI(e){const t=e.coordinates.flat(),r=1,i=1;return{vertices:[1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t,1,0,0,...t,1,2,-3,...t,1,1,-3,...t,0,1,0,...t,0,0,0,...t],normals:[-r,2*i,1,2*i,-i,1,i,-i,1,i,-i,1,-r,-i,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],indices:[0,1,2,0,2,3,0,3,4,5,6,7,5,7,8,5,8,9],size:7}}function lI(e,t){return t?dI(e,t):cI(e)}function dI(e,t){const r=e.coordinates.flat(),{target:i="classic",source:s="circle"}=t,p=B4(L4(s,"source"),r,0,0),n=pI(r,p.vertices.length/7,t),f=B4(L4(i,"target"),r,1,p.vertices.length/7+n.vertices.length/7);return{vertices:[...p.vertices,...n.vertices,...f.vertices],indices:[...p.outLineIndices,...n.outLineIndices,...f.outLineIndices,...p.indices,...n.indices,...f.indices],normals:[...p.normals,...n.normals,...f.normals],size:7}}function B4(e,t,r=1,i=0){const s=[],{vertices:p,indices:n,dimensions:f,outLineIndices:m}=e;for(let g=0;g<p.length;g+=f)s.push(r,p[g+1],p[g],...t);return wt(wt({},e),{},{vertices:s,indices:n.map(g=>g+i),outLineIndices:m.map(g=>g+i)})}const yI=`// #extension GL_OES_standard_derivatives : enable

in vec4 v_color;
out vec4 outputColor;


// line texture

#pragma include "picking"

void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,hI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniorm {
  float u_gap_width: 1.0;
  float u_stroke_width: 1.0;
  float u_stroke_opacity: 1.0;
};

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

out vec4 v_color;

vec2 project_pixel_offset(vec2 offsets) {
  vec2 data = project_pixel(offsets);

  return vec2(data.x, -data.y);
}

vec2 line_dir(vec2 target, vec2 source) {
  return normalize(ProjectFlat(target) - ProjectFlat(source));
}


void main() {
  // 透明度计算
  vec2 source_world = a_Instance.rg; // 起点
  vec2 target_world = a_Instance.ba; // 终点
  vec2 flowlineDir = line_dir(target_world, source_world);
  vec2 perpendicularDir = vec2(-flowlineDir.y, flowlineDir.x);

  vec2 position = mix(source_world, target_world, a_Position.x);
  vec2 position64Low = mix(a_Instance64Low.rg, a_Instance64Low.ba, a_Position.x);

  float lengthCommon = length(
    project_position(vec4(target_world, 0, 1)) - project_position(vec4(source_world, 0, 1))
  );
  vec2 offsetDistances = a_Size.x * project_pixel_offset(vec2(a_Position.y, a_Position.z)); // Mapbox || 高德
  vec2 limitedOffsetDistances = clamp(
    offsetDistances,
    project_pixel(-lengthCommon * 0.2),
    project_pixel(lengthCommon * 0.2)
  );

  float startOffsetCommon = project_pixel(offsets[0]);
  float endOffsetCommon = project_pixel(offsets[1]);
  float endpointOffset = mix(
    clamp(startOffsetCommon, 0.0, lengthCommon * 0.2),
    -clamp(endOffsetCommon, 0.0, lengthCommon * 0.2),
    a_Position.x
  );

  vec2 normalsCommon = u_stroke_width * project_pixel_offset(vec2(a_Normal.x, a_Normal.y));

  float gapCommon = -1. * project_pixel(u_gap_width);
  vec3 offsetCommon = vec3(
    flowlineDir * (limitedOffsetDistances[1] + normalsCommon.y + endpointOffset * 1.05) -
      perpendicularDir * (limitedOffsetDistances[0] + gapCommon + normalsCommon.x),
    0.0
  );

  vec4 project_pos = project_position(vec4(position.xy, 0, 1.0), position64Low);

  vec4 fillColor = vec4(a_Color.rgb, a_Color.a * opacity);
  v_color = mix(fillColor, vec4(u_stroke.xyz, u_stroke.w * fillColor.w * u_stroke_opacity), a_Normal.z);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy +  offsetCommon.xy, 0., 1.0));

  setPickingColor(a_PickingColor);
}
`;class fI extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,NORMAL:12})}getCommonUniformsInfo(){const{gapWidth:t=2,strokeWidth:r=1,strokeOpacity:i=1}=this.layer.getLayerConfig(),s={u_gap_width:t,u_stroke_width:r,u_stroke_opacity:i};return this.getUniformsBufferInfo(s)}initModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return[yield t.layer.buildLayerModel({moduleName:"flow_line",vertexShader:hI,fragmentShader:yI,defines:t.getDefines(),inject:t.getInject(),triangulation:lI,styleOption:t.layer.getLayerConfig().symbol,primitive:k.TRIANGLES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Nr.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[i[3],i[4],i[5],i[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Nr.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[sa(i[3]),sa(i[4]),sa(i[5]),sa(i[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Nr.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s,p)=>p}})}}const mI=`#define LineTypeSolid 0.0
#define LineTypeDash 1.0
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

in vec4 v_dash_array;
in vec4 v_color;
in vec2 v_iconMapUV;
in vec4 v_line_data;
in float v_distance_ratio;

out vec4 outputColor;
#pragma include "picking"
#pragma include "project"
#pragma include "projection"

void main() {

  float animateSpeed = 0.0;
  float d_segmentIndex = v_line_data.g;

  // 设置弧线的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_segmentIndex/segmentNumber);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
    outputColor = v_color;
  }

  // float blur = 1.- smoothstep(u_blur, 1., length(v_normal.xy));
  // float blur = smoothstep(1.0, u_blur, length(v_normal.xy));
  if(u_line_type == LineTypeDash) {
    float dashLength = mod(v_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z)) {
      // 实线部分
    } else {
      // 虚线部分
      discard;
    };
  }

  // 设置弧线的动画模式
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
      float alpha =1.0 - fract( mod(1.0- v_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + u_time / u_animate.y);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  // 设置弧线的贴图
  if(LineTexture == u_line_texture && u_line_type != LineTypeDash) {
    float arcRadio = smoothstep( 0.0, 1.0, (d_segmentIndex / (segmentNumber - 1.0)));
    // float arcRadio = d_segmentIndex / (segmentNumber - 1.0);
    float count = v_line_data.b; // 贴图在弧线上重复的数量
    float u = fract(arcRadio * count - animateSpeed * count);
    // float u = fract(arcRadio * count - animateSpeed);
    if(u_animate.x == Animate) {
      u = outputColor.a/v_color.a;
    }

    float v = v_line_data.a; // 线图层贴图部分的 v 坐标值

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // 设置贴图和底色的叠加模式
    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  } else {
    outputColor = filterColor(outputColor);
  }

  // gl_FragColor = filterColor(gl_FragColor);
}
`,_I=`#define LineTypeSolid (0.0)
#define LineTypeDash (1.0)
#define Animate (0.0)
#define LineTexture (1.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_INSTANCE) in vec4 a_Instance;
layout(location = ATTRIBUTE_LOCATION_INSTANCE_64LOW) in vec4 a_Instance64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array: [10.0, 5., 0, 0];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float segmentNumber;
  float u_line_type: 0.0;
  float u_icon_step: 100;
  float u_line_texture: 0.0;
  float u_textureBlend;
  float u_time;
  float u_linearColor: 0;
};

out vec4 v_dash_array;
out vec4 v_color;
out vec2 v_iconMapUV;
out vec4 v_line_data;
out float v_distance_ratio;

#pragma include "projection"
#pragma include "project"
#pragma include "picking"

float maps(float value, float start1, float stop1, float start2, float stop2) {
  return start2 + (stop2 - start2) * ((value - start1) / (stop1 - start1));
}

float getSegmentRatio(float index) {
  return index / (segmentNumber - 1.0);
}

float paraboloid(vec2 source, vec2 target, float ratio) {
  vec2 x = mix(source, target, ratio);
  vec2 center = mix(source, target, 0.5);
  float dSourceCenter = distance(source, center);
  float dXCenter = distance(x, center);
  return (dSourceCenter + dXCenter) * (dSourceCenter - dXCenter);
}

vec3 getPos(vec2 source, vec2 target, float segmentRatio) {
  float vertex_height = paraboloid(source, target, segmentRatio);

  return vec3(mix(source, target, segmentRatio), sqrt(max(0.0, vertex_height)));
}
vec2 getExtrusionOffset(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  vec2 offset = dir_screenspace * offset_direction * setPickingSize(a_Size) / 2.0;
  return offset;
}
vec2 getNormal(vec2 line_clipspace, float offset_direction) {
  // normalized direction of the line
  vec2 dir_screenspace = normalize(line_clipspace);
  // rotate by 90 degrees
  dir_screenspace = vec2(-dir_screenspace.y, dir_screenspace.x);
  return dir_screenspace.xy * sign(offset_direction);
}
float getAngularDist(vec2 source, vec2 target) {
  vec2 delta = source - target;
  vec2 sin_half_delta = sin(delta / 2.0);
  float a =
    sin_half_delta.y * sin_half_delta.y +
    cos(source.y) * cos(target.y) * sin_half_delta.x * sin_half_delta.x;
  return 2.0 * atan(sqrt(a), sqrt(1.0 - a));
}

vec2 midPoint(vec2 source, vec2 target) {
  vec2 center = target - source;
  float r = length(center);
  float theta = atan(center.y, center.x);
  float thetaOffset = 0.314;
  float r2 = r / 2.0 / cos(thetaOffset);
  float theta2 = theta + thetaOffset;
  vec2 mid = vec2(r2 * cos(theta2) + source.x, r2 * sin(theta2) + source.y);
  return mid;
}
float bezier3(vec3 arr, float t) {
  float ut = 1.0 - t;
  return (arr.x * ut + arr.y * t) * ut + (arr.y * ut + arr.z * t) * t;
}

vec2 interpolate(vec2 source, vec2 target, float angularDist, float t) {
  if (abs(angularDist - PI) < 0.001) {
    return (1.0 - t) * source + t * target;
  }
  float a = sin((1.0 - t) * angularDist) / sin(angularDist);
  float b = sin(t * angularDist) / sin(angularDist);
  vec2 sin_source = sin(source);
  vec2 cos_source = cos(source);
  vec2 sin_target = sin(target);
  vec2 cos_target = cos(target);
  float x = a * cos_source.y * cos_source.x + b * cos_target.y * cos_target.x;
  float y = a * cos_source.y * sin_source.x + b * cos_target.y * sin_target.x;
  float z = a * sin_source.y + b * sin_target.y;
  return vec2(atan(y, x), atan(z, sqrt(x * x + y * y)));

}

void main() {
  v_color = a_Color;
  v_color.a = v_color.a * opacity;
  vec2 source = radians(a_Instance.rg);
  vec2 target = radians(a_Instance.ba);
  float angularDist = getAngularDist(source, target);
  float segmentIndex = a_Position.x;
  float segmentRatio = getSegmentRatio(segmentIndex);
  float indexDir = mix(-1.0, 1.0, step(segmentIndex, 0.0));

  if (u_line_type == LineTypeDash) {
    v_distance_ratio = segmentIndex / segmentNumber;
    float total_Distance = pixelDistance(source, target) / 2.0 * PI;
    total_Distance = total_Distance * 16.0; // total_Distance*16.0 调整默认的效果
    v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / total_Distance;
  }

  if (u_animate.x == Animate) {
    v_distance_ratio = segmentIndex / segmentNumber;
  }

  float nextSegmentRatio = getSegmentRatio(segmentIndex + indexDir);
  v_distance_ratio = segmentIndex / segmentNumber;

  vec4 curr = project_position(vec4(degrees(interpolate(source, target, angularDist, segmentRatio)), 0.0, 1.0), a_Instance64Low.xy);
  vec4 next = project_position(vec4(degrees(interpolate(source, target, angularDist, nextSegmentRatio)), 0.0, 1.0), a_Instance64Low.zw);

  // v_normal = getNormal((next.xy - curr.xy) * indexDir, a_Position.y);
  vec2 offset = project_pixel(getExtrusionOffset((next.xy - curr.xy) * indexDir, a_Position.y));
  //  vec4 project_pos = project_position(vec4(curr.xy, 0, 1.0));
  // gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, curr.z, 1.0));

  v_line_data.g = a_Position.x; // 该顶点在弧线上的分段排序
  if (LineTexture == u_line_texture) {
    float d_arcDistrance = length(source - target);
    d_arcDistrance = project_pixel(d_arcDistrance);

    float d_pixelLen = project_pixel(u_icon_step) / 8.0;
    v_line_data.b = floor(d_arcDistrance / d_pixelLen); // 贴图在弧线上重复的数量

    float lineOffsetWidth = length(offset + offset * sign(a_Position.y)); // 线横向偏移的距离
    float linePixelSize = project_pixel(a_Size); // 定点位置偏移，按地图等级缩放后的距离
    v_line_data.a = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值

    v_iconMapUV = a_iconMapUV;
  }

  gl_Position = project_common_position_to_clipspace(vec4(curr.xy + offset, 0, 1.0));
  setPickingColor(a_PickingColor);
}

`,gI={solid:0,dash:1};class vI extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:k.NEAREST,min:k.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,INSTANCE:10,INSTANCE_64LOW:11,UV:12})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:i="normal",lineType:s="solid",dashArray:p=[10,5],lineTexture:n=!1,iconStep:f=100,segmentNumber:m=30}=this.layer.getLayerConfig(),{animateOption:g}=this.layer.getLayerConfig();if(p.length===2&&p.push(0,0),this.rendererService.getDirty()){var x;(x=this.texture)===null||x===void 0||x.bind()}let b=0,F=[0,0,0,0],R=[0,0,0,0];t&&r&&(F=Di(t),R=Di(r),b=1);let I=this.layer.getLayerAnimateTime();isNaN(I)&&(I=0);const O={u_animate:this.animateOption2Array(g),u_dash_array:p,u_sourceColor:F,u_targetColor:R,u_textSize:[1024,this.iconService.canvasHeight||128],segmentNumber:m,u_line_type:gI[s]||0,u_icon_step:f,u_line_texture:n?1:0,u_textureBlend:i==="normal"?0:1,u_time:I,u_linearColor:b};return this.getUniformsBufferInfo(O)}initModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Rt(function*(){const{segmentNumber:r=30}=t.layer.getLayerConfig();return[yield t.layer.buildLayerModel({moduleName:"lineGreatCircle",vertexShader:_I,fragmentShader:mI,triangulation:N6,styleOption:{segmentNumber:r},defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"instance",type:Nr.Attribute,descriptor:{name:"a_Instance",shaderLocation:this.attributeLocation.INSTANCE,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[i[3],i[4],i[5],i[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"instance64Low",type:Nr.Attribute,descriptor:{name:"a_Instance64Low",shaderLocation:this.attributeLocation.INSTANCE_64LOW,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>[sa(i[3]),sa(i[4]),sa(i[5]),sa(i[6])]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:i}=t,{x:s,y:p}=r[i]||{x:0,y:0};return[s,p]}}})}}const EI=`// #extension GL_OES_standard_derivatives : enable
#define Animate 0.0
#define LineTexture 1.0

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

in vec4 v_color;
in vec4 v_stroke;
// dash
in vec4 v_dash_array;
in float v_d_distance_ratio;
in vec2 v_iconMapUV;
in vec4 v_texture_data;

out vec4 outputColor;
#pragma include "picking"

// [animate, duration, interval, trailLength],
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_d_distance_ratio, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_texture_data.r; // 当前点位距离占线总长的比例
  if(u_linearDir < 1.0) {
    d_distance_ratio = v_texture_data.a;
  }
  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, d_distance_ratio);
    outputColor.a *= v_color.a;
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }
  // anti-alias
  // float blur = 1.0 - smoothstep(u_blur, 1., length(v_normal.xy));
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_texture_data.g;      // 当前顶点的距离
    float d_texPixelLen = v_texture_data.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_texture_data.a;  // 线图层贴图部分的 v 坐标值

    // v = max(smoothstep(0.95, 1.0, v), v);
    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
     vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor += pattern;
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = pattern;
    }
  } 

  float v = v_texture_data.a;
  float strokeWidth = min(0.5, u_strokeWidth);
  // 绘制 border
  if(strokeWidth > 0.01) {
    float borderOuterWidth = strokeWidth / 2.0;


    if(v >= 1.0 - strokeWidth || v <= strokeWidth) {
      if(v > strokeWidth) { // 外侧
        float linear = smoothstep(0.0, 1.0, (v - (1.0 - strokeWidth))/strokeWidth);
        //  float linear = step(0.0, (v - (1.0 - borderWidth))/borderWidth);
        outputColor.rgb = mix(outputColor.rgb, v_stroke.rgb, linear);
      } else if(v <= strokeWidth) {
        float linear = smoothstep(0.0, 1.0, v/strokeWidth);
        outputColor.rgb = mix(v_stroke.rgb, outputColor.rgb, linear);
      }
    }

    if(v < borderOuterWidth) {
      outputColor.a = mix(0.0, outputColor.a, v/borderOuterWidth);
    } else if(v > 1.0 - borderOuterWidth) {
      outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - borderOuterWidth))/borderOuterWidth);
    }
  }

  // blur
  float blurV = v_texture_data.a;
  if(blurV < 0.5) {
    outputColor.a *= mix(u_blur.r, u_blur.g, blurV/0.5);
  } else {
    outputColor.a *= mix(u_blur.g, u_blur.b, (blurV - 0.5)/0.5);
  }
  
  outputColor = filterColor(outputColor);
}
`,xI=`#define Animate (0.0)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_INDEX) in vec3 a_DistanceAndIndexAndMiter;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec4 a_Normal_Total_Distance;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_dash_array;
  vec4 u_blur;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed: 0.0;
  float u_vertexScale: 1.0;
  float u_raisingHeight: 0.0;
  float u_strokeWidth: 0.0;
  float u_textureBlend;
  float u_line_texture;
  float u_linearDir: 1.0;
  float u_linearColor: 0;
  float u_time;
};

out vec4 v_color;
out vec4 v_stroke;
//dash
out vec4 v_dash_array;
out float v_d_distance_ratio;
// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_texture_data;

#pragma include "projection"
#pragma include "picking"

void main() {
  vec2 a_DistanceAndIndex = a_DistanceAndIndexAndMiter.xy;
  float a_Miter = a_DistanceAndIndexAndMiter.z;
  vec3 a_Normal = a_Normal_Total_Distance.xyz;
  float a_Total_Distance = a_Normal_Total_Distance.w;
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_Total_Distance;
  v_d_distance_ratio = a_DistanceAndIndex.x / a_Total_Distance;

  // cal style mapping - 数据纹理映射部分的计算
  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放
  v_iconMapUV = a_iconMapUV;
  d_texPixelLen = project_float_pixel(u_icon_step);

  v_color = a_Color;
  v_color.a *= opacity;
  v_stroke = stroke;

  vec3 size = a_Miter * setPickingSize(a_Size.x) * a_Normal;

  vec2 offset = project_pixel(size.xy);

  float lineDistance = a_DistanceAndIndex.x;
  float currentLinePointRatio = lineDistance / a_Total_Distance;

  float lineOffsetWidth = length(offset + offset * sign(a_Miter)); // 线横向偏移的距离（向两侧偏移的和）
  float linePixelSize = project_pixel(a_Size.x) * 2.0; // 定点位置偏移，按地图等级缩放后的距离 单侧 * 2
  float texV = lineOffsetWidth / linePixelSize; // 线图层贴图部分的 v 坐标值

  v_texture_data = vec4(currentLinePointRatio, lineDistance, d_texPixelLen, texV);
  // 设置数据集的参数

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, a_Size.y, 1.0));

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况 vertex height
  float lineHeight = a_Size.y; // size 第二个参数代表的高度 [linewidth, lineheight]

  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // 保持高度相对不变
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    h *= mapboxZoomScale;
    h += u_raisingHeight * mapboxZoomScale;
    if (u_heightfixed > 0.0) {
      lineHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(
    vec4(project_pos.xy + offset, lineHeight + h, 1.0)
  );

  setPickingColor(a_PickingColor);
}
`;class J9 extends Pi{constructor(...t){super(...t),G(this,"textureEventFlag",!1),G(this,"texture",this.createTexture2D({data:new Uint8Array([0,0,0,0]),width:1,height:1})),G(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.textures.length===0&&(this.textures=[this.texture]),this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:k.NEAREST,min:k.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,DISTANCE_INDEX:10,NORMAL:11,UV:12})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:i="normal",lineType:s="solid",dashArray:p=[10,5,0,0],lineTexture:n=!1,iconStep:f=100,vertexHeightScale:m=20,strokeWidth:g=0,raisingHeight:x=0,heightfixed:b=!1,linearDir:F=x4.VERTICAL,blur:R=[1,1,1,0]}=this.layer.getLayerConfig();let I=p;if(s!=="dash"&&(I=[0,0,0,0]),I.length===2&&I.push(0,0),this.rendererService.getDirty()&&this.texture){var O;(O=this.texture)===null||O===void 0||O.bind()}const{animateOption:U}=this.layer.getLayerConfig();let Y=0,ee=[0,0,0,0],oe=[0,0,0,0];t&&r&&(ee=Di(t),oe=Di(r),Y=1);const Re={u_animate:this.animateOption2Array(U),u_dash_array:I,u_blur:R,u_sourceColor:ee,u_targetColor:oe,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:f,u_heightfixed:Number(b),u_vertexScale:m,u_raisingHeight:Number(x),u_strokeWidth:g,u_textureBlend:i===hC.NORMAL?0:1,u_line_texture:n?1:0,u_linearDir:F===x4.VERTICAL?1:0,u_linearColor:Y,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(Re)}initModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),t.textureEventFlag||(t.textureEventFlag=!0,t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture)),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Rt(function*(){const{depth:r=!1}=t.layer.getLayerConfig(),{frag:i,vert:s,type:p}=t.getShaders();return t.layer.triangulation=G2,[yield t.layer.buildLayerModel({moduleName:"line"+p,vertexShader:s,fragmentShader:i,triangulation:G2,defines:t.getDefines(),inject:t.getInject(),depth:{enable:r}})]})()}getShaders(){return{frag:EI,vert:xI,type:""}}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"distanceAndIndex",type:Nr.Attribute,descriptor:{name:"a_DistanceAndIndexAndMiter",shaderLocation:this.attributeLocation.DISTANCE_INDEX,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s,p,n)=>n===void 0?[i[3],10,i[4]]:[i[3],n,i[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal_total_distance",type:Nr.Attribute,descriptor:{name:"a_Normal_Total_Distance",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i,s,p)=>[...p,i[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:i}=t,{x:s,y:p}=r[i]||{x:0,y:0};return[s,p]}}})}}const PI=`
layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};
in float v_distanceScale;
in vec4 v_color;
//dash
in vec4 v_dash_array;

out vec4 outputColor;
void main() {
  if(u_dash_array!=vec4(0.0)){
    float dashLength = mod(v_distanceScale, v_dash_array.x + v_dash_array.y + v_dash_array.z + v_dash_array.w);
    if(!(dashLength < v_dash_array.x || (dashLength > (v_dash_array.x + v_dash_array.y) && dashLength <  v_dash_array.x + v_dash_array.y + v_dash_array.z))) {
      // 虚线部分
      discard;
    };
  }
  if(u_linearColor==1.0){
    outputColor = mix(u_sourceColor, u_targetColor, v_distanceScale);
    outputColor.a *= v_color.a; // 全局透明度
  }
  else{
    outputColor = v_color;
  }
}
`,bI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec4 a_SizeDistanceAndTotalDistance;

layout(std140) uniform commonUniorm {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec4 u_dash_array;
  float u_vertexScale: 1.0;
  float u_linearColor: 0;
};

#pragma include "projection"
#pragma include "picking"

out vec4 v_color;
out float v_distanceScale;
out vec4 v_dash_array;

void main() {
  //dash输出
  v_dash_array = pow(2.0, 20.0 - u_Zoom) * u_dash_array / a_SizeDistanceAndTotalDistance.a;

  v_color = a_Color;
  v_distanceScale = a_SizeDistanceAndTotalDistance.b / a_SizeDistanceAndTotalDistance.a;
  v_color.a = v_color.a * opacity;
  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float h = float(a_Position.z) * u_vertexScale; // 线顶点的高度 - 兼容不存在第三个数值的情况

  float lineHeight = a_SizeDistanceAndTotalDistance.y;
  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // 保持高度相对不变
    h *= 2.0 / pow(2.0, 20.0 - u_Zoom);
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, lineHeight + h, 1.0));
  gl_PointSize = 10.0;

}
`;class AI extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,lineType:i="solid",dashArray:s=[10,5,0,0],vertexHeightScale:p=20}=this.layer.getLayerConfig();let n=s;i!=="dash"&&(n=[0,0,0,0]),n.length===2&&n.push(0,0);let f=0,m=[0,0,0,0],g=[0,0,0,0];t&&r&&(m=Di(t),g=Di(r),f=1);const x={u_sourceColor:m,u_targetColor:g,u_dash_array:n,u_vertexScale:p,u_linearColor:f};return this.getUniformsBufferInfo(x)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}getShaders(){return{frag:PI,vert:bI,type:"lineSimpleNormal"}}buildModels(){var t=this;return Rt(function*(){t.initUniformsBuffer();const{frag:r,vert:i,type:s}=t.getShaders();return[yield t.layer.buildLayerModel({moduleName:s,vertexShader:i,fragmentShader:r,triangulation:EC,defines:t.getDefines(),inject:t.getInject(),primitive:k.LINES,depth:{enable:!1},pick:!1})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"sizeDistanceAndTotalDistance",type:Nr.Attribute,descriptor:{name:"a_SizeDistanceAndTotalDistance",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:4,update:(t,r,i)=>{const{size:s=1}=t,p=Array.isArray(s)?[s[0],s[1]]:[s,0];return[p[0],p[1],i[3],i[5]]}}})}}const FI=`#define Animate 0.0
#define LineTexture 1.0

// line texture

uniform sampler2D u_texture;
layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};


in vec2 v_iconMapUV;
in vec4 v_color;
in float v_blur;
in vec4 v_dataset;

out vec4 outputColor;

#pragma include "picking"

void main() {
  float animateSpeed = 0.0; // 运动速度
  float d_distance_ratio = v_dataset.r; // 当前点位距离占线总长的比例
  float v = v_dataset.a;

  if(u_linearColor == 1.0) { // 使用渐变颜色
    outputColor = mix(u_sourceColor, u_targetColor, v);
  } else { // 使用 color 方法传入的颜色
     outputColor = v_color;
  }

  outputColor.a *= v_color.a; // 全局透明度
  if(u_animate.x == Animate) {
      animateSpeed = u_time / u_animate.y;
       float alpha =1.0 - fract( mod(1.0- d_distance_ratio, u_animate.z)* (1.0/ u_animate.z) + animateSpeed);
      alpha = (alpha + u_animate.w -1.0) / u_animate.w;
      alpha = smoothstep(0., 1., alpha);
      outputColor.a *= alpha;
  }

  if(u_line_texture == LineTexture) { // while load texture
    float aDistance = v_dataset.g;      // 当前顶点的距离
    float d_texPixelLen = v_dataset.b;  // 贴图的像素长度，根据地图层级缩放
    float u = fract(mod(aDistance, d_texPixelLen)/d_texPixelLen - animateSpeed);
    float v = v_dataset.a;  // 线图层贴图部分的 v 坐标值

    // 计算纹理间隔 start
    float flag = 0.0;
    if(u > 1.0/u_iconStepCount) {
      flag = 1.0;
    }
    u = fract(u*u_iconStepCount);
    // 计算纹理间隔 end

    vec2 uv= v_iconMapUV / u_textSize + vec2(u, v) / u_textSize * 64.;
    vec4 pattern = texture(SAMPLER_2D(u_texture), uv);

    // Tip: 判断纹理间隔
    if(flag > 0.0) {
      pattern = vec4(0.0);
    }

    if(u_textureBlend == 0.0) { // normal
      pattern.a = 0.0;
      outputColor = filterColor(outputColor + pattern);
    } else { // replace
        pattern.a *= v_color.a;
        if(outputColor.a <= 0.0) {
          pattern.a = 0.0;
        }
        outputColor = filterColor(pattern);
    }
  }


  // blur - AA
  if(v < v_blur) {
    outputColor.a = mix(0.0, outputColor.a, v/v_blur);
  } else if(v > 1.0 - v_blur) {
    outputColor.a = mix(outputColor.a, 0.0, (v - (1.0 - v_blur))/v_blur);
  }

  outputColor = filterColor(outputColor);
}
`,TI=`#define Animate 0.0
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec2 a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_iconMapUV;
layout(location = ATTRIBUTE_LOCATION_DISTANCE_MITER_TOTAL) in vec3 a_Distance_Total_Miter;

layout(std140) uniform commonUniorm {
  vec4 u_animate: [ 1., 2., 1.0, 0.2 ];
  vec4 u_sourceColor;
  vec4 u_targetColor;
  vec2 u_textSize;
  float u_icon_step: 100;
  float u_heightfixed;
  float u_linearColor: 0;
  float u_line_texture;
  float u_textureBlend;
  float u_iconStepCount;
  float u_time;
};

// texV 线图层 - 贴图部分的 v 坐标（线的宽度方向）
out vec2 v_iconMapUV;
out vec4 v_color;
out float v_blur;
out vec4 v_dataset;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float a_Distance = a_Distance_Total_Miter.x;
  float a_Miter = a_Distance_Total_Miter.y;
  float a_Total_Distance = a_Distance_Total_Miter.z;

  float d_distance_ratio; // 当前点位距离占线总长的比例
  float d_texPixelLen; // 贴图的像素长度，根据地图层级缩放

  v_iconMapUV = a_iconMapUV;
  if (u_heightfixed < 1.0) {
    // 高度随 zoom 调整
    d_texPixelLen = project_pixel(u_icon_step);
  } else {
    d_texPixelLen = u_icon_step;
  }

  if (u_animate.x == Animate || u_linearColor == 1.0) {
    d_distance_ratio = a_Distance / a_Total_Distance;
  }

  float miter = (a_Miter + 1.0) / 2.0;
  // 设置数据集的参数
  v_dataset[0] = d_distance_ratio; // 当前点位距离占线总长的比例
  v_dataset[1] = a_Distance; // 当前顶点的距离
  v_dataset[2] = d_texPixelLen; // 贴图的像素长度，根据地图层级缩放
  v_dataset[3] = miter; // 线图层贴图部分的 v 坐标值 0 - 1

  vec4 project_pos = project_position(vec4(a_Position.xy, 0, 1.0), a_Position64Low);

  float originSize = a_Size.x; // 固定高度
  if (u_heightfixed < 1.0) {
    originSize = project_float_meter(a_Size.x); // 高度随 zoom 调整
  }

  float wallHeight = originSize * miter;
  float lightWeight = calc_lighting(vec4(project_pos.xy, wallHeight, 1.0));

  v_blur = min(project_float_pixel(2.0) / originSize, 0.05);
  v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  // 兼容 mapbox 在线高度上的效果表现基本一致
  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    // mapbox
    // 保持高度相对不变
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    if (u_heightfixed > 0.0) {
      wallHeight *= mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, wallHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`;class SI extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas()}),this.layer.render();return}this.texture=r({data:this.iconService.getCanvas(),mag:k.NEAREST,min:k.NEAREST,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:12,UV:13,DISTANCE_MITER_TOTAL:15})}getCommonUniformsInfo(){const{sourceColor:t,targetColor:r,textureBlend:i="normal",heightfixed:s=!1,lineTexture:p=!1,iconStep:n=100,iconStepCount:f=1}=this.layer.getLayerConfig(),{animateOption:m}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var g;(g=this.texture)===null||g===void 0||g.bind()}let x=0,b=[0,0,0,0],F=[0,0,0,0];t&&r&&(b=Di(t),F=Di(r),x=1);const R={u_animate:this.animateOption2Array(m),u_sourceColor:b,u_targetColor:F,u_textSize:[1024,this.iconService.canvasHeight||128],u_icon_step:n,u_heightfixed:Number(s),u_linearColor:x,u_line_texture:p?1:0,u_textureBlend:i==="normal"?0:1,u_iconStepCount:f,u_time:this.layer.getLayerAnimateTime()||0};return this.getUniformsBufferInfo(R)}initModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),t.updateTexture(),t.iconService.on("imageUpdate",t.updateTexture),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Rt(function*(){return[yield t.layer.buildLayerModel({moduleName:"lineWall",vertexShader:TI,fragmentShader:FI,triangulation:G2,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1},blend:t.getBlend()})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0],r[1]]:[r,0]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Nr.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s,p)=>p}}),this.styleAttributeService.registerStyleAttribute({name:"distanceAndTotalAndMiter",type:Nr.Attribute,descriptor:{name:"a_Distance_Total_Miter",shaderLocation:this.attributeLocation.DISTANCE_MITER_TOTAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i)=>[i[3],i[4],i[5]]}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_iconMapUV",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{texture:i}=t,{x:s,y:p}=r[i]||{x:0,y:0};return[s,p]}}})}}const RI={arc:JC,arc3d:D4,greatcircle:vI,wall:SI,line:J9,simple:AI,flowline:fI,earthArc3d:D4};class e7 extends x1{constructor(...t){super(...t),G(this,"type","LineLayer"),G(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","thetaOffset"]),G(this,"arrowInsertCount",0),G(this,"defaultSourceConfig",{data:[{lng1:100,lat1:30,lng2:130,lat2:30}],options:{parser:{type:"json",x:"lng1",y:"lat1",x1:"lng2",y1:"lat2"}}})}buildModels(){var t=this;return Rt(function*(){const r=t.getModelType();t.layerModel=new RI[r](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{line:{},linearline:{},simple:{},wall:{},arc3d:{blend:"additive"},arc:{blend:"additive"},greatcircle:{blend:"additive"},tileLine:{},earthArc3d:{},flowline:{},arrow:{}}[t]}getModelType(){var t;if(this.layerType)return this.layerType;const r=this.styleAttributeService.getLayerStyleAttribute("shape");return(r==null||(t=r.scale)===null||t===void 0?void 0:t.field)||"line"}processData(t){if(this.getModelType()!=="simple")return t;const r=[];return t.map(i=>{if(Array.isArray(i.coordinates)&&Array.isArray(i.coordinates[0])&&Array.isArray(i.coordinates[0][0])){const s=wt({},i);i.coordinates.map(p=>{r.push(wt(wt({},s),{},{coordinates:p}))})}else r.push(i)}),r}}const wI=`
layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

in vec4 v_color;
in float v_blur;
in float v_innerRadius;

out vec4 outputColor;

#pragma include "picking"
void main() {
  vec2 center = vec2(0.5);

  // Tip: 片元到中心点的距离 0 - 1
  float fragmengTocenter = distance(center, gl_PointCoord) * 2.0;
  // Tip: 片元的剪切成圆形
  float circleClipOpacity = 1.0 - smoothstep(v_blur, 1.0, fragmengTocenter);


  if(v_innerRadius < 0.99) {
    // 当存在 stroke 且 stroke > 0.01
    float blurWidth = (1.0 - v_blur)/2.0;
    vec4 stroke = vec4(u_stroke_color.rgb, u_stroke_opacity);
    if(fragmengTocenter > v_innerRadius + blurWidth) {
      outputColor = stroke;
    } else if(fragmengTocenter > v_innerRadius - blurWidth){
      float mixR = (fragmengTocenter - (v_innerRadius - blurWidth)) / (blurWidth * 2.0);
      outputColor = mix(v_color, stroke, mixR);
    } else {
      outputColor = v_color;
    }
  } else {
    // 当不存在 stroke 或 stroke <= 0.01
    outputColor = v_color;
  }

  outputColor = filterColor(outputColor);
  
  if(u_additive > 0.0) {
    outputColor *= circleClipOpacity;
  } else {
    outputColor.a *= circleClipOpacity;
  }

}
`,CI=`
layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform commonUniorm {
  vec4 u_stroke_color;
  float u_additive;
  float u_stroke_opacity;
  float u_stroke_width;
};

out vec4 v_color;
out float v_blur;
out float v_innerRadius;

#pragma include "projection"
#pragma include "picking"
#pragma include "project"
void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_blur = 1.0 - max(2.0 / a_Size, 0.05);
  v_innerRadius = max((a_Size - u_stroke_width) / a_Size, 0.0);

  vec2 offset = project_pixel(u_offsets);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(vec2(project_pos.xy+offset),project_pos.z,project_pos.w));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;function U4(e){const t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}class II extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const{blend:t,strokeOpacity:r=1,strokeWidth:i=0,stroke:s="#fff"}=this.layer.getLayerConfig(),p={u_stroke_color:Di(s),u_additive:t==="additive"?1:0,u_stroke_opacity:r,u_stroke_width:i};return this.getUniformsBufferInfo(p)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.layer.triangulation=U4,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointSimple",vertexShader:CI,fragmentShader:wI,defines:t.getDefines(),inject:t.getInject(),triangulation:U4,depth:{enable:!1},primitive:k.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}const MI=`precision highp float;
in vec4 v_color;

#pragma include "picking"

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};
in float v_lightWeight;
in float v_barLinearZ;
out vec4 outputColor;
void main() {

   outputColor = v_color;

  // 开启透明度渐变
  if(u_opacitylinear > 0.0) {
    outputColor.a *= u_opacitylinear_dir > 0.0 ? (1.0 - v_barLinearZ): v_barLinearZ;
  }

  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,NI=`precision highp float;

#define pi 3.1415926535
#define ambientRatio 0.5
#define diffuseRatio 0.3
#define specularRatio 0.2

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_POS) in vec3 a_Pos;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniform {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor: 0;
  float u_heightfixed: 0.0; // 默认不固定
  float u_globel;
  float u_r;
  float u_pickLight: 0.0;
  float u_opacitylinear: 0.0;
  float u_opacitylinear_dir: 1.0;
  float u_lightEnable: 1.0;
};

out vec4 v_color;
out float v_lightWeight;
out float v_barLinearZ;
// 用于将在顶点着色器中计算好的样式值传递给片元


#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if(x > 0.0 && z > 0.0) {
    return atan(x/z);
  } else if(x > 0.0 && z <= 0.0){
    return atan(-z/x) + pi/2.0;
  } else if(x <= 0.0 && z <= 0.0) {
    return  pi + atan(x/z); //atan(x/z) +
  } else {
    return atan(z/-x) + pi*3.0/2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y/r);
}

void main() {

  // cal style mapping - 数据纹理映射部分的计算
  vec3 size = a_Size * a_Position;

  // a_Position.z 是在构建网格的时候传入的标准值 0 - 1，在插值器插值可以获取 0～1 线性渐变的值
  v_barLinearZ =  a_Position.z;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移
  if(u_heightfixed < 1.0) { // 圆柱体不固定高度
    //
  } else {// 圆柱体固定高度 （ 处理 mapbox ）
    if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      offset *= 4.0/pow(2.0, 21.0 - u_Zoom);
    }
  }


  vec4 project_pos = project_position(vec4(a_Pos.xy, 0., 1.0));

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // 圆柱光照效果
  float lightWeight = 1.0;
  if(u_lightEnable > 0.0) { // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }
  v_lightWeight = lightWeight;
  // 设置圆柱的底色
  if(u_linearColor == 1.0) { // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, v_barLinearZ);
    v_color.rgb *= lightWeight;
  } else { // 使用 color 方法传入的颜色
     v_color = a_Color;
  }
  v_color.a *= u_opacity;


  // 在地球模式下，将原本垂直于 xy 平面的圆柱调整姿态到适应圆的角度
  //旋转矩阵mx，创建绕x轴旋转矩阵
  float r = sqrt(a_Pos.z*a_Pos.z + a_Pos.x*a_Pos.x);
  float xRadian = getXRadian(a_Pos.y, r);
  float xcos = cos(xRadian);//求解旋转角度余弦值
  float xsin = sin(xRadian);//求解旋转角度正弦值
  mat4 mx = mat4(
    1,0,0,0,
    0,xcos,-xsin,0,
    0,xsin,xcos,0,
    0,0,0,1);

  //旋转矩阵my，创建绕y轴旋转矩阵
  float yRadian = getYRadian(a_Pos.x, a_Pos.z);
  float ycos = cos(yRadian);//求解旋转角度余弦值
  float ysin = sin(yRadian);//求解旋转角度正弦值
  mat4 my = mat4(
    ycos,0,-ysin,0,
    0,1,0,0,
    ysin,0,ycos,0,
    0,0,0,1);

  gl_Position = u_ViewProjectionMatrix * vec4(( my * mx *  vec4(a_Position * a_Size, 1.0)).xyz + a_Pos, 1.0);


  setPickingColor(a_PickingColor);
}
`,{isNumber:DI}=Kn;let OI=class extends Pi{constructor(...t){super(...t),G(this,"raiseCount",0),G(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,POS:10,NORMAL:11})}getCommonUniformsInfo(){const{animateOption:t={enable:!1,speed:.01,repeat:!1},opacity:r=1,sourceColor:i,targetColor:s,pickLight:p=!1,heightfixed:n=!0,opacityLinear:f={enable:!1,dir:"up"},lightEnable:m=!0}=this.layer.getLayerConfig();let g=0,x=[0,0,0,0],b=[0,0,0,0];if(i&&s&&(x=Di(i),b=Di(s),g=1),this.raiseCount<1&&this.raiseRepeat>0&&t.enable){const{speed:I=.01}=t;this.raiseCount+=I,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const F={u_sourceColor:x,u_targetColor:b,u_linearColor:g,u_pickLight:Number(p),u_heightfixed:Number(n),u_r:t.enable&&this.raiseRepeat>0?this.raiseCount:1,u_opacity:DI(r)?r:1,u_opacitylinear:Number(f.enable),u_opacitylinear_dir:f.dir==="up"?1:0,u_lightEnable:Number(m)};return this.getUniformsBufferInfo(F)}initModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){const{animateOption:{repeat:r=1}}=t.layer.getLayerConfig();return t.raiseRepeat=r,[yield t.layer.buildLayerModel({moduleName:"pointEarthExtrude",vertexShader:NI,fragmentShader:MI,triangulation:M6,depth:{enable:!0},defines:t.getDefines(),inject:t.getInject(),cull:{enable:!0,face:k.FRONT},blend:t.getBlend()})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:t=>{const{size:r}=t;if(r){let i=[];return Array.isArray(r)&&(i=r.length===2?[r[0],r[0],r[1]]:r),Array.isArray(r)||(i=[r,r,r]),i}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Nr.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s,p)=>p}}),this.styleAttributeService.registerStyleAttribute({name:"pos",type:Nr.Attribute,descriptor:{name:"a_Pos",shaderLocation:this.attributeLocation.POS,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:t=>{const r=d1(t.coordinates);return Y9([r[0],r[1]])}}})}};const LI=`in vec4 v_data;
in vec4 v_color;
in float v_radius;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));

  vec4 strokeColor = u_stroke == vec4(0.0) ? v_color : u_stroke;

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  if(outer_df > antialiasblur + 0.018) discard;

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  if(u_stroke_width < 0.01) {
    outputColor = vec4(v_color.rgb, v_color.a * u_opacity);
  } else {
    outputColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor = filterColor(outputColor);
  }
}
`,BI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniform {
  float u_additive;
  float u_stroke_opacity : 1;
  float u_stroke_width : 2;
  float u_blur : 0.0;
};
out vec4 v_data;
out vec4 v_color;
out float v_radius;

#pragma include "projection"
#pragma include "picking"


void main() {
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;

  // unpack color(vec2)
  v_color = a_Color;

  // radius(16-bit)
  v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur);

  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  gl_Position = u_ViewProjectionMatrix * vec4(a_Position + extrude * newSize * 0.1 + vec3(u_offsets,0.0), 1.0);

  setPickingColor(a_PickingColor);
}
`;let UI=class extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){const{strokeOpacity:t=1,strokeWidth:r=0,blend:i,blur:s=0}=this.layer.getLayerConfig();this.layer.getLayerConfig();const p={u_additive:i==="additive"?1:0,u_stroke_opacity:t,u_stroke_width:r,u_blur:s};return this.getUniformsBufferInfo(p)}initModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.layer.triangulation=C4,[yield t.layer.buildLayerModel({moduleName:"pointEarthFill",vertexShader:BI,fragmentShader:LI,triangulation:C4,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!0},blend:t.getBlend()})]})()}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Nr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s)=>{const[p,n,f]=i,m=lp(0,0,1),g=lp(p,0,f),x=p>=0?F3(m,g):Math.PI*2-F3(m,g),b=Math.PI*2-Math.asin(n/100),F=Pf();$g(F,F,x),o6(F,F,b);const R=lp(1,1,0);oh(R,R,F),Ud(R,R);const I=lp(-1,1,0);oh(I,I,F),Ud(I,I);const O=lp(-1,-1,0);oh(O,O,F),Ud(O,O);const U=lp(1,-1,0);oh(U,U,F),Ud(U,U);const Y=[...R,...I,...O,...U],ee=s%4*3;return[Y[ee],Y[ee+1],Y[ee+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Nr.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{shape:r=2}=t;return[this.layer.getLayerConfig().shape2d.indexOf(r)]}}})}};const kI=`
in vec4 v_color;
in float v_lightWeight;
out vec4 outputColor;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {

  outputColor = v_color;
  // 开启透明度渐变
  // picking
  if(u_pickLight > 0.0) {
    outputColor = filterColorAlpha(outputColor, v_lightWeight);
  } else {
    outputColor = filterColor(outputColor);
  }
}
`,zI=`#define pi (3.1415926535)

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in vec3 a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec4 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

layout(std140) uniform commonUniforms {
  float u_pickLight;
  float u_heightfixed;
  float u_r;
  float u_linearColor;
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_opacitylinear;
  float u_opacitylinear_dir;
  float u_lightEnable;
};
out vec4 v_color;
out float v_lightWeight;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

float getYRadian(float x, float z) {
  if (x > 0.0 && z > 0.0) {
    return atan(x / z);
  } else if (x > 0.0 && z <= 0.0) {
    return atan(-z / x) + pi / 2.0;
  } else if (x <= 0.0 && z <= 0.0) {
    return pi + atan(x / z); //atan(x/z) +
  } else {
    return atan(z / -x) + pi * 3.0 / 2.0;
  }
}

float getXRadian(float y, float r) {
  return atan(y / r);
}

void main() {
  vec3 size = a_Size * a_Position;

  vec3 offset = size; // 控制圆柱体的大小 - 从标准单位圆柱体进行偏移

  if (u_heightfixed < 1.0) {
    // 圆柱体不固定高度
  } else {
    // 圆柱体固定高度 （ 处理 mapbox ）
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      offset *= 4.0 / pow(2.0, 21.0 - u_Zoom);
    }
  }

  vec2 positions = a_Extrude.xy;
  vec2 positions64Low = a_Extrude.zw;
  vec4 project_pos = project_position(vec4(positions, 0.0, 1.0), positions64Low);

  // u_r 控制圆柱的生长
  vec4 pos = vec4(project_pos.xy + offset.xy, offset.z * u_r, 1.0);

  // // 圆柱光照效果
  float lightWeight = 1.0;

  if (u_lightEnable > 0.0) {
    // 取消三元表达式，增强健壮性
    lightWeight = calc_lighting(pos);
  }

  v_lightWeight = lightWeight;

  v_color = a_Color;

  // 设置圆柱的底色
  if (u_linearColor == 1.0) {
    // 使用渐变颜色
    v_color = mix(u_sourceColor, u_targetColor, a_Position.z);
    v_color.a = v_color.a * opacity;
  } else {
    v_color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);
  }

  if (u_opacitylinear > 0.0) {
    v_color.a *= u_opacitylinear_dir > 0.0 ? 1.0 - a_Position.z : a_Position.z;
  }

  gl_Position = project_common_position_to_clipspace(pos);

  setPickingColor(a_PickingColor);
}
`;let t7=class extends Pi{constructor(...t){super(...t),G(this,"raiseCount",0),G(this,"raiseRepeat",0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,NORMAL:11})}getCommonUniformsInfo(){const{animateOption:t={enable:!1,speed:.01,repeat:!1},sourceColor:r,targetColor:i,pickLight:s=!1,heightfixed:p=!1,opacityLinear:n={enable:!1,dir:"up"},lightEnable:f=!0}=this.layer.getLayerConfig();let m=0,g=[0,0,0,0],x=[0,0,0,0];if(r&&i&&(g=Di(r),x=Di(i),m=1),this.raiseCount<1&&this.raiseRepeat>0&&t.enable){const{speed:R=.01}=t;this.raiseCount+=R,this.raiseCount>=1&&(this.raiseRepeat>1?(this.raiseCount=0,this.raiseRepeat--):this.raiseCount=1)}const b={u_pickLight:Number(s),u_heightfixed:Number(p),u_r:t.enable&&this.raiseRepeat>0?this.raiseCount:1,u_linearColor:m,u_sourceColor:g,u_targetColor:x,u_opacitylinear:Number(n.enable),u_opacitylinear_dir:n.dir==="up"?1:0,u_lightEnable:Number(f)};return this.getUniformsBufferInfo(b)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){const{depth:r=!0,animateOption:{repeat:i=1}}=t.layer.getLayerConfig();return t.raiseRepeat=i,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointExtrude",vertexShader:zI,fragmentShader:kI,triangulation:M6,defines:t.getDefines(),inject:t.getInject(),cull:{enable:!0,face:k.FRONT},depth:{enable:r}})]})()}registerBuiltinAttributes(){this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:t=>{const{size:r}=t;if(r){let i=[];return Array.isArray(r)&&(i=r.length===2?[r[0],r[0],r[1]]:r),Array.isArray(r)||(i=[r,r,r]),i}else return[2,2,2]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Nr.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s,p)=>p}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Nr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:4,update:t=>{const r=d1(t.coordinates);return[r[0],r[1],sa(r[0]),sa(r[1])]}}})}};const VI=`
layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

in vec4 v_color;
in vec4 v_stroke;
in vec4 v_data;
in float v_radius;

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {
  int shape = int(floor(v_data.w + 0.5));
  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius + u_stroke_width);

  float outer_df;
  float inner_df;
  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'
  if (shape == 0) {
    outer_df = sdCircle(v_data.xy, 1.0);
    inner_df = sdCircle(v_data.xy, r);
  } else if (shape == 1) {
    outer_df = sdEquilateralTriangle(1.1 * v_data.xy);
    inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);
  } else if (shape == 2) {
    outer_df = sdBox(v_data.xy, vec2(1.));
    inner_df = sdBox(v_data.xy, vec2(r));
  } else if (shape == 3) {
    outer_df = sdPentagon(v_data.xy, 0.8);
    inner_df = sdPentagon(v_data.xy, r * 0.8);
  } else if (shape == 4) {
    outer_df = sdHexagon(v_data.xy, 0.8);
    inner_df = sdHexagon(v_data.xy, r * 0.8);
  } else if (shape == 5) {
    outer_df = sdOctogon(v_data.xy, 1.0);
    inner_df = sdOctogon(v_data.xy, r);
  } else if (shape == 6) {
    outer_df = sdHexagram(v_data.xy, 0.52);
    inner_df = sdHexagram(v_data.xy, r * 0.52);
  } else if (shape == 7) {
    outer_df = sdRhombus(v_data.xy, vec2(1.0));
    inner_df = sdRhombus(v_data.xy, vec2(r));
  } else if (shape == 8) {
    outer_df = sdVesica(v_data.xy, 1.1, 0.8);
    inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);
  }

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(
    antialiasblur,
    0.0,
    inner_df
  );

  float PI = 3.14159;
  float N_RINGS = 3.0;
  float FREQ = 1.0;

  if(u_stroke_width < 0.01) {
    outputColor = v_color;
  } else {
    outputColor = mix(v_color, v_stroke * u_stroke_opacity, color_t);
  }
  float intensity = 1.0;
  if(u_time!=-1.0){
    //wave相关逻辑
    float d = length(v_data.xy);
    if(d > 0.5) {
      discard;
    }
    intensity = clamp(cos(d * PI), 0.0, 1.0) * clamp(cos(2.0 * PI * (d * 2.0 * u_animate.z - u_animate.y * u_time)), 0.0, 1.0);
  }

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
    outputColor *= intensity;//wave
    outputColor = filterColorAlpha(outputColor, outputColor.a);
  } else {
    outputColor.a *= opacity_t;
    outputColor.a *= intensity;//wave 
    outputColor = filterColor(outputColor);
  }
   // 作为 mask 模板时需要丢弃透明的像素
  if(outputColor.a < 0.01) {
    discard;
  } 
}
`,HI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_SHAPE) in float a_Shape;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniforms {
  vec3 u_blur_height_fixed;
  float u_stroke_width;
  float u_additive;
  float u_stroke_opacity;
  float u_size_unit;
  float u_time;
  vec4 u_animate;
};

out vec4 v_color;
out vec4 v_stroke;
out vec4 v_data;
out float v_radius;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // 透明度计算
   v_stroke = stroke;
  vec3 extrude = a_Extrude;
  float shape_type = a_Shape;
  /*
  *  setPickingSize 设置拾取大小
  *  u_meter2coord 在等面积大小的时候设置单位
  */
  float newSize = setPickingSize(a_Size);
  // float newSize = setPickingSize(a_Size) * 0.00001038445708445579;



  // unpack color(vec2)
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  if(u_size_unit == 1.0) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }

   v_radius = newSize;

  // anti-alias
  //  float antialiased_blur = -max(u_blur, antialiasblur);
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / newSize, u_blur_height_fixed.x);

  vec2 offset = (extrude.xy * (newSize + u_stroke_width) + u_offsets);

  offset = project_pixel(offset);
  offset = rotate_matrix(offset,rotation);

  // TODP: /abs(extrude.x) 是为了兼容地球模式
  v_data = vec4(extrude.x/abs(extrude.x), extrude.y/abs(extrude.y), antialiasblur,shape_type);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  // gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  float raisingHeight = u_blur_height_fixed.y;

  if(u_blur_height_fixed.z < 1.0) { // false
    raisingHeight = project_pixel(u_blur_height_fixed.y);
  } else {
     if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
      float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_blur_height_fixed.y * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  setPickingColor(a_PickingColor);
}
`;let r7=class extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,SHAPE:10,EXTRUDE:11})}getCommonUniformsInfo(){const{strokeOpacity:t=1,strokeWidth:r=0,blend:i,blur:s=0,raisingHeight:p=0,heightfixed:n=!1,unit:f="pixel"}=this.layer.getLayerConfig();let m=this.getAnimateUniforms().u_time;isNaN(m)&&(m=-1);const g={u_blur_height_fixed:[s,Number(p),Number(n)],u_stroke_width:r,u_additive:i==="additive"?1:0,u_stroke_opacity:t,u_size_unit:I6[f],u_time:m,u_animate:this.getAnimateUniforms().u_animate};return this.getUniformsBufferInfo(g)}getAnimateUniforms(){const{animateOption:t={enable:!1}}=this.layer.getLayerConfig();return{u_animate:this.animateOption2Array(t),u_time:this.layer.getLayerAnimateTime()}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),c1)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){const{frag:r,vert:i,type:s}=t.getShaders();return t.layer.triangulation=c1,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:s,vertexShader:i,fragmentShader:r,defines:t.getDefines(),inject:t.getInject(),triangulation:c1,depth:{enable:!1}})]})()}getShaders(){return{frag:VI,vert:HI,type:"pointFill"}}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){const t=this.layer.getLayerConfig().shape2d;this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Nr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:(r,i,s,p)=>{const n=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],f=p%4*3;return[n[f],n[f+1],n[f+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:r=>{const{size:i=5}=r;return Array.isArray(i)?[i[0]]:[i]}}}),this.styleAttributeService.registerStyleAttribute({name:"shape",type:Nr.Attribute,descriptor:{name:"a_Shape",shaderLocation:this.attributeLocation.SHAPE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:r=>{const{shape:i=2}=r;return[t.indexOf(i)]}}})}};const GI=`in vec2 v_uv;// 本身的 uv 坐标
in vec2 v_Iconuv;
in float v_opacity;
out vec4 outputColor;

uniform sampler2D u_texture;
layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed: 0.0;
  float u_raisingHeight: 0.0;
  float u_size_unit;
};

#pragma include "scene_uniforms"
#pragma include "sdf_2d"
#pragma include "picking"

void main() {
  vec2 pos = v_Iconuv / u_textSize + v_uv / u_textSize * 64.;
  outputColor = texture(SAMPLER_2D(u_texture), pos);
  outputColor.a *= v_opacity;
  outputColor = filterColor(outputColor);
}
`,jI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniform {
  vec2 u_textSize;
  float u_heightfixed;
  float u_raisingHeight;
  float u_size_unit;
};

out vec2 v_uv;
out vec2 v_Iconuv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  vec3 extrude = a_Extrude;
  v_uv = (a_Extrude.xy + 1.0) / 2.0;
  v_uv.y = 1.0 - v_uv.y;
  v_Iconuv = a_Uv;
  v_opacity = opacity;
  float newSize = a_Size;
  if (u_size_unit == 1.0) {
    newSize = newSize * u_PixelsPerMeter.z;
  }

  // vec2 offset = (u_RotateMatrix * extrude.xy * (a_Size) + textrueOffsets);
  vec2 offset = extrude.xy * newSize + offsets;

  offset = rotate_matrix(offset, rotation);

  offset = project_pixel(offset);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, 0.0, 1.0));

  setPickingColor(a_PickingColor);
}
`;class WI extends Pi{constructor(...t){super(...t),G(this,"meter2coord",1),G(this,"texture",void 0),G(this,"isMeter",!1),G(this,"radian",0),G(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),this.layerService.throttleRenderLayers();return}this.texture=r({data:this.iconService.getCanvas(),mag:k.LINEAR,min:k.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0}),this.textures=[this.texture]})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10,UV:11})}getCommonUniformsInfo(){const{raisingHeight:t=0,heightfixed:r=!1,unit:i="pixel"}=this.layer.getLayerConfig();if(this.rendererService.getDirty()){var s;(s=this.texture)===null||s===void 0||s.bind()}const p={u_textSize:[1024,this.iconService.canvasHeight||128],u_heightfixed:Number(r),u_raisingHeight:Number(t),u_size_unit:I6[i]};return this.getUniformsBufferInfo(p)}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),c1)}initModels(){var t=this;return Rt(function*(){return t.iconService.on("imageUpdate",t.updateTexture),t.updateTexture(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointFillImage",vertexShader:jI,fragmentShader:GI,triangulation:c1,depth:{enable:!1},defines:t.getDefines(),inject:t.getInject(),cull:{enable:!0,face:k.FRONT}})]})()}clearModels(){var t;this.iconService.off("imageUpdate",this.updateTexture),(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{shape:i}=t,{x:s,y:p}=r[i]||{x:-64,y:-64};return[s,p]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Nr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s)=>{const p=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],n=s%4*3;return[p[n],p[n+1],p[n+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}const XI=`layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

uniform sampler2D u_texture;

in vec4 v_color;
in vec2 v_uv;
in float v_opacity;

#pragma include "picking"

out vec4 outputColor;

void main(){
  vec2 pos = v_uv / u_textSize + gl_PointCoord / u_textSize * 64.;
  vec4 textureColor;

  // Y = 0.299R + 0.587G + 0.114B // 亮度提取
  
  textureColor = texture(SAMPLER_2D(u_texture), pos);

  // Tip: 去除边缘部分 mipmap 导致的混合变暗
  float fragmengTocenter = distance(vec2(0.5), gl_PointCoord);
  if(fragmengTocenter >= 0.5) {
        float luma = 0.299 * textureColor.r + 0.587 * textureColor.g + 0.114 * textureColor.b;
        textureColor.a *= luma;
  }
  
  if(all(lessThan(v_color, vec4(1.0+0.00001))) && all(greaterThan(v_color, vec4(1.0-0.00001))) || v_color==vec4(1.0)){
        outputColor= textureColor;
  }else {
        outputColor= step(0.01, textureColor.z) * v_color;
  }
  outputColor.a *= v_opacity;
  if (outputColor.a < 0.01) {
      discard;
  }
  outputColor = filterColor(outputColor);
}
`,ZI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_textSize;
  float u_raisingHeight;
  float u_heightfixed;
};

out vec4 v_color;
out vec2 v_uv;
out float v_opacity;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - 数据纹理映射部分的计算
  v_color = a_Color;
  v_opacity = opacity;
  v_uv = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  vec2 offset = project_pixel(offsets);

  float raisingHeight = u_raisingHeight;
  if (u_heightfixed < 1.0) {
    // false
    raisingHeight = project_pixel(u_raisingHeight);
  } else {
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      raisingHeight = u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, raisingHeight, 1.0));

  gl_PointSize = a_Size * 2.0 * u_DevicePixelRatio;
  setPickingColor(a_PickingColor);
}
`;class o7 extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"updateTexture",()=>{const{createTexture2D:r}=this.rendererService;if(this.texture){this.texture.update({data:this.iconService.getCanvas(),mag:"linear",min:"linear mipmap nearest",mipmap:!0}),setTimeout(()=>{this.layerService.throttleRenderLayers()});return}this.texture=r({data:this.iconService.getCanvas(),mag:k.LINEAR,min:k.LINEAR_MIPMAP_LINEAR,premultiplyAlpha:!1,width:1024,height:this.iconService.canvasHeight||128,mipmap:!0})})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,UV:10})}getUninforms(){if(this.rendererService.getDirty()){var t;(t=this.texture)===null||t===void 0||t.bind()}const r=this.getCommonUniformsInfo(),i=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},r.uniformsOption),i.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:t=0,heightfixed:r=!1}=this.layer.getLayerConfig(),i={u_textSize:[1024,this.iconService.canvasHeight||128],u_raisingHeight:Number(t),u_heightfixed:Number(r),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(i)}initModels(){var t=this;return Rt(function*(){return t.iconService.on("imageUpdate",t.updateTexture),t.updateTexture(),t.buildModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.iconService.off("imageUpdate",this.updateTexture)}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointImage",vertexShader:ZI,fragmentShader:XI,triangulation:vC,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1},primitive:k.POINTS})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:t=>{const r=this.iconService.getIconMap(),{shape:i}=t,{x:s,y:p}=r[i]||{x:-64,y:-64};return[s,p]}}})}}const YI=`in vec4 v_color;
out vec4 outputColor;
void main() {
  outputColor = v_color;
}`,qI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;

layout(std140) uniform u_Common {
  float u_size_scale;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "project"

void main() {
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(project_pos);

  gl_PointSize = a_Size * u_size_scale * 2.0 * u_DevicePixelRatio;
}
`;function k4(e){const t=e.coordinates;return{vertices:[...t],indices:[0],size:t.length}}class i7 extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9})}getDefaultStyle(){return{blend:"additive"}}getCommonUniformsInfo(){const t={u_size_scale:.5};return this.getUniformsBufferInfo(t)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.layer.triangulation=k4,t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointNormal",vertexShader:qI,fragmentShader:YI,triangulation:k4,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1},primitive:k.POINTS,pick:!1})]})()}clearModels(){}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=1}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}const $I=`
layout(std140) uniform commonUniorm{
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};
in vec4 v_data;
in vec4 v_color;
in float v_radius;
in vec2 v_extrude;
#pragma include "sdf_2d"
#pragma include "picking"

out vec4 outputColor;

void main() {

  lowp float antialiasblur = v_data.z;
  float r = v_radius / (v_radius);

  float outer_df = sdCircle(v_data.xy, 1.0);
  float inner_df = sdCircle(v_data.xy, r);

  float opacity_t = smoothstep(0.0, antialiasblur, outer_df);

  outputColor = vec4(v_color.rgb, v_color.a);

  if(u_additive > 0.0) {
    outputColor *= opacity_t;
  } else {
    outputColor.a *= opacity_t;
  }

  if(outputColor.a > 0.0) {
    outputColor = filterColor(outputColor);
  }

  vec2 extrude =  v_extrude;
  vec2 dir = normalize(extrude);
  vec2 baseDir = vec2(1.0, 0.0);
  float pi = 3.14159265359;
  float flag = sign(dir.y);
  float rades = dot(dir, baseDir);
  float radar_v = (flag - 1.0) * -0.5 * acos(rades)/pi;
  // simple AA
  if(radar_v > 0.99) {
    radar_v = 1.0 - (radar_v - 0.99)/0.01;
  }

  outputColor.a *= radar_v;
}
`,KI=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_EXTRUDE) in vec3 a_Extrude;

layout(std140) uniform commonUniorm {
  float u_additive;
  float u_size_unit;
  float u_speed: 1.0;
  float u_time;
};

out vec4 v_data;
out vec4 v_color;
out float v_radius;
out vec2 v_extrude;

#pragma include "projection"
#pragma include "picking"

void main() {
  float newSize = setPickingSize(a_Size);

  float time = u_time * u_speed;
  mat2 rotateMatrix = mat2(
    cos(time), sin(time),
    -sin(time), cos(time)
  );
  v_extrude = rotateMatrix * a_Extrude.xy;

  v_color = a_Color;
  v_color.a *= opacity;

  float blur = 0.0;
  float antialiasblur = -max(2.0 / u_DevicePixelRatio / a_Size, blur);

  if(u_size_unit == 1.) {
    newSize = newSize  * u_PixelsPerMeter.z;
  }
  v_radius = newSize;

  vec2 offset = (a_Extrude.xy * (newSize));

  offset = project_pixel(offset);

  v_data = vec4(a_Extrude.x, a_Extrude.y, antialiasblur, -1.0);

  vec4 project_pos = project_position(vec4(a_Position.xy, 0.0, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy + offset, project_pixel(setPickingOrder(0.0)), 1.0));

  setPickingColor(a_PickingColor);
}
`;class QI extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,EXTRUDE:10})}getCommonUniformsInfo(){const{blend:t,speed:r=1,unit:i="pixel"}=this.layer.getLayerConfig(),s={u_additive:t==="additive"?1:0,u_size_unit:I6[i],u_speed:r,u_time:this.layer.getLayerAnimateTime()};return this.getUniformsBufferInfo(s)}getAnimateUniforms(){return{}}getAttribute(){return this.styleAttributeService.createAttributesAndIndices(this.layer.getEncodedData(),c1)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"pointRadar",vertexShader:KI,fragmentShader:$I,triangulation:c1,defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1}})]})()}animateOption2Array(t){return[t.enable?0:1,t.speed||1,t.rings||3,0]}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"extrude",type:Nr.Attribute,descriptor:{name:"a_Extrude",shaderLocation:this.attributeLocation.EXTRUDE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s)=>{const p=[1,1,0,-1,1,0,-1,-1,0,1,-1,0],n=s%4*3;return[p[n],p[n+1],p[n+2]]}}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{shaderLocation:this.attributeLocation.SIZE,name:"a_Size",buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=5}=t;return Array.isArray(r)?[r[0]]:[r]}}})}}class JI{constructor(t,r,i){G(this,"boxCells",[]),G(this,"xCellCount",void 0),G(this,"yCellCount",void 0),G(this,"boxKeys",void 0),G(this,"bboxes",void 0),G(this,"width",void 0),G(this,"height",void 0),G(this,"xScale",void 0),G(this,"yScale",void 0),G(this,"boxUid",void 0);const s=this.boxCells;this.xCellCount=Math.ceil(t/i),this.yCellCount=Math.ceil(r/i);for(let p=0;p<this.xCellCount*this.yCellCount;p++)s.push([]);this.boxKeys=[],this.bboxes=[],this.width=t,this.height=r,this.xScale=this.xCellCount/t,this.yScale=this.yCellCount/r,this.boxUid=0}insert(t,r,i,s,p){this.forEachCell(r,i,s,p,this.insertBoxCell,this.boxUid++),this.boxKeys.push(t),this.bboxes.push(r),this.bboxes.push(i),this.bboxes.push(s),this.bboxes.push(p)}query(t,r,i,s,p){return this.queryHitTest(t,r,i,s,!1,p)}hitTest(t,r,i,s,p){return this.queryHitTest(t,r,i,s,!0,p)}insertBoxCell(t,r,i,s,p,n){this.boxCells[p].push(n)}queryHitTest(t,r,i,s,p,n){if(i<0||t>this.width||s<0||r>this.height)return p?!1:[];const f=[];if(t<=0&&r<=0&&this.width<=i&&this.height<=s){if(p)return!0;for(let g=0;g<this.boxKeys.length;g++)f.push({key:this.boxKeys[g],x1:this.bboxes[g*4],y1:this.bboxes[g*4+1],x2:this.bboxes[g*4+2],y2:this.bboxes[g*4+3]});return n?f.filter(n):f}const m={hitTest:p,seenUids:{box:{},circle:{}}};return this.forEachCell(t,r,i,s,this.queryCell,f,m,n),p?f.length>0:f}queryCell(t,r,i,s,p,n,f,m){const g=f.seenUids,x=this.boxCells[p];if(x!==null){const b=this.bboxes;for(const F of x)if(!g.box[F]){g.box[F]=!0;const R=F*4;if(t<=b[R+2]&&r<=b[R+3]&&i>=b[R+0]&&s>=b[R+1]&&(!m||m(this.boxKeys[F]))){if(f.hitTest)return n.push(!0),!0;n.push({key:this.boxKeys[F],x1:b[R],y1:b[R+1],x2:b[R+2],y2:b[R+3]})}}}return!1}forEachCell(t,r,i,s,p,n,f,m){const g=this.convertToXCellCoord(t),x=this.convertToYCellCoord(r),b=this.convertToXCellCoord(i),F=this.convertToYCellCoord(s);for(let R=g;R<=b;R++)for(let I=x;I<=F;I++){const O=this.xCellCount*I+R;if(p.call(this,t,r,i,s,O,n,f,m))return}}convertToXCellCoord(t){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(t*this.xScale)))}convertToYCellCoord(t){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(t*this.yScale)))}}class eM{constructor(t,r){G(this,"width",void 0),G(this,"height",void 0),G(this,"grid",void 0),G(this,"viewportPadding",100),G(this,"screenRightBoundary",void 0),G(this,"screenBottomBoundary",void 0),G(this,"gridRightBoundary",void 0),G(this,"gridBottomBoundary",void 0),this.width=t,this.height=r,this.viewportPadding=Math.max(t,r),this.grid=new JI(t+this.viewportPadding,r+this.viewportPadding,25),this.screenRightBoundary=t+this.viewportPadding,this.screenBottomBoundary=r+this.viewportPadding,this.gridRightBoundary=t+2*this.viewportPadding,this.gridBottomBoundary=r+2*this.viewportPadding}placeCollisionBox(t){const r=t.x1+t.anchorPointX+this.viewportPadding,i=t.y1+t.anchorPointY+this.viewportPadding,s=t.x2+t.anchorPointX+this.viewportPadding,p=t.y2+t.anchorPointY+this.viewportPadding;return!this.isInsideGrid(r,i,s,p)||this.grid.hitTest(r,i,s,p)?{box:[]}:{box:[r,i,s,p]}}insertCollisionBox(t,r){const i={featureIndex:r};this.grid.insert(i,t[0],t[1],t[2],t[3])}project(t,r,i){const s=Ov(r,i,0,1),p=Qg(),n=Mv(...t);return i6(p,s,n),{x:(p[0]/p[3]+1)/2*this.width+this.viewportPadding,y:(-p[1]/p[3]+1)/2*this.height+this.viewportPadding}}isInsideGrid(t,r,i,s){return i>=0&&t<this.gridRightBoundary&&s>=0&&r<this.gridBottomBoundary}}function n7(e){let t=.5,r=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0;break;default:t=.5}switch(e){case"bottom":case"bottom-right":case"bottom-left":r=1;break;case"top":case"top-right":case"top-left":r=0;break;default:r=.5}return{horizontalAlign:t,verticalAlign:r}}function a7(e,t,r,i,s,p,n){const f=(t-r)*s,m=(-i*n+.5)*p;for(const g of e)g.x+=f,g.y+=m}function tM(e,t,r,i,s,p,n){let m=0,g=-8,x=0;const b=e.positionedGlyphs,F=0,R=b.length;r.forEach(Y=>{if(Y.split("").forEach(ee=>{const oe=t[ee];oe&&(b.push({glyph:ee,x:m,y:g+0,vertical:!1,scale:1,metrics:oe}),m+=oe.advance+n)}),b.length!==R){const ee=m-n;x=Math.max(ee,x),b.length-1}m=0,g-=i+5});const{horizontalAlign:I,verticalAlign:O}=n7(s);a7(b,F,I,O,x,i,r.length);const U=g- -8;e.top+=-O*U,e.bottom=e.top-U,e.left+=-I*x,e.right=e.left+x}function rM(e,t,r,i,s,p,n){let m=0,g=-8,x=0;const b=e.positionedGlyphs,F=0,R=b.length;r.forEach(Y=>{const ee=t[Y];if(ee&&(b.push({glyph:Y,x:ee.advance/2,y:g+0,vertical:!1,scale:1,metrics:ee}),m+=ee.advance+n),b.length!==R){const Re=m-n;x=Math.max(Re,x),b.length-1}m=0,g-=i+5});const{horizontalAlign:I,verticalAlign:O}=n7(s);a7(b,F,I,O,x,i,r.length);const U=g- -8;e.top+=-O*U,e.bottom=e.top-U,e.left+=-I*x,e.right=e.left+x}function oM(e,t,r,i,s,p,n=[0,0],f){const m=e.split(`
`),g=[],x={positionedGlyphs:g,top:n[1],bottom:n[1],left:n[0],right:n[0],lineCount:m.length,text:e};return f?rM(x,t,m,r,i,s,p):tM(x,t,m,r,i,s,p),g.length?x:!1}function iM(e,t=[0,0],r){const{positionedGlyphs:i=[]}=e,s=[];for(const p of i){const n=p.metrics,f=4,m=n.advance*p.scale/2,g=[0,0],x=[p.x+m+t[0],p.y+t[1]],b=(0-f)*p.scale-m+x[0],F=(0-f)*p.scale+x[1],R=b+n.width*p.scale,I=F+n.height*p.scale,O={x:b,y:F},U={x:R,y:F},Y={x:b,y:I},ee={x:R,y:I};s.push({tl:O,tr:U,bl:Y,br:ee,tex:n,glyphOffset:g})}return s}const z4=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 48.0

uniform sampler2D u_sdf_map;
layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

in vec2 v_uv;
in float v_gamma_scale;
in vec4 v_color;
in vec4 v_stroke_color;
in float v_fontScale;

out vec4 outputColor;

#pragma include "picking"
void main() {
  // get style data mapping

  // get sdf from atlas
  float dist = texture(SAMPLER_2D(u_sdf_map), v_uv).a;

  lowp float buff = (6.0 - u_stroke_width / v_fontScale) / SDF_PX;
  highp float gamma = (u_halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (v_fontScale * u_gamma_scale) / 1.0;

  highp float gamma_scaled = gamma * v_gamma_scale;

  highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist);

  outputColor = mix(v_color, v_stroke_color, smoothstep(0., 0.5, 1.- dist));

  outputColor.a *= alpha;
   // 作为 mask 模板时需要丢弃透明的像素
  if (outputColor.a < 0.01) {
    discard;
  }
  outputColor = filterColor(outputColor);
}
`,V4=`#define SDF_PX 8.0
#define EDGE_GAMMA 0.105
#define FONT_SIZE 24.0

layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_TEXT_OFFSETS) in vec2 a_textOffsets;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_tex;

layout(std140) uniform commonUniforms {
  vec4 u_stroke_color : [0.0, 0.0, 0.0, 0.0];
  vec2 u_sdf_map_size;
  float u_raisingHeight: 0.0;
  float u_stroke_width : 2;
  float u_gamma_scale : 0.5;
  float u_halo_blur : 0.5;
};

out vec2 v_uv;
out float v_gamma_scale;
out vec4 v_color;
out vec4 v_stroke_color;
out float v_fontScale;

#pragma include "projection"
#pragma include "picking"
#pragma include "rotation_2d"

void main() {
  // cal style mapping - 数据纹理映射部分的计算

  v_uv = a_tex / u_sdf_map_size;



  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  v_stroke_color = vec4(u_stroke_color.xyz, u_stroke_color.w * opacity);

  // 文本缩放比例
  float fontScale = a_Size / FONT_SIZE;
  v_fontScale = fontScale;

  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  // vec4 projected_position  = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  vec2 offset = rotate_matrix(a_textOffsets,rotation);

  // gl_Position = vec4(projected_position.xy / projected_position.w + rotation_matrix * a_textOffsets * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);

  float raiseHeight = u_raisingHeight;
  if(u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    raiseHeight = u_raisingHeight * mapboxZoomScale;
  }

  vec4 projected_position = project_common_position_to_clipspace(vec4(project_pos.xyz + vec3(0.0, 0.0, raiseHeight), 1.0));

  gl_Position = vec4(
    projected_position.xy / projected_position.w + offset * fontScale / u_ViewportSize * 2.0 * u_DevicePixelRatio, 0.0, 1.0);
  v_gamma_scale = gl_Position.w;
  setPickingColor(a_PickingColor);

}
`,{isEqual:Rd}=Kn;function H4(e){const t=this,r=e.id,i=[],s=[];if(!t.glyphInfoMap||!t.glyphInfoMap[r])return{vertices:[],indices:[],size:7};const p=t.glyphInfoMap[r].centroid,n=p.length===2?[p[0],p[1],0]:p;return t.glyphInfoMap[r].glyphQuads.forEach((f,m)=>{i.push(...n,f.tex.x,f.tex.y+f.tex.height,f.tl.x,f.tl.y,...n,f.tex.x+f.tex.width,f.tex.y+f.tex.height,f.tr.x,f.tr.y,...n,f.tex.x+f.tex.width,f.tex.y,f.br.x,f.br.y,...n,f.tex.x,f.tex.y,f.bl.x,f.bl.y),s.push(0+m*4,1+m*4,2+m*4,2+m*4,3+m*4,0+m*4)}),{vertices:i,indices:s,size:7}}class s7 extends Pi{constructor(...t){var r;super(...t),r=this,G(this,"glyphInfo",void 0),G(this,"glyphInfoMap",{}),G(this,"rawEncodeData",void 0),G(this,"texture",void 0),G(this,"currentZoom",-1),G(this,"extent",void 0),G(this,"textureHeight",0),G(this,"textCount",0),G(this,"preTextStyle",{}),G(this,"mapping",Rt(function*(){r.initGlyph(),r.updateTexture(),yield r.reBuildModel()}))}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,TEXT_OFFSETS:10,UV:11})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt(wt({},t.uniformsOption),r.uniformsOption),{u_sdf_map:this.textures[0]})}getCommonUniformsInfo(){const{stroke:t="#fff",strokeWidth:r=0,halo:i=.5,gamma:s=2,raisingHeight:p=0}=this.layer.getLayerConfig(),n=this.getFontServiceMapping(),f=this.getFontServiceCanvas();n&&Object.keys(n).length!==this.textCount&&f&&(this.updateTexture(),this.textCount=Object.keys(n).length),this.preTextStyle=this.getTextStyle();const m={u_stroke_color:Di(t),u_sdf_map_size:[(f==null?void 0:f.width)||1,(f==null?void 0:f.height)||1],u_raisingHeight:Number(p),u_stroke_width:r,u_gamma_scale:s,u_halo_blur:i};return this.getUniformsBufferInfo(m)}initModels(){var t=this;return Rt(function*(){return t.bindEvent(),t.extent=t.textExtent(),t.rawEncodeData=t.layer.getEncodedData(),t.preTextStyle=t.getTextStyle(),t.initUniformsBuffer(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){const{textAllowOverlap:r=!1}=t.layer.getLayerConfig();return t.initGlyph(),t.updateTexture(),r||t.filterGlyphs(),[yield t.layer.buildLayerModel({moduleName:"pointText",vertexShader:V4,fragmentShader:z4,defines:t.getDefines(),inject:t.getInject(),triangulation:H4.bind(t),depth:{enable:!1}})]})()}needUpdate(){var t=this;return Rt(function*(){const{textAllowOverlap:r=!1,textAnchor:i="center",textOffset:s,padding:p,fontFamily:n,fontWeight:f}=t.getTextStyle();if(!Rd(p,t.preTextStyle.padding)||!Rd(s,t.preTextStyle.textOffset)||!Rd(i,t.preTextStyle.textAnchor)||!Rd(n,t.preTextStyle.fontFamily)||!Rd(f,t.preTextStyle.fontWeight))return yield t.mapping(),!0;if(r)return!1;const m=t.mapService.getZoom(),g=t.mapService.getBounds(),x=m8(t.extent,g);return Math.abs(t.currentZoom-m)>.5||!x||r!==t.preTextStyle.textAllowOverlap?(yield t.reBuildModel(),!0):!1})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.layer.off("remapping",this.mapping)}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"textOffsets",type:Nr.Attribute,descriptor:{shaderLocation:this.attributeLocation.TEXT_OFFSETS,name:"a_textOffsets",buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:2,update:(t,r,i)=>[i[5],i[6]]}}),this.styleAttributeService.registerStyleAttribute({name:"textUv",type:Nr.Attribute,descriptor:{name:"a_tex",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:(t,r,i)=>[i[3],i[4]]}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=12}=t;return Array.isArray(r)?[r[0]]:[r]}}})}bindEvent(){this.layer.isTileLayer||this.layer.on("remapping",this.mapping)}textExtent(){const t=this.mapService.getBounds();return f6(t,.5)}initTextFont(){const{fontWeight:t,fontFamily:r}=this.getTextStyle(),i=this.rawEncodeData,s=[];i.forEach(p=>{let{shape:n=""}=p;n=n.toString();for(const f of n)s.indexOf(f)===-1&&s.push(f)}),this.fontService.setFontOptions({characterSet:s,fontWeight:t,fontFamily:r,iconfont:!1})}initIconFontTex(){const{fontWeight:t,fontFamily:r}=this.getTextStyle(),i=this.rawEncodeData,s=[];i.forEach(p=>{let{shape:n=""}=p;n=`${n}`,s.indexOf(n)===-1&&s.push(n)}),this.fontService.setFontOptions({characterSet:s,fontWeight:t,fontFamily:r,iconfont:!0})}getTextStyle(){const{fontWeight:t="400",fontFamily:r="sans-serif",textAllowOverlap:i=!1,padding:s=[0,0],textAnchor:p="center",textOffset:n=[0,0],opacity:f=1,strokeOpacity:m=1,strokeWidth:g=0,stroke:x="#000"}=this.layer.getLayerConfig();return{fontWeight:t,fontFamily:r,textAllowOverlap:i,padding:s,textAnchor:p,textOffset:n,opacity:f,strokeOpacity:m,strokeWidth:g,stroke:x}}generateGlyphLayout(t){const r=this.getFontServiceMapping(),{spacing:i=2,textAnchor:s="center",textOffset:p}=this.layer.getLayerConfig(),n=this.rawEncodeData;this.glyphInfo=n.map(f=>{const{shape:m="",id:g,size:x=1}=f,b=f.textOffset?f.textOffset:p||[0,0],F=f.textAnchor?f.textAnchor:s||"center",R=oM(m.toString(),r,x,F,"left",i,b,t),I=iM(R,b);return f.shaping=R,f.glyphQuads=I,f.centroid=d1(f.coordinates),this.glyphInfoMap[g]={shaping:R,glyphQuads:I,centroid:d1(f.coordinates)},f})}getFontServiceMapping(){const{fontWeight:t="400",fontFamily:r="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getMappingByKey(`${r}_${t}`)}getFontServiceCanvas(){const{fontWeight:t="400",fontFamily:r="sans-serif"}=this.layer.getLayerConfig();return this.fontService.getCanvasByKey(`${r}_${t}`)}filterGlyphs(){const{padding:t=[0,0],textAllowOverlap:r=!1}=this.layer.getLayerConfig();if(r)return;this.glyphInfoMap={},this.currentZoom=this.mapService.getZoom(),this.extent=this.textExtent();const{width:i,height:s}=this.rendererService.getViewportSize(),p=new eM(i,s);this.glyphInfo.filter(f=>{const{shaping:m,id:g=0}=f,x=f.centroid,F=f.size/16,R=this.mapService.lngLatToContainer(x),{box:I}=p.placeCollisionBox({x1:m.left*F-t[0],x2:m.right*F+t[0],y1:m.top*F-t[1],y2:m.bottom*F+t[1],anchorPointX:R.x,anchorPointY:R.y});return I&&I.length?(p.insertCollisionBox(I,g),!0):!1}).forEach(f=>{this.glyphInfoMap[f.id]=f})}initGlyph(){const{iconfont:t=!1}=this.layer.getLayerConfig();t?this.initIconFontTex():this.initTextFont(),this.generateGlyphLayout(t)}updateTexture(){const{createTexture2D:t}=this.rendererService,r=this.getFontServiceCanvas();this.textureHeight=r.height,this.texture&&this.texture.destroy(),this.texture=t({data:r,mag:k.LINEAR,min:k.LINEAR,width:r.width,height:r.height}),this.textures=[this.texture]}reBuildModel(){var t=this;return Rt(function*(){t.filterGlyphs();const r=yield t.layer.buildLayerModel({moduleName:"pointText",vertexShader:V4,fragmentShader:z4,triangulation:H4.bind(t),defines:t.getDefines(),inject:t.getInject(),depth:{enable:!1}});t.layer.models=[r]})()}}const nM={fillImage:WI,fill:r7,radar:QI,image:o7,normal:i7,simplePoint:II,extrude:t7,text:s7,earthFill:UI,earthExtrude:OI};class ly extends x1{constructor(...t){super(...t),G(this,"type","PointLayer"),G(this,"enableShaderEncodeStyles",["stroke","offsets","opacity","rotation"]),G(this,"enableDataEncodeStyles",["textOffset","textAnchor"]),G(this,"defaultSourceConfig",{data:[],options:{parser:{type:"json",x:"lng",y:"lat"}}})}buildModels(){var t=this;return Rt(function*(){const r=t.getModelType();t.layerModel&&t.layerModel.clearModels(),t.layerModel=new nM[r](t),yield t.initLayerModels()})()}rebuildModels(){var t=this;return Rt(function*(){yield t.buildModels()})()}getModelTypeWillEmptyData(){if(this.shapeOption){const{field:t,values:r}=this.shapeOption,{shape2d:i}=this.getLayerConfig(),s=this.iconService.getIconMap();if(t&&(i==null?void 0:i.indexOf(t))!==-1)return"fill";if(r==="text")return"text";if(r&&r instanceof Array){for(const p of r)if(typeof p=="string"&&s.hasOwnProperty(p))return"image"}}return"normal"}getDefaultConfig(){const t=this.getModelType();return{fillImage:{},normal:{blend:"additive"},radar:{},simplePoint:{},fill:{blend:"normal"},extrude:{},image:{},text:{blend:"normal"},tile:{},tileText:{},earthFill:{},earthExtrude:{}}[t]}getModelType(){const t=this.getEncodedData(),{shape2d:r,shape3d:i,billboard:s=!0}=this.getLayerConfig(),p=this.iconService.getIconMap(),n=t.find(f=>f.hasOwnProperty("shape"));if(n){const f=n.shape;return f==="dot"?"normal":f==="simple"?"simplePoint":f==="radar"?"radar":this.layerType==="fillImage"||s===!1?"fillImage":(r==null?void 0:r.indexOf(f))!==-1?this.mapService.version==="GLOBEL"?"earthFill":"fill":(i==null?void 0:i.indexOf(f))!==-1?this.mapService.version==="GLOBEL"?"earthExtrude":"extrude":p.hasOwnProperty(f)?"image":"text"}else return this.getModelTypeWillEmptyData()}}function aM(e){return j2.apply(this,arguments)}function j2(){return j2=Rt(function*(e){if(window.createImageBitmap){const t=yield fetch(e);return yield createImageBitmap(yield t.blob())}else{const t=new window.Image;return new Promise(r=>{t.onload=()=>r(t),t.src=e,t.crossOrigin="Anonymous"})}}),j2.apply(this,arguments)}const sM=`layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

     // top face
    if(u_topsurface < 1.0) {
      discard;
    }

    outputColor = v_Color;
  
  outputColor = filterColor(outputColor);
}
`,uM=`
layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;
out vec4 outputColor;

#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  float isSide =  v_texture_data.x;
  float sidey = v_uvs[2];
  float lightWeight = v_texture_data.y;

  // Tip: 部分机型 GPU 计算精度兼容
  if(isSide < 0.999) {
    // side face
    if(u_sidesurface < 1.0) {
      discard;
    }
    
    if( u_linearColor == 1.0) {
      // side use linear
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      // side notuse linear
       outputColor = v_Color;
    }
  } else {
    // top face
    if(u_topsurface < 1.0) {
      discard;
    }
    outputColor = v_Color;
  }

  outputColor = filterColorAlpha(outputColor, lightWeight);
}
`,pM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  v_uvs = a_uvs;
  // cal style mapping - 数据纹理映射部分的计算
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;
    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  float lightWeight = calc_lighting(project_pos);
  v_texture_data = vec2(a_Position.z, lightWeight);

  v_Color = vec4(a_Color.rgb * lightWeight, a_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,cM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  float isSide = a_Position.z;
  float topU = a_uvs[0];
  float topV = 1.0 - a_uvs[1];
  float sidey = a_uvs[2];

  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

 gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {
    // side face
    // if(u_sidesurface < 1.0) {
    //   discard;
    // }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      v_Color = linearColor;
    } else {
      v_Color = a_Color;
    }

  } else {
    v_Color = a_Color;
  }

  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  setPickingColor(a_PickingColor);
}
`,lM=`uniform sampler2D u_texture;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

in vec4 v_Color;
in vec3 v_uvs;
in vec2 v_texture_data;

#pragma include "scene_uniforms"
#pragma include "picking"

out vec4 outputColor;

void main() {
  float opacity = u_opacity;
  float isSide = v_texture_data.x;
  float lightWeight = v_texture_data.y;
  float topU = v_uvs[0];
  float topV = 1.0 - v_uvs[1];
  float sidey = v_uvs[2];

  outputColor = texture(SAMPLER_2D(u_texture), vec2(topU, topV));
  // Tip: 部分机型 GPU 计算精度兼容
  if (isSide < 0.999) {// 是否是边缘
    // side face
    if (u_sidesurface < 1.0) {
      discard;
    }

    if (u_linearColor == 1.0) {
      vec4 linearColor = mix(u_targetColor, u_sourceColor, sidey);
      linearColor.rgb *= lightWeight;
      outputColor = linearColor;
    } else {
      outputColor = v_Color;
    }
  } else {
     // top face
    if (u_topsurface < 1.0) {
      discard;
    }
  }
  
  outputColor.a *= opacity;
  outputColor = filterColor(outputColor);
}
`,dM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;
layout(location = ATTRIBUTE_LOCATION_UV) in vec3 a_uvs;

layout(std140) uniform commonUniforms {
  vec4 u_sourceColor;
  vec4 u_targetColor;
  float u_linearColor;
  float u_topsurface;
  float u_sidesurface;
  float u_heightfixed; // 默认不固定
  float u_raisingHeight;
};

out vec4 v_Color;
out vec3 v_uvs;
out vec2 v_texture_data;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size, 1.0);
  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_uvs = a_uvs;
  v_Color = a_Color;
  v_Color.a *= opacity;

  v_texture_data = vec2(a_Position.z, lightWeight);

  if (u_heightfixed > 0.0) {
    // 判断几何体是否固定高度
    project_pos.z = a_Position.z * a_Size;
    project_pos.z += u_raisingHeight;

    if (
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
      u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
    ) {
      float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
      project_pos.z *= mapboxZoomScale;
      project_pos.z += u_raisingHeight * mapboxZoomScale;
    }
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`;class yM extends Pi{constructor(...t){super(...t),G(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,UV:11})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{mapTexture:t,heightfixed:r=!1,raisingHeight:i=0,topsurface:s=!0,sidesurface:p=!0,sourceColor:n,targetColor:f}=this.layer.getLayerConfig();let m=0,g=[1,1,1,1],x=[1,1,1,1];n&&f&&(g=Di(n),x=Di(f),m=1);const b={u_sourceColor:g,u_targetColor:x,u_linearColor:m,u_topsurface:Number(s),u_sidesurface:Number(p),u_heightfixed:Number(r),u_raisingHeight:Number(i)};return t&&this.texture&&(b.u_texture=this.texture,this.textures=[this.texture]),this.getUniformsBufferInfo(b)}initModels(){var t=this;return Rt(function*(){return yield t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){const{frag:r,vert:i,type:s}=t.getShaders();return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:s,vertexShader:i,fragmentShader:r,depth:{enable:!0},defines:t.getDefines(),inject:t.getInject(),triangulation:$9})]})()}getShaders(){const{pickLight:t,mapTexture:r}=this.layer.getLayerConfig();return r?{frag:lM,vert:dM,type:"polygonExtrudeTexture"}:t?{frag:uM,vert:pM,type:"polygonExtrudePickLight"}:{frag:sM,vert:cM,type:"polygonExtrude"}}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy(),this.textures=[]}registerBuiltinAttributes(){const t=this.layer.getSource().extent,r=t[2]-t[0],i=t[3]-t[1];this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uvs",type:Nr.Attribute,descriptor:{name:"a_uvs",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(s,p,n)=>{const f=n[0],m=n[1];return[(f-t[0])/r,(m-t[1])/i,n[4]]}}}),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Nr.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(s,p,n,f,m)=>m}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:s=>{const{size:p=10}=s;return Array.isArray(p)?[p[0]]:[p]}}})}loadTexture(){var t=this;return Rt(function*(){const{mapTexture:r}=t.layer.getLayerConfig(),{createTexture2D:i}=t.rendererService;if(t.texture=i({height:1,width:1}),r){const s=yield aM(r);t.texture=i({data:s,width:s.width,height:s.height,wrapS:k.CLAMP_TO_EDGE,wrapT:k.CLAMP_TO_EDGE,min:k.LINEAR,mag:k.LINEAR})}})()}}const hM=`
in vec4 v_Color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {

  outputColor = v_Color;
  outputColor = filterColor(outputColor);
}
`,fM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_SIZE) in float a_Size;
layout(location = ATTRIBUTE_LOCATION_NORMAL) in vec3 a_Normal;

out vec4 v_Color;

#pragma include "projection"
#pragma include "light"
#pragma include "picking"

void main() {
  vec4 pos = vec4(a_Position.xy, a_Position.z * a_Size + (1.0 - a_Position.z) * extrusionBase, 1.0);

  vec4 project_pos = project_position(pos, a_Position64Low);
  float lightWeight = calc_lighting(project_pos);
  v_Color = a_Color;
  v_Color = vec4(v_Color.rgb * lightWeight, v_Color.w * opacity);

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}
`;class mM extends Pi{constructor(...t){super(...t),G(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,SIZE:9,NORMAL:10,EXTRUSION_BASE:11})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const t={};return this.getUniformsBufferInfo(t)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){const{frag:r,vert:i,type:s}=t.getShaders();return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:s,vertexShader:i,fragmentShader:r,defines:t.getDefines(),inject:t.getInject(),triangulation:$9,depth:{enable:!0}})]})()}getShaders(){return{frag:hM,vert:fM,type:"polygonExtrude"}}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"normal",type:Nr.Attribute,descriptor:{name:"a_Normal",shaderLocation:this.attributeLocation.NORMAL,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(t,r,i,s,p)=>p}}),this.styleAttributeService.registerStyleAttribute({name:"size",type:Nr.Attribute,descriptor:{name:"a_Size",shaderLocation:this.attributeLocation.SIZE,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{size:r=10}=t;return Array.isArray(r)?[r[0]]:[r]}}}),this.styleAttributeService.registerStyleAttribute({name:"extrusionBase",type:Nr.Attribute,descriptor:{name:"a_ExtrusionBase",shaderLocation:this.attributeLocation.EXTRUSION_BASE,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:1,update:t=>{const{extrusionBase:r=0}=t;return[r]}}})}}const _M=`in vec4 v_color;
#pragma include "scene_uniforms"
#pragma include "picking"
out vec4 outputColor;
void main() {
  outputColor = v_color;
  outputColor = filterColor(outputColor);
}
`,gM=`
layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

in vec4 v_color;
in vec3 v_linear;
in vec2 v_pos;
out vec4 outputColor;
#pragma include "scene_uniforms"
#pragma include "picking"

void main() {
  outputColor = v_color;
  if (u_opacitylinear > 0.0) {
    outputColor.a *= u_dir == 1.0 ? 1.0 - length(v_pos - v_linear.xy)/v_linear.z : length(v_pos - v_linear.xy)/v_linear.z;
  }
  outputColor = filterColor(outputColor);
}
`,vM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_LINEAR) in vec3 a_linear;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
  float u_opacitylinear;
  float u_dir;
};

out vec4 v_color;
out vec3 v_linear;
out vec2 v_pos;

#pragma include "projection"
#pragma include "picking"

void main() {
  if (u_opacitylinear > 0.0) {
    v_linear = a_linear;
    v_pos = a_Position.xy;
  }
  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  project_pos.z += u_raisingHeight;

  if (u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT || u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET) {
    float mapboxZoomScale = 4.0/pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
  setPickingColor(a_PickingColor);
}
`,EM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;

layout(std140) uniform commonUniforms {
  float u_raisingHeight;
};

out vec4 v_color;

#pragma include "projection"
#pragma include "picking"

void main() {
  // cal style mapping - 数据纹理映射部分的计算

  v_color = vec4(a_Color.xyz, a_Color.w * opacity);
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);

  project_pos.z += u_raisingHeight;

  if (
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT ||
    u_CoordinateSystem == COORDINATE_SYSTEM_LNGLAT_OFFSET
  ) {
    float mapboxZoomScale = 4.0 / pow(2.0, 21.0 - u_Zoom);
    project_pos.z *= mapboxZoomScale;
    project_pos.z += u_raisingHeight * mapboxZoomScale;
  }

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));

  setPickingColor(a_PickingColor);
}

`;class xM extends Pi{get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,LINEAR:9})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{raisingHeight:t=0,opacityLinear:r={enable:!1,dir:"in"}}=this.layer.getLayerConfig(),i={u_raisingHeight:Number(t),u_opacitylinear:Number(r.enable),u_dir:r.dir==="in"?1:0};return this.getUniformsBufferInfo(i)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){const{frag:r,vert:i,triangulation:s,type:p}=t.getModelParams();return t.initUniformsBuffer(),t.layer.triangulation=s,[yield t.layer.buildLayerModel({moduleName:p,vertexShader:i,fragmentShader:r,defines:t.getDefines(),inject:t.getInject(),triangulation:s,primitive:k.TRIANGLES,depth:{enable:!1}})]})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute();const{opacityLinear:t={enable:!1,dir:"in"}}=this.layer.getLayerConfig();t.enable&&this.styleAttributeService.registerStyleAttribute({name:"linear",type:Nr.Attribute,descriptor:{name:"a_linear",shaderLocation:this.attributeLocation.LINEAR,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:3,update:(r,i,s)=>[s[3],s[4],s[5]]}})}getModelParams(){const{opacityLinear:t={enable:!1}}=this.layer.getLayerConfig();return t.enable?{frag:gM,vert:vM,type:"polygonLinear",triangulation:PC}:{frag:_M,vert:EM,type:"polygonFill",triangulation:vy}}}const PM=`
layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

in vec2 v_uv;
in float v_opacity;
out vec4 outputColor;

float coast2water_fadedepth = 0.10;
float large_waveheight      = .750; // change to adjust the "heavy" waves
float large_wavesize        = 3.4;  // factor to adjust the large wave size
float small_waveheight      = 0.6;  // change to adjust the small random waves
float small_wavesize        = 0.5;   // factor to ajust the small wave size
float water_softlight_fact  = 15.;  // range [1..200] (should be << smaller than glossy-fact)
float water_glossylight_fact= 120.; // range [1..200]
float particle_amount       = 70.;

vec3 water_specularcolor    = vec3(1.3, 1.3, 0.9);    // specular Color (RGB) of the water-highlights
#define light                 vec3(-0., sin(u_time*0.5)*.5 + .35, 2.8) // position of the sun

uniform sampler2D u_texture1;
uniform sampler2D u_texture2;
uniform sampler2D u_texture3;

  

float hash( float n ) {
    return fract(sin(n)*43758.5453123);
}

// 2d noise function
float noise1( in vec2 x ) {
  vec2 p  = floor(x);
  vec2 f  = smoothstep(0.0, 1.0, fract(x));
  float n = p.x + p.y*57.0;
  return mix(mix( hash(n+  0.0), hash(n+  1.0),f.x),
    mix( hash(n+ 57.0), hash(n+ 58.0),f.x),f.y);
}

float noise(vec2 p) {
    return texture(SAMPLER_2D(u_texture2),p*vec2(1./256.)).x;
}

vec4 highness(vec2 p) {
    vec4 t = texture(SAMPLER_2D(u_texture1),fract(p));
    float clipped = -2.0-smoothstep(3.,10.,t.a)*6.9-smoothstep(10.,100.,t.a)*89.9-smoothstep(0.,10000.,t.a)*10000.0;
    return clamp(t, 0.0,3.0)+clamp(t/3.0-1.0, 0.0,1.0)+clamp(t/16.0-1.0, 0.0,1.0);
}

float height_map( vec2 p ) {
    vec4 height=highness(p);
    /*
    height = -0.5+
        0.5*smoothstep(-100.,0.,-height)+
        2.75*smoothstep(0.,2.,height)+
        1.75*smoothstep(2.,4.,height)+
        2.75*smoothstep(4.,16.,height)+
        1.5*smoothstep(16.,1000.,height);
    */

    mat2 m = mat2( 0.9563*1.4,  -0.2924*1.4,  0.2924*1.4,  0.9563*1.4 );
    //p = p*6.;
    float f = 0.6000*noise1( p ); p = m*p*1.1*6.;
    f += 0.2500*noise( p ); p = m*p*1.32;
    f += 0.1666*noise( p ); p = m*p*1.11;
    f += 0.0834*noise( p ); p = m*p*1.12;
    f += 0.0634*noise( p ); p = m*p*1.13;
    f += 0.0444*noise( p ); p = m*p*1.14;
    f += 0.0274*noise( p ); p = m*p*1.15;
    f += 0.0134*noise( p ); p = m*p*1.16;
    f += 0.0104*noise( p ); p = m*p*1.17;
    f += 0.0084*noise( p );
    f = .25*f+dot(height,vec4(-.03125,-.125,.25,.25))*.5;
        const float FLAT_LEVEL = 0.92525;
        //f = f*0.25+height*0.75;
    if (f<FLAT_LEVEL)
        f = f;
    else
        f = pow((f-FLAT_LEVEL)/(1.-FLAT_LEVEL), 2.)*(1.-FLAT_LEVEL)*2.0+FLAT_LEVEL; // makes a smooth coast-increase
    return clamp(f, 0., 10.);
}

vec3 plasma_quintic( float x ) {
    x = clamp( x, 0.0, 1.0);
    vec4 x1 = vec4( 1.0, x, x * x, x * x * x ); // 1 x x2 x3
    vec4 x2 = x1 * x1.w * x; // x4 x5 x6 x7
    return vec3(
        dot( x1.xyzw, vec4( +0.063861086, +1.992659096, -1.023901152, -0.490832805 ) ) + dot( x2.xy, vec2( +1.308442123, -0.914547012 ) ),
        dot( x1.xyzw, vec4( +0.049718590, -0.791144343, +2.892305078, +0.811726816 ) ) + dot( x2.xy, vec2( -4.686502417, +2.717794514 ) ),
        dot( x1.xyzw, vec4( +0.513275779, +1.580255060, -5.164414457, +4.559573646 ) ) + dot( x2.xy, vec2( -1.916810682, +0.570638854 ) ) );
}

vec4 color(vec2 p){
    vec4 c1 = vec4(1.7,1.6,.9,1);
    vec4 c2 = vec4(.2,.94,.1,1);
    vec4 c3 = vec4(.3,.2,.0,1);
    vec4 c4 = vec4(.99,.99,1.6,1);
    vec4 v = highness(p);
    float los = smoothstep(0.1,1.1,v.b);
    float his = smoothstep(3.5,6.5,v.b);
    float ces = smoothstep(1.,5.,v.a);
    vec4 lo = mix(c1,c2,los);
    vec4 hi = mix(c3,c4,his);
    vec4 ce = mix(lo,hi,ces);

    return vec4(plasma_quintic(ces),1).ragb;
}

vec3 terrain_map( vec2 p )
{
  return color(p).rgb*0.75+0.25*vec3(0.7, .55, .4)+texture(SAMPLER_2D(u_texture3), fract(p*5.)).rgb*.5; // test-terrain is simply 'sandstone'
}

const mat2 m = mat2( 0.72, -1.60,  1.60,  0.72 );

float water_map( vec2 p, float height ) {
    vec2 p2 = p*large_wavesize;
    vec2 shift1 = 0.001*vec2( u_time*160.0*2.0, u_time*120.0*2.0 );
    vec2 shift2 = 0.001*vec2( u_time*190.0*2.0, -u_time*130.0*2.0 );

    // coarse crossing 'ocean' waves...
    float f = 0.6000*noise( p );
    f += 0.2500*noise( p*m );
    f += 0.1666*noise( p*m*m );
    float wave = sin(p2.x*0.622+p2.y*0.622+shift2.x*4.269)*large_waveheight*f*height*height ;

    p *= small_wavesize;
    f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<9; i++)
    { p = m*p*.947; f -= amp*abs(sin((noise( p+shift1*s )-.5)*2.)); amp = amp*.59; s*=-1.329; }
    
    return wave+f*small_waveheight;
}

float nautic(vec2 p) {
    p *= 18.;
    float f = 0.;
    float amp = 1.0, s = .5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*abs(smoothstep(0., 1., noise( p+u_time*s ))-.5); amp = amp*.5; s*=-1.227; }
    return pow(1.-f, 5.);
}

float particles(vec2 p) {
    p *= 200.;
    float f = 0.;
    float amp = 1.0, s = 1.5;
    for (int i=0; i<3; i++)
    { p = m*p*1.2; f += amp*noise( p+u_time*s ); amp = amp*.5; s*=-1.227; }
    return pow(f*.35, 7.)*particle_amount;
}

float test_shadow( vec2 xy, float height) {
    vec3 r0 = vec3(xy, height);
    vec3 rd = normalize( light - r0 );
    
    float hit = 1.0;
    float t   = 0.001;
    for (int j=1; j<25; j++)
    {
        vec3 p = r0 + t*rd;
        float h = height_map( p.xy );
        float height_diff = p.z - h;
        if (height_diff<0.0)
        {
            return 0.0;
        }
        t += 0.01+height_diff*.02;
        hit = min(hit, 2.*height_diff/t); // soft shaddow   
    }
    return hit;
}

vec3 CalcTerrain(vec2 uv, float height) {
    vec3 col = terrain_map( uv );
    vec2 iResolution = vec2(512.);
    float h1 = height_map(uv-vec2(0., 0.5)/ iResolution.xy);
    float h2 = height_map(uv+vec2(0., 0.5)/ iResolution.xy);
    float h3 = height_map(uv-vec2(0.5, 0.)/ iResolution.xy);
    float h4 = height_map(uv+vec2(0.5, 0.)/ iResolution.xy);
    vec3 norm = normalize(vec3(h3-h4, h1-h2, 1.));
    vec3 r0 = vec3(uv, height);
    vec3 rd = normalize( light - r0 );
    float grad = dot(norm, rd);
    col *= grad+pow(grad, 8.);
    float terrainshade = test_shadow( uv, height );
    col = mix(col*.25, col, terrainshade);
    return col;
}


void main() {
  vec3 watercolor = u_watercolor.rgb;
  vec3 watercolor2 = u_watercolor2.rgb;
  vec2 uv = v_uv;
  float WATER_LEVEL = 0.84; // Water level (range: 0.0 - 2.0)
  float deepwater_fadedepth   = 0.4 + coast2water_fadedepth;
  float height = height_map( uv );
  vec3 col;

    float waveheight = clamp(WATER_LEVEL*3.-1.5, 0., 1.);
    float level = WATER_LEVEL + .2*water_map(uv*15. + vec2(u_time*.1), waveheight);
    if (height > level)
    {
        col = CalcTerrain(uv, height);
    }
    if (height <= level)
    {
        vec2 dif = vec2(.0, .01);
        vec2 pos = uv*15. + vec2(u_time*.01);
        float h1 = water_map(pos-dif,waveheight);
        float h2 = water_map(pos+dif,waveheight);
        float h3 = water_map(pos-dif.yx,waveheight);
        float h4 = water_map(pos+dif.yx,waveheight);
        vec3 normwater = normalize(vec3(h3-h4, h1-h2, .125)); // norm-vector of the 'bumpy' water-plane
        uv += normwater.xy*.002*(level-height);
        
        col = CalcTerrain(uv, height);

        float coastfade = clamp((level-height)/coast2water_fadedepth, 0., 1.);
        float coastfade2= clamp((level-height)/deepwater_fadedepth, 0., 1.);
        float intensity = col.r*.2126+col.g*.7152+col.b*.0722;
        watercolor = mix(watercolor*intensity, watercolor2, smoothstep(0., 1., coastfade2));

        vec3 r0 = vec3(uv, WATER_LEVEL);
        vec3 rd = normalize( light - r0 ); // ray-direction to the light from water-position
        float grad     = dot(normwater, rd); // dot-product of norm-vector and light-direction
        float specular = pow(grad, water_softlight_fact);  // used for soft highlights                          
        float specular2= pow(grad, water_glossylight_fact); // used for glossy highlights
        float gradpos  = dot(vec3(0., 0., 1.), rd);
        float specular1= smoothstep(0., 1., pow(gradpos, 5.));  // used for diffusity (some darker corona around light's specular reflections...)                          
        float watershade  = test_shadow( uv, level );
        watercolor *= 2.2+watershade;
        watercolor += (.2+.8*watershade) * ((grad-1.0)*.5+specular) * .25;
        watercolor /= (1.+specular1*1.25);
        watercolor += watershade*specular2*water_specularcolor;
        watercolor += watershade*coastfade*(1.-coastfade2)*(vec3(.5, .6, .7)*nautic(uv)+vec3(1., 1., 1.)*particles(uv));
        
        col = mix(col, watercolor, coastfade);
    }
    
  outputColor = vec4(col, v_opacity);  
}
`,bM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  vec4 u_watercolor;
  vec4 u_watercolor2;
  float u_time;
};

out vec2 v_uv;
out float v_opacity;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_opacity = opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class AM extends Pi{constructor(...t){super(...t),G(this,"texture1",void 0),G(this,"texture2",void 0),G(this,"texture3",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{watercolor:t="#6D99A8",watercolor2:r="#0F121C"}=this.layer.getLayerConfig(),i={u_watercolor:Di(t),u_watercolor2:Di(r),u_time:this.layer.getLayerAnimateTime(),u_texture1:this.texture1,u_texture2:this.texture2,u_texture3:this.texture3};return this.textures=[this.texture1,this.texture2,this.texture3],this.getUniformsBufferInfo(i)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var t=this;return Rt(function*(){return t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"polygonOcean",vertexShader:bM,fragmentShader:PM,defines:t.getDefines(),inject:t.getInject(),triangulation:vy,primitive:k.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var t,r,i;(t=this.texture1)===null||t===void 0||t.destroy(),(r=this.texture2)===null||r===void 0||r.destroy(),(i=this.texture3)===null||i===void 0||i.destroy()}registerBuiltinAttributes(){const t=this.layer.getSource().extent,[r,i,s,p]=t,n=s-r,f=p-i;this.styleAttributeService.registerStyleAttribute({name:"oceanUv",type:Nr.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:2,update:(m,g,x)=>{const[b,F]=x;return[(b-r)/n,(F-i)/f]}}})}loadTexture(){const{createTexture2D:t}=this.rendererService,r={height:0,width:0};this.texture1=t(r),this.texture2=t(r),this.texture3=t(r),i(p=>{this.texture1=s(p[0]),this.texture2=s(p[1]),this.texture3=s(p[2]),this.layerService.reRender()});function i(p){let n=0;const f=[];["https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*MJ22QbpuCzIAAAAAAAAAAAAAARQnAQ","https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*-z2HSIVDsHIAAAAAAAAAAAAAARQnAQ"].map(g=>{const x=new Image;x.crossOrigin="",x.src=g,f.push(x),x.onload=()=>{n++,n===3&&p(f)}})}function s(p){return t({data:p,width:p.width,height:p.height,wrapS:k.MIRRORED_REPEAT,wrapT:k.MIRRORED_REPEAT,min:k.LINEAR,mag:k.LINEAR})}}}const FM=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};

out vec4 outputColor;


in vec4 v_Color;
in vec2 v_uv;

float rand(vec2 n) { return 0.5 + 0.5 * fract(sin(dot(n.xy, vec2(12.9898, 78.233)))* 43758.5453); }

float water(vec3 p) {
  float t = u_time * u_speed;
  p.z += t * 2.; p.x += t * 2.;
  vec3 c1 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 3.; p.x += t * 0.52;
  vec3 c2 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  p.z += t * 4.; p.x += t * 0.8;
  vec3 c3 = texture(SAMPLER_2D(u_texture), p.xz / 30.).xyz;
  c1 += c2 - c3;
  float z = (c1.x + c1.y + c1.z) / 3.;
  return p.y + z / 4.;
}

float map(vec3 p) {
  float d = 100.0;
  d = water(p);
  return d;
}

float intersect(vec3 ro, vec3 rd) {
  float d = 0.0;
  for (int i = 0; i <= 100; i++) {
    float h = map(ro + rd * d);
    if (h < 0.1) return  d;
    d += h;
  }
  return 0.0;
}

vec3 norm(vec3 p) {
  float eps = .1;
  return normalize(vec3(
    map(p + vec3(eps, 0, 0)) - map(p + vec3(-eps, 0, 0)),
    map(p + vec3(0, eps, 0)) - map(p + vec3(0, -eps, 0)),
    map(p + vec3(0, 0, eps)) - map(p + vec3(0, 0, -eps))
  ));
} 

float calSpc() {
  vec3 l1 = normalize(vec3(1, 1, 1));
  vec3 ro = vec3(-3, 20, -8);
  vec3 rc = vec3(0, 0, 0);
  vec3 ww = normalize(rc - ro);
  vec3 uu = normalize(cross(vec3(0,1,0), ww));
  vec3 vv = normalize(cross(rc - ro, uu));
  vec3 rd = normalize(uu * v_uv.x + vv * v_uv.y + ww);
  float d = intersect(ro, rd);
  vec3 p = ro + rd * d;
  vec3 n = norm(p);
  float spc = pow(max(0.0, dot(reflect(l1, n), rd)), 30.0);
  return spc;
}

void main() {

  outputColor = v_Color;
  float spc = calSpc();
  outputColor += spc * 0.4;
}
`,TM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_COLOR) in vec4 a_Color;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_uv;

layout(std140) uniform commonUniforms {
  float u_speed;
  float u_time;
};
out vec4 v_Color;
out vec2 v_uv;

#pragma include "projection"

void main() {
  v_uv = a_uv;
  v_Color = a_Color;
  v_Color.a *= opacity;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));

  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class SM extends Pi{constructor(...t){super(...t),G(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{speed:t=.5}=this.layer.getLayerConfig(),r={u_speed:t,u_time:this.layer.getLayerAnimateTime(),u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(r)}getAnimateUniforms(){return{u_time:this.layer.getLayerAnimateTime()}}initModels(){var t=this;return Rt(function*(){return t.loadTexture(),t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"polygonWater",vertexShader:TM,fragmentShader:FM,triangulation:vy,defines:t.getDefines(),inject:t.getInject(),primitive:k.TRIANGLES,depth:{enable:!1},pickingEnabled:!1,diagnosticDerivativeUniformityEnabled:!1})]})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){const t=this.layer.getSource().extent,[r,i,s,p]=t,n=s-r,f=p-i;this.styleAttributeService.registerStyleAttribute({name:"waterUv",type:Nr.Attribute,descriptor:{name:"a_uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.STATIC_DRAW,data:[],type:k.FLOAT},size:2,update:(m,g,x)=>{const[b,F]=x;return[(b-r)/n,(F-i)/f]}}})}loadTexture(){const{waterTexture:t}=this.layer.getLayerConfig(),{createTexture2D:r}=this.rendererService;this.texture=r({height:1,width:1});const i=new Image;i.crossOrigin="",t?(console.warn("L7 recommend：https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ"),i.src=t):i.src="https://gw.alipayobjects.com/mdn/rms_816329/afts/img/A*EojwT4VzSiYAAAAAAAAAAAAAARQnAQ",i.onload=()=>{this.texture=r({data:i,width:i.width,height:i.height,wrapS:k.MIRRORED_REPEAT,wrapT:k.MIRRORED_REPEAT,min:k.LINEAR,mag:k.LINEAR}),this.layerService.reRender()}}}const RM={fill:xM,line:J9,extrude:yM,text:s7,point_fill:r7,point_image:o7,point_normal:i7,point_extrude:t7,water:SM,ocean:AM,extrusion:mM};class u7 extends x1{constructor(...t){super(...t),G(this,"type","PolygonLayer"),G(this,"enableShaderEncodeStyles",["opacity","extrusionBase","rotation","offsets","stroke"])}buildModels(){var t=this;return Rt(function*(){const r=t.getModelType();t.layerModel=new RM[r](t),yield t.initLayerModels()})()}getModelType(){var t;const r=this.styleAttributeService.getLayerStyleAttribute("shape"),i=r==null||(t=r.scale)===null||t===void 0?void 0:t.field;return i==="fill"||!i?"fill":i==="extrude"?"extrude":i==="extrusion"?"extrusion":i==="water"?"water":i==="ocean"?"ocean":i==="line"?"line":this.getPointModelType()}getPointModelType(){const t=this.getEncodedData(),{shape2d:r,shape3d:i}=this.getLayerConfig(),s=this.iconService.getIconMap(),p=t.find(n=>n.hasOwnProperty("shape"));if(p){const n=p.shape;return n==="dot"?"point_normal":(r==null?void 0:r.indexOf(n))!==-1?"point_fill":(i==null?void 0:i.indexOf(n))!==-1?"point_extrude":s.hasOwnProperty(n)?"point_image":"text"}else return"fill"}}const wM=`layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

uniform sampler2D u_rasterTexture;
uniform sampler2D u_colorTexture;

in vec2 v_texCoord;

bool isnan_emu(float x) { return (x > 0.0 || x < 0.0) ? x != x : x != 0.0; }

out vec4 outputColor;

void main() {
  // Can use any component here since u_rasterTexture is under luminance format.
  float value = texture(SAMPLER_2D(u_rasterTexture), vec2(v_texCoord.x, v_texCoord.y)).r;
  if (value == u_noDataValue || isnan_emu(value)) {
    discard;
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
    discard;
  } else {
    float normalisedValue =(value - u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec4 color = texture(SAMPLER_2D(u_colorTexture), vec2(normalisedValue, 0));
    
    outputColor = color;
    outputColor.a = outputColor.a * u_opacity ;
    if (outputColor.a < 0.01)
      discard;
  }
}
`,CM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;let G4=class extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"colorTexture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,clampLow:r=!0,clampHigh:i=!0,noDataValue:s=-9999999,domain:p,rampColors:n}=this.layer.getLayerConfig(),f=p||y6(n);this.colorTexture=this.layer.textureService.getColorTexture(n,f);const m={u_domain:f,u_opacity:t||1,u_noDataValue:s,u_clampLow:r?1:0,u_clampHigh:(typeof i<"u"?i:r)?1:0,u_rasterTexture:this.texture,u_colorTexture:this.colorTexture};return this.textures=[this.texture,this.colorTexture],this.getUniformsBufferInfo(m)}getRasterData(t){return Rt(function*(){if(Array.isArray(t.data))return{data:t.data,width:t.width,height:t.height};{const{rasterData:r,width:i,height:s}=yield t.data;return{data:Array.from(r),width:i,height:s}}})()}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){t.initUniformsBuffer();const r=t.layer.getSource(),{createTexture2D:i,queryVerdorInfo:s}=t.rendererService,p=r.data.dataArray[0],{data:n,width:f,height:m}=yield t.getRasterData(p);return t.texture=i({data:new Float32Array(n),width:f,height:m,format:s()==="WebGL1"?k.LUMINANCE:k.RED,type:k.FLOAT,alignment:1}),[yield t.layer.buildLayerModel({moduleName:"rasterImageData",vertexShader:CM,fragmentShader:wM,defines:t.getDefines(),triangulation:Cf,primitive:k.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}clearModels(){var t,r;(t=this.texture)===null||t===void 0||t.destroy(),(r=this.colorTexture)===null||r===void 0||r.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{shaderLocation:this.attributeLocation.UV,name:"a_Uv",buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:(t,r,i)=>[i[3],i[4]]}})}};const IM=["data"],MM=["rasterData"],NM=`uniform sampler2D u_texture;
layout(std140) uniform commonUniforms {
 vec2 u_rminmax;
 vec2 u_gminmax;
 vec2 u_bminmax;
 float u_opacity;
 float u_noDataValue;
};

in vec2 v_texCoord;

out vec4 outputColor;

void main() {

  vec3 rgb = texture(SAMPLER_2D(u_texture),vec2(v_texCoord.x,v_texCoord.y)).rgb;

  if(rgb == vec3(u_noDataValue)) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
    outputColor = vec4(rgb.r / (u_rminmax.y -u_rminmax.x), rgb.g /(u_gminmax.y -u_gminmax.x), rgb.b/ (u_bminmax.y - u_bminmax.x), u_opacity);
  }

  if(outputColor.a < 0.01)
    discard;
 
}`,DM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_POSITION_64LOW) in vec2 a_Position64Low;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec2 u_rminmax;
  vec2 u_gminmax;
  vec2 u_bminmax;
  float u_opacity;
  float u_noDataValue;
};

out vec2 v_texCoord;

#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0), a_Position64Low);
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class OM extends Pi{constructor(...t){super(...t),G(this,"texture",void 0),G(this,"dataOption",{})}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,noDataValue:r=0}=this.layer.getLayerConfig(),{rMinMax:i=[0,255],gMinMax:s=[0,255],bMinMax:p=[0,255]}=this.dataOption,n={u_rminmax:i,u_gminmax:s,u_bminmax:p,u_opacity:t||1,u_noDataValue:r,u_texture:this.texture};return this.textures=[this.texture],this.getUniformsBufferInfo(n)}getRasterData(t){var r=this;return Rt(function*(){if(Array.isArray(t.data)){const{data:n}=t,f=Zp(t,IM);return r.dataOption=f,wt({data:n},f)}const i=yield t.data,{rasterData:s}=i,p=Zp(i,MM);return r.dataOption=p,Array.isArray(s)?wt({data:s},p):wt({data:Array.from(s)},p)})()}initModels(){var t=this;return Rt(function*(){t.initUniformsBuffer();const r=t.layer.getSource(),{createTexture2D:i}=t.rendererService,s=r.data.dataArray[0],{data:p,width:n,height:f}=yield t.getRasterData(s);return t.texture=i({data:new Float32Array(p),width:n,height:f,format:k.RGB,type:k.FLOAT}),[yield t.layer.buildLayerModel({moduleName:"rasterImageDataRGBA",vertexShader:DM,fragmentShader:NM,defines:t.getDefines(),triangulation:Cf,primitive:k.TRIANGLES,depth:{enable:!1},pickingEnabled:!1})]})()}buildModels(){var t=this;return Rt(function*(){return t.initModels()})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:(t,r,i)=>[i[3],i[4]]}})}}const LM=`uniform sampler2D u_texture;
uniform sampler2D u_colorTexture;

layout(std140) uniform commonUniforms {
 vec4 u_unpack;
 vec2 u_domain;
 float u_opacity;
 float u_noDataValue;
 float u_clampLow;
 float u_clampHigh;
};

in vec2 v_texCoord;
out vec4 outputColor;


float getElevation(vec2 coord, float bias) {
    // Convert encoded elevation value to meters
    vec4 data =  texture(SAMPLER_2D(u_texture), coord,bias) * 255.0;
    data.a = -1.0;
    return dot(data, u_unpack);
}

vec4 getColor(float value) {
   float normalisedValue =(value- u_domain[0]) / (u_domain[1] - u_domain[0]);
    vec2 coord = vec2(normalisedValue, 0);
    return  texture(SAMPLER_2D(u_colorTexture), coord);
}

void main() {
  float value = getElevation(v_texCoord,0.0);
  if (value == u_noDataValue) {
    outputColor = vec4(0.0, 0, 0, 0.0);
  } else if ((u_clampLow < 0.5 && value < u_domain[0]) || (u_clampHigh < 0.5 && value > u_domain[1])) {
     outputColor = vec4(0.0, 0, 0, 0.0);
  } else {
   
    outputColor = getColor(value);
    outputColor.a =  outputColor.a * u_opacity ;
      if(outputColor.a < 0.01)
      discard;
  }
}
`,BM=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;
layout(location = ATTRIBUTE_LOCATION_UV) in vec2 a_Uv;

layout(std140) uniform commonUniforms {
  vec4 u_unpack;
  vec2 u_domain;
  float u_opacity;
  float u_noDataValue;
  float u_clampLow;
  float u_clampHigh;
};
out vec2 v_texCoord;
#pragma include "projection"

void main() {
  v_texCoord = a_Uv;
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xy, 0.0, 1.0));
}
`;class UM extends Pi{constructor(...t){super(...t),G(this,"texture",void 0)}get attributeLocation(){return Object.assign(super.attributeLocation,{MAX:super.attributeLocation.MAX,UV:9})}getCommonUniformsInfo(){const{opacity:t,clampLow:r=!0,clampHigh:i=!0,noDataValue:s=-9999999,domain:p,rampColors:n,colorTexture:f,rScaler:m=6553.6,gScaler:g=25.6,bScaler:x=.1,offset:b=1e4}=this.layer.getLayerConfig(),F=p||y6(n);let R=f;f?this.layer.textureService.setColorTexture(f,n,F):R=this.layer.textureService.getColorTexture(n,F);const I={u_unpack:[m,g,x,b],u_domain:F,u_opacity:t||1,u_noDataValue:s,u_clampLow:r,u_clampHigh:typeof i<"u"?i:r,u_texture:this.texture,u_colorTexture:R};return this.textures=[this.texture,R],this.getUniformsBufferInfo(I)}initModels(){var t=this;return Rt(function*(){t.initUniformsBuffer();const r=t.layer.getSource(),{createTexture2D:i}=t.rendererService,s=yield r.data.images;return t.texture=i({data:s[0],width:s[0].width,height:s[0].height,min:k.LINEAR,mag:k.LINEAR}),[yield t.layer.buildLayerModel({moduleName:"RasterTileDataImage",vertexShader:BM,fragmentShader:LM,defines:t.getDefines(),triangulation:Cf,primitive:k.TRIANGLES,depth:{enable:!1}})]})()}clearModels(){var t;(t=this.texture)===null||t===void 0||t.destroy()}buildModels(){var t=this;return Rt(function*(){return t.initModels()})()}registerBuiltinAttributes(){this.registerPosition64LowAttribute(),this.styleAttributeService.registerStyleAttribute({name:"uv",type:Nr.Attribute,descriptor:{name:"a_Uv",shaderLocation:this.attributeLocation.UV,buffer:{usage:k.DYNAMIC_DRAW,data:[],type:k.FLOAT},size:2,update:(t,r,i)=>[i[3],i[4]]}})}}const kM={raster:G4,rasterRgb:OM,raster3d:G4,rasterTerrainRgb:UM};class D6 extends x1{constructor(...t){super(...t),G(this,"type","RasterLayer")}buildModels(){var t=this;return Rt(function*(){const r=t.getModelType();t.layerModel=new kM[r](t),yield t.initLayerModels()})()}getDefaultConfig(){const t=this.getModelType();return{raster:{},rasterRgb:{},raster3d:{},rasterTerrainRgb:{}}[t]}getModelType(){switch(this.layerSource.getParserType()){case"raster":return"raster";case"rasterRgb":return"rasterRgb";case"rgb":return"rasterRgb";case"image":return"rasterTerrainRgb";default:return"raster"}}getLegend(t){if(t!=="color")return{type:void 0,field:void 0,items:[]};const r=this.getLayerConfig().rampColors;return Q9(r,t)}}class zM{constructor({rendererService:t,layerService:r,parent:i}){G(this,"tileResource",new Map),G(this,"rendererService",void 0),G(this,"layerService",void 0),G(this,"parent",void 0),G(this,"layerTiles",[]),this.rendererService=t,this.layerService=r,this.parent=i}get tiles(){return this.layerTiles}hasTile(t){return this.layerTiles.some(r=>r.key===t)}addTile(t){this.layerTiles.push(t)}getTile(t){return this.layerTiles.find(r=>r.key===t)}getVisibleTileBylngLat(t){return this.layerTiles.find(r=>r.isLoaded&&r.visible&&r.lnglatInBounds(t))}removeTile(t){const r=this.layerTiles.findIndex(s=>s.key===t),i=this.layerTiles.splice(r,1);i[0]&&i[0].destroy()}updateTileVisible(t){const r=this.getTile(t.key);if(t.isVisible)if(t.parent){const i=this.isChildrenLoaded(t.parent);r==null||r.updateVisible(i)}else r==null||r.updateVisible(!0);else if(t.parent){const i=this.isChildrenLoaded(t.parent);r==null||r.updateVisible(!i)}else r==null||r.updateVisible(!1)}isParentLoaded(t){const r=t.parent;if(!r)return!0;const i=this.getTile(r==null?void 0:r.key);return!!(i!=null&&i.isLoaded)}isChildrenLoaded(t){const r=t==null?void 0:t.children;return r.length===0?!0:r.every(i=>{const s=this.getTile(i==null?void 0:i.key);return s?(s==null?void 0:s.isLoaded)===!0:!0})}render(){var t=this;return Rt(function*(){const i=t.getRenderLayers().map(function(){var s=Rt(function*(p){yield t.layerService.renderTileLayer(p)});return function(p){return s.apply(this,arguments)}}());yield Promise.all(i)})()}getRenderLayers(){const t=this.layerTiles.filter(i=>i.visible&&i.isLoaded),r=[];return t.map(i=>r.push(...i.getLayers())),r}getLayers(){const t=this.layerTiles.filter(i=>i.isLoaded),r=[];return t.map(i=>r.push(...i.getLayers())),r}getTiles(){return this.layerTiles}destroy(){this.layerTiles.forEach(t=>t.destroy()),this.tileResource.clear()}}/**
 * splaytree v3.1.2
 * Fast Splay tree for Node and browser
 *
 * @author Alexander Milevski <info@w8r.name>
 * @license MIT
 * @preserve
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function VM(e,t){var r={label:0,sent:function(){if(p[0]&1)throw p[1];return p[1]},trys:[],ops:[]},i,s,p,n;return n={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(n[Symbol.iterator]=function(){return this}),n;function f(g){return function(x){return m([g,x])}}function m(g){if(i)throw new TypeError("Generator is already executing.");for(;r;)try{if(i=1,s&&(p=g[0]&2?s.return:g[0]?s.throw||((p=s.return)&&p.call(s),0):s.next)&&!(p=p.call(s,g[1])).done)return p;switch(s=0,p&&(g=[g[0]&2,p.value]),g[0]){case 0:case 1:p=g;break;case 4:return r.label++,{value:g[1],done:!1};case 5:r.label++,s=g[1],g=[0];continue;case 7:g=r.ops.pop(),r.trys.pop();continue;default:if(p=r.trys,!(p=p.length>0&&p[p.length-1])&&(g[0]===6||g[0]===2)){r=0;continue}if(g[0]===3&&(!p||g[1]>p[0]&&g[1]<p[3])){r.label=g[1];break}if(g[0]===6&&r.label<p[1]){r.label=p[1],p=g;break}if(p&&r.label<p[2]){r.label=p[2],r.ops.push(g);break}p[2]&&r.ops.pop(),r.trys.pop();continue}g=t.call(e,r)}catch(x){g=[6,x],s=0}finally{i=p=0}if(g[0]&5)throw g[1];return{value:g[0]?g[1]:void 0,done:!0}}}var Al=function(){function e(t,r){this.next=null,this.key=t,this.data=r,this.left=null,this.right=null}return e}();function HM(e,t){return e>t?1:e<t?-1:0}function _l(e,t,r){for(var i=new Al(null,null),s=i,p=i;;){var n=r(e,t.key);if(n<0){if(t.left===null)break;if(r(e,t.left.key)<0){var f=t.left;if(t.left=f.right,f.right=t,t=f,t.left===null)break}p.left=t,p=t,t=t.left}else if(n>0){if(t.right===null)break;if(r(e,t.right.key)>0){var f=t.right;if(t.right=f.left,f.left=t,t=f,t.right===null)break}s.right=t,s=t,t=t.right}else break}return s.right=t.left,p.left=t.right,t.left=i.right,t.right=i.left,t}function o2(e,t,r,i){var s=new Al(e,t);if(r===null)return s.left=s.right=null,s;r=_l(e,r,i);var p=i(e,r.key);return p<0?(s.left=r.left,s.right=r,r.left=null):p>=0&&(s.right=r.right,s.left=r,r.right=null),s}function j4(e,t,r){var i=null,s=null;if(t){t=_l(e,t,r);var p=r(t.key,e);p===0?(i=t.left,s=t.right):p<0?(s=t.right,t.right=null,i=t):(i=t.left,t.left=null,s=t)}return{left:i,right:s}}function GM(e,t,r){return t===null?e:(e===null||(t=_l(e.key,t,r),t.left=e),t)}function W2(e,t,r,i,s){if(e){i(""+t+(r?"└── ":"├── ")+s(e)+`
`);var p=t+(r?"    ":"│   ");e.left&&W2(e.left,p,!1,i,s),e.right&&W2(e.right,p,!0,i,s)}}var O6=function(){function e(t){t===void 0&&(t=HM),this._root=null,this._size=0,this._comparator=t}return e.prototype.insert=function(t,r){return this._size++,this._root=o2(t,r,this._root,this._comparator)},e.prototype.add=function(t,r){var i=new Al(t,r);this._root===null&&(i.left=i.right=null,this._size++,this._root=i);var s=this._comparator,p=_l(t,this._root,s),n=s(t,p.key);return n===0?this._root=p:(n<0?(i.left=p.left,i.right=p,p.left=null):n>0&&(i.right=p.right,i.left=p,p.right=null),this._size++,this._root=i),this._root},e.prototype.remove=function(t){this._root=this._remove(t,this._root,this._comparator)},e.prototype._remove=function(t,r,i){var s;if(r===null)return null;r=_l(t,r,i);var p=i(t,r.key);return p===0?(r.left===null?s=r.right:(s=_l(t,r.left,i),s.right=r.right),this._size--,s):r},e.prototype.pop=function(){var t=this._root;if(t){for(;t.left;)t=t.left;return this._root=_l(t.key,this._root,this._comparator),this._root=this._remove(t.key,this._root,this._comparator),{key:t.key,data:t.data}}return null},e.prototype.findStatic=function(t){for(var r=this._root,i=this._comparator;r;){var s=i(t,r.key);if(s===0)return r;s<0?r=r.left:r=r.right}return null},e.prototype.find=function(t){return this._root&&(this._root=_l(t,this._root,this._comparator),this._comparator(t,this._root.key)!==0)?null:this._root},e.prototype.contains=function(t){for(var r=this._root,i=this._comparator;r;){var s=i(t,r.key);if(s===0)return!0;s<0?r=r.left:r=r.right}return!1},e.prototype.forEach=function(t,r){for(var i=this._root,s=[],p=!1;!p;)i!==null?(s.push(i),i=i.left):s.length!==0?(i=s.pop(),t.call(r,i),i=i.right):p=!0;return this},e.prototype.range=function(t,r,i,s){for(var p=[],n=this._comparator,f=this._root,m;p.length!==0||f;)if(f)p.push(f),f=f.left;else{if(f=p.pop(),m=n(f.key,r),m>0)break;if(n(f.key,t)>=0&&i.call(s,f))return this;f=f.right}return this},e.prototype.keys=function(){var t=[];return this.forEach(function(r){var i=r.key;return t.push(i)}),t},e.prototype.values=function(){var t=[];return this.forEach(function(r){var i=r.data;return t.push(i)}),t},e.prototype.min=function(){return this._root?this.minNode(this._root).key:null},e.prototype.max=function(){return this._root?this.maxNode(this._root).key:null},e.prototype.minNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.left;)t=t.left;return t},e.prototype.maxNode=function(t){if(t===void 0&&(t=this._root),t)for(;t.right;)t=t.right;return t},e.prototype.at=function(t){for(var r=this._root,i=!1,s=0,p=[];!i;)if(r)p.push(r),r=r.left;else if(p.length>0){if(r=p.pop(),s===t)return r;s++,r=r.right}else i=!0;return null},e.prototype.next=function(t){var r=this._root,i=null;if(t.right){for(i=t.right;i.left;)i=i.left;return i}for(var s=this._comparator;r;){var p=s(t.key,r.key);if(p===0)break;p<0?(i=r,r=r.left):r=r.right}return i},e.prototype.prev=function(t){var r=this._root,i=null;if(t.left!==null){for(i=t.left;i.right;)i=i.right;return i}for(var s=this._comparator;r;){var p=s(t.key,r.key);if(p===0)break;p<0?r=r.left:(i=r,r=r.right)}return i},e.prototype.clear=function(){return this._root=null,this._size=0,this},e.prototype.toList=function(){return WM(this._root)},e.prototype.load=function(t,r,i){r===void 0&&(r=[]),i===void 0&&(i=!1);var s=t.length,p=this._comparator;if(i&&Y2(t,r,0,s-1,p),this._root===null)this._root=X2(t,r,0,s),this._size=s;else{var n=XM(this.toList(),jM(t,r),p);s=this._size+s,this._root=Z2({head:n},0,s)}return this},e.prototype.isEmpty=function(){return this._root===null},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this._root},enumerable:!0,configurable:!0}),e.prototype.toString=function(t){t===void 0&&(t=function(i){return String(i.key)});var r=[];return W2(this._root,"",!0,function(i){return r.push(i)},t),r.join("")},e.prototype.update=function(t,r,i){var s=this._comparator,p=j4(t,this._root,s),n=p.left,f=p.right;s(t,r)<0?f=o2(r,i,f,s):n=o2(r,i,n,s),this._root=GM(n,f,s)},e.prototype.split=function(t){return j4(t,this._root,this._comparator)},e.prototype[Symbol.iterator]=function(){var t,r,i;return VM(this,function(s){switch(s.label){case 0:t=this._root,r=[],i=!1,s.label=1;case 1:return i?[3,6]:t===null?[3,2]:(r.push(t),t=t.left,[3,5]);case 2:return r.length===0?[3,4]:(t=r.pop(),[4,t]);case 3:return s.sent(),t=t.right,[3,5];case 4:i=!0,s.label=5;case 5:return[3,1];case 6:return[2]}})},e}();function X2(e,t,r,i){var s=i-r;if(s>0){var p=r+Math.floor(s/2),n=e[p],f=t[p],m=new Al(n,f);return m.left=X2(e,t,r,p),m.right=X2(e,t,p+1,i),m}return null}function jM(e,t){for(var r=new Al(null,null),i=r,s=0;s<e.length;s++)i=i.next=new Al(e[s],t[s]);return i.next=null,r.next}function WM(e){for(var t=e,r=[],i=!1,s=new Al(null,null),p=s;!i;)t?(r.push(t),t=t.left):r.length>0?(t=p=p.next=r.pop(),t=t.right):i=!0;return p.next=null,s.next}function Z2(e,t,r){var i=r-t;if(i>0){var s=t+Math.floor(i/2),p=Z2(e,t,s),n=e.head;return n.left=p,e.head=e.head.next,n.right=Z2(e,s+1,r),n}return null}function XM(e,t,r){for(var i=new Al(null,null),s=i,p=e,n=t;p!==null&&n!==null;)r(p.key,n.key)<0?(s.next=p,p=p.next):(s.next=n,n=n.next),s=s.next;return p!==null?s.next=p:n!==null&&(s.next=n),i.next}function Y2(e,t,r,i,s){if(!(r>=i)){for(var p=e[r+i>>1],n=r-1,f=i+1;;){do n++;while(s(e[n],p)<0);do f--;while(s(e[f],p)>0);if(n>=f)break;var m=e[n];e[n]=e[f],e[f]=m,m=t[n],t[n]=t[f],t[f]=m}Y2(e,t,r,f,s),Y2(e,t,f+1,i,s)}}const Tc=11102230246251565e-32,rs=134217729,ZM=(3+8*Tc)*Tc;function i2(e,t,r,i,s){let p,n,f,m,g=t[0],x=i[0],b=0,F=0;x>g==x>-g?(p=g,g=t[++b]):(p=x,x=i[++F]);let R=0;if(b<e&&F<r)for(x>g==x>-g?(n=g+p,f=p-(n-g),g=t[++b]):(n=x+p,f=p-(n-x),x=i[++F]),p=n,f!==0&&(s[R++]=f);b<e&&F<r;)x>g==x>-g?(n=p+g,m=n-p,f=p-(n-m)+(g-m),g=t[++b]):(n=p+x,m=n-p,f=p-(n-m)+(x-m),x=i[++F]),p=n,f!==0&&(s[R++]=f);for(;b<e;)n=p+g,m=n-p,f=p-(n-m)+(g-m),g=t[++b],p=n,f!==0&&(s[R++]=f);for(;F<r;)n=p+x,m=n-p,f=p-(n-m)+(x-m),x=i[++F],p=n,f!==0&&(s[R++]=f);return(p!==0||R===0)&&(s[R++]=p),R}function YM(e,t){let r=t[0];for(let i=1;i<e;i++)r+=t[i];return r}function Ey(e){return new Float64Array(e)}const qM=(3+16*Tc)*Tc,$M=(2+12*Tc)*Tc,KM=(9+64*Tc)*Tc*Tc,s0=Ey(4),W4=Ey(8),X4=Ey(12),Z4=Ey(16),hs=Ey(4);function QM(e,t,r,i,s,p,n){let f,m,g,x,b,F,R,I,O,U,Y,ee,oe,Re,Ae,ce,Ie,De;const ht=e-s,qe=r-s,we=t-p,B=i-p;Re=ht*B,F=rs*ht,R=F-(F-ht),I=ht-R,F=rs*B,O=F-(F-B),U=B-O,Ae=I*U-(Re-R*O-I*O-R*U),ce=we*qe,F=rs*we,R=F-(F-we),I=we-R,F=rs*qe,O=F-(F-qe),U=qe-O,Ie=I*U-(ce-R*O-I*O-R*U),Y=Ae-Ie,b=Ae-Y,s0[0]=Ae-(Y+b)+(b-Ie),ee=Re+Y,b=ee-Re,oe=Re-(ee-b)+(Y-b),Y=oe-ce,b=oe-Y,s0[1]=oe-(Y+b)+(b-ce),De=ee+Y,b=De-ee,s0[2]=ee-(De-b)+(Y-b),s0[3]=De;let X=YM(4,s0),de=$M*n;if(X>=de||-X>=de||(b=e-ht,f=e-(ht+b)+(b-s),b=r-qe,g=r-(qe+b)+(b-s),b=t-we,m=t-(we+b)+(b-p),b=i-B,x=i-(B+b)+(b-p),f===0&&m===0&&g===0&&x===0)||(de=KM*n+ZM*Math.abs(X),X+=ht*x+B*f-(we*g+qe*m),X>=de||-X>=de))return X;Re=f*B,F=rs*f,R=F-(F-f),I=f-R,F=rs*B,O=F-(F-B),U=B-O,Ae=I*U-(Re-R*O-I*O-R*U),ce=m*qe,F=rs*m,R=F-(F-m),I=m-R,F=rs*qe,O=F-(F-qe),U=qe-O,Ie=I*U-(ce-R*O-I*O-R*U),Y=Ae-Ie,b=Ae-Y,hs[0]=Ae-(Y+b)+(b-Ie),ee=Re+Y,b=ee-Re,oe=Re-(ee-b)+(Y-b),Y=oe-ce,b=oe-Y,hs[1]=oe-(Y+b)+(b-ce),De=ee+Y,b=De-ee,hs[2]=ee-(De-b)+(Y-b),hs[3]=De;const mt=i2(4,s0,4,hs,W4);Re=ht*x,F=rs*ht,R=F-(F-ht),I=ht-R,F=rs*x,O=F-(F-x),U=x-O,Ae=I*U-(Re-R*O-I*O-R*U),ce=we*g,F=rs*we,R=F-(F-we),I=we-R,F=rs*g,O=F-(F-g),U=g-O,Ie=I*U-(ce-R*O-I*O-R*U),Y=Ae-Ie,b=Ae-Y,hs[0]=Ae-(Y+b)+(b-Ie),ee=Re+Y,b=ee-Re,oe=Re-(ee-b)+(Y-b),Y=oe-ce,b=oe-Y,hs[1]=oe-(Y+b)+(b-ce),De=ee+Y,b=De-ee,hs[2]=ee-(De-b)+(Y-b),hs[3]=De;const re=i2(mt,W4,4,hs,X4);Re=f*x,F=rs*f,R=F-(F-f),I=f-R,F=rs*x,O=F-(F-x),U=x-O,Ae=I*U-(Re-R*O-I*O-R*U),ce=m*g,F=rs*m,R=F-(F-m),I=m-R,F=rs*g,O=F-(F-g),U=g-O,Ie=I*U-(ce-R*O-I*O-R*U),Y=Ae-Ie,b=Ae-Y,hs[0]=Ae-(Y+b)+(b-Ie),ee=Re+Y,b=ee-Re,oe=Re-(ee-b)+(Y-b),Y=oe-ce,b=oe-Y,hs[1]=oe-(Y+b)+(b-ce),De=ee+Y,b=De-ee,hs[2]=ee-(De-b)+(Y-b),hs[3]=De;const fe=i2(re,X4,4,hs,Z4);return Z4[fe-1]}function JM(e,t,r,i,s,p){const n=(t-p)*(r-s),f=(e-s)*(i-p),m=n-f,g=Math.abs(n+f);return Math.abs(m)>=qM*g?m:-QM(e,t,r,i,s,p,g)}var p7={};const wd=(e,t)=>e.ll.x<=t.x&&t.x<=e.ur.x&&e.ll.y<=t.y&&t.y<=e.ur.y,q2=(e,t)=>{if(t.ur.x<e.ll.x||e.ur.x<t.ll.x||t.ur.y<e.ll.y||e.ur.y<t.ll.y)return null;const r=e.ll.x<t.ll.x?t.ll.x:e.ll.x,i=e.ur.x<t.ur.x?e.ur.x:t.ur.x,s=e.ll.y<t.ll.y?t.ll.y:e.ll.y,p=e.ur.y<t.ur.y?e.ur.y:t.ur.y;return{ll:{x:r,y:s},ur:{x:i,y:p}}};let vl=Number.EPSILON;vl===void 0&&(vl=Math.pow(2,-52));const eN=vl*vl,Y4=(e,t)=>{if(-vl<e&&e<vl&&-vl<t&&t<vl)return 0;const r=e-t;return r*r<eN*e*t?0:e<t?-1:1};class tN{constructor(){this.reset()}reset(){this.xRounder=new q4,this.yRounder=new q4}round(t,r){return{x:this.xRounder.round(t),y:this.yRounder.round(r)}}}class q4{constructor(){this.tree=new O6,this.round(0)}round(t){const r=this.tree.add(t),i=this.tree.prev(r);if(i!==null&&Y4(r.key,i.key)===0)return this.tree.remove(t),i.key;const s=this.tree.next(r);return s!==null&&Y4(r.key,s.key)===0?(this.tree.remove(t),s.key):t}}const dy=new tN,Rh=(e,t)=>e.x*t.y-e.y*t.x,c7=(e,t)=>e.x*t.x+e.y*t.y,$4=(e,t,r)=>{const i=JM(e.x,e.y,t.x,t.y,r.x,r.y);return i>0?-1:i<0?1:0},pf=e=>Math.sqrt(c7(e,e)),rN=(e,t,r)=>{const i={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return Rh(s,i)/pf(s)/pf(i)},oN=(e,t,r)=>{const i={x:t.x-e.x,y:t.y-e.y},s={x:r.x-e.x,y:r.y-e.y};return c7(s,i)/pf(s)/pf(i)},K4=(e,t,r)=>t.y===0?null:{x:e.x+t.x/t.y*(r-e.y),y:r},Q4=(e,t,r)=>t.x===0?null:{x:r,y:e.y+t.y/t.x*(r-e.x)},iN=(e,t,r,i)=>{if(t.x===0)return Q4(r,i,e.x);if(i.x===0)return Q4(e,t,r.x);if(t.y===0)return K4(r,i,e.y);if(i.y===0)return K4(e,t,r.y);const s=Rh(t,i);if(s==0)return null;const p={x:r.x-e.x,y:r.y-e.y},n=Rh(p,t)/s,f=Rh(p,i)/s,m=e.x+f*t.x,g=r.x+n*i.x,x=e.y+f*t.y,b=r.y+n*i.y,F=(m+g)/2,R=(x+b)/2;return{x:F,y:R}};class Hu{static compare(t,r){const i=Hu.comparePoints(t.point,r.point);return i!==0?i:(t.point!==r.point&&t.link(r),t.isLeft!==r.isLeft?t.isLeft?1:-1:xl.compare(t.segment,r.segment))}static comparePoints(t,r){return t.x<r.x?-1:t.x>r.x?1:t.y<r.y?-1:t.y>r.y?1:0}constructor(t,r){t.events===void 0?t.events=[this]:t.events.push(this),this.point=t,this.isLeft=r}link(t){if(t.point===this.point)throw new Error("Tried to link already linked events");const r=t.point.events;for(let i=0,s=r.length;i<s;i++){const p=r[i];this.point.events.push(p),p.point=this.point}this.checkForConsuming()}checkForConsuming(){const t=this.point.events.length;for(let r=0;r<t;r++){const i=this.point.events[r];if(i.segment.consumedBy===void 0)for(let s=r+1;s<t;s++){const p=this.point.events[s];p.consumedBy===void 0&&i.otherSE.point.events===p.otherSE.point.events&&i.segment.consume(p.segment)}}}getAvailableLinkedEvents(){const t=[];for(let r=0,i=this.point.events.length;r<i;r++){const s=this.point.events[r];s!==this&&!s.segment.ringOut&&s.segment.isInResult()&&t.push(s)}return t}getLeftmostComparator(t){const r=new Map,i=s=>{const p=s.otherSE;r.set(s,{sine:rN(this.point,t.point,p.point),cosine:oN(this.point,t.point,p.point)})};return(s,p)=>{r.has(s)||i(s),r.has(p)||i(p);const{sine:n,cosine:f}=r.get(s),{sine:m,cosine:g}=r.get(p);return n>=0&&m>=0?f<g?1:f>g?-1:0:n<0&&m<0?f<g?-1:f>g?1:0:m<n?-1:m>n?1:0}}}let nN=0;class xl{static compare(t,r){const i=t.leftSE.point.x,s=r.leftSE.point.x,p=t.rightSE.point.x,n=r.rightSE.point.x;if(n<i)return 1;if(p<s)return-1;const f=t.leftSE.point.y,m=r.leftSE.point.y,g=t.rightSE.point.y,x=r.rightSE.point.y;if(i<s){if(m<f&&m<g)return 1;if(m>f&&m>g)return-1;const b=t.comparePoint(r.leftSE.point);if(b<0)return 1;if(b>0)return-1;const F=r.comparePoint(t.rightSE.point);return F!==0?F:-1}if(i>s){if(f<m&&f<x)return-1;if(f>m&&f>x)return 1;const b=r.comparePoint(t.leftSE.point);if(b!==0)return b;const F=t.comparePoint(r.rightSE.point);return F<0?1:F>0?-1:1}if(f<m)return-1;if(f>m)return 1;if(p<n){const b=r.comparePoint(t.rightSE.point);if(b!==0)return b}if(p>n){const b=t.comparePoint(r.rightSE.point);if(b<0)return 1;if(b>0)return-1}if(p!==n){const b=g-f,F=p-i,R=x-m,I=n-s;if(b>F&&R<I)return 1;if(b<F&&R>I)return-1}return p>n?1:p<n||g<x?-1:g>x?1:t.id<r.id?-1:t.id>r.id?1:0}constructor(t,r,i,s){this.id=++nN,this.leftSE=t,t.segment=this,t.otherSE=r,this.rightSE=r,r.segment=this,r.otherSE=t,this.rings=i,this.windings=s}static fromRing(t,r,i){let s,p,n;const f=Hu.comparePoints(t,r);if(f<0)s=t,p=r,n=1;else if(f>0)s=r,p=t,n=-1;else throw new Error(`Tried to create degenerate segment at [${t.x}, ${t.y}]`);const m=new Hu(s,!0),g=new Hu(p,!1);return new xl(m,g,[i],[n])}replaceRightSE(t){this.rightSE=t,this.rightSE.segment=this,this.rightSE.otherSE=this.leftSE,this.leftSE.otherSE=this.rightSE}bbox(){const t=this.leftSE.point.y,r=this.rightSE.point.y;return{ll:{x:this.leftSE.point.x,y:t<r?t:r},ur:{x:this.rightSE.point.x,y:t>r?t:r}}}vector(){return{x:this.rightSE.point.x-this.leftSE.point.x,y:this.rightSE.point.y-this.leftSE.point.y}}isAnEndpoint(t){return t.x===this.leftSE.point.x&&t.y===this.leftSE.point.y||t.x===this.rightSE.point.x&&t.y===this.rightSE.point.y}comparePoint(t){if(this.isAnEndpoint(t))return 0;const r=this.leftSE.point,i=this.rightSE.point,s=this.vector();if(r.x===i.x)return t.x===r.x?0:t.x<r.x?1:-1;const p=(t.y-r.y)/s.y,n=r.x+p*s.x;if(t.x===n)return 0;const f=(t.x-r.x)/s.x,m=r.y+f*s.y;return t.y===m?0:t.y<m?-1:1}getIntersection(t){const r=this.bbox(),i=t.bbox(),s=q2(r,i);if(s===null)return null;const p=this.leftSE.point,n=this.rightSE.point,f=t.leftSE.point,m=t.rightSE.point,g=wd(r,f)&&this.comparePoint(f)===0,x=wd(i,p)&&t.comparePoint(p)===0,b=wd(r,m)&&this.comparePoint(m)===0,F=wd(i,n)&&t.comparePoint(n)===0;if(x&&g)return F&&!b?n:!F&&b?m:null;if(x)return b&&p.x===m.x&&p.y===m.y?null:p;if(g)return F&&n.x===f.x&&n.y===f.y?null:f;if(F&&b)return null;if(F)return n;if(b)return m;const R=iN(p,this.vector(),f,t.vector());return R===null||!wd(s,R)?null:dy.round(R.x,R.y)}split(t){const r=[],i=t.events!==void 0,s=new Hu(t,!0),p=new Hu(t,!1),n=this.rightSE;this.replaceRightSE(p),r.push(p),r.push(s);const f=new xl(s,n,this.rings.slice(),this.windings.slice());return Hu.comparePoints(f.leftSE.point,f.rightSE.point)>0&&f.swapEvents(),Hu.comparePoints(this.leftSE.point,this.rightSE.point)>0&&this.swapEvents(),i&&(s.checkForConsuming(),p.checkForConsuming()),r}swapEvents(){const t=this.rightSE;this.rightSE=this.leftSE,this.leftSE=t,this.leftSE.isLeft=!0,this.rightSE.isLeft=!1;for(let r=0,i=this.windings.length;r<i;r++)this.windings[r]*=-1}consume(t){let r=this,i=t;for(;r.consumedBy;)r=r.consumedBy;for(;i.consumedBy;)i=i.consumedBy;const s=xl.compare(r,i);if(s!==0){if(s>0){const p=r;r=i,i=p}if(r.prev===i){const p=r;r=i,i=p}for(let p=0,n=i.rings.length;p<n;p++){const f=i.rings[p],m=i.windings[p],g=r.rings.indexOf(f);g===-1?(r.rings.push(f),r.windings.push(m)):r.windings[g]+=m}i.rings=null,i.windings=null,i.consumedBy=r,i.leftSE.consumedBy=r.leftSE,i.rightSE.consumedBy=r.rightSE}}prevInResult(){return this._prevInResult!==void 0?this._prevInResult:(this.prev?this.prev.isInResult()?this._prevInResult=this.prev:this._prevInResult=this.prev.prevInResult():this._prevInResult=null,this._prevInResult)}beforeState(){if(this._beforeState!==void 0)return this._beforeState;if(!this.prev)this._beforeState={rings:[],windings:[],multiPolys:[]};else{const t=this.prev.consumedBy||this.prev;this._beforeState=t.afterState()}return this._beforeState}afterState(){if(this._afterState!==void 0)return this._afterState;const t=this.beforeState();this._afterState={rings:t.rings.slice(0),windings:t.windings.slice(0),multiPolys:[]};const r=this._afterState.rings,i=this._afterState.windings,s=this._afterState.multiPolys;for(let f=0,m=this.rings.length;f<m;f++){const g=this.rings[f],x=this.windings[f],b=r.indexOf(g);b===-1?(r.push(g),i.push(x)):i[b]+=x}const p=[],n=[];for(let f=0,m=r.length;f<m;f++){if(i[f]===0)continue;const g=r[f],x=g.poly;if(n.indexOf(x)===-1)if(g.isExterior)p.push(x);else{n.indexOf(x)===-1&&n.push(x);const b=p.indexOf(g.poly);b!==-1&&p.splice(b,1)}}for(let f=0,m=p.length;f<m;f++){const g=p[f].multiPoly;s.indexOf(g)===-1&&s.push(g)}return this._afterState}isInResult(){if(this.consumedBy)return!1;if(this._isInResult!==void 0)return this._isInResult;const t=this.beforeState().multiPolys,r=this.afterState().multiPolys;switch(dp.type){case"union":{const i=t.length===0,s=r.length===0;this._isInResult=i!==s;break}case"intersection":{let i,s;t.length<r.length?(i=t.length,s=r.length):(i=r.length,s=t.length),this._isInResult=s===dp.numMultiPolys&&i<s;break}case"xor":{const i=Math.abs(t.length-r.length);this._isInResult=i%2===1;break}case"difference":{const i=s=>s.length===1&&s[0].isSubject;this._isInResult=i(t)!==i(r);break}default:throw new Error(`Unrecognized operation type found ${dp.type}`)}return this._isInResult}}class J4{constructor(t,r,i){if(!Array.isArray(t)||t.length===0)throw new Error("Input geometry is not a valid Polygon or MultiPolygon");if(this.poly=r,this.isExterior=i,this.segments=[],typeof t[0][0]!="number"||typeof t[0][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");const s=dy.round(t[0][0],t[0][1]);this.bbox={ll:{x:s.x,y:s.y},ur:{x:s.x,y:s.y}};let p=s;for(let n=1,f=t.length;n<f;n++){if(typeof t[n][0]!="number"||typeof t[n][1]!="number")throw new Error("Input geometry is not a valid Polygon or MultiPolygon");let m=dy.round(t[n][0],t[n][1]);m.x===p.x&&m.y===p.y||(this.segments.push(xl.fromRing(p,m,this)),m.x<this.bbox.ll.x&&(this.bbox.ll.x=m.x),m.y<this.bbox.ll.y&&(this.bbox.ll.y=m.y),m.x>this.bbox.ur.x&&(this.bbox.ur.x=m.x),m.y>this.bbox.ur.y&&(this.bbox.ur.y=m.y),p=m)}(s.x!==p.x||s.y!==p.y)&&this.segments.push(xl.fromRing(p,s,this))}getSweepEvents(){const t=[];for(let r=0,i=this.segments.length;r<i;r++){const s=this.segments[r];t.push(s.leftSE),t.push(s.rightSE)}return t}}class aN{constructor(t,r){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");this.exteriorRing=new J4(t[0],this,!0),this.bbox={ll:{x:this.exteriorRing.bbox.ll.x,y:this.exteriorRing.bbox.ll.y},ur:{x:this.exteriorRing.bbox.ur.x,y:this.exteriorRing.bbox.ur.y}},this.interiorRings=[];for(let i=1,s=t.length;i<s;i++){const p=new J4(t[i],this,!1);p.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=p.bbox.ur.y),this.interiorRings.push(p)}this.multiPoly=r}getSweepEvents(){const t=this.exteriorRing.getSweepEvents();for(let r=0,i=this.interiorRings.length;r<i;r++){const s=this.interiorRings[r].getSweepEvents();for(let p=0,n=s.length;p<n;p++)t.push(s[p])}return t}}class eg{constructor(t,r){if(!Array.isArray(t))throw new Error("Input geometry is not a valid Polygon or MultiPolygon");try{typeof t[0][0][0]=="number"&&(t=[t])}catch{}this.polys=[],this.bbox={ll:{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY},ur:{x:Number.NEGATIVE_INFINITY,y:Number.NEGATIVE_INFINITY}};for(let i=0,s=t.length;i<s;i++){const p=new aN(t[i],this);p.bbox.ll.x<this.bbox.ll.x&&(this.bbox.ll.x=p.bbox.ll.x),p.bbox.ll.y<this.bbox.ll.y&&(this.bbox.ll.y=p.bbox.ll.y),p.bbox.ur.x>this.bbox.ur.x&&(this.bbox.ur.x=p.bbox.ur.x),p.bbox.ur.y>this.bbox.ur.y&&(this.bbox.ur.y=p.bbox.ur.y),this.polys.push(p)}this.isSubject=r}getSweepEvents(){const t=[];for(let r=0,i=this.polys.length;r<i;r++){const s=this.polys[r].getSweepEvents();for(let p=0,n=s.length;p<n;p++)t.push(s[p])}return t}}class cf{static factory(t){const r=[];for(let i=0,s=t.length;i<s;i++){const p=t[i];if(!p.isInResult()||p.ringOut)continue;let n=null,f=p.leftSE,m=p.rightSE;const g=[f],x=f.point,b=[];for(;n=f,f=m,g.push(f),f.point!==x;)for(;;){const F=f.getAvailableLinkedEvents();if(F.length===0){const O=g[0].point,U=g[g.length-1].point;throw new Error(`Unable to complete output ring starting at [${O.x}, ${O.y}]. Last matching segment found ends at [${U.x}, ${U.y}].`)}if(F.length===1){m=F[0].otherSE;break}let R=null;for(let O=0,U=b.length;O<U;O++)if(b[O].point===f.point){R=O;break}if(R!==null){const O=b.splice(R)[0],U=g.splice(O.index);U.unshift(U[0].otherSE),r.push(new cf(U.reverse()));continue}b.push({index:g.length,point:f.point});const I=f.getLeftmostComparator(n);m=F.sort(I)[0].otherSE;break}r.push(new cf(g))}return r}constructor(t){this.events=t;for(let r=0,i=t.length;r<i;r++)t[r].segment.ringOut=this;this.poly=null}getGeom(){let t=this.events[0].point;const r=[t];for(let g=1,x=this.events.length-1;g<x;g++){const b=this.events[g].point,F=this.events[g+1].point;$4(b,t,F)!==0&&(r.push(b),t=b)}if(r.length===1)return null;const i=r[0],s=r[1];$4(i,t,s)===0&&r.shift(),r.push(r[0]);const p=this.isExteriorRing()?1:-1,n=this.isExteriorRing()?0:r.length-1,f=this.isExteriorRing()?r.length:-1,m=[];for(let g=n;g!=f;g+=p)m.push([r[g].x,r[g].y]);return m}isExteriorRing(){if(this._isExteriorRing===void 0){const t=this.enclosingRing();this._isExteriorRing=t?!t.isExteriorRing():!0}return this._isExteriorRing}enclosingRing(){return this._enclosingRing===void 0&&(this._enclosingRing=this._calcEnclosingRing()),this._enclosingRing}_calcEnclosingRing(){let t=this.events[0];for(let s=1,p=this.events.length;s<p;s++){const n=this.events[s];Hu.compare(t,n)>0&&(t=n)}let r=t.segment.prevInResult(),i=r?r.prevInResult():null;for(;;){if(!r)return null;if(!i)return r.ringOut;if(i.ringOut!==r.ringOut)return i.ringOut.enclosingRing()!==r.ringOut?r.ringOut:r.ringOut.enclosingRing();r=i.prevInResult(),i=r?r.prevInResult():null}}}class tg{constructor(t){this.exteriorRing=t,t.poly=this,this.interiorRings=[]}addInterior(t){this.interiorRings.push(t),t.poly=this}getGeom(){const t=[this.exteriorRing.getGeom()];if(t[0]===null)return null;for(let r=0,i=this.interiorRings.length;r<i;r++){const s=this.interiorRings[r].getGeom();s!==null&&t.push(s)}return t}}class sN{constructor(t){this.rings=t,this.polys=this._composePolys(t)}getGeom(){const t=[];for(let r=0,i=this.polys.length;r<i;r++){const s=this.polys[r].getGeom();s!==null&&t.push(s)}return t}_composePolys(t){const r=[];for(let i=0,s=t.length;i<s;i++){const p=t[i];if(!p.poly)if(p.isExteriorRing())r.push(new tg(p));else{const n=p.enclosingRing();n.poly||r.push(new tg(n)),n.poly.addInterior(p)}}return r}}class uN{constructor(t){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xl.compare;this.queue=t,this.tree=new O6(r),this.segments=[]}process(t){const r=t.segment,i=[];if(t.consumedBy)return t.isLeft?this.queue.remove(t.otherSE):this.tree.remove(r),i;const s=t.isLeft?this.tree.add(r):this.tree.find(r);if(!s)throw new Error(`Unable to find segment #${r.id} [${r.leftSE.point.x}, ${r.leftSE.point.y}] -> [${r.rightSE.point.x}, ${r.rightSE.point.y}] in SweepLine tree.`);let p=s,n=s,f,m;for(;f===void 0;)p=this.tree.prev(p),p===null?f=null:p.key.consumedBy===void 0&&(f=p.key);for(;m===void 0;)n=this.tree.next(n),n===null?m=null:n.key.consumedBy===void 0&&(m=n.key);if(t.isLeft){let g=null;if(f){const b=f.getIntersection(r);if(b!==null&&(r.isAnEndpoint(b)||(g=b),!f.isAnEndpoint(b))){const F=this._splitSafely(f,b);for(let R=0,I=F.length;R<I;R++)i.push(F[R])}}let x=null;if(m){const b=m.getIntersection(r);if(b!==null&&(r.isAnEndpoint(b)||(x=b),!m.isAnEndpoint(b))){const F=this._splitSafely(m,b);for(let R=0,I=F.length;R<I;R++)i.push(F[R])}}if(g!==null||x!==null){let b=null;g===null?b=x:x===null?b=g:b=Hu.comparePoints(g,x)<=0?g:x,this.queue.remove(r.rightSE),i.push(r.rightSE);const F=r.split(b);for(let R=0,I=F.length;R<I;R++)i.push(F[R])}i.length>0?(this.tree.remove(r),i.push(t)):(this.segments.push(r),r.prev=f)}else{if(f&&m){const g=f.getIntersection(m);if(g!==null){if(!f.isAnEndpoint(g)){const x=this._splitSafely(f,g);for(let b=0,F=x.length;b<F;b++)i.push(x[b])}if(!m.isAnEndpoint(g)){const x=this._splitSafely(m,g);for(let b=0,F=x.length;b<F;b++)i.push(x[b])}}}this.tree.remove(r)}return i}_splitSafely(t,r){this.tree.remove(t);const i=t.rightSE;this.queue.remove(i);const s=t.split(r);return s.push(i),t.consumedBy===void 0&&this.tree.add(t),s}}const rg=typeof process<"u"&&p7.POLYGON_CLIPPING_MAX_QUEUE_SIZE||1e6,pN=typeof process<"u"&&p7.POLYGON_CLIPPING_MAX_SWEEPLINE_SEGMENTS||1e6;class cN{run(t,r,i){dp.type=t,dy.reset();const s=[new eg(r,!0)];for(let b=0,F=i.length;b<F;b++)s.push(new eg(i[b],!1));if(dp.numMultiPolys=s.length,dp.type==="difference"){const b=s[0];let F=1;for(;F<s.length;)q2(s[F].bbox,b.bbox)!==null?F++:s.splice(F,1)}if(dp.type==="intersection")for(let b=0,F=s.length;b<F;b++){const R=s[b];for(let I=b+1,O=s.length;I<O;I++)if(q2(R.bbox,s[I].bbox)===null)return[]}const p=new O6(Hu.compare);for(let b=0,F=s.length;b<F;b++){const R=s[b].getSweepEvents();for(let I=0,O=R.length;I<O;I++)if(p.insert(R[I]),p.size>rg)throw new Error("Infinite loop when putting segment endpoints in a priority queue (queue size too big).")}const n=new uN(p);let f=p.size,m=p.pop();for(;m;){const b=m.key;if(p.size===f){const R=b.segment;throw new Error(`Unable to pop() ${b.isLeft?"left":"right"} SweepEvent [${b.point.x}, ${b.point.y}] from segment #${R.id} [${R.leftSE.point.x}, ${R.leftSE.point.y}] -> [${R.rightSE.point.x}, ${R.rightSE.point.y}] from queue.`)}if(p.size>rg)throw new Error("Infinite loop when passing sweep line over endpoints (queue size too big).");if(n.segments.length>pN)throw new Error("Infinite loop when passing sweep line over endpoints (too many sweep line segments).");const F=n.process(b);for(let R=0,I=F.length;R<I;R++){const O=F[R];O.consumedBy===void 0&&p.insert(O)}f=p.size,m=p.pop()}dy.reset();const g=cf.factory(n.segments);return new sN(g).getGeom()}}const dp=new cN,lN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return dp.run("union",e,r)},dN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return dp.run("intersection",e,r)},yN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return dp.run("xor",e,r)},hN=function(e){for(var t=arguments.length,r=new Array(t>1?t-1:0),i=1;i<t;i++)r[i-1]=arguments[i];return dp.run("difference",e,r)};var fN={union:lN,intersection:dN,xor:yN,difference:hN};function mN(e,t,r){r===void 0&&(r={});var i=C3(e),s=C3(t),p=fN.union(i.coordinates,s.coordinates);return p.length===0?null:p.length===1?n6(p[0],r.properties):Xv(p,r.properties)}class _N{getCombineFeature(t){let r=null;const i=t[0];return t.map(s=>{const p=n6(s.coordinates);r===null?r=p:r=mN(r,p)}),i&&(r.properties=wt({},i)),r}}const Cd="select",Id="active";class gN{constructor({layerService:t,tileLayerService:r,parent:i}){G(this,"layerService",void 0),G(this,"tileLayerService",void 0),G(this,"tileSourceService",void 0),G(this,"parent",void 0),G(this,"tilePickID",new Map),this.layerService=t,this.tileLayerService=r,this.parent=i,this.tileSourceService=new _N}pickRender(t){const r=this.tileLayerService.getVisibleTileBylngLat(t.lngLat);if(r){const i=r.getMainLayer();i==null||i.layerPickService.pickRender(t)}}pick(t,r){var i=this;return Rt(function*(){const p=i.parent.getContainer().pickingService;if(t.type==="RasterLayer"){const n=i.tileLayerService.getVisibleTileBylngLat(r.lngLat);if(n&&n.getMainLayer()!==void 0){const f=n.getMainLayer();return f.layerPickService.pickRasterLayer(f,r,i.parent)}return!1}return i.pickRender(r),p.pickFromPickingFBO(t,r)})()}selectFeature(t){const[r,i,s]=t,p=this.color2PickId(r,i,s);this.tilePickID.set(Cd,p),this.updateHighLight(r,i,s,Cd)}highlightPickedFeature(t){const[r,i,s]=t,p=this.color2PickId(r,i,s);this.tilePickID.set(Id,p),this.updateHighLight(r,i,s,Id)}updateHighLight(t,r,i,s){this.tileLayerService.tiles.map(p=>{const n=p.getMainLayer();switch(s){case Cd:n==null||n.hooks.beforeSelect.call([t,r,i]);break;case Id:n==null||n.hooks.beforeHighlight.call([t,r,i]);break}})}setPickState(){const t=this.tilePickID.get(Cd),r=this.tilePickID.get(Id);if(t){const[i,s,p]=this.pickId2Color(t);this.updateHighLight(i,s,p,Cd);return}if(r){const[i,s,p]=this.pickId2Color(r);this.updateHighLight(i,s,p,Id);return}}color2PickId(t,r,i){return p1(new Uint8Array([t,r,i]))}pickId2Color(t){return T0(t)}getFeatureById(t){const r=this.tileLayerService.getTiles().filter(s=>s.visible),i=[];return r.forEach(s=>{i.push(...s.getFeatureById(t))}),i}pickRasterLayer(){return!1}}function vN(e){return e==="PolygonLayer"?u7:e==="LineLayer"?e7:ly}function EN(e){return["PolygonLayer","LineLayer"].indexOf(e)!==-1}class P1 extends du.EventEmitter{constructor(t,r){super(),G(this,"x",void 0),G(this,"y",void 0),G(this,"z",void 0),G(this,"key",void 0),G(this,"parent",void 0),G(this,"sourceTile",void 0),G(this,"visible",!0),G(this,"layers",[]),G(this,"isLoaded",!1),G(this,"tileMaskLayers",[]),G(this,"tileMask",void 0),this.parent=r,this.sourceTile=t,this.x=t.x,this.y=t.y,this.z=t.z,this.key=`${this.x}_${this.y}_${this.z}`}getLayers(){return this.layers}styleUpdate(...t){}lnglatInBounds(t){const[r,i,s,p]=this.sourceTile.bounds,{lng:n,lat:f}=t;return n>=r&&n<=s&&f>=i&&f<=p}getLayerOptions(){var t;const r=this.parent.getLayerConfig();return wt(wt({},r),{},{textAllowOverlap:!0,autoFit:!1,maskLayers:this.getMaskLayer(),tileMask:EN(this.parent.type),mask:r.mask||((t=r.maskLayers)===null||t===void 0?void 0:t.length)!==0&&r.enableMask})}getMaskLayer(){const{maskLayers:t}=this.parent.getLayerConfig(),r=[];return t==null||t.forEach(i=>{if(!i.tileLayer)return r.push(i),i;const p=i.tileLayer.getTile(this.sourceTile.key),n=p==null?void 0:p.getLayers()[0];n&&r.push(n)}),r}addTileMask(){var t=this;return Rt(function*(){const r=new u7({name:"mask",visible:!0,enablePicking:!1}).source({type:"FeatureCollection",features:[t.sourceTile.bboxPolygon]},{parser:{type:"geojson",featureId:"id"}}).shape("fill").color("#0f0").style({opacity:.5}),i=Kd(t.parent.container);r.setContainer(i),yield r.init(),t.tileMask=r;const s=t.getMainLayer();return s!==void 0&&(s.tileMask=r),r})()}addMask(t,r){var i=this;return Rt(function*(){const s=Kd(i.parent.container);r.setContainer(s),yield r.init(),t.addMask(r),i.tileMaskLayers.push(r)})()}addLayer(t){var r=this;return Rt(function*(){t.isTileLayer=!0;const i=Kd(r.parent.container);t.setContainer(i),r.layers.push(t),yield t.init()})()}updateVisible(t){this.visible=t,this.updateOptions("visible",t)}updateOptions(t,r){this.layers.forEach(i=>{i.updateLayerConfig({[t]:r})})}getMainLayer(){return this.layers[0]}getFeatures(t){return[]}getFeatureById(t){return[]}destroy(){var t;(t=this.tileMask)===null||t===void 0||t.destroy(),this.layers.forEach(r=>r.destroy())}}class xN extends P1{initTileLayer(){var t=this;return Rt(function*(){const r=t.getSourceOption(),i=r.data.features[0].properties,s=new e7().source(r.data,r.options).size(1).shape("line").color("red"),p=new ly({minZoom:t.z-1,maxZoom:t.z+1,textAllowOverlap:!0}).source([i],{parser:{type:"json",x:"x",y:"y"}}).size(20).color("red").shape(t.key).style({stroke:"#fff",strokeWidth:2});yield t.addLayer(s),yield t.addLayer(p),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:{type:"FeatureCollection",features:this.sourceTile.data.layers.testTile.features},options:{parser:{type:"geojson"},transforms:t.transforms}}}}class PN extends P1{initTileLayer(){var t=this;return Rt(function*(){const r=t.parent.getLayerAttributeConfig(),i=t.getLayerOptions(),s=t.getSourceOption(),p=new qC(wt({},i)).source(s.data,s.options);r&&Object.keys(r).forEach(n=>{var f,m;const g=n;p[g]((f=r[g])===null||f===void 0?void 0:f.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(p),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:t.transforms}}}}const bN=`layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

out vec4 outputColor;

void main() {
  outputColor = u_color;
  outputColor.a *= u_opacity;
}
`,AN=`layout(location = ATTRIBUTE_LOCATION_POSITION) in vec3 a_Position;

layout(std140) uniform commonUniorm {
  vec4 u_color;
  float u_opacity;
};

#pragma include "projection"

void main() {
  vec4 project_pos = project_position(vec4(a_Position, 1.0));
  gl_Position = project_common_position_to_clipspace(vec4(project_pos.xyz, 1.0));
}

`;class FN extends Pi{getUninforms(){const t=this.getCommonUniformsInfo(),r=this.getUniformsBufferInfo(this.getStyleAttribute());return this.updateStyleUnifoms(),wt(wt({},t.uniformsOption),r.uniformsOption)}getCommonUniformsInfo(){const{opacity:t=1,color:r="#000"}=this.layer.getLayerConfig(),i={u_color:Di(r),u_opacity:t||1};return this.getUniformsBufferInfo(i)}initModels(){var t=this;return Rt(function*(){return t.buildModels()})()}buildModels(){var t=this;return Rt(function*(){return t.initUniformsBuffer(),[yield t.layer.buildLayerModel({moduleName:"mask",vertexShader:AN,fragmentShader:bN,defines:t.getDefines(),triangulation:vy,depth:{enable:!1},pick:!1})]})()}clearModels(t=!0){t&&this.layerService.clear()}registerBuiltinAttributes(){return""}}const TN={fill:FN};class l7 extends x1{constructor(...t){super(...t),G(this,"type","MaskLayer")}buildModels(){var t=this;return Rt(function*(){const r=t.getModelType();t.layerModel=new TN[r](t),yield t.initLayerModels()})()}getModelType(){return"fill"}}class SN extends P1{initTileLayer(){var t=this;return Rt(function*(){const r=t.parent.getLayerAttributeConfig(),i=t.getLayerOptions(),s=t.getSourceOption(),p=new l7(wt({},i)).source(s.data,s.options);r&&Object.keys(r).forEach(n=>{var f,m;const g=n;p[g]((f=r[g])===null||f===void 0?void 0:f.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(p),t.isLoaded=!0})()}getFeatures(t){return t?this.sourceTile.data.getTileData(t):[]}getSourceOption(){const t=this.parent.getSource(),{sourceLayer:r,featureId:i}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(r)},options:{parser:{type:"geojson",featureId:i},transforms:t.transforms}}}}const RN=["rasterData"];let wN=class extends P1{initTileLayer(){var t=this;return Rt(function*(){const r=t.parent.getLayerAttributeConfig(),i=t.getLayerOptions(),s=t.getSourceOption(),p=new D6(wt({},i)).source(s.data,s.options);r&&Object.keys(r).forEach(n=>{var f,m;const g=n;p[g]((f=r[g])===null||f===void 0?void 0:f.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(p),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource(),r=this.sourceTile.data.data,{rasterData:i}=r,s=Zp(r,RN);return{data:i,options:{parser:wt({type:"rasterRgb",extent:this.sourceTile.bounds},s),transforms:t.transforms}}}};class CN extends P1{initTileLayer(){var t=this;return Rt(function*(){const r=t.parent.getLayerAttributeConfig(),i=t.getLayerOptions(),s=t.getSourceOption(),p=new D6(wt({},i)).source(s.data,s.options);r&&Object.keys(r).forEach(n=>{var f,m;const g=n;p[g]((f=r[g])===null||f===void 0?void 0:f.field,(m=r[g])===null||m===void 0?void 0:m.values)}),yield t.addLayer(p),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource();return{data:this.sourceTile.data,options:{parser:{type:"image",extent:this.sourceTile.bounds},transforms:t.transforms}}}}const IN=["rasterData"],MN={positions:[0,1],colors:["#000","#fff"]};class NN extends P1{constructor(...t){super(...t),G(this,"colorTexture",void 0)}initTileLayer(){var t=this;return Rt(function*(){const r=t.parent.getLayerAttributeConfig(),i=t.getLayerOptions(),s=t.getSourceOption(),{rampColors:p,domain:n}=t.getLayerOptions();t.colorTexture=t.parent.textureService.getColorTexture(p,n);const f=new D6(wt(wt({},i),{},{colorTexture:t.colorTexture})).source(s.data,s.options);r&&Object.keys(r).forEach(m=>{var g,x;const b=m;f[b]((g=r[b])===null||g===void 0?void 0:g.field,(x=r[b])===null||x===void 0?void 0:x.values)}),yield t.addLayer(f),t.isLoaded=!0})()}getSourceOption(){const t=this.parent.getSource(),r=this.sourceTile.data.data,{rasterData:i}=r,s=Zp(r,IN);return{data:i,options:{parser:wt({type:"raster",extent:this.sourceTile.bounds},s),transforms:t.transforms}}}styleUpdate(...t){const{rampColors:r=MN,domain:i}=t;this.colorTexture=this.parent.textureService.getColorTexture(r,i||y6(r)),this.layers.forEach(s=>s.style({colorTexture:this.colorTexture}))}destroy(){this.layers.forEach(t=>t.destroy())}}class hh extends P1{initTileLayer(){var t=this;return Rt(function*(){const r=t.parent.getLayerAttributeConfig(),i=t.getLayerOptions(),s=vN(t.parent.type),p=t.getSourceOption();if(!p){t.isLoaded=!0,t.emit("loaded");return}const n=new s(wt({},i)).source(p.data,p.options);Object.keys(r).forEach(f=>{var m,g;const x=f;n[x]((m=r[x])===null||m===void 0?void 0:m.field,(g=r[x])===null||g===void 0?void 0:g.values)}),yield t.addLayer(n),i.tileMask&&(yield t.addTileMask()),t.setLayerMinMaxZoom(n),t.isLoaded=!0,t.emit("loaded")})()}getSourceOption(){const t=this.parent.getSource(),{sourceLayer:r="defaultLayer",featureId:i="id"}=this.parent.getLayerConfig();return{data:{type:"FeatureCollection",features:this.getFeatures(r)},options:{parser:{type:"geojson",featureId:i},transforms:t.transforms}}}setLayerMinMaxZoom(t){t.getModelType()==="text"&&t.updateLayerConfig({maxZoom:this.z+1,minZoom:this.z-1})}getFeatures(t){return this.sourceTile.data.getTileData(t)}getFeatureById(t){const r=this.getMainLayer();return r?r.getSource().data.dataArray.filter(s=>s._id===t):[]}}function DN(e){switch(e.type){case"PolygonLayer":return hh;case"LineLayer":return hh;case"PointLayer":return hh;case"TileDebugLayer":return xN;case"MaskLayer":return SN;case"RasterLayer":const{dataType:r}=e.getSource().parser;switch(r){case Va.RGB:case Va.CUSTOMRGB:return wN;case Va.ARRAYBUFFER:case Va.CUSTOMARRAYBUFFER:return NN;case Va.TERRAINRGB:case Va.CUSTOMTERRAINRGB:return CN;default:return PN}default:return hh}}const ON=["shape","color","size","style","animate","filter","rotate","scale","setBlend","setSelect","setActive","disableMask","enableMask","addMask","removeMask"],{debounce:LN}=Kn;class BN{constructor(t){G(this,"parent",void 0),G(this,"tileLayerService",void 0),G(this,"mapService",void 0),G(this,"layerService",void 0),G(this,"rendererService",void 0),G(this,"pickingService",void 0),G(this,"tilePickService",void 0),G(this,"tilesetManager",void 0),G(this,"initedTileset",!1),G(this,"lastViewStates",void 0),G(this,"mapchange",()=>{var i;if(this.parent.isVisible()===!1)return;const{latLonBounds:s,zoom:p}=this.getCurrentView();this.lastViewStates&&this.lastViewStates.zoom===p&&this.lastViewStates.latLonBounds.toString()===s.toString()||(this.lastViewStates={zoom:p,latLonBounds:s},(i=this.tilesetManager)===null||i===void 0||i.throttleUpdate(p,s))}),G(this,"viewchange",LN(this.mapchange,24)),this.parent=t;const r=this.parent.getContainer();this.rendererService=r.rendererService,this.layerService=r.layerService,this.mapService=r.mapService,this.pickingService=r.pickingService,this.tileLayerService=new zM({rendererService:this.rendererService,layerService:this.layerService,parent:t}),this.tilePickService=new gN({tileLayerService:this.tileLayerService,layerService:this.layerService,parent:t}),this.parent.setLayerPickService(this.tilePickService),this.proxy(t),this.initTileSetManager()}initTileSetManager(){var t;const r=this.parent.getSource();if(this.tilesetManager=r.tileset,this.initedTileset||(this.bindTilesetEvent(),this.initedTileset=!0),this.parent.isVisible()===!1)return;const{latLonBounds:i,zoom:s}=this.getCurrentView();(t=this.tilesetManager)===null||t===void 0||t.update(s,i)}getCurrentView(){const t=this.mapService.getBounds(),r=[t[0][0],t[0][1],t[1][0],t[1][1]],i=this.mapService.getZoom();return{latLonBounds:r,zoom:i}}bindTilesetEvent(){this.tilesetManager.on("tile-loaded",t=>{}),this.tilesetManager.on("tile-unload",t=>{this.tileUnLoad(t)}),this.tilesetManager.on("tile-error",(t,r)=>{this.tileError(t)}),this.tilesetManager.on("tile-update",()=>{this.tileUpdate()}),this.mapService.on("zoomend",this.mapchange),this.mapService.on("moveend",this.viewchange)}render(){this.tileLayerService.render()}getLayers(){return this.tileLayerService.getLayers()}getTiles(){return this.tileLayerService.getTiles()}getTile(t){return this.tileLayerService.getTile(t)}tileLoaded(t){}tileError(t){console.warn("error:",t)}destroy(){var t;this.mapService.off("zoomend",this.mapchange),this.mapService.off("moveend",this.viewchange),(t=this.tilesetManager)===null||t===void 0||t.destroy(),this.tileLayerService.destroy()}reload(){var t;this.tilesetManager.clear();const{latLonBounds:r,zoom:i}=this.getCurrentView();(t=this.tilesetManager)===null||t===void 0||t.update(i,r)}tileUnLoad(t){this.tileLayerService.removeTile(t.key)}tileUpdate(){var t=this;return Rt(function*(){if(!t.tilesetManager)return;const r=t.parent.getMinZoom(),i=t.parent.getMaxZoom(),s=t.tilesetManager.tiles.filter(p=>p.isLoaded).filter(p=>p.isVisibleChange).filter(p=>p.data).filter(p=>p.z>=r&&p.z<i);yield Promise.all(s.map(function(){var p=Rt(function*(n){if(t.tileLayerService.hasTile(n.key))t.tileLayerService.updateTileVisible(n),t.tilePickService.setPickState(),t.layerService.reRender();else{const f=DN(t.parent),m=new f(n,t.parent);yield m.initTileLayer(),t.tilePickService.setPickState(),m.getLayers().length!==0&&(t.tileLayerService.addTile(m),t.tileLayerService.updateTileVisible(n),t.layerService.reRender())}});return function(n){return p.apply(this,arguments)}}())),t.tilesetManager.isLoaded&&t.parent.emit("tiles-loaded",t.tilesetManager.currentTiles)})()}setPickState(t){}pickRender(t){this.tilePickService.pickRender(t)}selectFeature(t){this.tilePickService.selectFeature(t)}highlightPickedFeature(t){this.tilePickService.highlightPickedFeature(t)}proxy(t){ON.forEach(r=>{const i=t[r].bind(t);t[r]=(...s)=>(i(...s),this.getLayers().map(p=>{p[r](...s)}),r==="style"&&this.getTiles().forEach(p=>p.styleUpdate(...s)),t)})}}function UN(e,t){var r=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,i=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(r||i)&&(t||(t=document),!!t)){var s=t.head||t.getElementsByTagName("head")[0];if(!s){s=t.createElement("head");var p=t.body||t.getElementsByTagName("body")[0];p?p.parentNode.insertBefore(s,p):t.documentElement.appendChild(s)}var n=t.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),s.appendChild(n),n}}UN(`.l7-marker-container {
  position: absolute;
  width: 100%;
  height: 100%;
  overflow: hidden;
}
.l7-marker {
  position: absolute !important;
  top: 0;
  left: 0;
  z-index: 5;
  cursor: pointer;
}
.l7-marker-cluster {
  width: 40px;
  height: 40px;
  background-color: rgba(181, 226, 140, 0.6);
  background-clip: padding-box;
  border-radius: 20px;
}
.l7-marker-cluster div {
  width: 30px;
  height: 30px;
  margin-top: 5px;
  margin-left: 5px;
  font:
    12px 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
  text-align: center;
  background-color: rgba(110, 204, 57, 0.6);
  border-radius: 15px;
}
.l7-marker-cluster span {
  line-height: 30px;
}
.l7-touch .l7-control-attribution,
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  box-shadow: none;
}
.l7-touch .l7-control-layers,
.l7-touch .l7-bar {
  background-clip: padding-box;
  border: 2px solid rgba(0, 0, 0, 0.2);
}
.mapboxgl-ctrl-logo,
.amap-logo {
  display: none !important;
}
.l7-select-box {
  border: 3px dashed gray;
  border-radius: 2px;
  position: absolute;
  z-index: 999;
  box-sizing: border-box;
}
.l7-control-container {
  font:
    12px/1.5 'Helvetica Neue',
    Arial,
    Helvetica,
    sans-serif;
}
.l7-control-container .l7-control {
  position: relative;
  z-index: 999;
  float: left;
  clear: both;
  color: #595959;
  font-size: 12px;
  pointer-events: visiblePainted;
  /* IE 9-10 doesn't have auto */
  pointer-events: auto;
}
.l7-control-container .l7-control.l7-control--hide {
  display: none;
}
.l7-control-container .l7-top {
  top: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-top .l7-control:not(.l7-control--hide) {
  margin-top: 8px;
}
.l7-control-container .l7-right {
  right: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-right .l7-control:not(.l7-control--hide) {
  margin-right: 8px;
}
.l7-control-container .l7-bottom {
  bottom: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-bottom .l7-control:not(.l7-control--hide) {
  margin-bottom: 8px;
}
.l7-control-container .l7-left {
  left: 0;
  display: flex;
  position: absolute;
  z-index: 999;
  pointer-events: none;
}
.l7-control-container .l7-left .l7-control:not(.l7-control--hide) {
  margin-left: 8px;
}
.l7-control-container .l7-center {
  position: absolute;
  display: flex;
  justify-content: center;
}
.l7-control-container .l7-center.l7-top,
.l7-control-container .l7-center.l7-bottom {
  width: 100%;
}
.l7-control-container .l7-center.l7-left,
.l7-control-container .l7-center.l7-right {
  height: 100%;
}
.l7-control-container .l7-center .l7-control {
  margin-right: 8px;
  margin-bottom: 8px;
}
.l7-control-container .l7-row {
  flex-direction: row;
}
.l7-control-container .l7-row.l7-top {
  align-items: flex-start;
}
.l7-control-container .l7-row.l7-bottom {
  align-items: flex-end;
}
.l7-control-container .l7-column {
  flex-direction: column;
}
.l7-control-container .l7-column.l7-left {
  align-items: flex-start;
}
.l7-control-container .l7-column.l7-right {
  align-items: flex-end;
}
.l7-button-control {
  min-width: 28px;
  height: 28px;
  background-color: #fff;
  border-width: 0;
  border-radius: 2px;
  outline: 0;
  cursor: pointer;
  transition: all 0.2s;
  display: flex;
  justify-content: center;
  align-items: center;
  padding: 0 6px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  line-height: 16px;
}
.l7-button-control .l7-iconfont {
  fill: #595959;
  color: #595959;
  width: 16px;
  height: 16px;
}
.l7-button-control.l7-button-control--row {
  padding: 0 16px 0 13px;
}
.l7-button-control.l7-button-control--row * + .l7-button-control__text {
  margin-left: 8px;
}
.l7-button-control.l7-button-control--column {
  height: 44px;
  flex-direction: column;
}
.l7-button-control.l7-button-control--column .l7-iconfont {
  margin-top: 3px;
}
.l7-button-control.l7-button-control--column .l7-button-control__text {
  margin-top: 3px;
  font-size: 10px;
  -webkit-transform: scale(0.83333);
          transform: scale(0.83333);
}
.l7-button-control:not(:disabled):hover {
  background-color: #f3f3f3;
}
.l7-button-control:not(:disabled):active {
  background-color: #f3f3f3;
}
.l7-button-control:disabled {
  background-color: #fafafa;
  color: #bdbdbd;
  cursor: not-allowed;
}
.l7-button-control:disabled .l7-iconfont {
  fill: #bdbdbd;
  color: #bdbdbd;
}
.l7-button-control:disabled:hover {
  background-color: #fafafa;
}
.l7-button-control:disabled:active {
  background-color: #fafafa;
}
.l7-popper {
  position: absolute;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 5;
  color: #595959;
}
.l7-popper.l7-popper-hide {
  display: none;
}
.l7-popper .l7-popper-content {
  min-height: 28px;
  background: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper .l7-popper-arrow {
  width: 0;
  height: 0;
  border-width: 4px;
  border-style: solid;
  border-top-color: transparent;
  border-bottom-color: transparent;
  border-left-color: transparent;
  border-right-color: transparent;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-popper.l7-popper-left {
  flex-direction: row;
}
.l7-popper.l7-popper-left .l7-popper-arrow {
  border-left-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-right {
  flex-direction: row-reverse;
}
.l7-popper.l7-popper-right .l7-popper-arrow {
  border-right-color: #fff;
  margin: 10px 0;
}
.l7-popper.l7-popper-top {
  flex-direction: column;
}
.l7-popper.l7-popper-top .l7-popper-arrow {
  border-top-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-bottom {
  flex-direction: column-reverse;
}
.l7-popper.l7-popper-bottom .l7-popper-arrow {
  border-bottom-color: #fff;
  margin: 0 10px;
}
.l7-popper.l7-popper-start {
  align-items: flex-start;
}
.l7-popper.l7-popper-end {
  align-items: flex-end;
}
.l7-select-control--normal {
  padding: 4px 0;
}
.l7-select-control--normal .l7-select-control-item {
  display: flex;
  align-items: center;
  height: 24px;
  padding: 0 16px;
  font-size: 12px;
  line-height: 24px;
}
.l7-select-control--normal .l7-select-control-item > * + * {
  margin-left: 6px;
}
.l7-select-control--normal .l7-select-control-item input[type='checkbox'] {
  width: 14px;
  height: 14px;
}
.l7-select-control--normal .l7-select-control-item:hover {
  background-color: #f3f3f3;
}
.l7-select-control--image {
  display: flex;
  flex-wrap: wrap;
  align-items: flex-start;
  box-sizing: content-box;
  max-width: 460px;
  max-height: 400px;
  margin: 12px 0 0 12px;
  overflow-x: hidden;
  overflow-y: auto;
}
.l7-select-control--image .l7-select-control-item {
  position: relative;
  display: flex;
  flex: 0 0 calc((100% - (12px + 9px) * 2) / 3);
  flex-direction: column;
  justify-content: center;
  box-sizing: content-box;
  margin-right: 12px;
  margin-bottom: 12px;
  overflow: hidden;
  font-size: 12px;
  border: 1px solid #fff;
  border-radius: 2px;
}
.l7-select-control--image .l7-select-control-item img {
  width: 100%;
  height: 80px;
}
.l7-select-control--image .l7-select-control-item input[type='checkbox'] {
  position: absolute;
  top: 0;
  right: 0;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row {
  display: flex;
  align-items: center;
  justify-content: center;
  line-height: 26px;
}
.l7-select-control--image .l7-select-control-item .l7-select-control-item-row > * + * {
  margin-left: 8px;
}
.l7-select-control--image .l7-select-control-item.l7-select-control-item-active {
  border-color: #0370fe;
}
.l7-select-control-item {
  cursor: pointer;
}
.l7-select-control-item input[type='checkbox'] {
  margin: 0;
  cursor: pointer;
}
.l7-select-control--multiple .l7-select-control-item:hover {
  background-color: transparent;
}
.l7-control-logo {
  width: 89px;
  height: 16px;
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.l7-control-logo img {
  height: 100%;
  width: 100%;
}
.l7-control-logo .l7-control-logo-link {
  display: block;
  cursor: pointer;
}
.l7-control-logo .l7-control-logo-link img {
  cursor: pointer;
}
.l7-control-mouse-location {
  background-color: #fff;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
  padding: 2px 4px;
  min-width: 130px;
}
.l7-control-zoom {
  overflow: hidden;
  border-radius: 2px;
  box-shadow: 0 0 20px 0 rgba(0, 0, 0, 0.15);
}
.l7-control-zoom .l7-button-control {
  font-size: 16px;
  border-bottom: 1px solid #f0f0f0;
  border-radius: 0;
  box-shadow: 0 0 0;
}
.l7-control-zoom .l7-button-control .l7-iconfont {
  width: 14px;
  height: 14px;
}
.l7-control-zoom .l7-button-control:last-child {
  border-bottom: 0;
}
.l7-control-zoom .l7-control-zoom__number {
  color: #595959;
  padding: 0;
}
.l7-control-zoom .l7-control-zoom__number:hover {
  background-color: #fff;
}
.l7-control-scale {
  display: flex;
  flex-direction: column;
}
.l7-control-scale .l7-control-scale-line {
  box-sizing: border-box;
  padding: 2px 5px 1px;
  overflow: hidden;
  color: #595959;
  font-size: 10px;
  line-height: 1.1;
  white-space: nowrap;
  background: #fff;
  border: 2px solid #000;
  border-top: 0;
  transition: width 0.1s;
}
.l7-control-scale .l7-control-scale-line + .l7-control-scale .l7-control-scale-line {
  margin-top: -2px;
  border-top: 2px solid #777;
  border-bottom: none;
}
.l7-right .l7-control-scale {
  display: flex;
  align-items: flex-end;
}
.l7-right .l7-control-scale .l7-control-scale-line {
  text-align: right;
}
.l7-popup {
  position: absolute;
  top: 0;
  left: 0;
  z-index: 5;
  display: flex;
  will-change: transform;
  pointer-events: none;
}
.l7-popup.l7-popup-hide {
  display: none;
}
.l7-popup .l7-popup-content {
  position: relative;
  padding: 16px;
  font-size: 14px;
  background: #fff;
  border-radius: 3px;
  box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
}
.l7-popup .l7-popup-content .l7-popup-content__title {
  margin-bottom: 8px;
  font-weight: bold;
}
.l7-popup .l7-popup-content .l7-popup-close-button,
.l7-popup .l7-popup-content .l7-popup-content__title,
.l7-popup .l7-popup-content .l7-popup-content__panel {
  white-space: normal;
  -webkit-user-select: text;
     -moz-user-select: text;
      -ms-user-select: text;
          user-select: text;
  pointer-events: initial;
}
.l7-popup .l7-popup-content .l7-popup-close-button {
  position: absolute;
  top: 0;
  right: 0;
  width: 18px;
  height: 18px;
  padding: 0;
  font-size: 14px;
  line-height: 18px;
  text-align: center;
  background-color: transparent;
  border: 0;
  border-radius: 0 3px 0 0;
  cursor: pointer;
}
.l7-popup .l7-popup-tip {
  position: relative;
  z-index: 1;
  width: 0;
  height: 0;
  border: 10px solid transparent;
}
.l7-popup.l7-popup-anchor-bottom,
.l7-popup.l7-popup-anchor-bottom-left,
.l7-popup.l7-popup-anchor-bottom-right {
  flex-direction: column-reverse;
}
.l7-popup.l7-popup-anchor-bottom .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-bottom-right .l7-popup-tip {
  bottom: 1px;
}
.l7-popup.l7-popup-anchor-top,
.l7-popup.l7-popup-anchor-top-left,
.l7-popup.l7-popup-anchor-top-right {
  flex-direction: column;
}
.l7-popup.l7-popup-anchor-top .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-left .l7-popup-tip,
.l7-popup.l7-popup-anchor-top-right .l7-popup-tip {
  top: 1px;
}
.l7-popup.l7-popup-anchor-left {
  flex-direction: row;
}
.l7-popup.l7-popup-anchor-right {
  flex-direction: row-reverse;
}
.l7-popup-anchor-top .l7-popup-tip {
  position: relative;
  align-self: center;
  border-top: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-tip {
  align-self: flex-start;
  border-top: none;
  border-bottom-color: #fff;
  border-left: none;
}
.l7-popup-anchor-top-right .l7-popup-tip {
  align-self: flex-end;
  border-top: none;
  border-right: none;
  border-bottom-color: #fff;
}
.l7-popup-anchor-bottom .l7-popup-tip {
  align-self: center;
  border-top-color: #fff;
  border-bottom: none;
}
.l7-popup-anchor-bottom-left .l7-popup-tip {
  align-self: flex-start;
  border-top-color: #fff;
  border-bottom: none;
  border-left: none;
}
.l7-popup-anchor-bottom-right .l7-popup-tip {
  align-self: flex-end;
  border-top-color: #fff;
  border-right: none;
  border-bottom: none;
}
.l7-popup-anchor-left .l7-popup-tip {
  align-self: center;
  border-right-color: #fff;
  border-left: none;
}
.l7-popup-anchor-right .l7-popup-tip {
  right: 1px;
  align-self: center;
  border-right: none;
  border-left-color: #fff;
}
.l7-popup-anchor-top-left .l7-popup-content {
  border-top-left-radius: 0;
}
.l7-popup-anchor-top-right .l7-popup-content {
  border-top-right-radius: 0;
}
.l7-popup-anchor-bottom-left .l7-popup-content {
  border-bottom-left-radius: 0;
}
.l7-popup-anchor-bottom-right .l7-popup-content {
  border-bottom-right-radius: 0;
}
.l7-popup-track-pointer {
  display: none;
}
.l7-popup-track-pointer * {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
  pointer-events: none;
}
.l7-map:hover .l7-popup-track-pointer {
  display: flex;
}
.l7-map:active .l7-popup-track-pointer {
  display: none;
}
.l7-layer-popup__row {
  font-size: 12px;
}
.l7-layer-popup__row + .l7-layer-popup__row {
  margin-top: 4px;
}
.l7-control-swipe {
  position: absolute;
  top: 50%;
  left: 50%;
  z-index: 6;
  -webkit-transform: translate(-50%, -50%);
          transform: translate(-50%, -50%);
  touch-action: none;
}
.l7-control-swipe_hide {
  display: none;
}
.l7-control-swipe:before {
  position: absolute;
  top: -5000px;
  bottom: -5000px;
  left: 50%;
  z-index: -1;
  width: 4px;
  background: #fff;
  -webkit-transform: translate(-2px, 0);
          transform: translate(-2px, 0);
  content: '';
}
.l7-control-swipe.horizontal:before {
  top: 50%;
  right: -5000px;
  bottom: auto;
  left: -5000px;
  width: auto;
  height: 4px;
}
.l7-control-swipe__button {
  display: block;
  width: 28px;
  height: 28px;
  margin: 0;
  padding: 0;
  color: #595959;
  font-weight: bold;
  font-size: inherit;
  text-align: center;
  text-decoration: none;
  background-color: #fff;
  border: none;
  border-radius: 2px;
  outline: none;
}
.l7-control-swipe,
.l7-control-swipe__button {
  cursor: ew-resize;
}
.l7-control-swipe.horizontal,
.l7-control-swipe.horizontal button {
  cursor: ns-resize;
}
.l7-control-swipe:after,
.l7-control-swipe__button:before,
.l7-control-swipe__button:after {
  position: absolute;
  top: 25%;
  bottom: 25%;
  left: 50%;
  width: 2px;
  background: currentColor;
  -webkit-transform: translate(-1px, 0);
          transform: translate(-1px, 0);
  content: '';
}
.l7-control-swipe__button:after {
  -webkit-transform: translateX(4px);
          transform: translateX(4px);
}
.l7-control-swipe__button:before {
  -webkit-transform: translateX(-6px);
          transform: translateX(-6px);
}
`);class kN{constructor(t){G(this,"configService",void 0),G(this,"config",void 0),this.config=t}setContainer(t,r){this.configService=t.globalConfigService,t.mapConfig=wt(wt({},this.config),{},{id:r}),t.mapService=new(this.getServiceConstructor())(t)}getServiceConstructor(){throw new Error("Method not implemented.")}}class zN{constructor(t){G(this,"size",1e4),this.size=t||1e4}setSize(t){this.size=t}getSize(){return[this.size,this.size]}mercatorXfromLng(t){return(180+t)/360*this.size}mercatorYfromLat(t){return(1-(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360)*this.size}lngFromMercatorX(t){return t/this.size*360-180}latFromMercatorY(t){const r=180-(1-t/this.size)*360;return 360/Math.PI*Math.atan(Math.exp(r*Math.PI/180))-90}project(t){const r=this.mercatorXfromLng(t[0]),i=this.mercatorYfromLat(t[1]);return[r,i]}unproject(t){const r=this.lngFromMercatorX(t[0]),i=this.latFromMercatorY(t[1]);return[r,i]}}function d7(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function VN(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,gv(i.key),i)}}function y7(e,t,r){return t&&VN(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function jd(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function HN(e,t){if(t&&(vv(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jd(e)}function $2(e){return $2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},$2(e)}function K2(e,t){return K2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},K2(e,t)}function GN(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),K2(e,t)}function jN(e){if(Array.isArray(e))return e}function WN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var i,s,p,n,f=[],m=!0,g=!1;try{if(p=(r=r.call(e)).next,t===0){if(Object(r)!==r)return;m=!1}else for(;!(m=(i=p.call(r)).done)&&(f.push(i.value),f.length!==t);m=!0);}catch(x){g=!0,s=x}finally{try{if(!m&&r.return!=null&&(n=r.return(),Object(n)!==n))return}finally{if(g)throw s}}return f}}function og(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,i=Array(t);r<t;r++)i[r]=e[r];return i}function XN(e,t){if(e){if(typeof e=="string")return og(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?og(e,t):void 0}}function ZN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ju(e,t){return jN(e)||WN(e,t)||XN(e,t)||ZN()}function Qd(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function wh(e,t){var r=i6([],t,e);return Lv(r,r,1/r[3]),r}function _1(e,t){if(!e)throw new Error(t||"viewport-mercator-project: assertion failed.")}var yp=Math.PI,h7=yp/4,Pl=yp/180,ig=180/yp,L6=512,ng=4003e4,YN=1.5;function f7(e){return Math.pow(2,e)}function n2(e,t){var r=ju(e,2),i=r[0],s=r[1];_1(Number.isFinite(i)&&Number.isFinite(t)),_1(Number.isFinite(s)&&s>=-90&&s<=90,"invalid latitude"),t*=L6;var p=i*Pl,n=s*Pl,f=t*(p+yp)/(2*yp),m=t*(yp-Math.log(Math.tan(h7+n*.5)))/(2*yp);return[f,m]}function ag(e,t){var r=ju(e,2),i=r[0],s=r[1];t*=L6;var p=i/t*(2*yp)-yp,n=2*(Math.atan(Math.exp(yp-s/t*(2*yp)))-h7);return[p*ig,n*ig]}function qN(e){var t=e.latitude,r=e.longitude,i=e.zoom,s=e.scale,p=e.highPrecision,n=p===void 0?!1:p;s=s!==void 0?s:f7(i),_1(Number.isFinite(t)&&Number.isFinite(r)&&Number.isFinite(s));var f={},m=L6*s,g=Math.cos(t*Pl),x=m/360,b=x/g,F=m/ng/g;if(f.pixelsPerMeter=[F,-F,F],f.metersPerPixel=[1/F,-1/F,1/F],f.pixelsPerDegree=[x,-b,F],f.degreesPerPixel=[1/x,-1/b,1/F],n){var R=Pl*Math.tan(t*Pl)/g,I=x*R/2,O=m/ng*R,U=O/b*F;f.pixelsPerDegree2=[0,-I,O],f.pixelsPerMeter2=[U,0,U]}return f}function $N(e){var t=e.height,r=e.pitch,i=e.bearing,s=e.altitude,p=e.center,n=p===void 0?null:p,f=e.flipY,m=f===void 0?!1:f,g=Qd();return Bh(g,g,[0,0,-s]),Uh(g,g,[1,1,1/t]),o6(g,g,-r*Pl),Kg(g,g,i*Pl),m&&Uh(g,g,[1,-1,1]),n&&Bh(g,g,bv([],n)),g}function KN(e){var t=e.width,r=e.height,i=e.altitude,s=i===void 0?YN:i,p=e.pitch,n=p===void 0?0:p,f=e.nearZMultiplier,m=f===void 0?1:f,g=e.farZMultiplier,x=g===void 0?1:g,b=n*Pl,F=Math.atan(.5/s),R=Math.sin(F)*s/Math.sin(Math.PI/2-b-F),I=Math.cos(Math.PI/2-b)*R+s;return{fov:2*Math.atan(r/2/s),aspect:t/r,focalDistance:s,near:m,far:I*x}}function QN(e){var t=e.width,r=e.height,i=e.pitch,s=e.altitude,p=e.nearZMultiplier,n=e.farZMultiplier,f=KN({width:t,height:r,altitude:s,pitch:i,nearZMultiplier:p,farZMultiplier:n}),m=f.fov,g=f.aspect,x=f.near,b=f.far,F=Dv([],m,g,x,b);return F}function JN(e,t){var r=ju(e,3),i=r[0],s=r[1],p=r[2],n=p===void 0?0:p;return _1(Number.isFinite(i)&&Number.isFinite(s)&&Number.isFinite(n)),wh(t,[i,s,n,1])}function m7(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=ju(e,3),s=i[0],p=i[1],n=i[2];if(_1(Number.isFinite(s)&&Number.isFinite(p),"invalid pixel coordinate"),Number.isFinite(n)){var f=wh(t,[s,p,n,1]);return f}var m=wh(t,[s,p,0,1]),g=wh(t,[s,p,1,1]),x=m[2],b=g[2],F=x===b?0:((r||0)-x)/(b-x);return Av([],m,g,F)}var sg=Qd(),eD=function(){function e(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width,i=t.height,s=t.viewMatrix,p=s===void 0?sg:s,n=t.projectionMatrix,f=n===void 0?sg:n;d7(this,e),this.width=r||1,this.height=i||1,this.scale=1,this.pixelsPerMeter=1,this.viewMatrix=p,this.projectionMatrix=f;var m=Qd();g0(m,m,this.projectionMatrix),g0(m,m,this.viewMatrix),this.viewProjectionMatrix=m;var g=Qd();Uh(g,g,[this.width/2,-this.height/2,1]),Bh(g,g,[1,-1,0]),g0(g,g,this.viewProjectionMatrix);var x=r6(Qd(),g);if(!x)throw new Error("Pixel project matrix not invertible");this.pixelProjectionMatrix=g,this.pixelUnprojectionMatrix=x,this.equals=this.equals.bind(this),this.project=this.project.bind(this),this.unproject=this.unproject.bind(this),this.projectPosition=this.projectPosition.bind(this),this.unprojectPosition=this.unprojectPosition.bind(this),this.projectFlat=this.projectFlat.bind(this),this.unprojectFlat=this.unprojectFlat.bind(this)}return y7(e,[{key:"equals",value:function(r){return r instanceof e?r.width===this.width&&r.height===this.height&&T3(r.projectionMatrix,this.projectionMatrix)&&T3(r.viewMatrix,this.viewMatrix):!1}},{key:"project",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.topLeft,p=s===void 0?!0:s,n=this.projectPosition(r),f=JN(n,this.pixelProjectionMatrix),m=ju(f,2),g=m[0],x=m[1],b=p?x:this.height-x;return r.length===2?[g,b]:[g,b,f[2]]}},{key:"unproject",value:function(r){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=i.topLeft,p=s===void 0?!0:s,n=i.targetZ,f=ju(r,3),m=f[0],g=f[1],x=f[2],b=p?g:this.height-g,F=n&&n*this.pixelsPerMeter,R=m7([m,b,x],this.pixelUnprojectionMatrix,F),I=this.unprojectPosition(R),O=ju(I,3),U=O[0],Y=O[1],ee=O[2];return Number.isFinite(x)?[U,Y,ee]:Number.isFinite(n)?[U,Y,n]:[U,Y]}},{key:"projectPosition",value:function(r){var i=this.projectFlat(r),s=ju(i,2),p=s[0],n=s[1],f=(r[2]||0)*this.pixelsPerMeter;return[p,n,f]}},{key:"unprojectPosition",value:function(r){var i=this.unprojectFlat(r),s=ju(i,2),p=s[0],n=s[1],f=(r[2]||0)/this.pixelsPerMeter;return[p,n,f]}},{key:"projectFlat",value:function(r){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,r}},{key:"unprojectFlat",value:function(r){return arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale,r}}]),e}();function tD(e){var t=e.width,r=e.height,i=e.bounds,s=e.minExtent,p=s===void 0?0:s,n=e.maxZoom,f=n===void 0?24:n,m=e.padding,g=m===void 0?0:m,x=e.offset,b=x===void 0?[0,0]:x,F=ju(i,2),R=ju(F[0],2),I=R[0],O=R[1],U=ju(F[1],2),Y=U[0],ee=U[1];if(Number.isFinite(g)){var oe=g;g={top:oe,bottom:oe,left:oe,right:oe}}else _1(Number.isFinite(g.top)&&Number.isFinite(g.bottom)&&Number.isFinite(g.left)&&Number.isFinite(g.right));var Re=new Q2({width:t,height:r,longitude:0,latitude:0,zoom:0}),Ae=Re.project([I,ee]),ce=Re.project([Y,O]),Ie=[Math.max(Math.abs(ce[0]-Ae[0]),p),Math.max(Math.abs(ce[1]-Ae[1]),p)],De=[t-g.left-g.right-Math.abs(b[0])*2,r-g.top-g.bottom-Math.abs(b[1])*2];_1(De[0]>0&&De[1]>0);var ht=De[0]/Ie[0],qe=De[1]/Ie[1],we=(g.right-g.left)/2/ht,B=(g.bottom-g.top)/2/qe,X=[(ce[0]+Ae[0])/2+we,(ce[1]+Ae[1])/2+B],de=Re.unproject(X),mt=Re.zoom+Math.log2(Math.abs(Math.min(ht,qe)));return{longitude:de[0],latitude:de[1],zoom:Math.min(mt,f)}}var Q2=function(e){GN(t,e);function t(){var r,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},s=i.width,p=i.height,n=i.latitude,f=n===void 0?0:n,m=i.longitude,g=m===void 0?0:m,x=i.zoom,b=x===void 0?0:x,F=i.pitch,R=F===void 0?0:F,I=i.bearing,O=I===void 0?0:I,U=i.altitude,Y=U===void 0?1.5:U,ee=i.nearZMultiplier,oe=i.farZMultiplier;d7(this,t),s=s||1,p=p||1;var Re=f7(b);Y=Math.max(.75,Y);var Ae=n2([g,f],Re);Ae[2]=0;var ce=QN({width:s,height:p,pitch:R,bearing:O,altitude:Y,nearZMultiplier:ee||1/p,farZMultiplier:oe||1.01}),Ie=$N({height:p,center:Ae,pitch:R,bearing:O,altitude:Y,flipY:!0});return r=HN(this,$2(t).call(this,{width:s,height:p,viewMatrix:Ie,projectionMatrix:ce})),r.latitude=f,r.longitude=g,r.zoom=b,r.pitch=R,r.bearing=O,r.altitude=Y,r.scale=Re,r.center=Ae,r.pixelsPerMeter=qN(jd(jd(r))).pixelsPerMeter[2],Object.freeze(jd(jd(r))),r}return y7(t,[{key:"projectFlat",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return n2(i,s)}},{key:"unprojectFlat",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.scale;return ag(i,s)}},{key:"getMapCenterByLngLatPosition",value:function(i){var s=i.lngLat,p=i.pos,n=m7(p,this.pixelUnprojectionMatrix),f=n2(s,this.scale),m=ml([],f,Fv([],n)),g=ml([],this.center,m);return ag(g,this.scale)}},{key:"getLocationAtPoint",value:function(i){var s=i.lngLat,p=i.pos;return this.getMapCenterByLngLatPosition({lngLat:s,pos:p})}},{key:"fitBounds",value:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},p=this.width,n=this.height,f=tD(Object.assign({width:p,height:n,bounds:i},s)),m=f.longitude,g=f.latitude,x=f.zoom;return new t({width:p,height:n,longitude:m,latitude:g,zoom:x})}}]),t}(eD);class rD{constructor(){G(this,"viewport",new Q2)}syncWithMapCamera(t){const{center:r,zoom:i,pitch:s,bearing:p,viewportHeight:n,viewportWidth:f}=t,m={width:this.viewport.width,height:this.viewport.height,longitude:this.viewport.center[0],latitude:this.viewport.center[1],zoom:this.viewport.zoom,pitch:this.viewport.pitch,bearing:this.viewport.bearing};this.viewport=new Q2(wt(wt({},m),{},{width:f,height:n,longitude:r&&r[0],latitude:r&&r[1],zoom:i,pitch:s,bearing:p}))}getZoom(){return this.viewport.zoom}getZoomScale(){return Math.pow(2,this.getZoom())}getCenter(){return[this.viewport.longitude,this.viewport.latitude]}getProjectionMatrix(){return this.viewport.projectionMatrix}getModelMatrix(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}getViewMatrix(){return this.viewport.viewMatrix}getViewMatrixUncentered(){return this.viewport.viewMatrixUncentered}getViewProjectionMatrix(){return this.viewport.viewProjectionMatrix}getViewProjectionMatrixUncentered(){return this.viewport.viewProjectionMatrix}getFocalDistance(){return 1}projectFlat(t,r){return this.viewport.projectFlat(t,r)}}const oD={light:"mapbox://styles/zcxduo/ck2ypyb1r3q9o1co1766dex29",dark:"mapbox://styles/zcxduo/ck241p6413s0b1cpayzldv7x7",normal:"mapbox://styles/mapbox/streets-v11",blank:{version:8,sources:{},layers:[{id:"background",type:"background",layout:{visibility:"none"}}]}},ug={mapmove:"move",camerachange:"move",zoomchange:"zoom",dragging:"drag"},iD=12;class nD{constructor(t){G(this,"version","DEFAUlTMAP"),G(this,"map",void 0),G(this,"simpleMapCoord",new zN),G(this,"bgColor","rgba(0.0, 0.0, 0.0, 0.0)"),G(this,"config",void 0),G(this,"configService",void 0),G(this,"coordinateSystemService",void 0),G(this,"eventEmitter",void 0),G(this,"markerContainer",void 0),G(this,"cameraChangedCallback",void 0),G(this,"$mapContainer",void 0),G(this,"handleCameraChanged",r=>{const{lat:i,lng:s}=this.map.getCenter();this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:this.map.getBearing(),center:[s,i],viewportHeight:this.map.transform.height,pitch:this.map.getPitch(),viewportWidth:this.map.transform.width,zoom:this.map.getZoom(),cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}),this.config=t.mapConfig,this.configService=t.globalConfigService,this.coordinateSystemService=t.coordinateSystemService,this.eventEmitter=new du.EventEmitter}setBgColor(t){this.bgColor=t}addMarkerContainer(){const t=this.map.getCanvasContainer();this.markerContainer=cu("div","l7-marker-container",t),this.markerContainer.setAttribute("tabindex","-1")}getMarkerContainer(){return this.markerContainer}getOverlayContainer(){}getCanvasOverlays(){}on(t,r){pb.indexOf(t)!==-1?this.eventEmitter.on(t,r):this.map.on(ug[t]||t,r)}off(t,r){this.map.off(ug[t]||t,r),this.eventEmitter.off(t,r)}getContainer(){return this.map.getContainer()}getMapCanvasContainer(){return this.map.getCanvasContainer()}getSize(){if(this.version==="SIMPLE")return this.simpleMapCoord.getSize();const t=this.map.transform;return[t.width,t.height]}getType(){return"default"}getZoom(){return this.map.getZoom()}setZoom(t){return this.map.setZoom(t)}getCenter(){return this.map.getCenter()}setCenter(t){this.map.setCenter(t)}getPitch(){return this.map.getPitch()}getRotation(){return this.map.getBearing()}getBounds(){return this.map.getBounds().toArray()}getMinZoom(){return this.map.getMinZoom()}getMaxZoom(){return this.map.getMaxZoom()}setRotation(t){this.map.setBearing(t)}zoomIn(t,r){this.map.zoomIn(t,r)}zoomOut(t,r){this.map.zoomOut(t,r)}setPitch(t){return this.map.setPitch(t)}panTo(t){this.map.panTo(t)}panBy(t=0,r=0){this.map.panBy([t,r])}fitBounds(t,r){this.map.fitBounds(t,r)}setMaxZoom(t){this.map.setMaxZoom(t)}setMinZoom(t){this.map.setMinZoom(t)}setMapStatus(t){t.doubleClickZoom===!0&&this.map.doubleClickZoom.enable(),t.doubleClickZoom===!1&&this.map.doubleClickZoom.disable(),t.dragEnable===!1&&this.map.dragPan.disable(),t.dragEnable===!0&&this.map.dragPan.enable(),t.rotateEnable===!1&&this.map.dragRotate.disable(),t.dragEnable===!0&&this.map.dragRotate.enable(),t.keyboardEnable===!1&&this.map.keyboard.disable(),t.keyboardEnable===!0&&this.map.keyboard.enable(),t.zoomEnable===!1&&this.map.scrollZoom.disable(),t.zoomEnable===!0&&this.map.scrollZoom.enable()}setZoomAndCenter(t,r){this.map.flyTo({zoom:t,center:r})}setMapStyle(t){var r;(r=this.map)===null||r===void 0||r.setStyle(this.getMapStyleValue(t))}meterToCoord(t,r){return 1}pixelToLngLat(t){return this.map.unproject(t)}lngLatToPixel(t){return this.map.project(t)}containerToLngLat(t){return this.map.unproject(t)}lngLatToContainer(t){return this.map.project(t)}getMapStyle(){try{var t;const r=(t=this.map.getStyle().sprite)!==null&&t!==void 0?t:"";return/^mapbox:\/\/sprites\/zcxduo\/\w+\/\w+$/.test(r)?r==null?void 0:r.replace(/\/\w+$/,"").replace(/sprites/,"styles"):r}catch{return""}}getMapStyleConfig(){return oD}getMapStyleValue(t){var r;return(r=this.getMapStyleConfig()[t])!==null&&r!==void 0?r:t}destroy(){this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(t,...r){this.eventEmitter.emit(t,...r)}once(t,...r){this.eventEmitter.once(t,...r)}getMapContainer(){return this.$mapContainer}exportMap(t){var r;const i=(r=this.map)===null||r===void 0?void 0:r.getCanvas();return t==="jpg"?i==null?void 0:i.toDataURL("image/jpeg"):i==null?void 0:i.toDataURL("image/png")}onCameraChanged(t){this.cameraChangedCallback=t}creatMapContainer(t){let r=t;return typeof t=="string"&&(r=document.getElementById(t)),r}updateView(t){this.emit("mapchange"),this.viewport.syncWithMapCamera({bearing:t.bearing,center:t.center,viewportHeight:t.viewportHeight,pitch:t.pitch,viewportWidth:t.viewportWidth,zoom:t.zoom,cameraHeight:0}),this.updateCoordinateSystemService(),this.cameraChangedCallback(this.viewport)}updateCoordinateSystemService(){const{offsetCoordinate:t=!0}=this.config;this.viewport.getZoom()>iD&&t?this.coordinateSystemService.setCoordinateSystem(Wh.LNGLAT_OFFSET):this.coordinateSystemService.setCoordinateSystem(Wh.LNGLAT)}}var Ch={exports:{}},aD=Ch.exports,pg;function sD(){return pg||(pg=1,function(e,t){(function(r,i){e.exports=i()})(aD,function(){var r,i,s;function p(n,f){if(!r)r=f;else if(!i)i=f;else{var m="var sharedChunk = {}; ("+r+")(sharedChunk); ("+i+")(sharedChunk);",g={};r(g),s=f(g),typeof window<"u"&&(s.workerUrl=window.URL.createObjectURL(new Blob([m],{type:"text/javascript"})))}}return p(["exports"],function(n){function f(o,a){return o(a={exports:{}},a.exports),a.exports}var m=g;function g(o,a,u,y){this.cx=3*o,this.bx=3*(u-o)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*a,this.by=3*(y-a)-this.cy,this.ay=1-this.cy-this.by,this.p1x=o,this.p1y=y,this.p2x=u,this.p2y=y}g.prototype.sampleCurveX=function(o){return((this.ax*o+this.bx)*o+this.cx)*o},g.prototype.sampleCurveY=function(o){return((this.ay*o+this.by)*o+this.cy)*o},g.prototype.sampleCurveDerivativeX=function(o){return(3*this.ax*o+2*this.bx)*o+this.cx},g.prototype.solveCurveX=function(o,a){var u,y,_,v,P;for(a===void 0&&(a=1e-6),_=o,P=0;P<8;P++){if(v=this.sampleCurveX(_)-o,Math.abs(v)<a)return _;var S=this.sampleCurveDerivativeX(_);if(Math.abs(S)<1e-6)break;_-=v/S}if((_=o)<(u=0))return u;if(_>(y=1))return y;for(;u<y;){if(v=this.sampleCurveX(_),Math.abs(v-o)<a)return _;o>v?u=_:y=_,_=.5*(y-u)+u}return _},g.prototype.solve=function(o,a){return this.sampleCurveY(this.solveCurveX(o,a))};var x=b;function b(o,a){this.x=o,this.y=a}b.prototype={clone:function(){return new b(this.x,this.y)},add:function(o){return this.clone()._add(o)},sub:function(o){return this.clone()._sub(o)},multByPoint:function(o){return this.clone()._multByPoint(o)},divByPoint:function(o){return this.clone()._divByPoint(o)},mult:function(o){return this.clone()._mult(o)},div:function(o){return this.clone()._div(o)},rotate:function(o){return this.clone()._rotate(o)},rotateAround:function(o,a){return this.clone()._rotateAround(o,a)},matMult:function(o){return this.clone()._matMult(o)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(o){return this.x===o.x&&this.y===o.y},dist:function(o){return Math.sqrt(this.distSqr(o))},distSqr:function(o){var a=o.x-this.x,u=o.y-this.y;return a*a+u*u},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(o){return Math.atan2(this.y-o.y,this.x-o.x)},angleWith:function(o){return this.angleWithSep(o.x,o.y)},angleWithSep:function(o,a){return Math.atan2(this.x*a-this.y*o,this.x*o+this.y*a)},_matMult:function(o){var a=o[2]*this.x+o[3]*this.y;return this.x=o[0]*this.x+o[1]*this.y,this.y=a,this},_add:function(o){return this.x+=o.x,this.y+=o.y,this},_sub:function(o){return this.x-=o.x,this.y-=o.y,this},_mult:function(o){return this.x*=o,this.y*=o,this},_div:function(o){return this.x/=o,this.y/=o,this},_multByPoint:function(o){return this.x*=o.x,this.y*=o.y,this},_divByPoint:function(o){return this.x/=o.x,this.y/=o.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var o=this.y;return this.y=this.x,this.x=-o,this},_rotate:function(o){var a=Math.cos(o),u=Math.sin(o),y=u*this.x+a*this.y;return this.x=a*this.x-u*this.y,this.y=y,this},_rotateAround:function(o,a){var u=Math.cos(o),y=Math.sin(o),_=a.y+y*(this.x-a.x)+u*(this.y-a.y);return this.x=a.x+u*(this.x-a.x)-y*(this.y-a.y),this.y=_,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},b.convert=function(o){return o instanceof b?o:Array.isArray(o)?new b(o[0],o[1]):o};var F=typeof self<"u"?self:{},R=Math.pow(2,53)-1;function I(o,a,u,y){var _=new m(o,a,u,y);return function(v){return _.solve(v)}}var O=I(.25,.1,.25,1);function U(o,a,u){return Math.min(u,Math.max(a,o))}function Y(o,a,u){var y=u-a,_=((o-a)%y+y)%y+a;return _===a?u:_}function ee(o){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];for(var y=0,_=a;y<_.length;y+=1){var v=_[y];for(var P in v)o[P]=v[P]}return o}var oe=1;function Re(){return oe++}function Ae(){return function o(a){return a?(a^16*Math.random()>>a/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,o)}()}function ce(o){return!!o&&/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(o)}function Ie(o,a){o.forEach(function(u){a[u]&&(a[u]=a[u].bind(a))})}function De(o,a){return o.indexOf(a,o.length-a.length)!==-1}function ht(o,a,u){var y={};for(var _ in o)y[_]=a.call(u||this,o[_],_,o);return y}function qe(o,a,u){var y={};for(var _ in o)a.call(u||this,o[_],_,o)&&(y[_]=o[_]);return y}function we(o){return Array.isArray(o)?o.map(we):typeof o=="object"&&o?ht(o,we):o}var B={};function X(o){B[o]||(typeof console<"u"&&console.warn(o),B[o]=!0)}function de(o,a,u){return(u.y-o.y)*(a.x-o.x)>(a.y-o.y)*(u.x-o.x)}function mt(o){for(var a=0,u=0,y=o.length,_=y-1,v=void 0,P=void 0;u<y;_=u++)a+=((P=o[_]).x-(v=o[u]).x)*(v.y+P.y);return a}function re(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function fe(o){var a={};if(o.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,function(y,_,v,P){var S=v||P;return a[_]=!S||S.toLowerCase(),""}),a["max-age"]){var u=parseInt(a["max-age"],10);isNaN(u)?delete a["max-age"]:a["max-age"]=u}return a}var Pe=null;function Xe(o){if(Pe==null){var a=o.navigator?o.navigator.userAgent:null;Pe=!!o.safari||!(!a||!(/\b(iPad|iPhone|iPod)\b/.test(a)||a.match("Safari")&&!a.match("Chrome")))}return Pe}function Ye(o){try{var a=F[o];return a.setItem("_mapbox_test_",1),a.removeItem("_mapbox_test_"),!0}catch{return!1}}var at,ct,Lt,pr,Wt=F.performance&&F.performance.now?F.performance.now.bind(F.performance):Date.now.bind(Date),uo=F.requestAnimationFrame||F.mozRequestAnimationFrame||F.webkitRequestAnimationFrame||F.msRequestAnimationFrame,hr=F.cancelAnimationFrame||F.mozCancelAnimationFrame||F.webkitCancelAnimationFrame||F.msCancelAnimationFrame,Lr={now:Wt,frame:function(o){var a=uo(o);return{cancel:function(){return hr(a)}}},getImageData:function(o,a){a===void 0&&(a=0);var u=F.document.createElement("canvas"),y=u.getContext("2d");if(!y)throw new Error("failed to create canvas 2d context");return u.width=o.width,u.height=o.height,y.drawImage(o,0,0,o.width,o.height),y.getImageData(-a,-a,o.width+2*a,o.height+2*a)},resolveURL:function(o){return at||(at=F.document.createElement("a")),at.href=o,at.href},hardwareConcurrency:F.navigator&&F.navigator.hardwareConcurrency||4,get devicePixelRatio(){return F.devicePixelRatio},get prefersReducedMotion(){return!!F.matchMedia&&(ct==null&&(ct=F.matchMedia("(prefers-reduced-motion: reduce)")),ct.matches)}},At={API_URL:"https://api.mapbox.com",get EVENTS_URL(){return this.API_URL?this.API_URL.indexOf("https://api.mapbox.cn")===0?"https://events.mapbox.cn/events/v2":this.API_URL.indexOf("https://api.mapbox.com")===0?"https://events.mapbox.com/events/v2":null:null},FEEDBACK_URL:"https://apps.mapbox.com/feedback",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},lt={supported:!1,testSupport:function(o){!yr&&pr&&(bt?Fr(o):Lt=o)}},yr=!1,bt=!1;function Fr(o){var a=o.createTexture();o.bindTexture(o.TEXTURE_2D,a);try{if(o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,pr),o.isContextLost())return;lt.supported=!0}catch{}o.deleteTexture(a),yr=!0}F.document&&((pr=F.document.createElement("img")).onload=function(){Lt&&Fr(Lt),Lt=null,bt=!0},pr.onerror=function(){yr=!0,Lt=null},pr.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=");var to="01",Ir=function(o,a){this._transformRequestFn=o,this._customAccessToken=a,this._createSkuToken()};function wr(o){return o.indexOf("mapbox:")===0}Ir.prototype._createSkuToken=function(){var o=function(){for(var a="",u=0;u<10;u++)a+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(62*Math.random())];return{token:["1",to,a].join(""),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=o.token,this._skuTokenExpiresAt=o.tokenExpiresAt},Ir.prototype._isSkuTokenExpired=function(){return Date.now()>this._skuTokenExpiresAt},Ir.prototype.transformRequest=function(o,a){return this._transformRequestFn&&this._transformRequestFn(o,a)||{url:o}},Ir.prototype.normalizeStyleURL=function(o,a){if(!wr(o))return o;var u=ni(o);return u.path="/styles/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||a)},Ir.prototype.normalizeGlyphsURL=function(o,a){if(!wr(o))return o;var u=ni(o);return u.path="/fonts/v1"+u.path,this._makeAPIURL(u,this._customAccessToken||a)},Ir.prototype.normalizeSourceURL=function(o,a){if(!wr(o))return o;var u=ni(o);return u.path="/v4/"+u.authority+".json",u.params.push("secure"),this._makeAPIURL(u,this._customAccessToken||a)},Ir.prototype.normalizeSpriteURL=function(o,a,u,y){var _=ni(o);return wr(o)?(_.path="/styles/v1"+_.path+"/sprite"+a+u,this._makeAPIURL(_,this._customAccessToken||y)):(_.path+=""+a+u,oi(_))},Ir.prototype.normalizeTileURL=function(o,a){if(this._isSkuTokenExpired()&&this._createSkuToken(),o&&!wr(o))return o;var u=ni(o);u.path=u.path.replace(/(\.(png|jpg)\d*)(?=$)/,(Lr.devicePixelRatio>=2||a===512?"@2x":"")+(lt.supported?".webp":"$1")),u.path=u.path.replace(/^.+\/v4\//,"/"),u.path="/v4"+u.path;var y=this._customAccessToken||function(_){for(var v=0,P=_;v<P.length;v+=1){var S=P[v].match(/^access_token=(.*)$/);if(S)return S[1]}return null}(u.params)||At.ACCESS_TOKEN;return At.REQUIRE_ACCESS_TOKEN&&y&&this._skuToken&&u.params.push("sku="+this._skuToken),this._makeAPIURL(u,y)},Ir.prototype.canonicalizeTileURL=function(o,a){var u=ni(o);if(!u.path.match(/(^\/v4\/)/)||!u.path.match(/\.[\w]+$/))return o;var y="mapbox://tiles/";y+=u.path.replace("/v4/","");var _=u.params;return a&&(_=_.filter(function(v){return!v.match(/^access_token=/)})),_.length&&(y+="?"+_.join("&")),y},Ir.prototype.canonicalizeTileset=function(o,a){for(var u=!!a&&wr(a),y=[],_=0,v=o.tiles||[];_<v.length;_+=1){var P=v[_];Qr(P)?y.push(this.canonicalizeTileURL(P,u)):y.push(P)}return y},Ir.prototype._makeAPIURL=function(o,a){var u="See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes",y=ni(At.API_URL);if(o.protocol=y.protocol,o.authority=y.authority,o.protocol==="http"){var _=o.params.indexOf("secure");_>=0&&o.params.splice(_,1)}if(y.path!=="/"&&(o.path=""+y.path+o.path),!At.REQUIRE_ACCESS_TOKEN)return oi(o);if(!(a=a||At.ACCESS_TOKEN))throw new Error("An API access token is required to use Mapbox GL. "+u);if(a[0]==="s")throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+u);return o.params=o.params.filter(function(v){return v.indexOf("access_token")===-1}),o.params.push("access_token="+a),oi(o)};var No=/^((https?:)?\/\/)?([^\/]+\.)?mapbox\.c(n|om)(\/|\?|$)/i;function Qr(o){return No.test(o)}var bi=/^(\w+):\/\/([^/?]*)(\/[^?]+)?\??(.+)?/;function ni(o){var a=o.match(bi);if(!a)throw new Error("Unable to parse URL object");return{protocol:a[1],authority:a[2],path:a[3]||"/",params:a[4]?a[4].split("&"):[]}}function oi(o){var a=o.params.length?"?"+o.params.join("&"):"";return o.protocol+"://"+o.authority+o.path+a}function Wi(o){if(!o)return null;var a=o.split(".");if(!a||a.length!==3)return null;try{return JSON.parse(decodeURIComponent(F.atob(a[1]).split("").map(function(u){return"%"+("00"+u.charCodeAt(0).toString(16)).slice(-2)}).join("")))}catch{return null}}var ue=function(o){this.type=o,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};ue.prototype.getStorageKey=function(o){var a,u=Wi(At.ACCESS_TOKEN);return a=u&&u.u?F.btoa(encodeURIComponent(u.u).replace(/%([0-9A-F]{2})/g,function(y,_){return String.fromCharCode(+("0x"+_))})):At.ACCESS_TOKEN||"",o?"mapbox.eventData."+o+":"+a:"mapbox.eventData:"+a},ue.prototype.fetchEventData=function(){var o=Ye("localStorage"),a=this.getStorageKey(),u=this.getStorageKey("uuid");if(o)try{var y=F.localStorage.getItem(a);y&&(this.eventData=JSON.parse(y));var _=F.localStorage.getItem(u);_&&(this.anonId=_)}catch{X("Unable to read from LocalStorage")}},ue.prototype.saveEventData=function(){var o=Ye("localStorage"),a=this.getStorageKey(),u=this.getStorageKey("uuid");if(o)try{F.localStorage.setItem(u,this.anonId),Object.keys(this.eventData).length>=1&&F.localStorage.setItem(a,JSON.stringify(this.eventData))}catch{X("Unable to write to LocalStorage")}},ue.prototype.processRequests=function(o){},ue.prototype.postEvent=function(o,a,u,y){var _=this;if(At.EVENTS_URL){var v=ni(At.EVENTS_URL);v.params.push("access_token="+(y||At.ACCESS_TOKEN||""));var P={event:this.type,created:new Date(o).toISOString(),sdkIdentifier:"mapbox-gl-js",sdkVersion:"1.13.3",skuId:to,userId:this.anonId},S=a?ee(P,a):P,C={url:oi(v),headers:{"Content-Type":"text/plain"},body:JSON.stringify([S])};this.pendingRequest=Wo(C,function(M){_.pendingRequest=null,u(M),_.saveEventData(),_.processRequests(y)})}},ue.prototype.queueRequest=function(o,a){this.queue.push(o),this.processRequests(a)};var Hn,ga,Pn=function(o){function a(){o.call(this,"map.load"),this.success={},this.skuToken=""}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.postMapLoadEvent=function(u,y,_,v){this.skuToken=_;var P=!(!v&&!At.ACCESS_TOKEN),S=Array.isArray(u)&&u.some(function(C){return wr(C)||Qr(C)});At.EVENTS_URL&&P&&S&&this.queueRequest({id:y,timestamp:Date.now()},v)},a.prototype.processRequests=function(u){var y=this;if(!this.pendingRequest&&this.queue.length!==0){var _=this.queue.shift(),v=_.id,P=_.timestamp;v&&this.success[v]||(this.anonId||this.fetchEventData(),ce(this.anonId)||(this.anonId=Ae()),this.postEvent(P,{skuToken:this.skuToken},function(S){S||v&&(y.success[v]=!0)},u))}},a}(ue),as=new(function(o){function a(u){o.call(this,"appUserTurnstile"),this._customAccessToken=u}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.postTurnstileEvent=function(u,y){At.EVENTS_URL&&At.ACCESS_TOKEN&&Array.isArray(u)&&u.some(function(_){return wr(_)||Qr(_)})&&this.queueRequest(Date.now(),y)},a.prototype.processRequests=function(u){var y=this;if(!this.pendingRequest&&this.queue.length!==0){this.anonId&&this.eventData.lastSuccess&&this.eventData.tokenU||this.fetchEventData();var _=Wi(At.ACCESS_TOKEN),v=_?_.u:At.ACCESS_TOKEN,P=v!==this.eventData.tokenU;ce(this.anonId)||(this.anonId=Ae(),P=!0);var S=this.queue.shift();if(this.eventData.lastSuccess){var C=new Date(this.eventData.lastSuccess),M=new Date(S),L=(S-this.eventData.lastSuccess)/864e5;P=P||L>=1||L<-1||C.getDate()!==M.getDate()}else P=!0;if(!P)return this.processRequests();this.postEvent(S,{"enabled.telemetry":!1},function(z){z||(y.eventData.lastSuccess=S,y.eventData.tokenU=v)},u)}},a}(ue)),va=as.postTurnstileEvent.bind(as),fi=new Pn,Mn=fi.postMapLoadEvent.bind(fi),Nn=500,Qn=50;function ln(){F.caches&&!Hn&&(Hn=F.caches.open("mapbox-tiles"))}function Ea(o){var a=o.indexOf("?");return a<0?o:o.slice(0,a)}var Ga,ss=1/0;function Vs(){return Ga==null&&(Ga=F.OffscreenCanvas&&new F.OffscreenCanvas(1,1).getContext("2d")&&typeof F.createImageBitmap=="function"),Ga}var Hs={Unknown:"Unknown",Style:"Style",Source:"Source",Tile:"Tile",Glyphs:"Glyphs",SpriteImage:"SpriteImage",SpriteJSON:"SpriteJSON",Image:"Image"};typeof Object.freeze=="function"&&Object.freeze(Hs);var gp=function(o){function a(u,y,_){y===401&&Qr(_)&&(u+=": you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes"),o.call(this,u),this.status=y,this.url=_,this.name=this.constructor.name,this.message=u}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a.prototype.toString=function(){return this.name+": "+this.message+" ("+this.status+"): "+this.url},a}(Error),Gs=re()?function(){return self.worker&&self.worker.referrer}:function(){return(F.location.protocol==="blob:"?F.parent:F).location.href},Ia,Ma,gs=function(o,a){if(!(/^file:/.test(u=o.url)||/^file:/.test(Gs())&&!/^\w+:/.test(u))){if(F.fetch&&F.Request&&F.AbortController&&F.Request.prototype.hasOwnProperty("signal"))return function(y,_){var v,P=new F.AbortController,S=new F.Request(y.url,{method:y.method||"GET",body:y.body,credentials:y.credentials,headers:y.headers,referrer:Gs(),signal:P.signal}),C=!1,M=!1,L=(v=S.url).indexOf("sku=")>0&&Qr(v);y.type==="json"&&S.headers.set("Accept","application/json");var z=function($,he,ve){if(!M){if($&&$.message!=="SecurityError"&&X($),he&&ve)return W(he);var Be=Date.now();F.fetch(S).then(function(Ce){if(Ce.ok){var Ze=L?Ce.clone():null;return W(Ce,Ze,Be)}return _(new gp(Ce.statusText,Ce.status,y.url))}).catch(function(Ce){Ce.code!==20&&_(new Error(Ce.message))})}},W=function($,he,ve){(y.type==="arrayBuffer"?$.arrayBuffer():y.type==="json"?$.json():$.text()).then(function(Be){M||(he&&ve&&function(Ce,Ze,et){if(ln(),Hn){var pt={status:Ze.status,statusText:Ze.statusText,headers:new F.Headers};Ze.headers.forEach(function(It,$t){return pt.headers.set($t,It)});var ft=fe(Ze.headers.get("Cache-Control")||"");ft["no-store"]||(ft["max-age"]&&pt.headers.set("Expires",new Date(et+1e3*ft["max-age"]).toUTCString()),new Date(pt.headers.get("Expires")).getTime()-et<42e4||function(It,$t){if(ga===void 0)try{new Response(new ReadableStream),ga=!0}catch{ga=!1}ga?$t(It.body):It.blob().then($t)}(Ze,function(It){var $t=new F.Response(It,pt);ln(),Hn&&Hn.then(function(ar){return ar.put(Ea(Ce.url),$t)}).catch(function(ar){return X(ar.message)})}))}}(S,he,ve),C=!0,_(null,Be,$.headers.get("Cache-Control"),$.headers.get("Expires")))}).catch(function(Be){M||_(new Error(Be.message))})};return L?function($,he){if(ln(),!Hn)return he(null);var ve=Ea($.url);Hn.then(function(Be){Be.match(ve).then(function(Ce){var Ze=function(et){if(!et)return!1;var pt=new Date(et.headers.get("Expires")||0),ft=fe(et.headers.get("Cache-Control")||"");return pt>Date.now()&&!ft["no-cache"]}(Ce);Be.delete(ve),Ze&&Be.put(ve,Ce.clone()),he(null,Ce,Ze)}).catch(he)}).catch(he)}(S,z):z(null,null),{cancel:function(){M=!0,C||P.abort()}}}(o,a);if(re()&&self.worker&&self.worker.actor)return self.worker.actor.send("getResource",o,a,void 0,!0)}var u;return function(y,_){var v=new F.XMLHttpRequest;for(var P in v.open(y.method||"GET",y.url,!0),y.type==="arrayBuffer"&&(v.responseType="arraybuffer"),y.headers)v.setRequestHeader(P,y.headers[P]);return y.type==="json"&&(v.responseType="text",v.setRequestHeader("Accept","application/json")),v.withCredentials=y.credentials==="include",v.onerror=function(){_(new Error(v.statusText))},v.onload=function(){if((v.status>=200&&v.status<300||v.status===0)&&v.response!==null){var S=v.response;if(y.type==="json")try{S=JSON.parse(v.response)}catch(C){return _(C)}_(null,S,v.getResponseHeader("Cache-Control"),v.getResponseHeader("Expires"))}else _(new gp(v.statusText,v.status,y.url))},v.send(y.body),{cancel:function(){return v.abort()}}}(o,a)},Zu=function(o,a){return gs(ee(o,{type:"arrayBuffer"}),a)},Wo=function(o,a){return gs(ee(o,{method:"POST"}),a)},V="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";Ia=[],Ma=0;var j=function(o,a){if(lt.supported&&(o.headers||(o.headers={}),o.headers.accept="image/webp,*/*"),Ma>=At.MAX_PARALLEL_IMAGE_REQUESTS){var u={requestParameters:o,callback:a,cancelled:!1,cancel:function(){this.cancelled=!0}};return Ia.push(u),u}Ma++;var y=!1,_=function(){if(!y)for(y=!0,Ma--;Ia.length&&Ma<At.MAX_PARALLEL_IMAGE_REQUESTS;){var P=Ia.shift();P.cancelled||(P.cancel=j(P.requestParameters,P.callback).cancel)}},v=Zu(o,function(P,S,C,M){_(),P?a(P):S&&(Vs()?function(L,z){var W=new F.Blob([new Uint8Array(L)],{type:"image/png"});F.createImageBitmap(W).then(function($){z(null,$)}).catch(function($){z(new Error("Could not load image because of "+$.message+". Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))})}(S,a):function(L,z,W,$){var he=new F.Image,ve=F.URL;he.onload=function(){z(null,he),ve.revokeObjectURL(he.src),he.onload=null,F.requestAnimationFrame(function(){he.src=V})},he.onerror=function(){return z(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))};var Be=new F.Blob([new Uint8Array(L)],{type:"image/png"});he.cacheControl=W,he.expires=$,he.src=L.byteLength?ve.createObjectURL(Be):V}(S,a,C,M))});return{cancel:function(){v.cancel(),_()}}};function Z(o,a,u){u[o]&&u[o].indexOf(a)!==-1||(u[o]=u[o]||[],u[o].push(a))}function se(o,a,u){if(u&&u[o]){var y=u[o].indexOf(a);y!==-1&&u[o].splice(y,1)}}var ge=function(o,a){a===void 0&&(a={}),ee(this,a),this.type=o},ke=function(o){function a(u,y){y===void 0&&(y={}),o.call(this,"error",ee({error:u},y))}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a}(ge),Ge=function(){};Ge.prototype.on=function(o,a){return this._listeners=this._listeners||{},Z(o,a,this._listeners),this},Ge.prototype.off=function(o,a){return se(o,a,this._listeners),se(o,a,this._oneTimeListeners),this},Ge.prototype.once=function(o,a){return this._oneTimeListeners=this._oneTimeListeners||{},Z(o,a,this._oneTimeListeners),this},Ge.prototype.fire=function(o,a){typeof o=="string"&&(o=new ge(o,a||{}));var u=o.type;if(this.listens(u)){o.target=this;for(var y=0,_=this._listeners&&this._listeners[u]?this._listeners[u].slice():[];y<_.length;y+=1)_[y].call(this,o);for(var v=0,P=this._oneTimeListeners&&this._oneTimeListeners[u]?this._oneTimeListeners[u].slice():[];v<P.length;v+=1){var S=P[v];se(u,S,this._oneTimeListeners),S.call(this,o)}var C=this._eventedParent;C&&(ee(o,typeof this._eventedParentData=="function"?this._eventedParentData():this._eventedParentData),C.fire(o))}else o instanceof ke&&console.error(o.error);return this},Ge.prototype.listens=function(o){return this._listeners&&this._listeners[o]&&this._listeners[o].length>0||this._oneTimeListeners&&this._oneTimeListeners[o]&&this._oneTimeListeners[o].length>0||this._eventedParent&&this._eventedParent.listens(o)},Ge.prototype.setEventedParent=function(o,a){return this._eventedParent=o,this._eventedParentData=a,this};var J={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:!0,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{}},default:"mapbox"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"*"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible","property-type":"constant"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{},within:{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"*",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"number",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"color",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}}},be=function(o,a,u,y){this.message=(o?o+": ":"")+u,y&&(this.identifier=y),a!=null&&a.__line__&&(this.line=a.__line__)};function Qe(o){var a=o.value;return a?[new be(o.key,a,"constants have been deprecated as of v8")]:[]}function Ft(o){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];for(var y=0,_=a;y<_.length;y+=1){var v=_[y];for(var P in v)o[P]=v[P]}return o}function Gt(o){return o instanceof Number||o instanceof String||o instanceof Boolean?o.valueOf():o}function gt(o){if(Array.isArray(o))return o.map(gt);if(o instanceof Object&&!(o instanceof Number||o instanceof String||o instanceof Boolean)){var a={};for(var u in o)a[u]=gt(o[u]);return a}return Gt(o)}var Bt=function(o){function a(u,y){o.call(this,y),this.message=y,this.key=u}return o&&(a.__proto__=o),(a.prototype=Object.create(o&&o.prototype)).constructor=a,a}(Error),Sr=function(o,a){a===void 0&&(a=[]),this.parent=o,this.bindings={};for(var u=0,y=a;u<y.length;u+=1){var _=y[u];this.bindings[_[0]]=_[1]}};Sr.prototype.concat=function(o){return new Sr(this,o)},Sr.prototype.get=function(o){if(this.bindings[o])return this.bindings[o];if(this.parent)return this.parent.get(o);throw new Error(o+" not found in scope.")},Sr.prototype.has=function(o){return!!this.bindings[o]||!!this.parent&&this.parent.has(o)};var Ar={kind:"null"},Et={kind:"number"},fr={kind:"string"},tr={kind:"boolean"},or={kind:"color"},po={kind:"object"},lr={kind:"value"},So={kind:"collator"},ei={kind:"formatted"},Ao={kind:"resolvedImage"};function Do(o,a){return{kind:"array",itemType:o,N:a}}function co(o){if(o.kind==="array"){var a=co(o.itemType);return typeof o.N=="number"?"array<"+a+", "+o.N+">":o.itemType.kind==="value"?"array":"array<"+a+">"}return o.kind}var Vi=[Ar,Et,fr,tr,or,ei,po,Do(lr),Ao];function wo(o,a){if(a.kind==="error")return null;if(o.kind==="array"){if(a.kind==="array"&&(a.N===0&&a.itemType.kind==="value"||!wo(o.itemType,a.itemType))&&(typeof o.N!="number"||o.N===a.N))return null}else{if(o.kind===a.kind)return null;if(o.kind==="value"){for(var u=0,y=Vi;u<y.length;u+=1)if(!wo(y[u],a))return null}}return"Expected "+co(o)+" but found "+co(a)+" instead."}function ti(o,a){return a.some(function(u){return u.kind===o.kind})}function Vo(o,a){return a.some(function(u){return u==="null"?o===null:u==="array"?Array.isArray(o):u==="object"?o&&!Array.isArray(o)&&typeof o=="object":u===typeof o})}var lo=f(function(o,a){var u={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function y(S){return(S=Math.round(S))<0?0:S>255?255:S}function _(S){return y(S[S.length-1]==="%"?parseFloat(S)/100*255:parseInt(S))}function v(S){return(C=S[S.length-1]==="%"?parseFloat(S)/100:parseFloat(S))<0?0:C>1?1:C;var C}function P(S,C,M){return M<0?M+=1:M>1&&(M-=1),6*M<1?S+(C-S)*M*6:2*M<1?C:3*M<2?S+(C-S)*(2/3-M)*6:S}try{a.parseCSSColor=function(S){var C,M=S.replace(/ /g,"").toLowerCase();if(M in u)return u[M].slice();if(M[0]==="#")return M.length===4?(C=parseInt(M.substr(1),16))>=0&&C<=4095?[(3840&C)>>4|(3840&C)>>8,240&C|(240&C)>>4,15&C|(15&C)<<4,1]:null:M.length===7&&(C=parseInt(M.substr(1),16))>=0&&C<=16777215?[(16711680&C)>>16,(65280&C)>>8,255&C,1]:null;var L=M.indexOf("("),z=M.indexOf(")");if(L!==-1&&z+1===M.length){var W=M.substr(0,L),$=M.substr(L+1,z-(L+1)).split(","),he=1;switch(W){case"rgba":if($.length!==4)return null;he=v($.pop());case"rgb":return $.length!==3?null:[_($[0]),_($[1]),_($[2]),he];case"hsla":if($.length!==4)return null;he=v($.pop());case"hsl":if($.length!==3)return null;var ve=(parseFloat($[0])%360+360)%360/360,Be=v($[1]),Ce=v($[2]),Ze=Ce<=.5?Ce*(Be+1):Ce+Be-Ce*Be,et=2*Ce-Ze;return[y(255*P(et,Ze,ve+1/3)),y(255*P(et,Ze,ve)),y(255*P(et,Ze,ve-1/3)),he];default:return null}}return null}}catch{}}).parseCSSColor,Fo=function(o,a,u,y){y===void 0&&(y=1),this.r=o,this.g=a,this.b=u,this.a=y};Fo.parse=function(o){if(o){if(o instanceof Fo)return o;if(typeof o=="string"){var a=lo(o);if(a)return new Fo(a[0]/255*a[3],a[1]/255*a[3],a[2]/255*a[3],a[3])}}},Fo.prototype.toString=function(){var o=this.toArray(),a=o[1],u=o[2],y=o[3];return"rgba("+Math.round(o[0])+","+Math.round(a)+","+Math.round(u)+","+y+")"},Fo.prototype.toArray=function(){var o=this.a;return o===0?[0,0,0,0]:[255*this.r/o,255*this.g/o,255*this.b/o,o]},Fo.black=new Fo(0,0,0,1),Fo.white=new Fo(1,1,1,1),Fo.transparent=new Fo(0,0,0,0),Fo.red=new Fo(1,0,0,1);var Dn=function(o,a,u){this.sensitivity=o?a?"variant":"case":a?"accent":"base",this.locale=u,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})};Dn.prototype.compare=function(o,a){return this.collator.compare(o,a)},Dn.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var yu=function(o,a,u,y,_){this.text=o,this.image=a,this.scale=u,this.fontStack=y,this.textColor=_},Oi=function(o){this.sections=o};Oi.fromString=function(o){return new Oi([new yu(o,null,null,null,null)])},Oi.prototype.isEmpty=function(){return this.sections.length===0||!this.sections.some(function(o){return o.text.length!==0||o.image&&o.image.name.length!==0})},Oi.factory=function(o){return o instanceof Oi?o:Oi.fromString(o)},Oi.prototype.toString=function(){return this.sections.length===0?"":this.sections.map(function(o){return o.text}).join("")},Oi.prototype.serialize=function(){for(var o=["format"],a=0,u=this.sections;a<u.length;a+=1){var y=u[a];if(y.image)o.push(["image",y.image.name]);else{o.push(y.text);var _={};y.fontStack&&(_["text-font"]=["literal",y.fontStack.split(",")]),y.scale&&(_["font-scale"]=y.scale),y.textColor&&(_["text-color"]=["rgba"].concat(y.textColor.toArray())),o.push(_)}}return o};var vi=function(o){this.name=o.name,this.available=o.available};function hu(o,a,u,y){return typeof o=="number"&&o>=0&&o<=255&&typeof a=="number"&&a>=0&&a<=255&&typeof u=="number"&&u>=0&&u<=255?y===void 0||typeof y=="number"&&y>=0&&y<=1?null:"Invalid rgba value ["+[o,a,u,y].join(", ")+"]: 'a' must be between 0 and 1.":"Invalid rgba value ["+(typeof y=="number"?[o,a,u,y]:[o,a,u]).join(", ")+"]: 'r', 'g', and 'b' must be between 0 and 255."}function ja(o){if(o===null||typeof o=="string"||typeof o=="boolean"||typeof o=="number"||o instanceof Fo||o instanceof Dn||o instanceof Oi||o instanceof vi)return!0;if(Array.isArray(o)){for(var a=0,u=o;a<u.length;a+=1)if(!ja(u[a]))return!1;return!0}if(typeof o=="object"){for(var y in o)if(!ja(o[y]))return!1;return!0}return!1}function mi(o){if(o===null)return Ar;if(typeof o=="string")return fr;if(typeof o=="boolean")return tr;if(typeof o=="number")return Et;if(o instanceof Fo)return or;if(o instanceof Dn)return So;if(o instanceof Oi)return ei;if(o instanceof vi)return Ao;if(Array.isArray(o)){for(var a,u=o.length,y=0,_=o;y<_.length;y+=1){var v=mi(_[y]);if(a){if(a===v)continue;a=lr;break}a=v}return Do(a||lr,u)}return po}function js(o){var a=typeof o;return o===null?"":a==="string"||a==="number"||a==="boolean"?String(o):o instanceof Fo||o instanceof Oi||o instanceof vi?o.toString():JSON.stringify(o)}vi.prototype.toString=function(){return this.name},vi.fromString=function(o){return o?new vi({name:o,available:!1}):null},vi.prototype.serialize=function(){return["image",this.name]};var dn=function(o,a){this.type=o,this.value=a};dn.parse=function(o,a){if(o.length!==2)return a.error("'literal' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(!ja(o[1]))return a.error("invalid value");var u=o[1],y=mi(u),_=a.expectedType;return y.kind!=="array"||y.N!==0||!_||_.kind!=="array"||typeof _.N=="number"&&_.N!==0||(y=_),new dn(y,u)},dn.prototype.evaluate=function(){return this.value},dn.prototype.eachChild=function(){},dn.prototype.outputDefined=function(){return!0},dn.prototype.serialize=function(){return this.type.kind==="array"||this.type.kind==="object"?["literal",this.value]:this.value instanceof Fo?["rgba"].concat(this.value.toArray()):this.value instanceof Oi?this.value.serialize():this.value};var _i=function(o){this.name="ExpressionEvaluationError",this.message=o};_i.prototype.toJSON=function(){return this.message};var Hi={string:fr,number:Et,boolean:tr,object:po},pi=function(o,a){this.type=o,this.args=a};pi.parse=function(o,a){if(o.length<2)return a.error("Expected at least one argument.");var u,y=1,_=o[0];if(_==="array"){var v,P;if(o.length>2){var S=o[1];if(typeof S!="string"||!(S in Hi)||S==="object")return a.error('The item type argument of "array" must be one of string, number, boolean',1);v=Hi[S],y++}else v=lr;if(o.length>3){if(o[2]!==null&&(typeof o[2]!="number"||o[2]<0||o[2]!==Math.floor(o[2])))return a.error('The length argument to "array" must be a positive integer literal',2);P=o[2],y++}u=Do(v,P)}else u=Hi[_];for(var C=[];y<o.length;y++){var M=a.parse(o[y],y,lr);if(!M)return null;C.push(M)}return new pi(u,C)},pi.prototype.evaluate=function(o){for(var a=0;a<this.args.length;a++){var u=this.args[a].evaluate(o);if(!wo(this.type,mi(u)))return u;if(a===this.args.length-1)throw new _i("Expected value to be of type "+co(this.type)+", but found "+co(mi(u))+" instead.")}return null},pi.prototype.eachChild=function(o){this.args.forEach(o)},pi.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},pi.prototype.serialize=function(){var o=this.type,a=[o.kind];if(o.kind==="array"){var u=o.itemType;if(u.kind==="string"||u.kind==="number"||u.kind==="boolean"){a.push(u.kind);var y=o.N;(typeof y=="number"||this.args.length>1)&&a.push(y)}}return a.concat(this.args.map(function(_){return _.serialize()}))};var Jn=function(o){this.type=ei,this.sections=o};Jn.parse=function(o,a){if(o.length<2)return a.error("Expected at least one argument.");var u=o[1];if(!Array.isArray(u)&&typeof u=="object")return a.error("First argument must be an image or text section.");for(var y=[],_=!1,v=1;v<=o.length-1;++v){var P=o[v];if(_&&typeof P=="object"&&!Array.isArray(P)){_=!1;var S=null;if(P["font-scale"]&&!(S=a.parse(P["font-scale"],1,Et)))return null;var C=null;if(P["text-font"]&&!(C=a.parse(P["text-font"],1,Do(fr))))return null;var M=null;if(P["text-color"]&&!(M=a.parse(P["text-color"],1,or)))return null;var L=y[y.length-1];L.scale=S,L.font=C,L.textColor=M}else{var z=a.parse(o[v],1,lr);if(!z)return null;var W=z.type.kind;if(W!=="string"&&W!=="value"&&W!=="null"&&W!=="resolvedImage")return a.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");_=!0,y.push({content:z,scale:null,font:null,textColor:null})}}return new Jn(y)},Jn.prototype.evaluate=function(o){return new Oi(this.sections.map(function(a){var u=a.content.evaluate(o);return mi(u)===Ao?new yu("",u,null,null,null):new yu(js(u),null,a.scale?a.scale.evaluate(o):null,a.font?a.font.evaluate(o).join(","):null,a.textColor?a.textColor.evaluate(o):null)}))},Jn.prototype.eachChild=function(o){for(var a=0,u=this.sections;a<u.length;a+=1){var y=u[a];o(y.content),y.scale&&o(y.scale),y.font&&o(y.font),y.textColor&&o(y.textColor)}},Jn.prototype.outputDefined=function(){return!1},Jn.prototype.serialize=function(){for(var o=["format"],a=0,u=this.sections;a<u.length;a+=1){var y=u[a];o.push(y.content.serialize());var _={};y.scale&&(_["font-scale"]=y.scale.serialize()),y.font&&(_["text-font"]=y.font.serialize()),y.textColor&&(_["text-color"]=y.textColor.serialize()),o.push(_)}return o};var Gn=function(o){this.type=Ao,this.input=o};Gn.parse=function(o,a){if(o.length!==2)return a.error("Expected two arguments.");var u=a.parse(o[1],1,fr);return u?new Gn(u):a.error("No image name provided.")},Gn.prototype.evaluate=function(o){var a=this.input.evaluate(o),u=vi.fromString(a);return u&&o.availableImages&&(u.available=o.availableImages.indexOf(a)>-1),u},Gn.prototype.eachChild=function(o){o(this.input)},Gn.prototype.outputDefined=function(){return!1},Gn.prototype.serialize=function(){return["image",this.input.serialize()]};var qp={"to-boolean":tr,"to-color":or,"to-number":Et,"to-string":fr},xa=function(o,a){this.type=o,this.args=a};xa.parse=function(o,a){if(o.length<2)return a.error("Expected at least one argument.");var u=o[0];if((u==="to-boolean"||u==="to-string")&&o.length!==2)return a.error("Expected one argument.");for(var y=qp[u],_=[],v=1;v<o.length;v++){var P=a.parse(o[v],v,lr);if(!P)return null;_.push(P)}return new xa(y,_)},xa.prototype.evaluate=function(o){if(this.type.kind==="boolean")return!!this.args[0].evaluate(o);if(this.type.kind==="color"){for(var a,u,y=0,_=this.args;y<_.length;y+=1){if(u=null,(a=_[y].evaluate(o))instanceof Fo)return a;if(typeof a=="string"){var v=o.parseColor(a);if(v)return v}else if(Array.isArray(a)&&!(u=a.length<3||a.length>4?"Invalid rbga value "+JSON.stringify(a)+": expected an array containing either three or four numeric values.":hu(a[0],a[1],a[2],a[3])))return new Fo(a[0]/255,a[1]/255,a[2]/255,a[3])}throw new _i(u||"Could not parse color from value '"+(typeof a=="string"?a:String(JSON.stringify(a)))+"'")}if(this.type.kind==="number"){for(var P=null,S=0,C=this.args;S<C.length;S+=1){if((P=C[S].evaluate(o))===null)return 0;var M=Number(P);if(!isNaN(M))return M}throw new _i("Could not convert "+JSON.stringify(P)+" to number.")}return this.type.kind==="formatted"?Oi.fromString(js(this.args[0].evaluate(o))):this.type.kind==="resolvedImage"?vi.fromString(js(this.args[0].evaluate(o))):js(this.args[0].evaluate(o))},xa.prototype.eachChild=function(o){this.args.forEach(o)},xa.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},xa.prototype.serialize=function(){if(this.type.kind==="formatted")return new Jn([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(this.type.kind==="resolvedImage")return new Gn(this.args[0]).serialize();var o=["to-"+this.type.kind];return this.eachChild(function(a){o.push(a.serialize())}),o};var Sl=["Unknown","Point","LineString","Polygon"],q=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};q.prototype.id=function(){return this.feature&&"id"in this.feature?this.feature.id:null},q.prototype.geometryType=function(){return this.feature?typeof this.feature.type=="number"?Sl[this.feature.type]:this.feature.type:null},q.prototype.geometry=function(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null},q.prototype.canonicalID=function(){return this.canonical},q.prototype.properties=function(){return this.feature&&this.feature.properties||{}},q.prototype.parseColor=function(o){var a=this._parseColorCache[o];return a||(a=this._parseColorCache[o]=Fo.parse(o)),a};var ne=function(o,a,u,y){this.name=o,this.type=a,this._evaluate=u,this.args=y};ne.prototype.evaluate=function(o){return this._evaluate(o,this.args)},ne.prototype.eachChild=function(o){this.args.forEach(o)},ne.prototype.outputDefined=function(){return!1},ne.prototype.serialize=function(){return[this.name].concat(this.args.map(function(o){return o.serialize()}))},ne.parse=function(o,a){var u,y=o[0],_=ne.definitions[y];if(!_)return a.error('Unknown expression "'+y+'". If you wanted a literal array, use ["literal", [...]].',0);for(var v=Array.isArray(_)?_[0]:_.type,P=Array.isArray(_)?[[_[1],_[2]]]:_.overloads,S=P.filter(function(Xr){var br=Xr[0];return!Array.isArray(br)||br.length===o.length-1}),C=null,M=0,L=S;M<L.length;M+=1){var z=L[M],W=z[0],$=z[1];C=new Ws(a.registry,a.path,null,a.scope);for(var he=[],ve=!1,Be=1;Be<o.length;Be++){var Ce=o[Be],Ze=Array.isArray(W)?W[Be-1]:W.type,et=C.parse(Ce,1+he.length,Ze);if(!et){ve=!0;break}he.push(et)}if(!ve)if(Array.isArray(W)&&W.length!==he.length)C.error("Expected "+W.length+" arguments, but found "+he.length+" instead.");else{for(var pt=0;pt<he.length;pt++){var ft=Array.isArray(W)?W[pt]:W.type,It=he[pt];C.concat(pt+1).checkSubtype(ft,It.type)}if(C.errors.length===0)return new ne(y,v,$,he)}}if(S.length===1)(u=a.errors).push.apply(u,C.errors);else{for(var $t=(S.length?S:P).map(function(Xr){var br;return br=Xr[0],Array.isArray(br)?"("+br.map(co).join(", ")+")":"("+co(br.type)+"...)"}).join(" | "),ar=[],zr=1;zr<o.length;zr++){var Er=a.parse(o[zr],1+ar.length);if(!Er)return null;ar.push(co(Er.type))}a.error("Expected arguments of type "+$t+", but found ("+ar.join(", ")+") instead.")}return null},ne.register=function(o,a){for(var u in ne.definitions=a,a)o[u]=ne};var Le=function(o,a,u){this.type=So,this.locale=u,this.caseSensitive=o,this.diacriticSensitive=a};function ut(o,a){o[0]=Math.min(o[0],a[0]),o[1]=Math.min(o[1],a[1]),o[2]=Math.max(o[2],a[0]),o[3]=Math.max(o[3],a[1])}function Kt(o,a){return!(o[0]<=a[0]||o[2]>=a[2]||o[1]<=a[1]||o[3]>=a[3])}function Br(o,a){var u=(180+o[0])/360,y=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o[1]*Math.PI/360)))/360,_=Math.pow(2,a.z);return[Math.round(u*_*8192),Math.round(y*_*8192)]}function Bo(o,a,u){return a[1]>o[1]!=u[1]>o[1]&&o[0]<(u[0]-a[0])*(o[1]-a[1])/(u[1]-a[1])+a[0]}function Xi(o,a){for(var u,y,_,v,P,S,C,M=!1,L=0,z=a.length;L<z;L++)for(var W=a[L],$=0,he=W.length;$<he-1;$++){if((v=(u=o)[0]-(y=W[$])[0])*(C=u[1]-(_=W[$+1])[1])-(S=u[0]-_[0])*(P=u[1]-y[1])==0&&v*S<=0&&P*C<=0)return!1;Bo(o,W[$],W[$+1])&&(M=!M)}return M}function bn(o,a){for(var u=0;u<a.length;u++)if(Xi(o,a[u]))return!0;return!1}function yn(o,a,u,y){var _=y[0]-u[0],v=y[1]-u[1],P=(o[0]-u[0])*v-_*(o[1]-u[1]),S=(a[0]-u[0])*v-_*(a[1]-u[1]);return P>0&&S<0||P<0&&S>0}function Wa(o,a,u){for(var y=0,_=u;y<_.length;y+=1)for(var v=_[y],P=0;P<v.length-1;++P)if((z=[(L=v[P+1])[0]-(M=v[P])[0],L[1]-M[1]])[0]*(W=[(C=a)[0]-(S=o)[0],C[1]-S[1]])[1]-z[1]*W[0]!=0&&yn(S,C,M,L)&&yn(M,L,S,C))return!0;var S,C,M,L,z,W;return!1}function b1(o,a){for(var u=0;u<o.length;++u)if(!Xi(o[u],a))return!1;for(var y=0;y<o.length-1;++y)if(Wa(o[y],o[y+1],a))return!1;return!0}function A1(o,a){for(var u=0;u<a.length;u++)if(b1(o,a[u]))return!0;return!1}function vp(o,a,u){for(var y=[],_=0;_<o.length;_++){for(var v=[],P=0;P<o[_].length;P++){var S=Br(o[_][P],u);ut(a,S),v.push(S)}y.push(v)}return y}function Rl(o,a,u){for(var y=[],_=0;_<o.length;_++){var v=vp(o[_],a,u);y.push(v)}return y}function $p(o,a,u,y){if(o[0]<u[0]||o[0]>u[2]){var _=.5*y,v=o[0]-u[0]>_?-y:u[0]-o[0]>_?y:0;v===0&&(v=o[0]-u[2]>_?-y:u[2]-o[0]>_?y:0),o[0]+=v}ut(a,o)}function F1(o,a,u,y){for(var _=8192*Math.pow(2,y.z),v=[8192*y.x,8192*y.y],P=[],S=0,C=o;S<C.length;S+=1)for(var M=0,L=C[S];M<L.length;M+=1){var z=L[M],W=[z.x+v[0],z.y+v[1]];$p(W,a,u,_),P.push(W)}return P}function wc(o,a,u,y){for(var _,v=8192*Math.pow(2,y.z),P=[8192*y.x,8192*y.y],S=[],C=0,M=o;C<M.length;C+=1){for(var L=[],z=0,W=M[C];z<W.length;z+=1){var $=W[z],he=[$.x+P[0],$.y+P[1]];ut(a,he),L.push(he)}S.push(L)}if(a[2]-a[0]<=v/2){(_=a)[0]=_[1]=1/0,_[2]=_[3]=-1/0;for(var ve=0,Be=S;ve<Be.length;ve+=1)for(var Ce=0,Ze=Be[ve];Ce<Ze.length;Ce+=1)$p(Ze[Ce],a,u,v)}return S}Le.parse=function(o,a){if(o.length!==2)return a.error("Expected one argument.");var u=o[1];if(typeof u!="object"||Array.isArray(u))return a.error("Collator options argument must be an object.");var y=a.parse(u["case-sensitive"]!==void 0&&u["case-sensitive"],1,tr);if(!y)return null;var _=a.parse(u["diacritic-sensitive"]!==void 0&&u["diacritic-sensitive"],1,tr);if(!_)return null;var v=null;return u.locale&&!(v=a.parse(u.locale,1,fr))?null:new Le(y,_,v)},Le.prototype.evaluate=function(o){return new Dn(this.caseSensitive.evaluate(o),this.diacriticSensitive.evaluate(o),this.locale?this.locale.evaluate(o):null)},Le.prototype.eachChild=function(o){o(this.caseSensitive),o(this.diacriticSensitive),this.locale&&o(this.locale)},Le.prototype.outputDefined=function(){return!1},Le.prototype.serialize=function(){var o={};return o["case-sensitive"]=this.caseSensitive.serialize(),o["diacritic-sensitive"]=this.diacriticSensitive.serialize(),this.locale&&(o.locale=this.locale.serialize()),["collator",o]};var On=function(o,a){this.type=tr,this.geojson=o,this.geometries=a};function fu(o){if(o instanceof ne&&(o.name==="get"&&o.args.length===1||o.name==="feature-state"||o.name==="has"&&o.args.length===1||o.name==="properties"||o.name==="geometry-type"||o.name==="id"||/^filter-/.test(o.name))||o instanceof On)return!1;var a=!0;return o.eachChild(function(u){a&&!fu(u)&&(a=!1)}),a}function mu(o){if(o instanceof ne&&o.name==="feature-state")return!1;var a=!0;return o.eachChild(function(u){a&&!mu(u)&&(a=!1)}),a}function vs(o,a){if(o instanceof ne&&a.indexOf(o.name)>=0)return!1;var u=!0;return o.eachChild(function(y){u&&!vs(y,a)&&(u=!1)}),u}On.parse=function(o,a){if(o.length!==2)return a.error("'within' expression requires exactly one argument, but found "+(o.length-1)+" instead.");if(ja(o[1])){var u=o[1];if(u.type==="FeatureCollection")for(var y=0;y<u.features.length;++y){var _=u.features[y].geometry.type;if(_==="Polygon"||_==="MultiPolygon")return new On(u,u.features[y].geometry)}else if(u.type==="Feature"){var v=u.geometry.type;if(v==="Polygon"||v==="MultiPolygon")return new On(u,u.geometry)}else if(u.type==="Polygon"||u.type==="MultiPolygon")return new On(u,u)}return a.error("'within' expression requires valid geojson object that contains polygon geometry type.")},On.prototype.evaluate=function(o){if(o.geometry()!=null&&o.canonicalID()!=null){if(o.geometryType()==="Point")return function(a,u){var y=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=a.canonicalID();if(u.type==="Polygon"){var P=vp(u.coordinates,_,v),S=F1(a.geometry(),y,_,v);if(!Kt(y,_))return!1;for(var C=0,M=S;C<M.length;C+=1)if(!Xi(M[C],P))return!1}if(u.type==="MultiPolygon"){var L=Rl(u.coordinates,_,v),z=F1(a.geometry(),y,_,v);if(!Kt(y,_))return!1;for(var W=0,$=z;W<$.length;W+=1)if(!bn($[W],L))return!1}return!0}(o,this.geometries);if(o.geometryType()==="LineString")return function(a,u){var y=[1/0,1/0,-1/0,-1/0],_=[1/0,1/0,-1/0,-1/0],v=a.canonicalID();if(u.type==="Polygon"){var P=vp(u.coordinates,_,v),S=wc(a.geometry(),y,_,v);if(!Kt(y,_))return!1;for(var C=0,M=S;C<M.length;C+=1)if(!b1(M[C],P))return!1}if(u.type==="MultiPolygon"){var L=Rl(u.coordinates,_,v),z=wc(a.geometry(),y,_,v);if(!Kt(y,_))return!1;for(var W=0,$=z;W<$.length;W+=1)if(!A1($[W],L))return!1}return!0}(o,this.geometries)}return!1},On.prototype.eachChild=function(){},On.prototype.outputDefined=function(){return!0},On.prototype.serialize=function(){return["within",this.geojson]};var Es=function(o,a){this.type=a.type,this.name=o,this.boundExpression=a};Es.parse=function(o,a){if(o.length!==2||typeof o[1]!="string")return a.error("'var' expression requires exactly one string literal argument.");var u=o[1];return a.scope.has(u)?new Es(u,a.scope.get(u)):a.error('Unknown variable "'+u+'". Make sure "'+u+'" has been bound in an enclosing "let" expression before using it.',1)},Es.prototype.evaluate=function(o){return this.boundExpression.evaluate(o)},Es.prototype.eachChild=function(){},Es.prototype.outputDefined=function(){return!1},Es.prototype.serialize=function(){return["var",this.name]};var Ws=function(o,a,u,y,_){a===void 0&&(a=[]),y===void 0&&(y=new Sr),_===void 0&&(_=[]),this.registry=o,this.path=a,this.key=a.map(function(v){return"["+v+"]"}).join(""),this.scope=y,this.errors=_,this.expectedType=u};function Kp(o,a){for(var u,y=o.length-1,_=0,v=y,P=0;_<=v;)if((u=o[P=Math.floor((_+v)/2)])<=a){if(P===y||a<o[P+1])return P;_=P+1}else{if(!(u>a))throw new _i("Input is not a number.");v=P-1}return 0}Ws.prototype.parse=function(o,a,u,y,_){return _===void 0&&(_={}),a?this.concat(a,u,y)._parse(o,_):this._parse(o,_)},Ws.prototype._parse=function(o,a){function u(M,L,z){return z==="assert"?new pi(L,[M]):z==="coerce"?new xa(L,[M]):M}if(o!==null&&typeof o!="string"&&typeof o!="boolean"&&typeof o!="number"||(o=["literal",o]),Array.isArray(o)){if(o.length===0)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');var y=o[0];if(typeof y!="string")return this.error("Expression name must be a string, but found "+typeof y+' instead. If you wanted a literal array, use ["literal", [...]].',0),null;var _=this.registry[y];if(_){var v=_.parse(o,this);if(!v)return null;if(this.expectedType){var P=this.expectedType,S=v.type;if(P.kind!=="string"&&P.kind!=="number"&&P.kind!=="boolean"&&P.kind!=="object"&&P.kind!=="array"||S.kind!=="value")if(P.kind!=="color"&&P.kind!=="formatted"&&P.kind!=="resolvedImage"||S.kind!=="value"&&S.kind!=="string"){if(this.checkSubtype(P,S))return null}else v=u(v,P,a.typeAnnotation||"coerce");else v=u(v,P,a.typeAnnotation||"assert")}if(!(v instanceof dn)&&v.type.kind!=="resolvedImage"&&function M(L){if(L instanceof Es)return M(L.boundExpression);if(L instanceof ne&&L.name==="error"||L instanceof Le||L instanceof On)return!1;var z=L instanceof xa||L instanceof pi,W=!0;return L.eachChild(function($){W=z?W&&M($):W&&$ instanceof dn}),!!W&&fu(L)&&vs(L,["zoom","heatmap-density","line-progress","accumulated","is-supported-script"])}(v)){var C=new q;try{v=new dn(v.type,v.evaluate(C))}catch(M){return this.error(M.message),null}}return v}return this.error('Unknown expression "'+y+'". If you wanted a literal array, use ["literal", [...]].',0)}return this.error(o===void 0?"'undefined' value invalid. Use null instead.":typeof o=="object"?'Bare objects invalid. Use ["literal", {...}] instead.':"Expected an array, but found "+typeof o+" instead.")},Ws.prototype.concat=function(o,a,u){var y=typeof o=="number"?this.path.concat(o):this.path,_=u?this.scope.concat(u):this.scope;return new Ws(this.registry,y,a||null,_,this.errors)},Ws.prototype.error=function(o){for(var a=[],u=arguments.length-1;u-- >0;)a[u]=arguments[u+1];var y=""+this.key+a.map(function(_){return"["+_+"]"}).join("");this.errors.push(new Bt(y,o))},Ws.prototype.checkSubtype=function(o,a){var u=wo(o,a);return u&&this.error(u),u};var Pa=function(o,a,u){this.type=o,this.input=a,this.labels=[],this.outputs=[];for(var y=0,_=u;y<_.length;y+=1){var v=_[y],P=v[1];this.labels.push(v[0]),this.outputs.push(P)}};function Li(o,a,u){return o*(1-u)+a*u}Pa.parse=function(o,a){if(o.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return a.error("Expected an even number of arguments.");var u=a.parse(o[1],1,Et);if(!u)return null;var y=[],_=null;a.expectedType&&a.expectedType.kind!=="value"&&(_=a.expectedType);for(var v=1;v<o.length;v+=2){var P=v===1?-1/0:o[v],S=o[v+1],C=v,M=v+1;if(typeof P!="number")return a.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',C);if(y.length&&y[y.length-1][0]>=P)return a.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',C);var L=a.parse(S,M,_);if(!L)return null;_=_||L.type,y.push([P,L])}return new Pa(_,u,y)},Pa.prototype.evaluate=function(o){var a=this.labels,u=this.outputs;if(a.length===1)return u[0].evaluate(o);var y=this.input.evaluate(o);if(y<=a[0])return u[0].evaluate(o);var _=a.length;return y>=a[_-1]?u[_-1].evaluate(o):u[Kp(a,y)].evaluate(o)},Pa.prototype.eachChild=function(o){o(this.input);for(var a=0,u=this.outputs;a<u.length;a+=1)o(u[a])},Pa.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},Pa.prototype.serialize=function(){for(var o=["step",this.input.serialize()],a=0;a<this.labels.length;a++)a>0&&o.push(this.labels[a]),o.push(this.outputs[a].serialize());return o};var _u=Object.freeze({__proto__:null,number:Li,color:function(o,a,u){return new Fo(Li(o.r,a.r,u),Li(o.g,a.g,u),Li(o.b,a.b,u),Li(o.a,a.a,u))},array:function(o,a,u){return o.map(function(y,_){return Li(y,a[_],u)})}}),Xs=6/29*3*(6/29),Cc=Math.PI/180,T1=180/Math.PI;function Ic(o){return o>.008856451679035631?Math.pow(o,1/3):o/Xs+4/29}function wl(o){return o>6/29?o*o*o:Xs*(o-4/29)}function Cl(o){return 255*(o<=.0031308?12.92*o:1.055*Math.pow(o,1/2.4)-.055)}function Il(o){return(o/=255)<=.04045?o/12.92:Math.pow((o+.055)/1.055,2.4)}function S1(o){var a=Il(o.r),u=Il(o.g),y=Il(o.b),_=Ic((.4124564*a+.3575761*u+.1804375*y)/.95047),v=Ic((.2126729*a+.7151522*u+.072175*y)/1);return{l:116*v-16,a:500*(_-v),b:200*(v-Ic((.0193339*a+.119192*u+.9503041*y)/1.08883)),alpha:o.a}}function R1(o){var a=(o.l+16)/116,u=isNaN(o.a)?a:a+o.a/500,y=isNaN(o.b)?a:a-o.b/200;return a=1*wl(a),u=.95047*wl(u),y=1.08883*wl(y),new Fo(Cl(3.2404542*u-1.5371385*a-.4985314*y),Cl(-.969266*u+1.8760108*a+.041556*y),Cl(.0556434*u-.2040259*a+1.0572252*y),o.alpha)}function U0(o,a,u){var y=a-o;return o+u*(y>180||y<-180?y-360*Math.round(y/360):y)}var Qp={forward:S1,reverse:R1,interpolate:function(o,a,u){return{l:Li(o.l,a.l,u),a:Li(o.a,a.a,u),b:Li(o.b,a.b,u),alpha:Li(o.alpha,a.alpha,u)}}},xs={forward:function(o){var a=S1(o),u=a.l,y=a.a,_=a.b,v=Math.atan2(_,y)*T1;return{h:v<0?v+360:v,c:Math.sqrt(y*y+_*_),l:u,alpha:o.a}},reverse:function(o){var a=o.h*Cc,u=o.c;return R1({l:o.l,a:Math.cos(a)*u,b:Math.sin(a)*u,alpha:o.alpha})},interpolate:function(o,a,u){return{h:U0(o.h,a.h,u),c:Li(o.c,a.c,u),l:Li(o.l,a.l,u),alpha:Li(o.alpha,a.alpha,u)}}},w1=Object.freeze({__proto__:null,lab:Qp,hcl:xs}),Ln=function(o,a,u,y,_){this.type=o,this.operator=a,this.interpolation=u,this.input=y,this.labels=[],this.outputs=[];for(var v=0,P=_;v<P.length;v+=1){var S=P[v],C=S[1];this.labels.push(S[0]),this.outputs.push(C)}};function Yu(o,a,u,y){var _=y-u,v=o-u;return _===0?0:a===1?v/_:(Math.pow(a,v)-1)/(Math.pow(a,_)-1)}Ln.interpolationFactor=function(o,a,u,y){var _=0;if(o.name==="exponential")_=Yu(a,o.base,u,y);else if(o.name==="linear")_=Yu(a,1,u,y);else if(o.name==="cubic-bezier"){var v=o.controlPoints;_=new m(v[0],v[1],v[2],v[3]).solve(Yu(a,1,u,y))}return _},Ln.parse=function(o,a){var u=o[0],y=o[1],_=o[2],v=o.slice(3);if(!Array.isArray(y)||y.length===0)return a.error("Expected an interpolation type expression.",1);if(y[0]==="linear")y={name:"linear"};else if(y[0]==="exponential"){var P=y[1];if(typeof P!="number")return a.error("Exponential interpolation requires a numeric base.",1,1);y={name:"exponential",base:P}}else{if(y[0]!=="cubic-bezier")return a.error("Unknown interpolation type "+String(y[0]),1,0);var S=y.slice(1);if(S.length!==4||S.some(function(Be){return typeof Be!="number"||Be<0||Be>1}))return a.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);y={name:"cubic-bezier",controlPoints:S}}if(o.length-1<4)return a.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if((o.length-1)%2!=0)return a.error("Expected an even number of arguments.");if(!(_=a.parse(_,2,Et)))return null;var C=[],M=null;u==="interpolate-hcl"||u==="interpolate-lab"?M=or:a.expectedType&&a.expectedType.kind!=="value"&&(M=a.expectedType);for(var L=0;L<v.length;L+=2){var z=v[L],W=v[L+1],$=L+3,he=L+4;if(typeof z!="number")return a.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',$);if(C.length&&C[C.length-1][0]>=z)return a.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',$);var ve=a.parse(W,he,M);if(!ve)return null;M=M||ve.type,C.push([z,ve])}return M.kind==="number"||M.kind==="color"||M.kind==="array"&&M.itemType.kind==="number"&&typeof M.N=="number"?new Ln(M,u,y,_,C):a.error("Type "+co(M)+" is not interpolatable.")},Ln.prototype.evaluate=function(o){var a=this.labels,u=this.outputs;if(a.length===1)return u[0].evaluate(o);var y=this.input.evaluate(o);if(y<=a[0])return u[0].evaluate(o);var _=a.length;if(y>=a[_-1])return u[_-1].evaluate(o);var v=Kp(a,y),P=Ln.interpolationFactor(this.interpolation,y,a[v],a[v+1]),S=u[v].evaluate(o),C=u[v+1].evaluate(o);return this.operator==="interpolate"?_u[this.type.kind.toLowerCase()](S,C,P):this.operator==="interpolate-hcl"?xs.reverse(xs.interpolate(xs.forward(S),xs.forward(C),P)):Qp.reverse(Qp.interpolate(Qp.forward(S),Qp.forward(C),P))},Ln.prototype.eachChild=function(o){o(this.input);for(var a=0,u=this.outputs;a<u.length;a+=1)o(u[a])},Ln.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})},Ln.prototype.serialize=function(){var o;o=this.interpolation.name==="linear"?["linear"]:this.interpolation.name==="exponential"?this.interpolation.base===1?["linear"]:["exponential",this.interpolation.base]:["cubic-bezier"].concat(this.interpolation.controlPoints);for(var a=[this.operator,o,this.input.serialize()],u=0;u<this.labels.length;u++)a.push(this.labels[u],this.outputs[u].serialize());return a};var gu=function(o,a){this.type=o,this.args=a};gu.parse=function(o,a){if(o.length<2)return a.error("Expectected at least one argument.");var u=null,y=a.expectedType;y&&y.kind!=="value"&&(u=y);for(var _=[],v=0,P=o.slice(1);v<P.length;v+=1){var S=a.parse(P[v],1+_.length,u,void 0,{typeAnnotation:"omit"});if(!S)return null;u=u||S.type,_.push(S)}var C=y&&_.some(function(M){return wo(y,M.type)});return new gu(C?lr:u,_)},gu.prototype.evaluate=function(o){for(var a,u=null,y=0,_=0,v=this.args;_<v.length&&(y++,(u=v[_].evaluate(o))&&u instanceof vi&&!u.available&&(a||(a=u.name),u=null,y===this.args.length&&(u=a)),u===null);_+=1);return u},gu.prototype.eachChild=function(o){this.args.forEach(o)},gu.prototype.outputDefined=function(){return this.args.every(function(o){return o.outputDefined()})},gu.prototype.serialize=function(){var o=["coalesce"];return this.eachChild(function(a){o.push(a.serialize())}),o};var Na=function(o,a){this.type=a.type,this.bindings=[].concat(o),this.result=a};Na.prototype.evaluate=function(o){return this.result.evaluate(o)},Na.prototype.eachChild=function(o){for(var a=0,u=this.bindings;a<u.length;a+=1)o(u[a][1]);o(this.result)},Na.parse=function(o,a){if(o.length<4)return a.error("Expected at least 3 arguments, but found "+(o.length-1)+" instead.");for(var u=[],y=1;y<o.length-1;y+=2){var _=o[y];if(typeof _!="string")return a.error("Expected string, but found "+typeof _+" instead.",y);if(/[^a-zA-Z0-9_]/.test(_))return a.error("Variable names must contain only alphanumeric characters or '_'.",y);var v=a.parse(o[y+1],y+1);if(!v)return null;u.push([_,v])}var P=a.parse(o[o.length-1],o.length-1,a.expectedType,u);return P?new Na(u,P):null},Na.prototype.outputDefined=function(){return this.result.outputDefined()},Na.prototype.serialize=function(){for(var o=["let"],a=0,u=this.bindings;a<u.length;a+=1){var y=u[a];o.push(y[0],y[1].serialize())}return o.push(this.result.serialize()),o};var vu=function(o,a,u){this.type=o,this.index=a,this.input=u};vu.parse=function(o,a){if(o.length!==3)return a.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var u=a.parse(o[1],1,Et),y=a.parse(o[2],2,Do(a.expectedType||lr));return u&&y?new vu(y.type.itemType,u,y):null},vu.prototype.evaluate=function(o){var a=this.index.evaluate(o),u=this.input.evaluate(o);if(a<0)throw new _i("Array index out of bounds: "+a+" < 0.");if(a>=u.length)throw new _i("Array index out of bounds: "+a+" > "+(u.length-1)+".");if(a!==Math.floor(a))throw new _i("Array index must be an integer, but found "+a+" instead.");return u[a]},vu.prototype.eachChild=function(o){o(this.index),o(this.input)},vu.prototype.outputDefined=function(){return!1},vu.prototype.serialize=function(){return["at",this.index.serialize(),this.input.serialize()]};var Xa=function(o,a){this.type=tr,this.needle=o,this.haystack=a};Xa.parse=function(o,a){if(o.length!==3)return a.error("Expected 2 arguments, but found "+(o.length-1)+" instead.");var u=a.parse(o[1],1,lr),y=a.parse(o[2],2,lr);return u&&y?ti(u.type,[tr,fr,Et,Ar,lr])?new Xa(u,y):a.error("Expected first argument to be of type boolean, string, number or null, but found "+co(u.type)+" instead"):null},Xa.prototype.evaluate=function(o){var a=this.needle.evaluate(o),u=this.haystack.evaluate(o);if(!u)return!1;if(!Vo(a,["boolean","string","number","null"]))throw new _i("Expected first argument to be of type boolean, string, number or null, but found "+co(mi(a))+" instead.");if(!Vo(u,["string","array"]))throw new _i("Expected second argument to be of type array or string, but found "+co(mi(u))+" instead.");return u.indexOf(a)>=0},Xa.prototype.eachChild=function(o){o(this.needle),o(this.haystack)},Xa.prototype.outputDefined=function(){return!0},Xa.prototype.serialize=function(){return["in",this.needle.serialize(),this.haystack.serialize()]};var Zs=function(o,a,u){this.type=Et,this.needle=o,this.haystack=a,this.fromIndex=u};Zs.parse=function(o,a){if(o.length<=2||o.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var u=a.parse(o[1],1,lr),y=a.parse(o[2],2,lr);if(!u||!y)return null;if(!ti(u.type,[tr,fr,Et,Ar,lr]))return a.error("Expected first argument to be of type boolean, string, number or null, but found "+co(u.type)+" instead");if(o.length===4){var _=a.parse(o[3],3,Et);return _?new Zs(u,y,_):null}return new Zs(u,y)},Zs.prototype.evaluate=function(o){var a=this.needle.evaluate(o),u=this.haystack.evaluate(o);if(!Vo(a,["boolean","string","number","null"]))throw new _i("Expected first argument to be of type boolean, string, number or null, but found "+co(mi(a))+" instead.");if(!Vo(u,["string","array"]))throw new _i("Expected second argument to be of type array or string, but found "+co(mi(u))+" instead.");if(this.fromIndex){var y=this.fromIndex.evaluate(o);return u.indexOf(a,y)}return u.indexOf(a)},Zs.prototype.eachChild=function(o){o(this.needle),o(this.haystack),this.fromIndex&&o(this.fromIndex)},Zs.prototype.outputDefined=function(){return!1},Zs.prototype.serialize=function(){if(this.fromIndex!=null&&this.fromIndex!==void 0){var o=this.fromIndex.serialize();return["index-of",this.needle.serialize(),this.haystack.serialize(),o]}return["index-of",this.needle.serialize(),this.haystack.serialize()]};var Da=function(o,a,u,y,_,v){this.inputType=o,this.type=a,this.input=u,this.cases=y,this.outputs=_,this.otherwise=v};Da.parse=function(o,a){if(o.length<5)return a.error("Expected at least 4 arguments, but found only "+(o.length-1)+".");if(o.length%2!=1)return a.error("Expected an even number of arguments.");var u,y;a.expectedType&&a.expectedType.kind!=="value"&&(y=a.expectedType);for(var _={},v=[],P=2;P<o.length-1;P+=2){var S=o[P],C=o[P+1];Array.isArray(S)||(S=[S]);var M=a.concat(P);if(S.length===0)return M.error("Expected at least one branch label.");for(var L=0,z=S;L<z.length;L+=1){var W=z[L];if(typeof W!="number"&&typeof W!="string")return M.error("Branch labels must be numbers or strings.");if(typeof W=="number"&&Math.abs(W)>Number.MAX_SAFE_INTEGER)return M.error("Branch labels must be integers no larger than "+Number.MAX_SAFE_INTEGER+".");if(typeof W=="number"&&Math.floor(W)!==W)return M.error("Numeric branch labels must be integer values.");if(u){if(M.checkSubtype(u,mi(W)))return null}else u=mi(W);if(_[String(W)]!==void 0)return M.error("Branch labels must be unique.");_[String(W)]=v.length}var $=a.parse(C,P,y);if(!$)return null;y=y||$.type,v.push($)}var he=a.parse(o[1],1,lr);if(!he)return null;var ve=a.parse(o[o.length-1],o.length-1,y);return ve?he.type.kind!=="value"&&a.concat(1).checkSubtype(u,he.type)?null:new Da(u,y,he,_,v,ve):null},Da.prototype.evaluate=function(o){var a=this.input.evaluate(o);return(mi(a)===this.inputType&&this.outputs[this.cases[a]]||this.otherwise).evaluate(o)},Da.prototype.eachChild=function(o){o(this.input),this.outputs.forEach(o),o(this.otherwise)},Da.prototype.outputDefined=function(){return this.outputs.every(function(o){return o.outputDefined()})&&this.otherwise.outputDefined()},Da.prototype.serialize=function(){for(var o=this,a=["match",this.input.serialize()],u=[],y={},_=0,v=Object.keys(this.cases).sort();_<v.length;_+=1){var P=v[_];(z=y[this.cases[P]])===void 0?(y[this.cases[P]]=u.length,u.push([this.cases[P],[P]])):u[z][1].push(P)}for(var S=function($){return o.inputType.kind==="number"?Number($):$},C=0,M=u;C<M.length;C+=1){var L=M[C],z=L[0],W=L[1];a.push(W.length===1?S(W[0]):W.map(S)),a.push(this.outputs[outputIndex$1].serialize())}return a.push(this.otherwise.serialize()),a};var Ys=function(o,a,u){this.type=o,this.branches=a,this.otherwise=u};Ys.parse=function(o,a){if(o.length<4)return a.error("Expected at least 3 arguments, but found only "+(o.length-1)+".");if(o.length%2!=0)return a.error("Expected an odd number of arguments.");var u;a.expectedType&&a.expectedType.kind!=="value"&&(u=a.expectedType);for(var y=[],_=1;_<o.length-1;_+=2){var v=a.parse(o[_],_,tr);if(!v)return null;var P=a.parse(o[_+1],_+1,u);if(!P)return null;y.push([v,P]),u=u||P.type}var S=a.parse(o[o.length-1],o.length-1,u);return S?new Ys(u,y,S):null},Ys.prototype.evaluate=function(o){for(var a=0,u=this.branches;a<u.length;a+=1){var y=u[a],_=y[1];if(y[0].evaluate(o))return _.evaluate(o)}return this.otherwise.evaluate(o)},Ys.prototype.eachChild=function(o){for(var a=0,u=this.branches;a<u.length;a+=1){var y=u[a],_=y[1];o(y[0]),o(_)}o(this.otherwise)},Ys.prototype.outputDefined=function(){return this.branches.every(function(o){return o[1].outputDefined()})&&this.otherwise.outputDefined()},Ys.prototype.serialize=function(){var o=["case"];return this.eachChild(function(a){o.push(a.serialize())}),o};var Eu=function(o,a,u,y){this.type=o,this.input=a,this.beginIndex=u,this.endIndex=y};function C1(o,a){return o==="=="||o==="!="?a.kind==="boolean"||a.kind==="string"||a.kind==="number"||a.kind==="null"||a.kind==="value":a.kind==="string"||a.kind==="number"||a.kind==="value"}function I1(o,a,u,y){return y.compare(a,u)===0}function ii(o,a,u){var y=o!=="=="&&o!=="!=";return function(){function _(v,P,S){this.type=tr,this.lhs=v,this.rhs=P,this.collator=S,this.hasUntypedArgument=v.type.kind==="value"||P.type.kind==="value"}return _.parse=function(v,P){if(v.length!==3&&v.length!==4)return P.error("Expected two or three arguments.");var S=v[0],C=P.parse(v[1],1,lr);if(!C)return null;if(!C1(S,C.type))return P.concat(1).error('"'+S+`" comparisons are not supported for type '`+co(C.type)+"'.");var M=P.parse(v[2],2,lr);if(!M)return null;if(!C1(S,M.type))return P.concat(2).error('"'+S+`" comparisons are not supported for type '`+co(M.type)+"'.");if(C.type.kind!==M.type.kind&&C.type.kind!=="value"&&M.type.kind!=="value")return P.error("Cannot compare types '"+co(C.type)+"' and '"+co(M.type)+"'.");y&&(C.type.kind==="value"&&M.type.kind!=="value"?C=new pi(M.type,[C]):C.type.kind!=="value"&&M.type.kind==="value"&&(M=new pi(C.type,[M])));var L=null;if(v.length===4){if(C.type.kind!=="string"&&M.type.kind!=="string"&&C.type.kind!=="value"&&M.type.kind!=="value")return P.error("Cannot use collator to compare non-string types.");if(!(L=P.parse(v[3],3,So)))return null}return new _(C,M,L)},_.prototype.evaluate=function(v){var P=this.lhs.evaluate(v),S=this.rhs.evaluate(v);if(y&&this.hasUntypedArgument){var C=mi(P),M=mi(S);if(C.kind!==M.kind||C.kind!=="string"&&C.kind!=="number")throw new _i('Expected arguments for "'+o+'" to be (string, string) or (number, number), but found ('+C.kind+", "+M.kind+") instead.")}if(this.collator&&!y&&this.hasUntypedArgument){var L=mi(P),z=mi(S);if(L.kind!=="string"||z.kind!=="string")return a(v,P,S)}return this.collator?u(v,P,S,this.collator.evaluate(v)):a(v,P,S)},_.prototype.eachChild=function(v){v(this.lhs),v(this.rhs),this.collator&&v(this.collator)},_.prototype.outputDefined=function(){return!0},_.prototype.serialize=function(){var v=[o];return this.eachChild(function(P){v.push(P.serialize())}),v},_}()}Eu.parse=function(o,a){if(o.length<=2||o.length>=5)return a.error("Expected 3 or 4 arguments, but found "+(o.length-1)+" instead.");var u=a.parse(o[1],1,lr),y=a.parse(o[2],2,Et);if(!u||!y)return null;if(!ti(u.type,[Do(lr),fr,lr]))return a.error("Expected first argument to be of type array or string, but found "+co(u.type)+" instead");if(o.length===4){var _=a.parse(o[3],3,Et);return _?new Eu(u.type,u,y,_):null}return new Eu(u.type,u,y)},Eu.prototype.evaluate=function(o){var a=this.input.evaluate(o),u=this.beginIndex.evaluate(o);if(!Vo(a,["string","array"]))throw new _i("Expected first argument to be of type array or string, but found "+co(mi(a))+" instead.");if(this.endIndex){var y=this.endIndex.evaluate(o);return a.slice(u,y)}return a.slice(u)},Eu.prototype.eachChild=function(o){o(this.input),o(this.beginIndex),this.endIndex&&o(this.endIndex)},Eu.prototype.outputDefined=function(){return!1},Eu.prototype.serialize=function(){if(this.endIndex!=null&&this.endIndex!==void 0){var o=this.endIndex.serialize();return["slice",this.input.serialize(),this.beginIndex.serialize(),o]}return["slice",this.input.serialize(),this.beginIndex.serialize()]};var k0=ii("==",function(o,a,u){return a===u},I1),Mc=ii("!=",function(o,a,u){return a!==u},function(o,a,u,y){return!I1(0,a,u,y)}),Ml=ii("<",function(o,a,u){return a<u},function(o,a,u,y){return y.compare(a,u)<0}),Bi=ii(">",function(o,a,u){return a>u},function(o,a,u,y){return y.compare(a,u)>0}),Nl=ii("<=",function(o,a,u){return a<=u},function(o,a,u,y){return y.compare(a,u)<=0}),M1=ii(">=",function(o,a,u){return a>=u},function(o,a,u,y){return y.compare(a,u)>=0}),ua=function(o,a,u,y,_){this.type=fr,this.number=o,this.locale=a,this.currency=u,this.minFractionDigits=y,this.maxFractionDigits=_};ua.parse=function(o,a){if(o.length!==3)return a.error("Expected two arguments.");var u=a.parse(o[1],1,Et);if(!u)return null;var y=o[2];if(typeof y!="object"||Array.isArray(y))return a.error("NumberFormat options argument must be an object.");var _=null;if(y.locale&&!(_=a.parse(y.locale,1,fr)))return null;var v=null;if(y.currency&&!(v=a.parse(y.currency,1,fr)))return null;var P=null;if(y["min-fraction-digits"]&&!(P=a.parse(y["min-fraction-digits"],1,Et)))return null;var S=null;return y["max-fraction-digits"]&&!(S=a.parse(y["max-fraction-digits"],1,Et))?null:new ua(u,_,v,P,S)},ua.prototype.evaluate=function(o){return new Intl.NumberFormat(this.locale?this.locale.evaluate(o):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(o):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(o):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(o):void 0}).format(this.number.evaluate(o))},ua.prototype.eachChild=function(o){o(this.number),this.locale&&o(this.locale),this.currency&&o(this.currency),this.minFractionDigits&&o(this.minFractionDigits),this.maxFractionDigits&&o(this.maxFractionDigits)},ua.prototype.outputDefined=function(){return!1},ua.prototype.serialize=function(){var o={};return this.locale&&(o.locale=this.locale.serialize()),this.currency&&(o.currency=this.currency.serialize()),this.minFractionDigits&&(o["min-fraction-digits"]=this.minFractionDigits.serialize()),this.maxFractionDigits&&(o["max-fraction-digits"]=this.maxFractionDigits.serialize()),["number-format",this.number.serialize(),o]};var qs=function(o){this.type=Et,this.input=o};qs.parse=function(o,a){if(o.length!==2)return a.error("Expected 1 argument, but found "+(o.length-1)+" instead.");var u=a.parse(o[1],1);return u?u.type.kind!=="array"&&u.type.kind!=="string"&&u.type.kind!=="value"?a.error("Expected argument of type string or array, but found "+co(u.type)+" instead."):new qs(u):null},qs.prototype.evaluate=function(o){var a=this.input.evaluate(o);if(typeof a=="string"||Array.isArray(a))return a.length;throw new _i("Expected value to be of type string or array, but found "+co(mi(a))+" instead.")},qs.prototype.eachChild=function(o){o(this.input)},qs.prototype.outputDefined=function(){return!1},qs.prototype.serialize=function(){var o=["length"];return this.eachChild(function(a){o.push(a.serialize())}),o};var Ps={"==":k0,"!=":Mc,">":Bi,"<":Ml,">=":M1,"<=":Nl,array:pi,at:vu,boolean:pi,case:Ys,coalesce:gu,collator:Le,format:Jn,image:Gn,in:Xa,"index-of":Zs,interpolate:Ln,"interpolate-hcl":Ln,"interpolate-lab":Ln,length:qs,let:Na,literal:dn,match:Da,number:pi,"number-format":ua,object:pi,slice:Eu,step:Pa,string:pi,"to-boolean":xa,"to-color":xa,"to-number":xa,"to-string":xa,var:Es,within:On};function xu(o,a){var u=a[0],y=a[1],_=a[2],v=a[3];u=u.evaluate(o),y=y.evaluate(o),_=_.evaluate(o);var P=v?v.evaluate(o):1,S=hu(u,y,_,P);if(S)throw new _i(S);return new Fo(u/255*P,y/255*P,_/255*P,P)}function Nc(o,a){return o in a}function Ep(o,a){var u=a[o];return u===void 0?null:u}function us(o){return{type:o}}function Jp(o){return{result:"success",value:o}}function Pu(o){return{result:"error",value:o}}function $s(o){return o["property-type"]==="data-driven"||o["property-type"]==="cross-faded-data-driven"}function Dl(o){return!!o.expression&&o.expression.parameters.indexOf("zoom")>-1}function ec(o){return!!o.expression&&o.expression.interpolated}function li(o){return o instanceof Number?"number":o instanceof String?"string":o instanceof Boolean?"boolean":Array.isArray(o)?"array":o===null?"null":typeof o}function Dc(o){return typeof o=="object"&&o!==null&&!Array.isArray(o)}function z0(o){return o}function bu(o,a,u){return o!==void 0?o:a!==void 0?a:u!==void 0?u:void 0}function tc(o,a,u,y,_){return bu(typeof u===_?y[u]:void 0,o.default,a.default)}function Ol(o,a,u){if(li(u)!=="number")return bu(o.default,a.default);var y=o.stops.length;if(y===1||u<=o.stops[0][0])return o.stops[0][1];if(u>=o.stops[y-1][0])return o.stops[y-1][1];var _=Kp(o.stops.map(function(v){return v[0]}),u);return o.stops[_][1]}function Oc(o,a,u){var y=o.base!==void 0?o.base:1;if(li(u)!=="number")return bu(o.default,a.default);var _=o.stops.length;if(_===1||u<=o.stops[0][0])return o.stops[0][1];if(u>=o.stops[_-1][0])return o.stops[_-1][1];var v=Kp(o.stops.map(function(z){return z[0]}),u),P=function(z,W,$,he){var ve=he-$,Be=z-$;return ve===0?0:W===1?Be/ve:(Math.pow(W,Be)-1)/(Math.pow(W,ve)-1)}(u,y,o.stops[v][0],o.stops[v+1][0]),S=o.stops[v][1],C=o.stops[v+1][1],M=_u[a.type]||z0;if(o.colorSpace&&o.colorSpace!=="rgb"){var L=w1[o.colorSpace];M=function(z,W){return L.reverse(L.interpolate(L.forward(z),L.forward(W),P))}}return typeof S.evaluate=="function"?{evaluate:function(){for(var z=[],W=arguments.length;W--;)z[W]=arguments[W];var $=S.evaluate.apply(void 0,z),he=C.evaluate.apply(void 0,z);if($!==void 0&&he!==void 0)return M($,he,P)}}:M(S,C,P)}function Ks(o,a,u){return a.type==="color"?u=Fo.parse(u):a.type==="formatted"?u=Oi.fromString(u.toString()):a.type==="resolvedImage"?u=vi.fromString(u.toString()):li(u)===a.type||a.type==="enum"&&a.values[u]||(u=void 0),bu(u,o.default,a.default)}ne.register(Ps,{error:[{kind:"error"},[fr],function(o,a){throw new _i(a[0].evaluate(o))}],typeof:[fr,[lr],function(o,a){return co(mi(a[0].evaluate(o)))}],"to-rgba":[Do(Et,4),[or],function(o,a){return a[0].evaluate(o).toArray()}],rgb:[or,[Et,Et,Et],xu],rgba:[or,[Et,Et,Et,Et],xu],has:{type:tr,overloads:[[[fr],function(o,a){return Nc(a[0].evaluate(o),o.properties())}],[[fr,po],function(o,a){var u=a[1];return Nc(a[0].evaluate(o),u.evaluate(o))}]]},get:{type:lr,overloads:[[[fr],function(o,a){return Ep(a[0].evaluate(o),o.properties())}],[[fr,po],function(o,a){var u=a[1];return Ep(a[0].evaluate(o),u.evaluate(o))}]]},"feature-state":[lr,[fr],function(o,a){return Ep(a[0].evaluate(o),o.featureState||{})}],properties:[po,[],function(o){return o.properties()}],"geometry-type":[fr,[],function(o){return o.geometryType()}],id:[lr,[],function(o){return o.id()}],zoom:[Et,[],function(o){return o.globals.zoom}],"heatmap-density":[Et,[],function(o){return o.globals.heatmapDensity||0}],"line-progress":[Et,[],function(o){return o.globals.lineProgress||0}],accumulated:[lr,[],function(o){return o.globals.accumulated===void 0?null:o.globals.accumulated}],"+":[Et,us(Et),function(o,a){for(var u=0,y=0,_=a;y<_.length;y+=1)u+=_[y].evaluate(o);return u}],"*":[Et,us(Et),function(o,a){for(var u=1,y=0,_=a;y<_.length;y+=1)u*=_[y].evaluate(o);return u}],"-":{type:Et,overloads:[[[Et,Et],function(o,a){var u=a[1];return a[0].evaluate(o)-u.evaluate(o)}],[[Et],function(o,a){return-a[0].evaluate(o)}]]},"/":[Et,[Et,Et],function(o,a){var u=a[1];return a[0].evaluate(o)/u.evaluate(o)}],"%":[Et,[Et,Et],function(o,a){var u=a[1];return a[0].evaluate(o)%u.evaluate(o)}],ln2:[Et,[],function(){return Math.LN2}],pi:[Et,[],function(){return Math.PI}],e:[Et,[],function(){return Math.E}],"^":[Et,[Et,Et],function(o,a){var u=a[1];return Math.pow(a[0].evaluate(o),u.evaluate(o))}],sqrt:[Et,[Et],function(o,a){return Math.sqrt(a[0].evaluate(o))}],log10:[Et,[Et],function(o,a){return Math.log(a[0].evaluate(o))/Math.LN10}],ln:[Et,[Et],function(o,a){return Math.log(a[0].evaluate(o))}],log2:[Et,[Et],function(o,a){return Math.log(a[0].evaluate(o))/Math.LN2}],sin:[Et,[Et],function(o,a){return Math.sin(a[0].evaluate(o))}],cos:[Et,[Et],function(o,a){return Math.cos(a[0].evaluate(o))}],tan:[Et,[Et],function(o,a){return Math.tan(a[0].evaluate(o))}],asin:[Et,[Et],function(o,a){return Math.asin(a[0].evaluate(o))}],acos:[Et,[Et],function(o,a){return Math.acos(a[0].evaluate(o))}],atan:[Et,[Et],function(o,a){return Math.atan(a[0].evaluate(o))}],min:[Et,us(Et),function(o,a){return Math.min.apply(Math,a.map(function(u){return u.evaluate(o)}))}],max:[Et,us(Et),function(o,a){return Math.max.apply(Math,a.map(function(u){return u.evaluate(o)}))}],abs:[Et,[Et],function(o,a){return Math.abs(a[0].evaluate(o))}],round:[Et,[Et],function(o,a){var u=a[0].evaluate(o);return u<0?-Math.round(-u):Math.round(u)}],floor:[Et,[Et],function(o,a){return Math.floor(a[0].evaluate(o))}],ceil:[Et,[Et],function(o,a){return Math.ceil(a[0].evaluate(o))}],"filter-==":[tr,[fr,lr],function(o,a){var u=a[0],y=a[1];return o.properties()[u.value]===y.value}],"filter-id-==":[tr,[lr],function(o,a){var u=a[0];return o.id()===u.value}],"filter-type-==":[tr,[fr],function(o,a){var u=a[0];return o.geometryType()===u.value}],"filter-<":[tr,[fr,lr],function(o,a){var u=a[0],y=a[1],_=o.properties()[u.value],v=y.value;return typeof _==typeof v&&_<v}],"filter-id-<":[tr,[lr],function(o,a){var u=a[0],y=o.id(),_=u.value;return typeof y==typeof _&&y<_}],"filter->":[tr,[fr,lr],function(o,a){var u=a[0],y=a[1],_=o.properties()[u.value],v=y.value;return typeof _==typeof v&&_>v}],"filter-id->":[tr,[lr],function(o,a){var u=a[0],y=o.id(),_=u.value;return typeof y==typeof _&&y>_}],"filter-<=":[tr,[fr,lr],function(o,a){var u=a[0],y=a[1],_=o.properties()[u.value],v=y.value;return typeof _==typeof v&&_<=v}],"filter-id-<=":[tr,[lr],function(o,a){var u=a[0],y=o.id(),_=u.value;return typeof y==typeof _&&y<=_}],"filter->=":[tr,[fr,lr],function(o,a){var u=a[0],y=a[1],_=o.properties()[u.value],v=y.value;return typeof _==typeof v&&_>=v}],"filter-id->=":[tr,[lr],function(o,a){var u=a[0],y=o.id(),_=u.value;return typeof y==typeof _&&y>=_}],"filter-has":[tr,[lr],function(o,a){return a[0].value in o.properties()}],"filter-has-id":[tr,[],function(o){return o.id()!==null&&o.id()!==void 0}],"filter-type-in":[tr,[Do(fr)],function(o,a){return a[0].value.indexOf(o.geometryType())>=0}],"filter-id-in":[tr,[Do(lr)],function(o,a){return a[0].value.indexOf(o.id())>=0}],"filter-in-small":[tr,[fr,Do(lr)],function(o,a){var u=a[0];return a[1].value.indexOf(o.properties()[u.value])>=0}],"filter-in-large":[tr,[fr,Do(lr)],function(o,a){var u=a[0],y=a[1];return function(_,v,P,S){for(;P<=S;){var C=P+S>>1;if(v[C]===_)return!0;v[C]>_?S=C-1:P=C+1}return!1}(o.properties()[u.value],y.value,0,y.value.length-1)}],all:{type:tr,overloads:[[[tr,tr],function(o,a){var u=a[1];return a[0].evaluate(o)&&u.evaluate(o)}],[us(tr),function(o,a){for(var u=0,y=a;u<y.length;u+=1)if(!y[u].evaluate(o))return!1;return!0}]]},any:{type:tr,overloads:[[[tr,tr],function(o,a){var u=a[1];return a[0].evaluate(o)||u.evaluate(o)}],[us(tr),function(o,a){for(var u=0,y=a;u<y.length;u+=1)if(y[u].evaluate(o))return!0;return!1}]]},"!":[tr,[tr],function(o,a){return!a[0].evaluate(o)}],"is-supported-script":[tr,[fr],function(o,a){var u=o.globals&&o.globals.isSupportedScript;return!u||u(a[0].evaluate(o))}],upcase:[fr,[fr],function(o,a){return a[0].evaluate(o).toUpperCase()}],downcase:[fr,[fr],function(o,a){return a[0].evaluate(o).toLowerCase()}],concat:[fr,us(lr),function(o,a){return a.map(function(u){return js(u.evaluate(o))}).join("")}],"resolved-locale":[fr,[So],function(o,a){return a[0].evaluate(o).resolvedLocale()}]});var Au=function(o,a){this.expression=o,this._warningHistory={},this._evaluator=new q,this._defaultValue=a?function(u){return u.type==="color"&&Dc(u.default)?new Fo(0,0,0,0):u.type==="color"?Fo.parse(u.default)||null:u.default===void 0?null:u.default}(a):null,this._enumValues=a&&a.type==="enum"?a.values:null};function qu(o){return Array.isArray(o)&&o.length>0&&typeof o[0]=="string"&&o[0]in Ps}function xp(o,a){var u=new Ws(Ps,[],a?function(_){var v={color:or,string:fr,number:Et,enum:fr,boolean:tr,formatted:ei,resolvedImage:Ao};return _.type==="array"?Do(v[_.value]||lr,_.length):v[_.type]}(a):void 0),y=u.parse(o,void 0,void 0,void 0,a&&a.type==="string"?{typeAnnotation:"coerce"}:void 0);return y?Jp(new Au(y,a)):Pu(u.errors)}Au.prototype.evaluateWithoutErrorHandling=function(o,a,u,y,_,v){return this._evaluator.globals=o,this._evaluator.feature=a,this._evaluator.featureState=u,this._evaluator.canonical=y,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v,this.expression.evaluate(this._evaluator)},Au.prototype.evaluate=function(o,a,u,y,_,v){this._evaluator.globals=o,this._evaluator.feature=a||null,this._evaluator.featureState=u||null,this._evaluator.canonical=y,this._evaluator.availableImages=_||null,this._evaluator.formattedSection=v||null;try{var P=this.expression.evaluate(this._evaluator);if(P==null||typeof P=="number"&&P!=P)return this._defaultValue;if(this._enumValues&&!(P in this._enumValues))throw new _i("Expected value to be one of "+Object.keys(this._enumValues).map(function(S){return JSON.stringify(S)}).join(", ")+", but found "+JSON.stringify(P)+" instead.");return P}catch(S){return this._warningHistory[S.message]||(this._warningHistory[S.message]=!0,typeof console<"u"&&console.warn(S.message)),this._defaultValue}};var $u=function(o,a){this.kind=o,this._styleExpression=a,this.isStateDependent=o!=="constant"&&!mu(a.expression)};$u.prototype.evaluateWithoutErrorHandling=function(o,a,u,y,_,v){return this._styleExpression.evaluateWithoutErrorHandling(o,a,u,y,_,v)},$u.prototype.evaluate=function(o,a,u,y,_,v){return this._styleExpression.evaluate(o,a,u,y,_,v)};var Ku=function(o,a,u,y){this.kind=o,this.zoomStops=u,this._styleExpression=a,this.isStateDependent=o!=="camera"&&!mu(a.expression),this.interpolationType=y};function Ll(o,a){if((o=xp(o,a)).result==="error")return o;var u=o.value.expression,y=fu(u);if(!y&&!$s(a))return Pu([new Bt("","data expressions not supported")]);var _=vs(u,["zoom"]);if(!_&&!Dl(a))return Pu([new Bt("","zoom expressions not supported")]);var v=function P(S){var C=null;if(S instanceof Na)C=P(S.result);else if(S instanceof gu)for(var M=0,L=S.args;M<L.length&&!(C=P(L[M]));M+=1);else(S instanceof Pa||S instanceof Ln)&&S.input instanceof ne&&S.input.name==="zoom"&&(C=S);return C instanceof Bt||S.eachChild(function(z){var W=P(z);W instanceof Bt?C=W:!C&&W?C=new Bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):C&&W&&C!==W&&(C=new Bt("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),C}(u);return v||_?v instanceof Bt?Pu([v]):v instanceof Ln&&!ec(a)?Pu([new Bt("",'"interpolate" expressions cannot be used with this property')]):Jp(v?new Ku(y?"camera":"composite",o.value,v.labels,v instanceof Ln?v.interpolation:void 0):new $u(y?"constant":"source",o.value)):Pu([new Bt("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}Ku.prototype.evaluateWithoutErrorHandling=function(o,a,u,y,_,v){return this._styleExpression.evaluateWithoutErrorHandling(o,a,u,y,_,v)},Ku.prototype.evaluate=function(o,a,u,y,_,v){return this._styleExpression.evaluate(o,a,u,y,_,v)},Ku.prototype.interpolationFactor=function(o,a,u){return this.interpolationType?Ln.interpolationFactor(this.interpolationType,o,a,u):0};var Qu=function(o,a){this._parameters=o,this._specification=a,Ft(this,function u(y,_){var v,P,S,C=_.type==="color",M=y.stops&&typeof y.stops[0][0]=="object",L=M||!(M||y.property!==void 0),z=y.type||(ec(_)?"exponential":"interval");if(C&&((y=Ft({},y)).stops&&(y.stops=y.stops.map(function(Er){return[Er[0],Fo.parse(Er[1])]})),y.default=Fo.parse(y.default?y.default:_.default)),y.colorSpace&&y.colorSpace!=="rgb"&&!w1[y.colorSpace])throw new Error("Unknown color space: "+y.colorSpace);if(z==="exponential")v=Oc;else if(z==="interval")v=Ol;else if(z==="categorical"){v=tc,P=Object.create(null);for(var W=0,$=y.stops;W<$.length;W+=1){var he=$[W];P[he[0]]=he[1]}S=typeof y.stops[0][0]}else{if(z!=="identity")throw new Error('Unknown function type "'+z+'"');v=Ks}if(M){for(var ve={},Be=[],Ce=0;Ce<y.stops.length;Ce++){var Ze=y.stops[Ce],et=Ze[0].zoom;ve[et]===void 0&&(ve[et]={zoom:et,type:y.type,property:y.property,default:y.default,stops:[]},Be.push(et)),ve[et].stops.push([Ze[0].value,Ze[1]])}for(var pt=[],ft=0,It=Be;ft<It.length;ft+=1){var $t=It[ft];pt.push([ve[$t].zoom,u(ve[$t],_)])}var ar={name:"linear"};return{kind:"composite",interpolationType:ar,interpolationFactor:Ln.interpolationFactor.bind(void 0,ar),zoomStops:pt.map(function(Er){return Er[0]}),evaluate:function(Er,Xr){var br=Er.zoom;return Oc({stops:pt,base:y.base},_,br).evaluate(br,Xr)}}}if(L){var zr=z==="exponential"?{name:"exponential",base:y.base!==void 0?y.base:1}:null;return{kind:"camera",interpolationType:zr,interpolationFactor:Ln.interpolationFactor.bind(void 0,zr),zoomStops:y.stops.map(function(Er){return Er[0]}),evaluate:function(Er){return v(y,_,Er.zoom,P,S)}}}return{kind:"source",evaluate:function(Er,Xr){var br=Xr&&Xr.properties?Xr.properties[y.property]:void 0;return br===void 0?bu(y.default,_.default):v(y,_,br,P,S)}}}(this._parameters,this._specification))};function Za(o){var a=o.key,u=o.value,y=o.valueSpec||{},_=o.objectElementValidators||{},v=o.style,P=o.styleSpec,S=[],C=li(u);if(C!=="object")return[new be(a,u,"object expected, "+C+" found")];for(var M in u){var L=M.split(".")[0],z=y[L]||y["*"],W=void 0;if(_[L])W=_[L];else if(y[L])W=Oo;else if(_["*"])W=_["*"];else{if(!y["*"]){S.push(new be(a,u[M],'unknown property "'+M+'"'));continue}W=Oo}S=S.concat(W({key:(a&&a+".")+M,value:u[M],valueSpec:z,style:v,styleSpec:P,object:u,objectKey:M},u))}for(var $ in y)_[$]||y[$].required&&y[$].default===void 0&&u[$]===void 0&&S.push(new be(a,u,'missing required property "'+$+'"'));return S}function Bl(o){var a=o.value,u=o.valueSpec,y=o.style,_=o.styleSpec,v=o.key,P=o.arrayElementValidator||Oo;if(li(a)!=="array")return[new be(v,a,"array expected, "+li(a)+" found")];if(u.length&&a.length!==u.length)return[new be(v,a,"array length "+u.length+" expected, length "+a.length+" found")];if(u["min-length"]&&a.length<u["min-length"])return[new be(v,a,"array length at least "+u["min-length"]+" expected, length "+a.length+" found")];var S={type:u.value,values:u.values};_.$version<7&&(S.function=u.function),li(u.value)==="object"&&(S=u.value);for(var C=[],M=0;M<a.length;M++)C=C.concat(P({array:a,arrayIndex:M,value:a[M],valueSpec:S,style:y,styleSpec:_,key:v+"["+M+"]"}));return C}function Ul(o){var a=o.key,u=o.value,y=o.valueSpec,_=li(u);return _==="number"&&u!=u&&(_="NaN"),_!=="number"?[new be(a,u,"number expected, "+_+" found")]:"minimum"in y&&u<y.minimum?[new be(a,u,u+" is less than the minimum value "+y.minimum)]:"maximum"in y&&u>y.maximum?[new be(a,u,u+" is greater than the maximum value "+y.maximum)]:[]}function kl(o){var a,u,y,_=o.valueSpec,v=Gt(o.value.type),P={},S=v!=="categorical"&&o.value.property===void 0,C=!S,M=li(o.value.stops)==="array"&&li(o.value.stops[0])==="array"&&li(o.value.stops[0][0])==="object",L=Za({key:o.key,value:o.value,valueSpec:o.styleSpec.function,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{stops:function($){if(v==="identity")return[new be($.key,$.value,'identity function may not have a "stops" property')];var he=[],ve=$.value;return he=he.concat(Bl({key:$.key,value:ve,valueSpec:$.valueSpec,style:$.style,styleSpec:$.styleSpec,arrayElementValidator:z})),li(ve)==="array"&&ve.length===0&&he.push(new be($.key,ve,"array must have at least one stop")),he},default:function($){return Oo({key:$.key,value:$.value,valueSpec:_,style:$.style,styleSpec:$.styleSpec})}}});return v==="identity"&&S&&L.push(new be(o.key,o.value,'missing required property "property"')),v==="identity"||o.value.stops||L.push(new be(o.key,o.value,'missing required property "stops"')),v==="exponential"&&o.valueSpec.expression&&!ec(o.valueSpec)&&L.push(new be(o.key,o.value,"exponential functions not supported")),o.styleSpec.$version>=8&&(C&&!$s(o.valueSpec)?L.push(new be(o.key,o.value,"property functions not supported")):S&&!Dl(o.valueSpec)&&L.push(new be(o.key,o.value,"zoom functions not supported"))),v!=="categorical"&&!M||o.value.property!==void 0||L.push(new be(o.key,o.value,'"property" property is required')),L;function z($){var he=[],ve=$.value,Be=$.key;if(li(ve)!=="array")return[new be(Be,ve,"array expected, "+li(ve)+" found")];if(ve.length!==2)return[new be(Be,ve,"array length 2 expected, length "+ve.length+" found")];if(M){if(li(ve[0])!=="object")return[new be(Be,ve,"object expected, "+li(ve[0])+" found")];if(ve[0].zoom===void 0)return[new be(Be,ve,"object stop key must have zoom")];if(ve[0].value===void 0)return[new be(Be,ve,"object stop key must have value")];if(y&&y>Gt(ve[0].zoom))return[new be(Be,ve[0].zoom,"stop zoom values must appear in ascending order")];Gt(ve[0].zoom)!==y&&(y=Gt(ve[0].zoom),u=void 0,P={}),he=he.concat(Za({key:Be+"[0]",value:ve[0],valueSpec:{zoom:{}},style:$.style,styleSpec:$.styleSpec,objectElementValidators:{zoom:Ul,value:W}}))}else he=he.concat(W({key:Be+"[0]",value:ve[0],valueSpec:{},style:$.style,styleSpec:$.styleSpec},ve));return qu(gt(ve[1]))?he.concat([new be(Be+"[1]",ve[1],"expressions are not allowed in function stops.")]):he.concat(Oo({key:Be+"[1]",value:ve[1],valueSpec:_,style:$.style,styleSpec:$.styleSpec}))}function W($,he){var ve=li($.value),Be=Gt($.value),Ce=$.value!==null?$.value:he;if(a){if(ve!==a)return[new be($.key,Ce,ve+" stop domain type must match previous stop domain type "+a)]}else a=ve;if(ve!=="number"&&ve!=="string"&&ve!=="boolean")return[new be($.key,Ce,"stop domain value must be a number, string, or boolean")];if(ve!=="number"&&v!=="categorical"){var Ze="number expected, "+ve+" found";return $s(_)&&v===void 0&&(Ze+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new be($.key,Ce,Ze)]}return v!=="categorical"||ve!=="number"||isFinite(Be)&&Math.floor(Be)===Be?v!=="categorical"&&ve==="number"&&u!==void 0&&Be<u?[new be($.key,Ce,"stop domain values must appear in ascending order")]:(u=Be,v==="categorical"&&Be in P?[new be($.key,Ce,"stop domain values must be unique")]:(P[Be]=!0,[])):[new be($.key,Ce,"integer expected, found "+Be)]}}function Fu(o){var a=(o.expressionContext==="property"?Ll:xp)(gt(o.value),o.valueSpec);if(a.result==="error")return a.value.map(function(y){return new be(""+o.key+y.key,o.value,y.message)});var u=a.value.expression||a.value._styleExpression.expression;if(o.expressionContext==="property"&&o.propertyKey==="text-font"&&!u.outputDefined())return[new be(o.key,o.value,'Invalid data expression for "'+o.propertyKey+'". Output values must be contained as literals within the expression.')];if(o.expressionContext==="property"&&o.propertyType==="layout"&&!mu(u))return[new be(o.key,o.value,'"feature-state" data expressions are not supported with layout properties.')];if(o.expressionContext==="filter"&&!mu(u))return[new be(o.key,o.value,'"feature-state" data expressions are not supported with filters.')];if(o.expressionContext&&o.expressionContext.indexOf("cluster")===0){if(!vs(u,["zoom","feature-state"]))return[new be(o.key,o.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if(o.expressionContext==="cluster-initial"&&!fu(u))return[new be(o.key,o.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function bs(o){var a=o.key,u=o.value,y=o.valueSpec,_=[];return Array.isArray(y.values)?y.values.indexOf(Gt(u))===-1&&_.push(new be(a,u,"expected one of ["+y.values.join(", ")+"], "+JSON.stringify(u)+" found")):Object.keys(y.values).indexOf(Gt(u))===-1&&_.push(new be(a,u,"expected one of ["+Object.keys(y.values).join(", ")+"], "+JSON.stringify(u)+" found")),_}function Pp(o){if(o===!0||o===!1)return!0;if(!Array.isArray(o)||o.length===0)return!1;switch(o[0]){case"has":return o.length>=2&&o[1]!=="$id"&&o[1]!=="$type";case"in":return o.length>=3&&(typeof o[1]!="string"||Array.isArray(o[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return o.length!==3||Array.isArray(o[1])||Array.isArray(o[2]);case"any":case"all":for(var a=0,u=o.slice(1);a<u.length;a+=1){var y=u[a];if(!Pp(y)&&typeof y!="boolean")return!1}return!0;default:return!0}}Qu.deserialize=function(o){return new Qu(o._parameters,o._specification)},Qu.serialize=function(o){return{_parameters:o._parameters,_specification:o._specification}};var rc={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function Tu(o){if(o==null)return{filter:function(){return!0},needGeometry:!1};Pp(o)||(o=Lc(o));var a=xp(o,rc);if(a.result==="error")throw new Error(a.value.map(function(u){return u.key+": "+u.message}).join(", "));return{filter:function(u,y,_){return a.value.evaluate(u,y,{},_)},needGeometry:function u(y){if(!Array.isArray(y))return!1;if(y[0]==="within")return!0;for(var _=1;_<y.length;_++)if(u(y[_]))return!0;return!1}(o)}}function V0(o,a){return o<a?-1:o>a?1:0}function Lc(o){if(!o)return!0;var a,u=o[0];return o.length<=1?u!=="any":u==="=="?zl(o[1],o[2],"=="):u==="!="?Uc(zl(o[1],o[2],"==")):u==="<"||u===">"||u==="<="||u===">="?zl(o[1],o[2],u):u==="any"?(a=o.slice(1),["any"].concat(a.map(Lc))):u==="all"?["all"].concat(o.slice(1).map(Lc)):u==="none"?["all"].concat(o.slice(1).map(Lc).map(Uc)):u==="in"?Bc(o[1],o.slice(2)):u==="!in"?Uc(Bc(o[1],o.slice(2))):u==="has"?N1(o[1]):u==="!has"?Uc(N1(o[1])):u!=="within"||o}function zl(o,a,u){switch(o){case"$type":return["filter-type-"+u,a];case"$id":return["filter-id-"+u,a];default:return["filter-"+u,o,a]}}function Bc(o,a){if(a.length===0)return!1;switch(o){case"$type":return["filter-type-in",["literal",a]];case"$id":return["filter-id-in",["literal",a]];default:return a.length>200&&!a.some(function(u){return typeof u!=typeof a[0]})?["filter-in-large",o,["literal",a.sort(V0)]]:["filter-in-small",o,["literal",a]]}}function N1(o){switch(o){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",o]}}function Uc(o){return["!",o]}function Vl(o){return Pp(gt(o.value))?Fu(Ft({},o,{expressionContext:"filter",valueSpec:{value:"boolean"}})):function a(u){var y=u.value,_=u.key;if(li(y)!=="array")return[new be(_,y,"array expected, "+li(y)+" found")];var v,P=u.styleSpec,S=[];if(y.length<1)return[new be(_,y,"filter array must have at least 1 element")];switch(S=S.concat(bs({key:_+"[0]",value:y[0],valueSpec:P.filter_operator,style:u.style,styleSpec:u.styleSpec})),Gt(y[0])){case"<":case"<=":case">":case">=":y.length>=2&&Gt(y[1])==="$type"&&S.push(new be(_,y,'"$type" cannot be use with operator "'+y[0]+'"'));case"==":case"!=":y.length!==3&&S.push(new be(_,y,'filter array for operator "'+y[0]+'" must have 3 elements'));case"in":case"!in":y.length>=2&&(v=li(y[1]))!=="string"&&S.push(new be(_+"[1]",y[1],"string expected, "+v+" found"));for(var C=2;C<y.length;C++)v=li(y[C]),Gt(y[1])==="$type"?S=S.concat(bs({key:_+"["+C+"]",value:y[C],valueSpec:P.geometry_type,style:u.style,styleSpec:u.styleSpec})):v!=="string"&&v!=="number"&&v!=="boolean"&&S.push(new be(_+"["+C+"]",y[C],"string, number, or boolean expected, "+v+" found"));break;case"any":case"all":case"none":for(var M=1;M<y.length;M++)S=S.concat(a({key:_+"["+M+"]",value:y[M],style:u.style,styleSpec:u.styleSpec}));break;case"has":case"!has":v=li(y[1]),y.length!==2?S.push(new be(_,y,'filter array for "'+y[0]+'" operator must have 2 elements')):v!=="string"&&S.push(new be(_+"[1]",y[1],"string expected, "+v+" found"));break;case"within":v=li(y[1]),y.length!==2?S.push(new be(_,y,'filter array for "'+y[0]+'" operator must have 2 elements')):v!=="object"&&S.push(new be(_+"[1]",y[1],"object expected, "+v+" found"))}return S}(o)}function oc(o,a){var u=o.key,y=o.style,_=o.styleSpec,v=o.value,P=o.objectKey,S=_[a+"_"+o.layerType];if(!S)return[];var C=P.match(/^(.*)-transition$/);if(a==="paint"&&C&&S[C[1]]&&S[C[1]].transition)return Oo({key:u,value:v,valueSpec:_.transition,style:y,styleSpec:_});var M,L=o.valueSpec||S[P];if(!L)return[new be(u,v,'unknown property "'+P+'"')];if(li(v)==="string"&&$s(L)&&!L.tokens&&(M=/^{([^}]+)}$/.exec(v)))return[new be(u,v,'"'+P+'" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": '+JSON.stringify(M[1])+" }`.")];var z=[];return o.layerType==="symbol"&&(P==="text-field"&&y&&!y.glyphs&&z.push(new be(u,v,'use of "text-field" requires a style "glyphs" property')),P==="text-font"&&Dc(gt(v))&&Gt(v.type)==="identity"&&z.push(new be(u,v,'"text-font" does not support identity functions'))),z.concat(Oo({key:o.key,value:v,valueSpec:L,style:y,styleSpec:_,expressionContext:"property",propertyType:a,propertyKey:P}))}function Hl(o){return oc(o,"paint")}function Ju(o){return oc(o,"layout")}function Gl(o){var a=[],u=o.value,y=o.key,_=o.style,v=o.styleSpec;u.type||u.ref||a.push(new be(y,u,'either "type" or "ref" is required'));var P,S=Gt(u.type),C=Gt(u.ref);if(u.id)for(var M=Gt(u.id),L=0;L<o.arrayIndex;L++){var z=_.layers[L];Gt(z.id)===M&&a.push(new be(y,u.id,'duplicate layer id "'+u.id+'", previously used at line '+z.id.__line__))}if("ref"in u)["type","source","source-layer","filter","layout"].forEach(function(he){he in u&&a.push(new be(y,u[he],'"'+he+'" is prohibited for ref layers'))}),_.layers.forEach(function(he){Gt(he.id)===C&&(P=he)}),P?P.ref?a.push(new be(y,u.ref,"ref cannot reference another ref layer")):S=Gt(P.type):a.push(new be(y,u.ref,'ref layer "'+C+'" not found'));else if(S!=="background")if(u.source){var W=_.sources&&_.sources[u.source],$=W&&Gt(W.type);W?$==="vector"&&S==="raster"?a.push(new be(y,u.source,'layer "'+u.id+'" requires a raster source')):$==="raster"&&S!=="raster"?a.push(new be(y,u.source,'layer "'+u.id+'" requires a vector source')):$!=="vector"||u["source-layer"]?$==="raster-dem"&&S!=="hillshade"?a.push(new be(y,u.source,"raster-dem source can only be used with layer type 'hillshade'.")):S!=="line"||!u.paint||!u.paint["line-gradient"]||$==="geojson"&&W.lineMetrics||a.push(new be(y,u,'layer "'+u.id+'" specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):a.push(new be(y,u,'layer "'+u.id+'" must specify a "source-layer"')):a.push(new be(y,u.source,'source "'+u.source+'" not found'))}else a.push(new be(y,u,'missing required property "source"'));return a=a.concat(Za({key:y,value:u,valueSpec:v.layer,style:o.style,styleSpec:o.styleSpec,objectElementValidators:{"*":function(){return[]},type:function(){return Oo({key:y+".type",value:u.type,valueSpec:v.layer.type,style:o.style,styleSpec:o.styleSpec,object:u,objectKey:"type"})},filter:Vl,layout:function(he){return Za({layer:u,key:he.key,value:he.value,style:he.style,styleSpec:he.styleSpec,objectElementValidators:{"*":function(ve){return Ju(Ft({layerType:S},ve))}}})},paint:function(he){return Za({layer:u,key:he.key,value:he.value,style:he.style,styleSpec:he.styleSpec,objectElementValidators:{"*":function(ve){return Hl(Ft({layerType:S},ve))}}})}}}))}function Su(o){var a=o.value,u=o.key,y=li(a);return y!=="string"?[new be(u,a,"string expected, "+y+" found")]:[]}var di={promoteId:function(o){var a=o.key,u=o.value;if(li(u)==="string")return Su({key:a,value:u});var y=[];for(var _ in u)y.push.apply(y,Su({key:a+"."+_,value:u[_]}));return y}};function kc(o){var a=o.value,u=o.key,y=o.styleSpec,_=o.style;if(!a.type)return[new be(u,a,'"type" is required')];var v,P=Gt(a.type);switch(P){case"vector":case"raster":case"raster-dem":return Za({key:u,value:a,valueSpec:y["source_"+P.replace("-","_")],style:o.style,styleSpec:y,objectElementValidators:di});case"geojson":if(v=Za({key:u,value:a,valueSpec:y.source_geojson,style:_,styleSpec:y,objectElementValidators:di}),a.cluster)for(var S in a.clusterProperties){var C=a.clusterProperties[S],M=C[0],L=typeof M=="string"?[M,["accumulated"],["get",S]]:M;v.push.apply(v,Fu({key:u+"."+S+".map",value:C[1],expressionContext:"cluster-map"})),v.push.apply(v,Fu({key:u+"."+S+".reduce",value:L,expressionContext:"cluster-reduce"}))}return v;case"video":return Za({key:u,value:a,valueSpec:y.source_video,style:_,styleSpec:y});case"image":return Za({key:u,value:a,valueSpec:y.source_image,style:_,styleSpec:y});case"canvas":return[new be(u,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return bs({key:u+".type",value:a.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]},style:_,styleSpec:y})}}function As(o){var a=o.value,u=o.styleSpec,y=u.light,_=o.style,v=[],P=li(a);if(a===void 0)return v;if(P!=="object")return v.concat([new be("light",a,"object expected, "+P+" found")]);for(var S in a){var C=S.match(/^(.*)-transition$/);v=v.concat(C&&y[C[1]]&&y[C[1]].transition?Oo({key:S,value:a[S],valueSpec:u.transition,style:_,styleSpec:u}):y[S]?Oo({key:S,value:a[S],valueSpec:y[S],style:_,styleSpec:u}):[new be(S,a[S],'unknown property "'+S+'"')])}return v}var Ru={"*":function(){return[]},array:Bl,boolean:function(o){var a=o.value,u=o.key,y=li(a);return y!=="boolean"?[new be(u,a,"boolean expected, "+y+" found")]:[]},number:Ul,color:function(o){var a=o.key,u=o.value,y=li(u);return y!=="string"?[new be(a,u,"color expected, "+y+" found")]:lo(u)===null?[new be(a,u,'color expected, "'+u+'" found')]:[]},constants:Qe,enum:bs,filter:Vl,function:kl,layer:Gl,object:Za,source:kc,light:As,string:Su,formatted:function(o){return Su(o).length===0?[]:Fu(o)},resolvedImage:function(o){return Su(o).length===0?[]:Fu(o)}};function Oo(o){var a=o.value,u=o.valueSpec,y=o.styleSpec;return u.expression&&Dc(Gt(a))?kl(o):u.expression&&qu(gt(a))?Fu(o):u.type&&Ru[u.type]?Ru[u.type](o):Za(Ft({},o,{valueSpec:u.type?y[u.type]:u}))}function yi(o){var a=o.value,u=o.key,y=Su(o);return y.length||(a.indexOf("{fontstack}")===-1&&y.push(new be(u,a,'"glyphs" url must include a "{fontstack}" token')),a.indexOf("{range}")===-1&&y.push(new be(u,a,'"glyphs" url must include a "{range}" token'))),y}function Oa(o,a){a===void 0&&(a=J);var u=[];return u=u.concat(Oo({key:"",value:o,valueSpec:a.$root,styleSpec:a,style:o,objectElementValidators:{glyphs:yi,"*":function(){return[]}}})),o.constants&&(u=u.concat(Qe({key:"constants",value:o.constants,style:o,styleSpec:a}))),ic(u)}function ic(o){return[].concat(o).sort(function(a,u){return a.line-u.line})}function bp(o){return function(){for(var a=[],u=arguments.length;u--;)a[u]=arguments[u];return ic(o.apply(this,a))}}Oa.source=bp(kc),Oa.light=bp(As),Oa.layer=bp(Gl),Oa.filter=bp(Vl),Oa.paintProperty=bp(Hl),Oa.layoutProperty=bp(Ju);var nc=Oa,D1=nc.light,zc=nc.paintProperty,ac=nc.layoutProperty;function wu(o,a){var u=!1;if(a&&a.length)for(var y=0,_=a;y<_.length;y+=1)o.fire(new ke(new Error(_[y].message))),u=!0;return u}var hn=Ai;function Ai(o,a,u){var y=this.cells=[];if(o instanceof ArrayBuffer){this.arrayBuffer=o;var _=new Int32Array(this.arrayBuffer);o=_[0],this.d=(a=_[1])+2*(u=_[2]);for(var v=0;v<this.d*this.d;v++){var P=_[3+v],S=_[3+v+1];y.push(P===S?null:_.subarray(P,S))}var C=_[3+y.length+1];this.keys=_.subarray(_[3+y.length],C),this.bboxes=_.subarray(C),this.insert=this._insertReadonly}else{this.d=a+2*u;for(var M=0;M<this.d*this.d;M++)y.push([]);this.keys=[],this.bboxes=[]}this.n=a,this.extent=o,this.padding=u,this.scale=a/o,this.uid=0;var L=u/a*o;this.min=-L,this.max=o+L}Ai.prototype.insert=function(o,a,u,y,_){this._forEachCell(a,u,y,_,this._insertCell,this.uid++),this.keys.push(o),this.bboxes.push(a),this.bboxes.push(u),this.bboxes.push(y),this.bboxes.push(_)},Ai.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},Ai.prototype._insertCell=function(o,a,u,y,_,v){this.cells[_].push(v)},Ai.prototype.query=function(o,a,u,y,_){var v=this.min,P=this.max;if(o<=v&&a<=v&&P<=u&&P<=y&&!_)return Array.prototype.slice.call(this.keys);var S=[];return this._forEachCell(o,a,u,y,this._queryCell,S,{},_),S},Ai.prototype._queryCell=function(o,a,u,y,_,v,P,S){var C=this.cells[_];if(C!==null)for(var M=this.keys,L=this.bboxes,z=0;z<C.length;z++){var W=C[z];if(P[W]===void 0){var $=4*W;(S?S(L[$+0],L[$+1],L[$+2],L[$+3]):o<=L[$+2]&&a<=L[$+3]&&u>=L[$+0]&&y>=L[$+1])?(P[W]=!0,v.push(M[W])):P[W]=!1}}},Ai.prototype._forEachCell=function(o,a,u,y,_,v,P,S){for(var C=this._convertToCellCoord(o),M=this._convertToCellCoord(a),L=this._convertToCellCoord(u),z=this._convertToCellCoord(y),W=C;W<=L;W++)for(var $=M;$<=z;$++){var he=this.d*$+W;if((!S||S(this._convertFromCellCoord(W),this._convertFromCellCoord($),this._convertFromCellCoord(W+1),this._convertFromCellCoord($+1)))&&_.call(this,o,a,u,y,he,v,P,S))return}},Ai.prototype._convertFromCellCoord=function(o){return(o-this.padding)/this.scale},Ai.prototype._convertToCellCoord=function(o){return Math.max(0,Math.min(this.d-1,Math.floor(o*this.scale)+this.padding))},Ai.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var o=this.cells,a=3+this.cells.length+1+1,u=0,y=0;y<this.cells.length;y++)u+=this.cells[y].length;var _=new Int32Array(a+u+this.keys.length+this.bboxes.length);_[0]=this.extent,_[1]=this.n,_[2]=this.padding;for(var v=a,P=0;P<o.length;P++){var S=o[P];_[3+P]=v,_.set(S,v),v+=S.length}return _[3+o.length]=v,_.set(this.keys,v),_[3+o.length+1]=v+=this.keys.length,_.set(this.bboxes,v),v+=this.bboxes.length,_.buffer};var Ap=F.ImageData,jl=F.ImageBitmap,Gi={};function Tr(o,a,u){u===void 0&&(u={}),Object.defineProperty(a,"_classRegistryKey",{value:o,writeable:!1}),Gi[o]={klass:a,omit:u.omit||[],shallow:u.shallow||[]}}for(var pa in Tr("Object",Object),hn.serialize=function(o,a){var u=o.toArrayBuffer();return a&&a.push(u),{buffer:u}},hn.deserialize=function(o){return new hn(o.buffer)},Tr("Grid",hn),Tr("Color",Fo),Tr("Error",Error),Tr("ResolvedImage",vi),Tr("StylePropertyFunction",Qu),Tr("StyleExpression",Au,{omit:["_evaluator"]}),Tr("ZoomDependentExpression",Ku),Tr("ZoomConstantExpression",$u),Tr("CompoundExpression",ne,{omit:["_evaluate"]}),Ps)Ps[pa]._classRegistryKey||Tr("Expression_"+pa,Ps[pa]);function sc(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function Fp(o){return jl&&o instanceof jl}function ea(o,a){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp)return o;if(sc(o)||Fp(o))return a&&a.push(o),o;if(ArrayBuffer.isView(o)){var u=o;return a&&a.push(u.buffer),u}if(o instanceof Ap)return a&&a.push(o.data.buffer),o;if(Array.isArray(o)){for(var y=[],_=0,v=o;_<v.length;_+=1)y.push(ea(v[_],a));return y}if(typeof o=="object"){var P=o.constructor,S=P._classRegistryKey;if(!S)throw new Error("can't serialize object of unregistered class");var C=P.serialize?P.serialize(o,a):{};if(!P.serialize){for(var M in o)if(o.hasOwnProperty(M)&&!(Gi[S].omit.indexOf(M)>=0)){var L=o[M];C[M]=Gi[S].shallow.indexOf(M)>=0?L:ea(L,a)}o instanceof Error&&(C.message=o.message)}if(C.$name)throw new Error("$name property is reserved for worker serialization logic.");return S!=="Object"&&(C.$name=S),C}throw new Error("can't serialize object of type "+typeof o)}function ai(o){if(o==null||typeof o=="boolean"||typeof o=="number"||typeof o=="string"||o instanceof Boolean||o instanceof Number||o instanceof String||o instanceof Date||o instanceof RegExp||sc(o)||Fp(o)||ArrayBuffer.isView(o)||o instanceof Ap)return o;if(Array.isArray(o))return o.map(ai);if(typeof o=="object"){var a=o.$name||"Object",u=Gi[a].klass;if(!u)throw new Error("can't deserialize unregistered class "+a);if(u.deserialize)return u.deserialize(o);for(var y=Object.create(u.prototype),_=0,v=Object.keys(o);_<v.length;_+=1){var P=v[_];if(P!=="$name"){var S=o[P];y[P]=Gi[a].shallow.indexOf(P)>=0?S:ai(S)}}return y}throw new Error("can't deserialize object of type "+typeof o)}var Vc=function(){this.first=!0};Vc.prototype.update=function(o,a){var u=Math.floor(o);return this.first?(this.first=!1,this.lastIntegerZoom=u,this.lastIntegerZoomTime=0,this.lastZoom=o,this.lastFloorZoom=u,!0):(this.lastFloorZoom>u?(this.lastIntegerZoom=u+1,this.lastIntegerZoomTime=a):this.lastFloorZoom<u&&(this.lastIntegerZoom=u,this.lastIntegerZoomTime=a),o!==this.lastZoom&&(this.lastZoom=o,this.lastFloorZoom=u,!0))};var sr={"Latin-1 Supplement":function(o){return o>=128&&o<=255},Arabic:function(o){return o>=1536&&o<=1791},"Arabic Supplement":function(o){return o>=1872&&o<=1919},"Arabic Extended-A":function(o){return o>=2208&&o<=2303},"Hangul Jamo":function(o){return o>=4352&&o<=4607},"Unified Canadian Aboriginal Syllabics":function(o){return o>=5120&&o<=5759},Khmer:function(o){return o>=6016&&o<=6143},"Unified Canadian Aboriginal Syllabics Extended":function(o){return o>=6320&&o<=6399},"General Punctuation":function(o){return o>=8192&&o<=8303},"Letterlike Symbols":function(o){return o>=8448&&o<=8527},"Number Forms":function(o){return o>=8528&&o<=8591},"Miscellaneous Technical":function(o){return o>=8960&&o<=9215},"Control Pictures":function(o){return o>=9216&&o<=9279},"Optical Character Recognition":function(o){return o>=9280&&o<=9311},"Enclosed Alphanumerics":function(o){return o>=9312&&o<=9471},"Geometric Shapes":function(o){return o>=9632&&o<=9727},"Miscellaneous Symbols":function(o){return o>=9728&&o<=9983},"Miscellaneous Symbols and Arrows":function(o){return o>=11008&&o<=11263},"CJK Radicals Supplement":function(o){return o>=11904&&o<=12031},"Kangxi Radicals":function(o){return o>=12032&&o<=12255},"Ideographic Description Characters":function(o){return o>=12272&&o<=12287},"CJK Symbols and Punctuation":function(o){return o>=12288&&o<=12351},Hiragana:function(o){return o>=12352&&o<=12447},Katakana:function(o){return o>=12448&&o<=12543},Bopomofo:function(o){return o>=12544&&o<=12591},"Hangul Compatibility Jamo":function(o){return o>=12592&&o<=12687},Kanbun:function(o){return o>=12688&&o<=12703},"Bopomofo Extended":function(o){return o>=12704&&o<=12735},"CJK Strokes":function(o){return o>=12736&&o<=12783},"Katakana Phonetic Extensions":function(o){return o>=12784&&o<=12799},"Enclosed CJK Letters and Months":function(o){return o>=12800&&o<=13055},"CJK Compatibility":function(o){return o>=13056&&o<=13311},"CJK Unified Ideographs Extension A":function(o){return o>=13312&&o<=19903},"Yijing Hexagram Symbols":function(o){return o>=19904&&o<=19967},"CJK Unified Ideographs":function(o){return o>=19968&&o<=40959},"Yi Syllables":function(o){return o>=40960&&o<=42127},"Yi Radicals":function(o){return o>=42128&&o<=42191},"Hangul Jamo Extended-A":function(o){return o>=43360&&o<=43391},"Hangul Syllables":function(o){return o>=44032&&o<=55215},"Hangul Jamo Extended-B":function(o){return o>=55216&&o<=55295},"Private Use Area":function(o){return o>=57344&&o<=63743},"CJK Compatibility Ideographs":function(o){return o>=63744&&o<=64255},"Arabic Presentation Forms-A":function(o){return o>=64336&&o<=65023},"Vertical Forms":function(o){return o>=65040&&o<=65055},"CJK Compatibility Forms":function(o){return o>=65072&&o<=65103},"Small Form Variants":function(o){return o>=65104&&o<=65135},"Arabic Presentation Forms-B":function(o){return o>=65136&&o<=65279},"Halfwidth and Fullwidth Forms":function(o){return o>=65280&&o<=65519}};function Qs(o){for(var a=0,u=o;a<u.length;a+=1)if(uc(u[a].charCodeAt(0)))return!0;return!1}function uc(o){return!(o!==746&&o!==747&&(o<4352||!(sr["Bopomofo Extended"](o)||sr.Bopomofo(o)||sr["CJK Compatibility Forms"](o)&&!(o>=65097&&o<=65103)||sr["CJK Compatibility Ideographs"](o)||sr["CJK Compatibility"](o)||sr["CJK Radicals Supplement"](o)||sr["CJK Strokes"](o)||!(!sr["CJK Symbols and Punctuation"](o)||o>=12296&&o<=12305||o>=12308&&o<=12319||o===12336)||sr["CJK Unified Ideographs Extension A"](o)||sr["CJK Unified Ideographs"](o)||sr["Enclosed CJK Letters and Months"](o)||sr["Hangul Compatibility Jamo"](o)||sr["Hangul Jamo Extended-A"](o)||sr["Hangul Jamo Extended-B"](o)||sr["Hangul Jamo"](o)||sr["Hangul Syllables"](o)||sr.Hiragana(o)||sr["Ideographic Description Characters"](o)||sr.Kanbun(o)||sr["Kangxi Radicals"](o)||sr["Katakana Phonetic Extensions"](o)||sr.Katakana(o)&&o!==12540||!(!sr["Halfwidth and Fullwidth Forms"](o)||o===65288||o===65289||o===65293||o>=65306&&o<=65310||o===65339||o===65341||o===65343||o>=65371&&o<=65503||o===65507||o>=65512&&o<=65519)||!(!sr["Small Form Variants"](o)||o>=65112&&o<=65118||o>=65123&&o<=65126)||sr["Unified Canadian Aboriginal Syllabics"](o)||sr["Unified Canadian Aboriginal Syllabics Extended"](o)||sr["Vertical Forms"](o)||sr["Yijing Hexagram Symbols"](o)||sr["Yi Syllables"](o)||sr["Yi Radicals"](o))))}function Hc(o){return!(uc(o)||function(a){return!!(sr["Latin-1 Supplement"](a)&&(a===167||a===169||a===174||a===177||a===188||a===189||a===190||a===215||a===247)||sr["General Punctuation"](a)&&(a===8214||a===8224||a===8225||a===8240||a===8241||a===8251||a===8252||a===8258||a===8263||a===8264||a===8265||a===8273)||sr["Letterlike Symbols"](a)||sr["Number Forms"](a)||sr["Miscellaneous Technical"](a)&&(a>=8960&&a<=8967||a>=8972&&a<=8991||a>=8996&&a<=9e3||a===9003||a>=9085&&a<=9114||a>=9150&&a<=9165||a===9167||a>=9169&&a<=9179||a>=9186&&a<=9215)||sr["Control Pictures"](a)&&a!==9251||sr["Optical Character Recognition"](a)||sr["Enclosed Alphanumerics"](a)||sr["Geometric Shapes"](a)||sr["Miscellaneous Symbols"](a)&&!(a>=9754&&a<=9759)||sr["Miscellaneous Symbols and Arrows"](a)&&(a>=11026&&a<=11055||a>=11088&&a<=11097||a>=11192&&a<=11243)||sr["CJK Symbols and Punctuation"](a)||sr.Katakana(a)||sr["Private Use Area"](a)||sr["CJK Compatibility Forms"](a)||sr["Small Form Variants"](a)||sr["Halfwidth and Fullwidth Forms"](a)||a===8734||a===8756||a===8757||a>=9984&&a<=10087||a>=10102&&a<=10131||a===65532||a===65533)}(o))}function Ya(o){return o>=1424&&o<=2303||sr["Arabic Presentation Forms-A"](o)||sr["Arabic Presentation Forms-B"](o)}function ba(o,a){return!(!a&&Ya(o)||o>=2304&&o<=3583||o>=3840&&o<=4255||sr.Khmer(o))}function Gc(o){for(var a=0,u=o;a<u.length;a+=1)if(Ya(u[a].charCodeAt(0)))return!0;return!1}var jc=null,ta="unavailable",Fs=null,O1=function(o){o&&typeof o=="string"&&o.indexOf("NetworkError")>-1&&(ta="error"),jc&&jc(o)};function Tp(){Wc.fire(new ge("pluginStateChange",{pluginStatus:ta,pluginURL:Fs}))}var Wc=new Ge,Wl=function(){return ta},Aa=function(){if(ta!=="deferred"||!Fs)throw new Error("rtl-text-plugin cannot be downloaded unless a pluginURL is specified");ta="loading",Tp(),Fs&&Zu({url:Fs},function(o){o?O1(o):(ta="loaded",Tp())})},La={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return ta==="loaded"||La.applyArabicShaping!=null},isLoading:function(){return ta==="loading"},setState:function(o){ta=o.pluginStatus,Fs=o.pluginURL},isParsed:function(){return La.applyArabicShaping!=null&&La.processBidirectionalText!=null&&La.processStyledBidirectionalText!=null},getPluginURL:function(){return Fs}},ho=function(o,a){this.zoom=o,a?(this.now=a.now,this.fadeDuration=a.fadeDuration,this.zoomHistory=a.zoomHistory,this.transition=a.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Vc,this.transition={})};ho.prototype.isSupportedScript=function(o){return function(a,u){for(var y=0,_=a;y<_.length;y+=1)if(!ba(_[y].charCodeAt(0),u))return!1;return!0}(o,La.isLoaded())},ho.prototype.crossFadingFactor=function(){return this.fadeDuration===0?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ho.prototype.getCrossfadeParameters=function(){var o=this.zoom,a=o-Math.floor(o),u=this.crossFadingFactor();return o>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:a+(1-a)*u}:{fromScale:.5,toScale:1,t:1-(1-u)*a}};var Ba=function(o,a){this.property=o,this.value=a,this.expression=function(u,y){if(Dc(u))return new Qu(u,y);if(qu(u)){var _=Ll(u,y);if(_.result==="error")throw new Error(_.value.map(function(P){return P.key+": "+P.message}).join(", "));return _.value}var v=u;return typeof u=="string"&&y.type==="color"&&(v=Fo.parse(u)),{kind:"constant",evaluate:function(){return v}}}(a===void 0?o.specification.default:a,o.specification)};Ba.prototype.isDataDriven=function(){return this.expression.kind==="source"||this.expression.kind==="composite"},Ba.prototype.possiblyEvaluate=function(o,a,u){return this.property.possiblyEvaluate(this,o,a,u)};var Ua=function(o){this.property=o,this.value=new Ba(o,void 0)};Ua.prototype.transitioned=function(o,a){return new Cu(this.property,this.value,a,ee({},o.transition,this.transition),o.now)},Ua.prototype.untransitioned=function(){return new Cu(this.property,this.value,null,{},0)};var An=function(o){this._properties=o,this._values=Object.create(o.defaultTransitionablePropertyValues)};An.prototype.getValue=function(o){return we(this._values[o].value.value)},An.prototype.setValue=function(o,a){this._values.hasOwnProperty(o)||(this._values[o]=new Ua(this._values[o].property)),this._values[o].value=new Ba(this._values[o].property,a===null?void 0:we(a))},An.prototype.getTransition=function(o){return we(this._values[o].transition)},An.prototype.setTransition=function(o,a){this._values.hasOwnProperty(o)||(this._values[o]=new Ua(this._values[o].property)),this._values[o].transition=we(a)||void 0},An.prototype.serialize=function(){for(var o={},a=0,u=Object.keys(this._values);a<u.length;a+=1){var y=u[a],_=this.getValue(y);_!==void 0&&(o[y]=_);var v=this.getTransition(y);v!==void 0&&(o[y+"-transition"]=v)}return o},An.prototype.transitioned=function(o,a){for(var u=new Js(this._properties),y=0,_=Object.keys(this._values);y<_.length;y+=1){var v=_[y];u._values[v]=this._values[v].transitioned(o,a._values[v])}return u},An.prototype.untransitioned=function(){for(var o=new Js(this._properties),a=0,u=Object.keys(this._values);a<u.length;a+=1){var y=u[a];o._values[y]=this._values[y].untransitioned()}return o};var Cu=function(o,a,u,y,_){this.property=o,this.value=a,this.begin=_+y.delay||0,this.end=this.begin+y.duration||0,o.specification.transition&&(y.delay||y.duration)&&(this.prior=u)};Cu.prototype.possiblyEvaluate=function(o,a,u){var y=o.now||0,_=this.value.possiblyEvaluate(o,a,u),v=this.prior;if(v){if(y>this.end)return this.prior=null,_;if(this.value.isDataDriven())return this.prior=null,_;if(y<this.begin)return v.possiblyEvaluate(o,a,u);var P=(y-this.begin)/(this.end-this.begin);return this.property.interpolate(v.possiblyEvaluate(o,a,u),_,function(S){if(S<=0)return 0;if(S>=1)return 1;var C=S*S,M=C*S;return 4*(S<.5?M:3*(S-C)+M-.75)}(P))}return _};var Js=function(o){this._properties=o,this._values=Object.create(o.defaultTransitioningPropertyValues)};Js.prototype.possiblyEvaluate=function(o,a,u){for(var y=new Sp(this._properties),_=0,v=Object.keys(this._values);_<v.length;_+=1){var P=v[_];y._values[P]=this._values[P].possiblyEvaluate(o,a,u)}return y},Js.prototype.hasTransition=function(){for(var o=0,a=Object.keys(this._values);o<a.length;o+=1)if(this._values[a[o]].prior)return!0;return!1};var qa=function(o){this._properties=o,this._values=Object.create(o.defaultPropertyValues)};qa.prototype.getValue=function(o){return we(this._values[o].value)},qa.prototype.setValue=function(o,a){this._values[o]=new Ba(this._values[o].property,a===null?void 0:we(a))},qa.prototype.serialize=function(){for(var o={},a=0,u=Object.keys(this._values);a<u.length;a+=1){var y=u[a],_=this.getValue(y);_!==void 0&&(o[y]=_)}return o},qa.prototype.possiblyEvaluate=function(o,a,u){for(var y=new Sp(this._properties),_=0,v=Object.keys(this._values);_<v.length;_+=1){var P=v[_];y._values[P]=this._values[P].possiblyEvaluate(o,a,u)}return y};var jn=function(o,a,u){this.property=o,this.value=a,this.parameters=u};jn.prototype.isConstant=function(){return this.value.kind==="constant"},jn.prototype.constantOr=function(o){return this.value.kind==="constant"?this.value.value:o},jn.prototype.evaluate=function(o,a,u,y){return this.property.evaluate(this.value,this.parameters,o,a,u,y)};var Sp=function(o){this._properties=o,this._values=Object.create(o.defaultPossiblyEvaluatedValues)};Sp.prototype.get=function(o){return this._values[o]};var Ur=function(o){this.specification=o};Ur.prototype.possiblyEvaluate=function(o,a){return o.expression.evaluate(a)},Ur.prototype.interpolate=function(o,a,u){var y=_u[this.specification.type];return y?y(o,a,u):o};var Cr=function(o,a){this.specification=o,this.overrides=a};Cr.prototype.possiblyEvaluate=function(o,a,u,y){return new jn(this,o.expression.kind==="constant"||o.expression.kind==="camera"?{kind:"constant",value:o.expression.evaluate(a,null,{},u,y)}:o.expression,a)},Cr.prototype.interpolate=function(o,a,u){if(o.value.kind!=="constant"||a.value.kind!=="constant")return o;if(o.value.value===void 0||a.value.value===void 0)return new jn(this,{kind:"constant",value:void 0},o.parameters);var y=_u[this.specification.type];return y?new jn(this,{kind:"constant",value:y(o.value.value,a.value.value,u)},o.parameters):o},Cr.prototype.evaluate=function(o,a,u,y,_,v){return o.kind==="constant"?o.value:o.evaluate(a,u,y,_,v)};var Fa=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(u,y,_,v){if(u.value===void 0)return new jn(this,{kind:"constant",value:void 0},y);if(u.expression.kind==="constant"){var P=u.expression.evaluate(y,null,{},_,v),S=u.property.specification.type==="resolvedImage"&&typeof P!="string"?P.name:P,C=this._calculate(S,S,S,y);return new jn(this,{kind:"constant",value:C},y)}if(u.expression.kind==="camera"){var M=this._calculate(u.expression.evaluate({zoom:y.zoom-1}),u.expression.evaluate({zoom:y.zoom}),u.expression.evaluate({zoom:y.zoom+1}),y);return new jn(this,{kind:"constant",value:M},y)}return new jn(this,u.expression,y)},a.prototype.evaluate=function(u,y,_,v,P,S){if(u.kind==="source"){var C=u.evaluate(y,_,v,P,S);return this._calculate(C,C,C,y)}return u.kind==="composite"?this._calculate(u.evaluate({zoom:Math.floor(y.zoom)-1},_,v),u.evaluate({zoom:Math.floor(y.zoom)},_,v),u.evaluate({zoom:Math.floor(y.zoom)+1},_,v),y):u.value},a.prototype._calculate=function(u,y,_,v){return v.zoom>v.zoomHistory.lastIntegerZoom?{from:u,to:y}:{from:_,to:y}},a.prototype.interpolate=function(u){return u},a}(Cr),Wn=function(o){this.specification=o};Wn.prototype.possiblyEvaluate=function(o,a,u,y){if(o.value!==void 0){if(o.expression.kind==="constant"){var _=o.expression.evaluate(a,null,{},u,y);return this._calculate(_,_,_,a)}return this._calculate(o.expression.evaluate(new ho(Math.floor(a.zoom-1),a)),o.expression.evaluate(new ho(Math.floor(a.zoom),a)),o.expression.evaluate(new ho(Math.floor(a.zoom+1),a)),a)}},Wn.prototype._calculate=function(o,a,u,y){return y.zoom>y.zoomHistory.lastIntegerZoom?{from:o,to:a}:{from:u,to:a}},Wn.prototype.interpolate=function(o){return o};var ps=function(o){this.specification=o};ps.prototype.possiblyEvaluate=function(o,a,u,y){return!!o.expression.evaluate(a,null,{},u,y)},ps.prototype.interpolate=function(){return!1};var Fi=function(o){for(var a in this.properties=o,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],o){var u=o[a];u.specification.overridable&&this.overridableProperties.push(a);var y=this.defaultPropertyValues[a]=new Ba(u,void 0),_=this.defaultTransitionablePropertyValues[a]=new Ua(u);this.defaultTransitioningPropertyValues[a]=_.untransitioned(),this.defaultPossiblyEvaluatedValues[a]=y.possiblyEvaluate({})}};Tr("DataDrivenProperty",Cr),Tr("DataConstantProperty",Ur),Tr("CrossFadedDataDrivenProperty",Fa),Tr("CrossFadedProperty",Wn),Tr("ColorRampProperty",ps);var $a=function(o){function a(u,y){if(o.call(this),this.id=u.id,this.type=u.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},u.type!=="custom"&&(this.metadata=(u=u).metadata,this.minzoom=u.minzoom,this.maxzoom=u.maxzoom,u.type!=="background"&&(this.source=u.source,this.sourceLayer=u["source-layer"],this.filter=u.filter),y.layout&&(this._unevaluatedLayout=new qa(y.layout)),y.paint)){for(var _ in this._transitionablePaint=new An(y.paint),u.paint)this.setPaintProperty(_,u.paint[_],{validate:!1});for(var v in u.layout)this.setLayoutProperty(v,u.layout[v],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Sp(y.paint)}}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},a.prototype.getLayoutProperty=function(u){return u==="visibility"?this.visibility:this._unevaluatedLayout.getValue(u)},a.prototype.setLayoutProperty=function(u,y,_){_===void 0&&(_={}),y!=null&&this._validate(ac,"layers."+this.id+".layout."+u,u,y,_)||(u!=="visibility"?this._unevaluatedLayout.setValue(u,y):this.visibility=y)},a.prototype.getPaintProperty=function(u){return De(u,"-transition")?this._transitionablePaint.getTransition(u.slice(0,-11)):this._transitionablePaint.getValue(u)},a.prototype.setPaintProperty=function(u,y,_){if(_===void 0&&(_={}),y!=null&&this._validate(zc,"layers."+this.id+".paint."+u,u,y,_))return!1;if(De(u,"-transition"))return this._transitionablePaint.setTransition(u.slice(0,-11),y||void 0),!1;var v=this._transitionablePaint._values[u],P=v.property.specification["property-type"]==="cross-faded-data-driven",S=v.value.isDataDriven(),C=v.value;this._transitionablePaint.setValue(u,y),this._handleSpecialPaintPropertyUpdate(u);var M=this._transitionablePaint._values[u].value;return M.isDataDriven()||S||P||this._handleOverridablePaintPropertyUpdate(u,C,M)},a.prototype._handleSpecialPaintPropertyUpdate=function(u){},a.prototype._handleOverridablePaintPropertyUpdate=function(u,y,_){return!1},a.prototype.isHidden=function(u){return!!(this.minzoom&&u<this.minzoom)||!!(this.maxzoom&&u>=this.maxzoom)||this.visibility==="none"},a.prototype.updateTransitions=function(u){this._transitioningPaint=this._transitionablePaint.transitioned(u,this._transitioningPaint)},a.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},a.prototype.recalculate=function(u,y){u.getCrossfadeParameters&&(this._crossfadeParameters=u.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(u,void 0,y)),this.paint=this._transitioningPaint.possiblyEvaluate(u,void 0,y)},a.prototype.serialize=function(){var u={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(u.layout=u.layout||{},u.layout.visibility=this.visibility),qe(u,function(y,_){return!(y===void 0||_==="layout"&&!Object.keys(y).length||_==="paint"&&!Object.keys(y).length)})},a.prototype._validate=function(u,y,_,v,P){return P===void 0&&(P={}),(!P||P.validate!==!1)&&wu(this,u.call(nc,{key:y,layerType:this.type,objectKey:_,value:v,styleSpec:J,style:{glyphs:!0,sprite:!0}}))},a.prototype.is3D=function(){return!1},a.prototype.isTileClipped=function(){return!1},a.prototype.hasOffscreenPass=function(){return!1},a.prototype.resize=function(){},a.prototype.isStateDependent=function(){for(var u in this.paint._values){var y=this.paint.get(u);if(y instanceof jn&&$s(y.property.specification)&&(y.value.kind==="source"||y.value.kind==="composite")&&y.value.isStateDependent)return!0}return!1},a}(Ge),eu={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},ep=function(o,a){this._structArray=o,this._pos1=a*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},Yo=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function fn(o,a){a===void 0&&(a=1);var u=0,y=0;return{members:o.map(function(_){var v=eu[_.type].BYTES_PER_ELEMENT,P=u=Xl(u,Math.max(a,v)),S=_.components||1;return y=Math.max(y,v),u+=v*S,{name:_.name,type:_.type,components:S,offset:P}}),size:Xl(u,Math.max(y,a)),alignment:a}}function Xl(o,a){return Math.ceil(o/a)*a}Yo.serialize=function(o,a){return o._trim(),a&&(o.isTransferred=!0,a.push(o.arrayBuffer)),{length:o.length,arrayBuffer:o.arrayBuffer}},Yo.deserialize=function(o){var a=Object.create(this.prototype);return a.arrayBuffer=o.arrayBuffer,a.length=o.length,a.capacity=o.arrayBuffer.byteLength/a.bytesPerElement,a._refreshViews(),a},Yo.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},Yo.prototype.clear=function(){this.length=0},Yo.prototype.resize=function(o){this.reserve(o),this.length=o},Yo.prototype.reserve=function(o){if(o>this.capacity){this.capacity=Math.max(o,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var a=this.uint8;this._refreshViews(),a&&this.uint8.set(a)}},Yo.prototype._refreshViews=function(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")};var Iu=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y){var _=this.length;return this.resize(_+1),this.emplace(_,u,y)},a.prototype.emplace=function(u,y,_){var v=2*u;return this.int16[v+0]=y,this.int16[v+1]=_,u},a}(Yo);Iu.prototype.bytesPerElement=4,Tr("StructArrayLayout2i4",Iu);var Xc=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v){var P=this.length;return this.resize(P+1),this.emplace(P,u,y,_,v)},a.prototype.emplace=function(u,y,_,v,P){var S=4*u;return this.int16[S+0]=y,this.int16[S+1]=_,this.int16[S+2]=v,this.int16[S+3]=P,u},a}(Yo);Xc.prototype.bytesPerElement=8,Tr("StructArrayLayout4i8",Xc);var tu=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S){var C=this.length;return this.resize(C+1),this.emplace(C,u,y,_,v,P,S)},a.prototype.emplace=function(u,y,_,v,P,S,C){var M=6*u;return this.int16[M+0]=y,this.int16[M+1]=_,this.int16[M+2]=v,this.int16[M+3]=P,this.int16[M+4]=S,this.int16[M+5]=C,u},a}(Yo);tu.prototype.bytesPerElement=12,Tr("StructArrayLayout2i4i12",tu);var Ta=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S){var C=this.length;return this.resize(C+1),this.emplace(C,u,y,_,v,P,S)},a.prototype.emplace=function(u,y,_,v,P,S,C){var M=4*u,L=8*u;return this.int16[M+0]=y,this.int16[M+1]=_,this.uint8[L+4]=v,this.uint8[L+5]=P,this.uint8[L+6]=S,this.uint8[L+7]=C,u},a}(Yo);Ta.prototype.bytesPerElement=8,Tr("StructArrayLayout2i4ub8",Ta);var Rp=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y){var _=this.length;return this.resize(_+1),this.emplace(_,u,y)},a.prototype.emplace=function(u,y,_){var v=2*u;return this.float32[v+0]=y,this.float32[v+1]=_,u},a}(Yo);Rp.prototype.bytesPerElement=8,Tr("StructArrayLayout2f8",Rp);var Ts=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S,C,M,L,z){var W=this.length;return this.resize(W+1),this.emplace(W,u,y,_,v,P,S,C,M,L,z)},a.prototype.emplace=function(u,y,_,v,P,S,C,M,L,z,W){var $=10*u;return this.uint16[$+0]=y,this.uint16[$+1]=_,this.uint16[$+2]=v,this.uint16[$+3]=P,this.uint16[$+4]=S,this.uint16[$+5]=C,this.uint16[$+6]=M,this.uint16[$+7]=L,this.uint16[$+8]=z,this.uint16[$+9]=W,u},a}(Yo);Ts.prototype.bytesPerElement=20,Tr("StructArrayLayout10ui20",Ts);var Zc=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S,C,M,L,z,W,$){var he=this.length;return this.resize(he+1),this.emplace(he,u,y,_,v,P,S,C,M,L,z,W,$)},a.prototype.emplace=function(u,y,_,v,P,S,C,M,L,z,W,$,he){var ve=12*u;return this.int16[ve+0]=y,this.int16[ve+1]=_,this.int16[ve+2]=v,this.int16[ve+3]=P,this.uint16[ve+4]=S,this.uint16[ve+5]=C,this.uint16[ve+6]=M,this.uint16[ve+7]=L,this.int16[ve+8]=z,this.int16[ve+9]=W,this.int16[ve+10]=$,this.int16[ve+11]=he,u},a}(Yo);Zc.prototype.bytesPerElement=24,Tr("StructArrayLayout4i4ui4i24",Zc);var wp=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_){var v=this.length;return this.resize(v+1),this.emplace(v,u,y,_)},a.prototype.emplace=function(u,y,_,v){var P=3*u;return this.float32[P+0]=y,this.float32[P+1]=_,this.float32[P+2]=v,u},a}(Yo);wp.prototype.bytesPerElement=12,Tr("StructArrayLayout3f12",wp);var pc=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var y=this.length;return this.resize(y+1),this.emplace(y,u)},a.prototype.emplace=function(u,y){return this.uint32[1*u+0]=y,u},a}(Yo);pc.prototype.bytesPerElement=4,Tr("StructArrayLayout1ul4",pc);var Yc=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S,C,M,L){var z=this.length;return this.resize(z+1),this.emplace(z,u,y,_,v,P,S,C,M,L)},a.prototype.emplace=function(u,y,_,v,P,S,C,M,L,z){var W=10*u,$=5*u;return this.int16[W+0]=y,this.int16[W+1]=_,this.int16[W+2]=v,this.int16[W+3]=P,this.int16[W+4]=S,this.int16[W+5]=C,this.uint32[$+3]=M,this.uint16[W+8]=L,this.uint16[W+9]=z,u},a}(Yo);Yc.prototype.bytesPerElement=20,Tr("StructArrayLayout6i1ul2ui20",Yc);var tp=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S){var C=this.length;return this.resize(C+1),this.emplace(C,u,y,_,v,P,S)},a.prototype.emplace=function(u,y,_,v,P,S,C){var M=6*u;return this.int16[M+0]=y,this.int16[M+1]=_,this.int16[M+2]=v,this.int16[M+3]=P,this.int16[M+4]=S,this.int16[M+5]=C,u},a}(Yo);tp.prototype.bytesPerElement=12,Tr("StructArrayLayout2i2i2i12",tp);var rp=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P){var S=this.length;return this.resize(S+1),this.emplace(S,u,y,_,v,P)},a.prototype.emplace=function(u,y,_,v,P,S){var C=4*u,M=8*u;return this.float32[C+0]=y,this.float32[C+1]=_,this.float32[C+2]=v,this.int16[M+6]=P,this.int16[M+7]=S,u},a}(Yo);rp.prototype.bytesPerElement=16,Tr("StructArrayLayout2f1f2i16",rp);var Zl=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v){var P=this.length;return this.resize(P+1),this.emplace(P,u,y,_,v)},a.prototype.emplace=function(u,y,_,v,P){var S=12*u,C=3*u;return this.uint8[S+0]=y,this.uint8[S+1]=_,this.float32[C+1]=v,this.float32[C+2]=P,u},a}(Yo);Zl.prototype.bytesPerElement=12,Tr("StructArrayLayout2ub2f12",Zl);var Ss=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_){var v=this.length;return this.resize(v+1),this.emplace(v,u,y,_)},a.prototype.emplace=function(u,y,_,v){var P=3*u;return this.uint16[P+0]=y,this.uint16[P+1]=_,this.uint16[P+2]=v,u},a}(Yo);Ss.prototype.bytesPerElement=6,Tr("StructArrayLayout3ui6",Ss);var cs=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S,C,M,L,z,W,$,he,ve,Be,Ce,Ze){var et=this.length;return this.resize(et+1),this.emplace(et,u,y,_,v,P,S,C,M,L,z,W,$,he,ve,Be,Ce,Ze)},a.prototype.emplace=function(u,y,_,v,P,S,C,M,L,z,W,$,he,ve,Be,Ce,Ze,et){var pt=24*u,ft=12*u,It=48*u;return this.int16[pt+0]=y,this.int16[pt+1]=_,this.uint16[pt+2]=v,this.uint16[pt+3]=P,this.uint32[ft+2]=S,this.uint32[ft+3]=C,this.uint32[ft+4]=M,this.uint16[pt+10]=L,this.uint16[pt+11]=z,this.uint16[pt+12]=W,this.float32[ft+7]=$,this.float32[ft+8]=he,this.uint8[It+36]=ve,this.uint8[It+37]=Be,this.uint8[It+38]=Ce,this.uint32[ft+10]=Ze,this.int16[pt+22]=et,u},a}(Yo);cs.prototype.bytesPerElement=48,Tr("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",cs);var qc=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v,P,S,C,M,L,z,W,$,he,ve,Be,Ce,Ze,et,pt,ft,It,$t,ar,zr,Er,Xr,br,To){var no=this.length;return this.resize(no+1),this.emplace(no,u,y,_,v,P,S,C,M,L,z,W,$,he,ve,Be,Ce,Ze,et,pt,ft,It,$t,ar,zr,Er,Xr,br,To)},a.prototype.emplace=function(u,y,_,v,P,S,C,M,L,z,W,$,he,ve,Be,Ce,Ze,et,pt,ft,It,$t,ar,zr,Er,Xr,br,To,no){var Mr=34*u,Io=17*u;return this.int16[Mr+0]=y,this.int16[Mr+1]=_,this.int16[Mr+2]=v,this.int16[Mr+3]=P,this.int16[Mr+4]=S,this.int16[Mr+5]=C,this.int16[Mr+6]=M,this.int16[Mr+7]=L,this.uint16[Mr+8]=z,this.uint16[Mr+9]=W,this.uint16[Mr+10]=$,this.uint16[Mr+11]=he,this.uint16[Mr+12]=ve,this.uint16[Mr+13]=Be,this.uint16[Mr+14]=Ce,this.uint16[Mr+15]=Ze,this.uint16[Mr+16]=et,this.uint16[Mr+17]=pt,this.uint16[Mr+18]=ft,this.uint16[Mr+19]=It,this.uint16[Mr+20]=$t,this.uint16[Mr+21]=ar,this.uint16[Mr+22]=zr,this.uint32[Io+12]=Er,this.float32[Io+13]=Xr,this.float32[Io+14]=br,this.float32[Io+15]=To,this.float32[Io+16]=no,u},a}(Yo);qc.prototype.bytesPerElement=68,Tr("StructArrayLayout8i15ui1ul4f68",qc);var Mu=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var y=this.length;return this.resize(y+1),this.emplace(y,u)},a.prototype.emplace=function(u,y){return this.float32[1*u+0]=y,u},a}(Yo);Mu.prototype.bytesPerElement=4,Tr("StructArrayLayout1f4",Mu);var Ka=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_){var v=this.length;return this.resize(v+1),this.emplace(v,u,y,_)},a.prototype.emplace=function(u,y,_,v){var P=3*u;return this.int16[P+0]=y,this.int16[P+1]=_,this.int16[P+2]=v,u},a}(Yo);Ka.prototype.bytesPerElement=6,Tr("StructArrayLayout3i6",Ka);var Yl=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_){var v=this.length;return this.resize(v+1),this.emplace(v,u,y,_)},a.prototype.emplace=function(u,y,_,v){var P=4*u;return this.uint32[2*u+0]=y,this.uint16[P+2]=_,this.uint16[P+3]=v,u},a}(Yo);Yl.prototype.bytesPerElement=8,Tr("StructArrayLayout1ul2ui8",Yl);var cc=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y){var _=this.length;return this.resize(_+1),this.emplace(_,u,y)},a.prototype.emplace=function(u,y,_){var v=2*u;return this.uint16[v+0]=y,this.uint16[v+1]=_,u},a}(Yo);cc.prototype.bytesPerElement=4,Tr("StructArrayLayout2ui4",cc);var $c=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u){var y=this.length;return this.resize(y+1),this.emplace(y,u)},a.prototype.emplace=function(u,y){return this.uint16[1*u+0]=y,u},a}(Yo);$c.prototype.bytesPerElement=2,Tr("StructArrayLayout1ui2",$c);var Kc=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},a.prototype.emplaceBack=function(u,y,_,v){var P=this.length;return this.resize(P+1),this.emplace(P,u,y,_,v)},a.prototype.emplace=function(u,y,_,v,P){var S=4*u;return this.float32[S+0]=y,this.float32[S+1]=_,this.float32[S+2]=v,this.float32[S+3]=P,u},a}(Yo);Kc.prototype.bytesPerElement=16,Tr("StructArrayLayout4f16",Kc);var c=function(o){function a(){o.apply(this,arguments)}a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a;var u={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return u.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},u.x1.get=function(){return this._structArray.int16[this._pos2+2]},u.y1.get=function(){return this._structArray.int16[this._pos2+3]},u.x2.get=function(){return this._structArray.int16[this._pos2+4]},u.y2.get=function(){return this._structArray.int16[this._pos2+5]},u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.anchorPoint.get=function(){return new x(this.anchorPointX,this.anchorPointY)},Object.defineProperties(a.prototype,u),a}(ep);c.prototype.size=20;var d=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.get=function(u){return new c(this,u)},a}(Yc);Tr("CollisionBoxArray",d);var l=function(o){function a(){o.apply(this,arguments)}a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},u.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},u.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},u.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},u.segment.get=function(){return this._structArray.uint16[this._pos2+10]},u.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},u.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},u.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},u.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},u.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},u.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},u.placedOrientation.set=function(y){this._structArray.uint8[this._pos1+37]=y},u.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},u.hidden.set=function(y){this._structArray.uint8[this._pos1+38]=y},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},u.crossTileID.set=function(y){this._structArray.uint32[this._pos4+10]=y},u.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(a.prototype,u),a}(ep);l.prototype.size=48;var h=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.get=function(u){return new l(this,u)},a}(cs);Tr("PlacedSymbolArray",h);var E=function(o){function a(){o.apply(this,arguments)}a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a;var u={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return u.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},u.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},u.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},u.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},u.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},u.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},u.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},u.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},u.key.get=function(){return this._structArray.uint16[this._pos2+8]},u.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},u.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},u.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},u.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},u.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},u.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},u.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},u.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},u.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},u.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},u.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},u.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},u.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},u.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},u.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},u.crossTileID.set=function(y){this._structArray.uint32[this._pos4+12]=y},u.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},u.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},u.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},u.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(a.prototype,u),a}(ep);E.prototype.size=68;var A=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.get=function(u){return new E(this,u)},a}(qc);Tr("SymbolInstanceArray",A);var T=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.getoffsetX=function(u){return this.float32[1*u+0]},a}(Mu);Tr("GlyphOffsetArray",T);var w=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.getx=function(u){return this.int16[3*u+0]},a.prototype.gety=function(u){return this.int16[3*u+1]},a.prototype.gettileUnitDistanceFromAnchor=function(u){return this.int16[3*u+2]},a}(Ka);Tr("SymbolLineVertexArray",w);var D=function(o){function a(){o.apply(this,arguments)}a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a;var u={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return u.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},u.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},u.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(a.prototype,u),a}(ep);D.prototype.size=8;var H=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.get=function(u){return new D(this,u)},a}(Yl);Tr("FeatureIndexArray",H);var Q=fn([{name:"a_pos",components:2,type:"Int16"}],4).members,te=function(o){o===void 0&&(o=[]),this.segments=o};function ie(o,a){return 256*(o=U(Math.floor(o),0,255))+U(Math.floor(a),0,255)}te.prototype.prepareSegment=function(o,a,u,y){var _=this.segments[this.segments.length-1];return o>te.MAX_VERTEX_ARRAY_LENGTH&&X("Max vertices per segment is "+te.MAX_VERTEX_ARRAY_LENGTH+": bucket requested "+o),(!_||_.vertexLength+o>te.MAX_VERTEX_ARRAY_LENGTH||_.sortKey!==y)&&(_={vertexOffset:a.length,primitiveOffset:u.length,vertexLength:0,primitiveLength:0},y!==void 0&&(_.sortKey=y),this.segments.push(_)),_},te.prototype.get=function(){return this.segments},te.prototype.destroy=function(){for(var o=0,a=this.segments;o<a.length;o+=1){var u=a[o];for(var y in u.vaos)u.vaos[y].destroy()}},te.simpleSegment=function(o,a,u,y){return new te([{vertexOffset:o,primitiveOffset:a,vertexLength:u,primitiveLength:y,vaos:{},sortKey:0}])},te.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Tr("SegmentVector",te);var xe=fn([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),me=f(function(o){o.exports=function(a,u){var y,_,v,P,S,C,M,L;for(_=a.length-(y=3&a.length),v=u,S=3432918353,C=461845907,L=0;L<_;)M=255&a.charCodeAt(L)|(255&a.charCodeAt(++L))<<8|(255&a.charCodeAt(++L))<<16|(255&a.charCodeAt(++L))<<24,++L,v=27492+(65535&(P=5*(65535&(v=(v^=M=(65535&(M=(M=(65535&M)*S+(((M>>>16)*S&65535)<<16)&4294967295)<<15|M>>>17))*C+(((M>>>16)*C&65535)<<16)&4294967295)<<13|v>>>19))+((5*(v>>>16)&65535)<<16)&4294967295))+((58964+(P>>>16)&65535)<<16);switch(M=0,y){case 3:M^=(255&a.charCodeAt(L+2))<<16;case 2:M^=(255&a.charCodeAt(L+1))<<8;case 1:v^=M=(65535&(M=(M=(65535&(M^=255&a.charCodeAt(L)))*S+(((M>>>16)*S&65535)<<16)&4294967295)<<15|M>>>17))*C+(((M>>>16)*C&65535)<<16)&4294967295}return v^=a.length,v=2246822507*(65535&(v^=v>>>16))+((2246822507*(v>>>16)&65535)<<16)&4294967295,v=3266489909*(65535&(v^=v>>>13))+((3266489909*(v>>>16)&65535)<<16)&4294967295,(v^=v>>>16)>>>0}}),Ne=f(function(o){o.exports=function(a,u){for(var y,_=a.length,v=u^_,P=0;_>=4;)y=1540483477*(65535&(y=255&a.charCodeAt(P)|(255&a.charCodeAt(++P))<<8|(255&a.charCodeAt(++P))<<16|(255&a.charCodeAt(++P))<<24))+((1540483477*(y>>>16)&65535)<<16),v=1540483477*(65535&v)+((1540483477*(v>>>16)&65535)<<16)^(y=1540483477*(65535&(y^=y>>>24))+((1540483477*(y>>>16)&65535)<<16)),_-=4,++P;switch(_){case 3:v^=(255&a.charCodeAt(P+2))<<16;case 2:v^=(255&a.charCodeAt(P+1))<<8;case 1:v=1540483477*(65535&(v^=255&a.charCodeAt(P)))+((1540483477*(v>>>16)&65535)<<16)}return v=1540483477*(65535&(v^=v>>>13))+((1540483477*(v>>>16)&65535)<<16),(v^=v>>>15)>>>0}}),ye=me,Me=Ne;ye.murmur3=me,ye.murmur2=Me;var He=function(){this.ids=[],this.positions=[],this.indexed=!1};He.prototype.add=function(o,a,u,y){this.ids.push(dt(o)),this.positions.push(a,u,y)},He.prototype.getPositions=function(o){for(var a=dt(o),u=0,y=this.ids.length-1;u<y;){var _=u+y>>1;this.ids[_]>=a?y=_:u=_+1}for(var v=[];this.ids[u]===a;)v.push({index:this.positions[3*u],start:this.positions[3*u+1],end:this.positions[3*u+2]}),u++;return v},He.serialize=function(o,a){var u=new Float64Array(o.ids),y=new Uint32Array(o.positions);return function _(v,P,S,C){for(;S<C;){for(var M=v[S+C>>1],L=S-1,z=C+1;;){do L++;while(v[L]<M);do z--;while(v[z]>M);if(L>=z)break;it(v,L,z),it(P,3*L,3*z),it(P,3*L+1,3*z+1),it(P,3*L+2,3*z+2)}z-S<C-z?(_(v,P,S,z),S=z+1):(_(v,P,z+1,C),C=z)}}(u,y,0,u.length-1),a&&a.push(u.buffer,y.buffer),{ids:u,positions:y}},He.deserialize=function(o){var a=new He;return a.ids=o.ids,a.positions=o.positions,a.indexed=!0,a};var Je=Math.pow(2,53)-1;function dt(o){var a=+o;return!isNaN(a)&&a<=Je?a:ye(String(o))}function it(o,a,u){var y=o[a];o[a]=o[u],o[u]=y}Tr("FeaturePositionMap",He);var vt=function(o,a){this.gl=o.gl,this.location=a},Nt=function(o){function a(u,y){o.call(this,u,y),this.current=0}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1i(this.location,u))},a}(vt),Qt=function(o){function a(u,y){o.call(this,u,y),this.current=0}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.set=function(u){this.current!==u&&(this.current=u,this.gl.uniform1f(this.location,u))},a}(vt),Yt=function(o){function a(u,y){o.call(this,u,y),this.current=[0,0]}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]||(this.current=u,this.gl.uniform2f(this.location,u[0],u[1]))},a}(vt),gr=function(o){function a(u,y){o.call(this,u,y),this.current=[0,0,0]}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]||(this.current=u,this.gl.uniform3f(this.location,u[0],u[1],u[2]))},a}(vt),kr=function(o){function a(u,y){o.call(this,u,y),this.current=[0,0,0,0]}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.set=function(u){u[0]===this.current[0]&&u[1]===this.current[1]&&u[2]===this.current[2]&&u[3]===this.current[3]||(this.current=u,this.gl.uniform4f(this.location,u[0],u[1],u[2],u[3]))},a}(vt),jr=function(o){function a(u,y){o.call(this,u,y),this.current=Fo.transparent}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.set=function(u){u.r===this.current.r&&u.g===this.current.g&&u.b===this.current.b&&u.a===this.current.a||(this.current=u,this.gl.uniform4f(this.location,u.r,u.g,u.b,u.a))},a}(vt),Hr=new Float32Array(16),Uo=function(o){function a(u,y){o.call(this,u,y),this.current=Hr}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.set=function(u){if(u[12]!==this.current[12]||u[0]!==this.current[0])return this.current=u,void this.gl.uniformMatrix4fv(this.location,!1,u);for(var y=1;y<16;y++)if(u[y]!==this.current[y]){this.current=u,this.gl.uniformMatrix4fv(this.location,!1,u);break}},a}(vt);function Pr(o){return[ie(255*o.r,255*o.g),ie(255*o.b,255*o.a)]}var ao=function(o,a,u){this.value=o,this.uniformNames=a.map(function(y){return"u_"+y}),this.type=u};ao.prototype.setUniform=function(o,a,u){o.set(u.constantOr(this.value))},ao.prototype.getBinding=function(o,a,u){return this.type==="color"?new jr(o,a):new Qt(o,a)};var mo=function(o,a){this.uniformNames=a.map(function(u){return"u_"+u}),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};mo.prototype.setConstantPatternPositions=function(o,a){this.pixelRatioFrom=a.pixelRatio,this.pixelRatioTo=o.pixelRatio,this.patternFrom=a.tlbr,this.patternTo=o.tlbr},mo.prototype.setUniform=function(o,a,u,y){var _=y==="u_pattern_to"?this.patternTo:y==="u_pattern_from"?this.patternFrom:y==="u_pixel_ratio_to"?this.pixelRatioTo:y==="u_pixel_ratio_from"?this.pixelRatioFrom:null;_&&o.set(_)},mo.prototype.getBinding=function(o,a,u){return u.substr(0,9)==="u_pattern"?new kr(o,a):new Qt(o,a)};var ro=function(o,a,u,y){this.expression=o,this.type=u,this.maxValue=0,this.paintVertexAttributes=a.map(function(_){return{name:"a_"+_,type:"Float32",components:u==="color"?2:1,offset:0}}),this.paintVertexArray=new y};ro.prototype.populatePaintArray=function(o,a,u,y,_){var v=this.paintVertexArray.length,P=this.expression.evaluate(new ho(0),a,{},y,[],_);this.paintVertexArray.resize(o),this._setPaintValue(v,o,P)},ro.prototype.updatePaintArray=function(o,a,u,y){var _=this.expression.evaluate({zoom:0},u,y);this._setPaintValue(o,a,_)},ro.prototype._setPaintValue=function(o,a,u){if(this.type==="color")for(var y=Pr(u),_=o;_<a;_++)this.paintVertexArray.emplace(_,y[0],y[1]);else{for(var v=o;v<a;v++)this.paintVertexArray.emplace(v,u);this.maxValue=Math.max(this.maxValue,Math.abs(u))}},ro.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},ro.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()};var Jr=function(o,a,u,y,_,v){this.expression=o,this.uniformNames=a.map(function(P){return"u_"+P+"_t"}),this.type=u,this.useIntegerZoom=y,this.zoom=_,this.maxValue=0,this.paintVertexAttributes=a.map(function(P){return{name:"a_"+P,type:"Float32",components:u==="color"?4:2,offset:0}}),this.paintVertexArray=new v};Jr.prototype.populatePaintArray=function(o,a,u,y,_){var v=this.expression.evaluate(new ho(this.zoom),a,{},y,[],_),P=this.expression.evaluate(new ho(this.zoom+1),a,{},y,[],_),S=this.paintVertexArray.length;this.paintVertexArray.resize(o),this._setPaintValue(S,o,v,P)},Jr.prototype.updatePaintArray=function(o,a,u,y){var _=this.expression.evaluate({zoom:this.zoom},u,y),v=this.expression.evaluate({zoom:this.zoom+1},u,y);this._setPaintValue(o,a,_,v)},Jr.prototype._setPaintValue=function(o,a,u,y){if(this.type==="color")for(var _=Pr(u),v=Pr(y),P=o;P<a;P++)this.paintVertexArray.emplace(P,_[0],_[1],v[0],v[1]);else{for(var S=o;S<a;S++)this.paintVertexArray.emplace(S,u,y);this.maxValue=Math.max(this.maxValue,Math.abs(u),Math.abs(y))}},Jr.prototype.upload=function(o){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=o.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Jr.prototype.destroy=function(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()},Jr.prototype.setUniform=function(o,a){var u=this.useIntegerZoom?Math.floor(a.zoom):a.zoom,y=U(this.expression.interpolationFactor(u,this.zoom,this.zoom+1),0,1);o.set(y)},Jr.prototype.getBinding=function(o,a,u){return new Qt(o,a)};var yo=function(o,a,u,y,_,v){this.expression=o,this.type=a,this.useIntegerZoom=u,this.zoom=y,this.layerId=v,this.zoomInPaintVertexArray=new _,this.zoomOutPaintVertexArray=new _};yo.prototype.populatePaintArray=function(o,a,u){var y=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(o),this.zoomOutPaintVertexArray.resize(o),this._setPaintValues(y,o,a.patterns&&a.patterns[this.layerId],u)},yo.prototype.updatePaintArray=function(o,a,u,y,_){this._setPaintValues(o,a,u.patterns&&u.patterns[this.layerId],_)},yo.prototype._setPaintValues=function(o,a,u,y){if(y&&u){var _=y[u.min],v=y[u.mid],P=y[u.max];if(_&&v&&P)for(var S=o;S<a;S++)this.zoomInPaintVertexArray.emplace(S,v.tl[0],v.tl[1],v.br[0],v.br[1],_.tl[0],_.tl[1],_.br[0],_.br[1],v.pixelRatio,_.pixelRatio),this.zoomOutPaintVertexArray.emplace(S,v.tl[0],v.tl[1],v.br[0],v.br[1],P.tl[0],P.tl[1],P.br[0],P.br[1],v.pixelRatio,P.pixelRatio)}},yo.prototype.upload=function(o){this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer&&(this.zoomInPaintVertexBuffer=o.createVertexBuffer(this.zoomInPaintVertexArray,xe.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=o.createVertexBuffer(this.zoomOutPaintVertexArray,xe.members,this.expression.isStateDependent))},yo.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()};var eo=function(o,a,u){this.binders={},this._buffers=[];var y=[];for(var _ in o.paint._values)if(u(_)){var v=o.paint.get(_);if(v instanceof jn&&$s(v.property.specification)){var P=$i(_,o.type),S=v.value,C=v.property.specification.type,M=v.property.useIntegerZoom,L=v.property.specification["property-type"],z=L==="cross-faded"||L==="cross-faded-data-driven";if(S.kind==="constant")this.binders[_]=z?new mo(S.value,P):new ao(S.value,P,C),y.push("/u_"+_);else if(S.kind==="source"||z){var W=wi(_,C,"source");this.binders[_]=z?new yo(S,C,M,a,W,o.id):new ro(S,P,C,W),y.push("/a_"+_)}else{var $=wi(_,C,"composite");this.binders[_]=new Jr(S,P,C,M,a,$),y.push("/z_"+_)}}}this.cacheKey=y.sort().join("")};eo.prototype.getMaxValue=function(o){var a=this.binders[o];return a instanceof ro||a instanceof Jr?a.maxValue:0},eo.prototype.populatePaintArrays=function(o,a,u,y,_){for(var v in this.binders){var P=this.binders[v];(P instanceof ro||P instanceof Jr||P instanceof yo)&&P.populatePaintArray(o,a,u,y,_)}},eo.prototype.setConstantPatternPositions=function(o,a){for(var u in this.binders){var y=this.binders[u];y instanceof mo&&y.setConstantPatternPositions(o,a)}},eo.prototype.updatePaintArrays=function(o,a,u,y,_){var v=!1;for(var P in o)for(var S=0,C=a.getPositions(P);S<C.length;S+=1){var M=C[S],L=u.feature(M.index);for(var z in this.binders){var W=this.binders[z];if((W instanceof ro||W instanceof Jr||W instanceof yo)&&W.expression.isStateDependent===!0){var $=y.paint.get(z);W.expression=$.value,W.updatePaintArray(M.start,M.end,L,o[P],_),v=!0}}}return v},eo.prototype.defines=function(){var o=[];for(var a in this.binders){var u=this.binders[a];(u instanceof ao||u instanceof mo)&&o.push.apply(o,u.uniformNames.map(function(y){return"#define HAS_UNIFORM_"+y}))}return o},eo.prototype.getBinderAttributes=function(){var o=[];for(var a in this.binders){var u=this.binders[a];if(u instanceof ro||u instanceof Jr)for(var y=0;y<u.paintVertexAttributes.length;y++)o.push(u.paintVertexAttributes[y].name);else if(u instanceof yo)for(var _=0;_<xe.members.length;_++)o.push(xe.members[_].name)}return o},eo.prototype.getBinderUniforms=function(){var o=[];for(var a in this.binders){var u=this.binders[a];if(u instanceof ao||u instanceof mo||u instanceof Jr)for(var y=0,_=u.uniformNames;y<_.length;y+=1)o.push(_[y])}return o},eo.prototype.getPaintVertexBuffers=function(){return this._buffers},eo.prototype.getUniforms=function(o,a){var u=[];for(var y in this.binders){var _=this.binders[y];if(_ instanceof ao||_ instanceof mo||_ instanceof Jr)for(var v=0,P=_.uniformNames;v<P.length;v+=1){var S=P[v];if(a[S]){var C=_.getBinding(o,a[S],S);u.push({name:S,property:y,binding:C})}}}return u},eo.prototype.setUniforms=function(o,a,u,y){for(var _=0,v=a;_<v.length;_+=1){var P=v[_],S=P.name,C=P.property;this.binders[C].setUniform(P.binding,y,u.get(C),S)}},eo.prototype.updatePaintBuffers=function(o){for(var a in this._buffers=[],this.binders){var u=this.binders[a];if(o&&u instanceof yo){var y=o.fromScale===2?u.zoomInPaintVertexBuffer:u.zoomOutPaintVertexBuffer;y&&this._buffers.push(y)}else(u instanceof ro||u instanceof Jr)&&u.paintVertexBuffer&&this._buffers.push(u.paintVertexBuffer)}},eo.prototype.upload=function(o){for(var a in this.binders){var u=this.binders[a];(u instanceof ro||u instanceof Jr||u instanceof yo)&&u.upload(o)}this.updatePaintBuffers()},eo.prototype.destroy=function(){for(var o in this.binders){var a=this.binders[o];(a instanceof ro||a instanceof Jr||a instanceof yo)&&a.destroy()}};var $r=function(o,a,u){u===void 0&&(u=function(){return!0}),this.programConfigurations={};for(var y=0,_=o;y<_.length;y+=1){var v=_[y];this.programConfigurations[v.id]=new eo(v,a,u)}this.needsUpload=!1,this._featureMap=new He,this._bufferOffset=0};function $i(o,a){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[o]||[o.replace(a+"-","").replace(/-/g,"_")]}function wi(o,a,u){var y={color:{source:Rp,composite:Kc},number:{source:Mu,composite:Rp}},_=function(v){return{"line-pattern":{source:Ts,composite:Ts},"fill-pattern":{source:Ts,composite:Ts},"fill-extrusion-pattern":{source:Ts,composite:Ts}}[v]}(o);return _&&_[u]||y[a][u]}$r.prototype.populatePaintArrays=function(o,a,u,y,_,v){for(var P in this.programConfigurations)this.programConfigurations[P].populatePaintArrays(o,a,y,_,v);a.id!==void 0&&this._featureMap.add(a.id,u,this._bufferOffset,o),this._bufferOffset=o,this.needsUpload=!0},$r.prototype.updatePaintArrays=function(o,a,u,y){for(var _=0,v=u;_<v.length;_+=1){var P=v[_];this.needsUpload=this.programConfigurations[P.id].updatePaintArrays(o,this._featureMap,a,P,y)||this.needsUpload}},$r.prototype.get=function(o){return this.programConfigurations[o]},$r.prototype.upload=function(o){if(this.needsUpload){for(var a in this.programConfigurations)this.programConfigurations[a].upload(o);this.needsUpload=!1}},$r.prototype.destroy=function(){for(var o in this.programConfigurations)this.programConfigurations[o].destroy()},Tr("ConstantBinder",ao),Tr("CrossFadedConstantBinder",mo),Tr("SourceExpressionBinder",ro),Tr("CrossFadedCompositeBinder",yo),Tr("CompositeExpressionBinder",Jr),Tr("ProgramConfiguration",eo,{omit:["_buffers"]}),Tr("ProgramConfigurationSet",$r);var Fn=Math.pow(2,14)-1,mn=-Fn-1;function Ti(o){for(var a=8192/o.extent,u=o.loadGeometry(),y=0;y<u.length;y++)for(var _=u[y],v=0;v<_.length;v++){var P=_[v],S=Math.round(P.x*a),C=Math.round(P.y*a);P.x=U(S,mn,Fn),P.y=U(C,mn,Fn),(S<P.x||S>P.x+1||C<P.y||C>P.y+1)&&X("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return u}function Ci(o,a){return{type:o.type,id:o.id,properties:o.properties,geometry:a?Ti(o):[]}}function ra(o,a,u,y,_){o.emplaceBack(2*a+(y+1)/2,2*u+(_+1)/2)}var Xn=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new Iu,this.indexArray=new Ss,this.segments=new te,this.programConfigurations=new $r(o.layers,o.zoom),this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function Rs(o,a){for(var u=0;u<o.length;u++)if(ls(a,o[u]))return!0;for(var y=0;y<a.length;y++)if(ls(o,a[y]))return!0;return!!Cp(o,a)}function oa(o,a,u){return!!ls(o,a)||!!ws(a,o,u)}function Qa(o,a){if(o.length===1)return ru(a,o[0]);for(var u=0;u<a.length;u++)for(var y=a[u],_=0;_<y.length;_++)if(ls(o,y[_]))return!0;for(var v=0;v<o.length;v++)if(ru(a,o[v]))return!0;for(var P=0;P<a.length;P++)if(Cp(o,a[P]))return!0;return!1}function Sa(o,a,u){if(o.length>1){if(Cp(o,a))return!0;for(var y=0;y<a.length;y++)if(ws(a[y],o,u))return!0}for(var _=0;_<o.length;_++)if(ws(o[_],a,u))return!0;return!1}function Cp(o,a){if(o.length===0||a.length===0)return!1;for(var u=0;u<o.length-1;u++)for(var y=o[u],_=o[u+1],v=0;v<a.length-1;v++)if(op(y,_,a[v],a[v+1]))return!0;return!1}function op(o,a,u,y){return de(o,u,y)!==de(a,u,y)&&de(o,a,u)!==de(o,a,y)}function ws(o,a,u){var y=u*u;if(a.length===1)return o.distSqr(a[0])<y;for(var _=1;_<a.length;_++)if(Nu(o,a[_-1],a[_])<y)return!0;return!1}function Nu(o,a,u){var y=a.distSqr(u);if(y===0)return o.distSqr(a);var _=((o.x-a.x)*(u.x-a.x)+(o.y-a.y)*(u.y-a.y))/y;return o.distSqr(_<0?a:_>1?u:u.sub(a)._mult(_)._add(a))}function ru(o,a){for(var u,y,_,v=!1,P=0;P<o.length;P++)for(var S=0,C=(u=o[P]).length-1;S<u.length;C=S++)(y=u[S]).y>a.y!=(_=u[C]).y>a.y&&a.x<(_.x-y.x)*(a.y-y.y)/(_.y-y.y)+y.x&&(v=!v);return v}function ls(o,a){for(var u=!1,y=0,_=o.length-1;y<o.length;_=y++){var v=o[y],P=o[_];v.y>a.y!=P.y>a.y&&a.x<(P.x-v.x)*(a.y-v.y)/(P.y-v.y)+v.x&&(u=!u)}return u}function Du(o,a,u){var y=u[0],_=u[2];if(o.x<y.x&&a.x<y.x||o.x>_.x&&a.x>_.x||o.y<y.y&&a.y<y.y||o.y>_.y&&a.y>_.y)return!1;var v=de(o,a,u[0]);return v!==de(o,a,u[1])||v!==de(o,a,u[2])||v!==de(o,a,u[3])}function Bn(o,a,u){var y=a.paint.get(o).value;return y.kind==="constant"?y.value:u.programConfigurations.get(a.id).getMaxValue(o)}function Ui(o){return Math.sqrt(o[0]*o[0]+o[1]*o[1])}function ca(o,a,u,y,_){if(!a[0]&&!a[1])return o;var v=x.convert(a)._mult(_);u==="viewport"&&v._rotate(-y);for(var P=[],S=0;S<o.length;S++)P.push(o[S].sub(v));return P}Xn.prototype.populate=function(o,a,u){var y=this.layers[0],_=[],v=null;y.type==="circle"&&(v=y.layout.get("circle-sort-key"));for(var P=0,S=o;P<S.length;P+=1){var C=S[P],M=C.feature,L=C.id,z=C.index,W=C.sourceLayerIndex,$=this.layers[0]._featureFilter.needGeometry,he=Ci(M,$);if(this.layers[0]._featureFilter.filter(new ho(this.zoom),he,u)){var ve=v?v.evaluate(he,{},u):void 0,Be={id:L,properties:M.properties,type:M.type,sourceLayerIndex:W,index:z,geometry:$?he.geometry:Ti(M),patterns:{},sortKey:ve};_.push(Be)}}v&&_.sort(function(ar,zr){return ar.sortKey-zr.sortKey});for(var Ce=0,Ze=_;Ce<Ze.length;Ce+=1){var et=Ze[Ce],pt=et.geometry,ft=et.index,It=et.sourceLayerIndex,$t=o[ft].feature;this.addFeature(et,pt,ft,u),a.featureIndex.insert($t,pt,ft,It,this.index)}},Xn.prototype.update=function(o,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,u)},Xn.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Xn.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Xn.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Q),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},Xn.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Xn.prototype.addFeature=function(o,a,u,y){for(var _=0,v=a;_<v.length;_+=1)for(var P=0,S=v[_];P<S.length;P+=1){var C=S[P],M=C.x,L=C.y;if(!(M<0||M>=8192||L<0||L>=8192)){var z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,o.sortKey),W=z.vertexLength;ra(this.layoutVertexArray,M,L,-1,-1),ra(this.layoutVertexArray,M,L,1,-1),ra(this.layoutVertexArray,M,L,1,1),ra(this.layoutVertexArray,M,L,-1,1),this.indexArray.emplaceBack(W,W+1,W+2),this.indexArray.emplaceBack(W,W+3,W+2),z.vertexLength+=4,z.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,{},y)},Tr("CircleBucket",Xn,{omit:["layers"]});var Ja=new Fi({"circle-sort-key":new Cr(J.layout_circle["circle-sort-key"])}),ds={paint:new Fi({"circle-radius":new Cr(J.paint_circle["circle-radius"]),"circle-color":new Cr(J.paint_circle["circle-color"]),"circle-blur":new Cr(J.paint_circle["circle-blur"]),"circle-opacity":new Cr(J.paint_circle["circle-opacity"]),"circle-translate":new Ur(J.paint_circle["circle-translate"]),"circle-translate-anchor":new Ur(J.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new Ur(J.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new Ur(J.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Cr(J.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Cr(J.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Cr(J.paint_circle["circle-stroke-opacity"])}),layout:Ja},Mo=typeof Float32Array<"u"?Float32Array:Array;function Tn(o){return o[0]=1,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=1,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=1,o[11]=0,o[12]=0,o[13]=0,o[14]=0,o[15]=1,o}function Ki(o,a,u){var y=a[0],_=a[1],v=a[2],P=a[3],S=a[4],C=a[5],M=a[6],L=a[7],z=a[8],W=a[9],$=a[10],he=a[11],ve=a[12],Be=a[13],Ce=a[14],Ze=a[15],et=u[0],pt=u[1],ft=u[2],It=u[3];return o[0]=et*y+pt*S+ft*z+It*ve,o[1]=et*_+pt*C+ft*W+It*Be,o[2]=et*v+pt*M+ft*$+It*Ce,o[3]=et*P+pt*L+ft*he+It*Ze,o[4]=(et=u[4])*y+(pt=u[5])*S+(ft=u[6])*z+(It=u[7])*ve,o[5]=et*_+pt*C+ft*W+It*Be,o[6]=et*v+pt*M+ft*$+It*Ce,o[7]=et*P+pt*L+ft*he+It*Ze,o[8]=(et=u[8])*y+(pt=u[9])*S+(ft=u[10])*z+(It=u[11])*ve,o[9]=et*_+pt*C+ft*W+It*Be,o[10]=et*v+pt*M+ft*$+It*Ce,o[11]=et*P+pt*L+ft*he+It*Ze,o[12]=(et=u[12])*y+(pt=u[13])*S+(ft=u[14])*z+(It=u[15])*ve,o[13]=et*_+pt*C+ft*W+It*Be,o[14]=et*v+pt*M+ft*$+It*Ce,o[15]=et*P+pt*L+ft*he+It*Ze,o}Math.hypot||(Math.hypot=function(){for(var o=arguments,a=0,u=arguments.length;u--;)a+=o[u]*o[u];return Math.sqrt(a)});var Cs,Qc=Ki;function Ou(o,a,u){var y=a[0],_=a[1],v=a[2],P=a[3];return o[0]=u[0]*y+u[4]*_+u[8]*v+u[12]*P,o[1]=u[1]*y+u[5]*_+u[9]*v+u[13]*P,o[2]=u[2]*y+u[6]*_+u[10]*v+u[14]*P,o[3]=u[3]*y+u[7]*_+u[11]*v+u[15]*P,o}Cs=new Mo(3),Mo!=Float32Array&&(Cs[0]=0,Cs[1]=0,Cs[2]=0),function(){var o=new Mo(4);Mo!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0,o[3]=0)}();var ql=(function(){var o=new Mo(2);Mo!=Float32Array&&(o[0]=0,o[1]=0)}(),function(o){function a(u){o.call(this,u,ds)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.createBucket=function(u){return new Xn(u)},a.prototype.queryRadius=function(u){var y=u;return Bn("circle-radius",this,y)+Bn("circle-stroke-width",this,y)+Ui(this.paint.get("circle-translate"))},a.prototype.queryIntersectsFeature=function(u,y,_,v,P,S,C,M){for(var L=ca(u,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),S.angle,C),z=this.paint.get("circle-radius").evaluate(y,_)+this.paint.get("circle-stroke-width").evaluate(y,_),W=this.paint.get("circle-pitch-alignment")==="map",$=W?L:function($t,ar){return $t.map(function(zr){return ip(zr,ar)})}(L,M),he=W?z*C:z,ve=0,Be=v;ve<Be.length;ve+=1)for(var Ce=0,Ze=Be[ve];Ce<Ze.length;Ce+=1){var et=Ze[Ce],pt=W?et:ip(et,M),ft=he,It=Ou([],[et.x,et.y,0,1],M);if(this.paint.get("circle-pitch-scale")==="viewport"&&this.paint.get("circle-pitch-alignment")==="map"?ft*=It[3]/S.cameraToCenterDistance:this.paint.get("circle-pitch-scale")==="map"&&this.paint.get("circle-pitch-alignment")==="viewport"&&(ft*=S.cameraToCenterDistance/It[3]),oa($,pt,ft))return!0}return!1},a}($a));function ip(o,a){var u=Ou([],[o.x,o.y,0,1],a);return new x(u[0]/u[3],u[1]/u[3])}var np=function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a}(Xn);function ys(o,a,u,y){var _=a.width,v=a.height;if(y){if(y instanceof Uint8ClampedArray)y=new Uint8Array(y.buffer);else if(y.length!==_*v*u)throw new RangeError("mismatched image size")}else y=new Uint8Array(_*v*u);return o.width=_,o.height=v,o.data=y,o}function Jc(o,a,u){var y=a.width,_=a.height;if(y!==o.width||_!==o.height){var v=ys({},{width:y,height:_},u);H0(o,v,{x:0,y:0},{x:0,y:0},{width:Math.min(o.width,y),height:Math.min(o.height,_)},u),o.width=y,o.height=_,o.data=v.data}}function H0(o,a,u,y,_,v){if(_.width===0||_.height===0)return a;if(_.width>o.width||_.height>o.height||u.x>o.width-_.width||u.y>o.height-_.height)throw new RangeError("out of range source coordinates for image copy");if(_.width>a.width||_.height>a.height||y.x>a.width-_.width||y.y>a.height-_.height)throw new RangeError("out of range destination coordinates for image copy");for(var P=o.data,S=a.data,C=0;C<_.height;C++)for(var M=((u.y+C)*o.width+u.x)*v,L=((y.y+C)*a.width+y.x)*v,z=0;z<_.width*v;z++)S[L+z]=P[M+z];return a}Tr("HeatmapBucket",np,{omit:["layers"]});var Ip=function(o,a){ys(this,o,1,a)};Ip.prototype.resize=function(o){Jc(this,o,1)},Ip.prototype.clone=function(){return new Ip({width:this.width,height:this.height},new Uint8Array(this.data))},Ip.copy=function(o,a,u,y,_){H0(o,a,u,y,_,1)};var la=function(o,a){ys(this,o,4,a)};la.prototype.resize=function(o){Jc(this,o,4)},la.prototype.replace=function(o,a){a?this.data.set(o):this.data=o instanceof Uint8ClampedArray?new Uint8Array(o.buffer):o},la.prototype.clone=function(){return new la({width:this.width,height:this.height},new Uint8Array(this.data))},la.copy=function(o,a,u,y,_){H0(o,a,u,y,_,4)},Tr("AlphaImage",Ip),Tr("RGBAImage",la);var Py={paint:new Fi({"heatmap-radius":new Cr(J.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Cr(J.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new Ur(J.paint_heatmap["heatmap-intensity"]),"heatmap-color":new ps(J.paint_heatmap["heatmap-color"]),"heatmap-opacity":new Ur(J.paint_heatmap["heatmap-opacity"])})};function by(o){var a={},u=o.resolution||256,y=o.clips?o.clips.length:1,_=o.image||new la({width:u,height:y}),v=function(he,ve,Be){a[o.evaluationKey]=Be;var Ce=o.expression.evaluate(a);_.data[he+ve+0]=Math.floor(255*Ce.r/Ce.a),_.data[he+ve+1]=Math.floor(255*Ce.g/Ce.a),_.data[he+ve+2]=Math.floor(255*Ce.b/Ce.a),_.data[he+ve+3]=Math.floor(255*Ce.a)};if(o.clips)for(var P=0,S=0;P<y;++P,S+=4*u)for(var C=0,M=0;C<u;C++,M+=4){var L=C/(u-1),z=o.clips[P];v(S,M,z.start*(1-L)+z.end*L)}else for(var W=0,$=0;W<u;W++,$+=4)v(0,$,W/(u-1));return _}var el=function(o){function a(u){o.call(this,u,Py),this._updateColorRamp()}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.createBucket=function(u){return new np(u)},a.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="heatmap-color"&&this._updateColorRamp()},a.prototype._updateColorRamp=function(){this.colorRamp=by({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null},a.prototype.resize=function(){this.heatmapFbo&&(this.heatmapFbo.destroy(),this.heatmapFbo=null)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype.hasOffscreenPass=function(){return this.paint.get("heatmap-opacity")!==0&&this.visibility!=="none"},a}($a),Mf={paint:new Fi({"hillshade-illumination-direction":new Ur(J.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-anchor":new Ur(J.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new Ur(J.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new Ur(J.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new Ur(J.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new Ur(J.paint_hillshade["hillshade-accent-color"])})},Nf=function(o){function a(u){o.call(this,u,Mf)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.hasOffscreenPass=function(){return this.paint.get("hillshade-exaggeration")!==0&&this.visibility!=="none"},a}($a),Df=fn([{name:"a_pos",components:2,type:"Int16"}],4).members,L1=B1,Of=B1;function B1(o,a,u){u=u||2;var y,_,v,P,S,C,M,L=a&&a.length,z=L?a[0]*u:o.length,W=Ay(o,0,z,u,!0),$=[];if(!W||W.next===W.prev)return $;if(L&&(W=function(ve,Be,Ce,Ze){var et,pt,ft,It=[];for(et=0,pt=Be.length;et<pt;et++)(ft=Ay(ve,Be[et]*Ze,et<pt-1?Be[et+1]*Ze:ve.length,Ze,!1))===ft.next&&(ft.steiner=!0),It.push(k1(ft));for(It.sort(zf),et=0;et<It.length;et++)G0(It[et],Ce),Ce=Mp(Ce,Ce.next);return Ce}(o,a,W,u)),o.length>80*u){y=v=o[0],_=P=o[1];for(var he=u;he<z;he+=u)(S=o[he])<y&&(y=S),(C=o[he+1])<_&&(_=C),S>v&&(v=S),C>P&&(P=C);M=(M=Math.max(v-y,P-_))!==0?1/M:0}return $l(W,$,u,y,_,M),$}function Ay(o,a,u,y,_){var v,P;if(_===fc(o,a,u,y)>0)for(v=a;v<u;v+=y)P=ol(v,o[v],o[v+1],P);else for(v=u-y;v>=a;v-=y)P=ol(v,o[v],o[v+1],P);return P&&lc(P,P.next)&&(ap(P),P=P.next),P}function Mp(o,a){if(!o)return o;a||(a=o);var u,y=o;do if(u=!1,y.steiner||!lc(y,y.next)&&ki(y.prev,y,y.next)!==0)y=y.next;else{if(ap(y),(y=a=y.prev)===y.next)break;u=!0}while(u||y!==a);return a}function $l(o,a,u,y,_,v,P){if(o){!P&&v&&function(L,z,W,$){var he=L;do he.z===null&&(he.z=tl(he.x,he.y,z,W,$)),he.prevZ=he.prev,he.nextZ=he.next,he=he.next;while(he!==L);he.prevZ.nextZ=null,he.prevZ=null,function(ve){var Be,Ce,Ze,et,pt,ft,It,$t,ar=1;do{for(Ce=ve,ve=null,pt=null,ft=0;Ce;){for(ft++,Ze=Ce,It=0,Be=0;Be<ar&&(It++,Ze=Ze.nextZ);Be++);for($t=ar;It>0||$t>0&&Ze;)It!==0&&($t===0||!Ze||Ce.z<=Ze.z)?(et=Ce,Ce=Ce.nextZ,It--):(et=Ze,Ze=Ze.nextZ,$t--),pt?pt.nextZ=et:ve=et,et.prevZ=pt,pt=et;Ce=Ze}pt.nextZ=null,ar*=2}while(ft>1)}(he)}(o,y,_,v);for(var S,C,M=o;o.prev!==o.next;)if(S=o.prev,C=o.next,v?Bf(o,y,_,v):Lf(o))a.push(S.i/u),a.push(o.i/u),a.push(C.i/u),ap(o),o=C.next,M=C.next;else if((o=C)===M){P?P===1?$l(o=Uf(Mp(o),a,u),a,u,y,_,v,2):P===2&&kf(o,a,u,y,_,v):$l(Mp(o),a,u,y,_,v,1);break}}}function Lf(o){var a=o.prev,u=o,y=o.next;if(ki(a,u,y)>=0)return!1;for(var _=o.next.next;_!==o.prev;){if(Np(a.x,a.y,u.x,u.y,y.x,y.y,_.x,_.y)&&ki(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function Bf(o,a,u,y){var _=o.prev,v=o,P=o.next;if(ki(_,v,P)>=0)return!1;for(var S=_.x>v.x?_.x>P.x?_.x:P.x:v.x>P.x?v.x:P.x,C=_.y>v.y?_.y>P.y?_.y:P.y:v.y>P.y?v.y:P.y,M=tl(_.x<v.x?_.x<P.x?_.x:P.x:v.x<P.x?v.x:P.x,_.y<v.y?_.y<P.y?_.y:P.y:v.y<P.y?v.y:P.y,a,u,y),L=tl(S,C,a,u,y),z=o.prevZ,W=o.nextZ;z&&z.z>=M&&W&&W.z<=L;){if(z!==o.prev&&z!==o.next&&Np(_.x,_.y,v.x,v.y,P.x,P.y,z.x,z.y)&&ki(z.prev,z,z.next)>=0||(z=z.prevZ,W!==o.prev&&W!==o.next&&Np(_.x,_.y,v.x,v.y,P.x,P.y,W.x,W.y)&&ki(W.prev,W,W.next)>=0))return!1;W=W.nextZ}for(;z&&z.z>=M;){if(z!==o.prev&&z!==o.next&&Np(_.x,_.y,v.x,v.y,P.x,P.y,z.x,z.y)&&ki(z.prev,z,z.next)>=0)return!1;z=z.prevZ}for(;W&&W.z<=L;){if(W!==o.prev&&W!==o.next&&Np(_.x,_.y,v.x,v.y,P.x,P.y,W.x,W.y)&&ki(W.prev,W,W.next)>=0)return!1;W=W.nextZ}return!0}function Uf(o,a,u){var y=o;do{var _=y.prev,v=y.next.next;!lc(_,v)&&V1(_,y,y.next,v)&&Dp(_,v)&&Dp(v,_)&&(a.push(_.i/u),a.push(y.i/u),a.push(v.i/u),ap(y),ap(y.next),y=o=v),y=y.next}while(y!==o);return Mp(y)}function kf(o,a,u,y,_,v){var P=o;do{for(var S=P.next.next;S!==P.prev;){if(P.i!==S.i&&z1(P,S)){var C=rl(P,S);return P=Mp(P,P.next),C=Mp(C,C.next),$l(P,a,u,y,_,v),void $l(C,a,u,y,_,v)}S=S.next}P=P.next}while(P!==o)}function zf(o,a){return o.x-a.x}function G0(o,a){if(a=function(y,_){var v,P=_,S=y.x,C=y.y,M=-1/0;do{if(C<=P.y&&C>=P.next.y&&P.next.y!==P.y){var L=P.x+(C-P.y)*(P.next.x-P.x)/(P.next.y-P.y);if(L<=S&&L>M){if(M=L,L===S){if(C===P.y)return P;if(C===P.next.y)return P.next}v=P.x<P.next.x?P:P.next}}P=P.next}while(P!==_);if(!v)return null;if(S===M)return v;var z,W=v,$=v.x,he=v.y,ve=1/0;P=v;do S>=P.x&&P.x>=$&&S!==P.x&&Np(C<he?S:M,C,$,he,C<he?M:S,C,P.x,P.y)&&(z=Math.abs(C-P.y)/(S-P.x),Dp(P,y)&&(z<ve||z===ve&&(P.x>v.x||P.x===v.x&&U1(v,P)))&&(v=P,ve=z)),P=P.next;while(P!==W);return v}(o,a)){var u=rl(a,o);Mp(a,a.next),Mp(u,u.next)}}function U1(o,a){return ki(o.prev,o,a.prev)<0&&ki(a.next,o,o.next)<0}function tl(o,a,u,y,_){return(o=1431655765&((o=858993459&((o=252645135&((o=16711935&((o=32767*(o-u)*_)|o<<8))|o<<4))|o<<2))|o<<1))|(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-y)*_)|a<<8))|a<<4))|a<<2))|a<<1))<<1}function k1(o){var a=o,u=o;do(a.x<u.x||a.x===u.x&&a.y<u.y)&&(u=a),a=a.next;while(a!==o);return u}function Np(o,a,u,y,_,v,P,S){return(_-P)*(a-S)-(o-P)*(v-S)>=0&&(o-P)*(y-S)-(u-P)*(a-S)>=0&&(u-P)*(v-S)-(_-P)*(y-S)>=0}function z1(o,a){return o.next.i!==a.i&&o.prev.i!==a.i&&!function(u,y){var _=u;do{if(_.i!==u.i&&_.next.i!==u.i&&_.i!==y.i&&_.next.i!==y.i&&V1(_,_.next,u,y))return!0;_=_.next}while(_!==u);return!1}(o,a)&&(Dp(o,a)&&Dp(a,o)&&function(u,y){var _=u,v=!1,P=(u.x+y.x)/2,S=(u.y+y.y)/2;do _.y>S!=_.next.y>S&&_.next.y!==_.y&&P<(_.next.x-_.x)*(S-_.y)/(_.next.y-_.y)+_.x&&(v=!v),_=_.next;while(_!==u);return v}(o,a)&&(ki(o.prev,o,a.prev)||ki(o,a.prev,a))||lc(o,a)&&ki(o.prev,o,o.next)>0&&ki(a.prev,a,a.next)>0)}function ki(o,a,u){return(a.y-o.y)*(u.x-a.x)-(a.x-o.x)*(u.y-a.y)}function lc(o,a){return o.x===a.x&&o.y===a.y}function V1(o,a,u,y){var _=yc(ki(o,a,u)),v=yc(ki(o,a,y)),P=yc(ki(u,y,o)),S=yc(ki(u,y,a));return _!==v&&P!==S||!(_!==0||!dc(o,u,a))||!(v!==0||!dc(o,y,a))||!(P!==0||!dc(u,o,y))||!(S!==0||!dc(u,a,y))}function dc(o,a,u){return a.x<=Math.max(o.x,u.x)&&a.x>=Math.min(o.x,u.x)&&a.y<=Math.max(o.y,u.y)&&a.y>=Math.min(o.y,u.y)}function yc(o){return o>0?1:o<0?-1:0}function Dp(o,a){return ki(o.prev,o,o.next)<0?ki(o,a,o.next)>=0&&ki(o,o.prev,a)>=0:ki(o,a,o.prev)<0||ki(o,o.next,a)<0}function rl(o,a){var u=new hc(o.i,o.x,o.y),y=new hc(a.i,a.x,a.y),_=o.next,v=a.prev;return o.next=a,a.prev=o,u.next=_,_.prev=u,y.next=u,u.prev=y,v.next=y,y.prev=v,y}function ol(o,a,u,y){var _=new hc(o,a,u);return y?(_.next=y.next,_.prev=y,y.next.prev=_,y.next=_):(_.prev=_,_.next=_),_}function ap(o){o.next.prev=o.prev,o.prev.next=o.next,o.prevZ&&(o.prevZ.nextZ=o.nextZ),o.nextZ&&(o.nextZ.prevZ=o.prevZ)}function hc(o,a,u){this.i=o,this.x=a,this.y=u,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fc(o,a,u,y){for(var _=0,v=a,P=u-y;v<u;v+=y)_+=(o[P]-o[v])*(o[v+1]+o[P+1]),P=v;return _}function Fy(o,a,u,y,_){(function v(P,S,C,M,L){for(;M>C;){if(M-C>600){var z=M-C+1,W=S-C+1,$=Math.log(z),he=.5*Math.exp(2*$/3),ve=.5*Math.sqrt($*he*(z-he)/z)*(W-z/2<0?-1:1);v(P,S,Math.max(C,Math.floor(S-W*he/z+ve)),Math.min(M,Math.floor(S+(z-W)*he/z+ve)),L)}var Be=P[S],Ce=C,Ze=M;for(sp(P,C,S),L(P[M],Be)>0&&sp(P,C,M);Ce<Ze;){for(sp(P,Ce,Ze),Ce++,Ze--;L(P[Ce],Be)<0;)Ce++;for(;L(P[Ze],Be)>0;)Ze--}L(P[C],Be)===0?sp(P,C,Ze):sp(P,++Ze,M),Ze<=S&&(C=Ze+1),S<=Ze&&(M=Ze-1)}})(o,a,u,y||o.length-1,_)}function sp(o,a,u){var y=o[a];o[a]=o[u],o[u]=y}function up(o,a){var u=o.length;if(u<=1)return[o];for(var y,_,v=[],P=0;P<u;P++){var S=mt(o[P]);S!==0&&(o[P].area=Math.abs(S),_===void 0&&(_=S<0),_===S<0?(y&&v.push(y),y=[o[P]]):y.push(o[P]))}if(y&&v.push(y),a>1)for(var C=0;C<v.length;C++)v[C].length<=a||(Fy(v[C],a,1,v[C].length-1,Ty),v[C]=v[C].slice(0,a));return v}function Ty(o,a){return a.area-o.area}function Kl(o,a,u){for(var y=u.patternDependencies,_=!1,v=0,P=a;v<P.length;v+=1){var S=P[v].paint.get(o+"-pattern");S.isConstant()||(_=!0);var C=S.constantOr(null);C&&(_=!0,y[C.to]=!0,y[C.from]=!0)}return _}function j0(o,a,u,y,_){for(var v=_.patternDependencies,P=0,S=a;P<S.length;P+=1){var C=S[P],M=C.paint.get(o+"-pattern").value;if(M.kind!=="constant"){var L=M.evaluate({zoom:y-1},u,{},_.availableImages),z=M.evaluate({zoom:y},u,{},_.availableImages),W=M.evaluate({zoom:y+1},u,{},_.availableImages);z=z&&z.name?z.name:z,W=W&&W.name?W.name:W,v[L=L&&L.name?L.name:L]=!0,v[z]=!0,v[W]=!0,u.patterns[C.id]={min:L,mid:z,max:W}}}return u}B1.deviation=function(o,a,u,y){var _=a&&a.length,v=Math.abs(fc(o,0,_?a[0]*u:o.length,u));if(_)for(var P=0,S=a.length;P<S;P++)v-=Math.abs(fc(o,a[P]*u,P<S-1?a[P+1]*u:o.length,u));var C=0;for(P=0;P<y.length;P+=3){var M=y[P]*u,L=y[P+1]*u,z=y[P+2]*u;C+=Math.abs((o[M]-o[z])*(o[L+1]-o[M+1])-(o[M]-o[L])*(o[z+1]-o[M+1]))}return v===0&&C===0?0:Math.abs((C-v)/v)},B1.flatten=function(o){for(var a=o[0][0].length,u={vertices:[],holes:[],dimensions:a},y=0,_=0;_<o.length;_++){for(var v=0;v<o[_].length;v++)for(var P=0;P<a;P++)u.vertices.push(o[_][v][P]);_>0&&u.holes.push(y+=o[_-1].length)}return u},L1.default=Of;var ou=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Iu,this.indexArray=new Ss,this.indexArray2=new cc,this.programConfigurations=new $r(o.layers,o.zoom),this.segments=new te,this.segments2=new te,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};ou.prototype.populate=function(o,a,u){this.hasPattern=Kl("fill",this.layers,a);for(var y=this.layers[0].layout.get("fill-sort-key"),_=[],v=0,P=o;v<P.length;v+=1){var S=P[v],C=S.feature,M=S.id,L=S.index,z=S.sourceLayerIndex,W=this.layers[0]._featureFilter.needGeometry,$=Ci(C,W);if(this.layers[0]._featureFilter.filter(new ho(this.zoom),$,u)){var he=y?y.evaluate($,{},u,a.availableImages):void 0,ve={id:M,properties:C.properties,type:C.type,sourceLayerIndex:z,index:L,geometry:W?$.geometry:Ti(C),patterns:{},sortKey:he};_.push(ve)}}y&&_.sort(function($t,ar){return $t.sortKey-ar.sortKey});for(var Be=0,Ce=_;Be<Ce.length;Be+=1){var Ze=Ce[Be],et=Ze.geometry,pt=Ze.index,ft=Ze.sourceLayerIndex;if(this.hasPattern){var It=j0("fill",this.layers,Ze,this.zoom,a);this.patternFeatures.push(It)}else this.addFeature(Ze,et,pt,u,{});a.featureIndex.insert(o[pt].feature,et,pt,ft,this.index)}},ou.prototype.update=function(o,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,u)},ou.prototype.addFeatures=function(o,a,u){for(var y=0,_=this.patternFeatures;y<_.length;y+=1){var v=_[y];this.addFeature(v,v.geometry,v.index,a,u)}},ou.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},ou.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},ou.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Df),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.indexBuffer2=o.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(o),this.uploaded=!0},ou.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},ou.prototype.addFeature=function(o,a,u,y,_){for(var v=0,P=up(a,500);v<P.length;v+=1){for(var S=P[v],C=0,M=0,L=S;M<L.length;M+=1)C+=L[M].length;for(var z=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray),W=z.vertexLength,$=[],he=[],ve=0,Be=S;ve<Be.length;ve+=1){var Ce=Be[ve];if(Ce.length!==0){Ce!==S[0]&&he.push($.length/2);var Ze=this.segments2.prepareSegment(Ce.length,this.layoutVertexArray,this.indexArray2),et=Ze.vertexLength;this.layoutVertexArray.emplaceBack(Ce[0].x,Ce[0].y),this.indexArray2.emplaceBack(et+Ce.length-1,et),$.push(Ce[0].x),$.push(Ce[0].y);for(var pt=1;pt<Ce.length;pt++)this.layoutVertexArray.emplaceBack(Ce[pt].x,Ce[pt].y),this.indexArray2.emplaceBack(et+pt-1,et+pt),$.push(Ce[pt].x),$.push(Ce[pt].y);Ze.vertexLength+=Ce.length,Ze.primitiveLength+=Ce.length}}for(var ft=L1($,he),It=0;It<ft.length;It+=3)this.indexArray.emplaceBack(W+ft[It],W+ft[It+1],W+ft[It+2]);z.vertexLength+=C,z.primitiveLength+=ft.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,_,y)},Tr("FillBucket",ou,{omit:["layers","patternFeatures"]});var Vf=new Fi({"fill-sort-key":new Cr(J.layout_fill["fill-sort-key"])}),Op={paint:new Fi({"fill-antialias":new Ur(J.paint_fill["fill-antialias"]),"fill-opacity":new Cr(J.paint_fill["fill-opacity"]),"fill-color":new Cr(J.paint_fill["fill-color"]),"fill-outline-color":new Cr(J.paint_fill["fill-outline-color"]),"fill-translate":new Ur(J.paint_fill["fill-translate"]),"fill-translate-anchor":new Ur(J.paint_fill["fill-translate-anchor"]),"fill-pattern":new Fa(J.paint_fill["fill-pattern"])}),layout:Vf},Sy=function(o){function a(u){o.call(this,u,Op)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.recalculate=function(u,y){o.prototype.recalculate.call(this,u,y);var _=this.paint._values["fill-outline-color"];_.value.kind==="constant"&&_.value.value===void 0&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])},a.prototype.createBucket=function(u){return new ou(u)},a.prototype.queryRadius=function(){return Ui(this.paint.get("fill-translate"))},a.prototype.queryIntersectsFeature=function(u,y,_,v,P,S,C){return Qa(ca(u,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),S.angle,C),v)},a.prototype.isTileClipped=function(){return!0},a}($a),Ry=fn([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4).members,W0=il;function il(o,a,u,y,_){this.properties={},this.extent=u,this.type=0,this._pbf=o,this._geometry=-1,this._keys=y,this._values=_,o.readFields(wy,this,a)}function wy(o,a,u){o==1?a.id=u.readVarint():o==2?function(y,_){for(var v=y.readVarint()+y.pos;y.pos<v;){var P=_._keys[y.readVarint()],S=_._values[y.readVarint()];_.properties[P]=S}}(u,a):o==3?a.type=u.readVarint():o==4&&(a._geometry=u.pos)}function Hf(o){for(var a,u,y=0,_=0,v=o.length,P=v-1;_<v;P=_++)y+=((u=o[P]).x-(a=o[_]).x)*(a.y+u.y);return y}il.types=["Unknown","Point","LineString","Polygon"],il.prototype.loadGeometry=function(){var o=this._pbf;o.pos=this._geometry;for(var a,u=o.readVarint()+o.pos,y=1,_=0,v=0,P=0,S=[];o.pos<u;){if(_<=0){var C=o.readVarint();y=7&C,_=C>>3}if(_--,y===1||y===2)v+=o.readSVarint(),P+=o.readSVarint(),y===1&&(a&&S.push(a),a=[]),a.push(new x(v,P));else{if(y!==7)throw new Error("unknown command "+y);a&&a.push(a[0].clone())}}return a&&S.push(a),S},il.prototype.bbox=function(){var o=this._pbf;o.pos=this._geometry;for(var a=o.readVarint()+o.pos,u=1,y=0,_=0,v=0,P=1/0,S=-1/0,C=1/0,M=-1/0;o.pos<a;){if(y<=0){var L=o.readVarint();u=7&L,y=L>>3}if(y--,u===1||u===2)(_+=o.readSVarint())<P&&(P=_),_>S&&(S=_),(v+=o.readSVarint())<C&&(C=v),v>M&&(M=v);else if(u!==7)throw new Error("unknown command "+u)}return[P,C,S,M]},il.prototype.toGeoJSON=function(o,a,u){var y,_,v=this.extent*Math.pow(2,u),P=this.extent*o,S=this.extent*a,C=this.loadGeometry(),M=il.types[this.type];function L($){for(var he=0;he<$.length;he++){var ve=$[he];$[he]=[360*(ve.x+P)/v-180,360/Math.PI*Math.atan(Math.exp((180-360*(ve.y+S)/v)*Math.PI/180))-90]}}switch(this.type){case 1:var z=[];for(y=0;y<C.length;y++)z[y]=C[y][0];L(C=z);break;case 2:for(y=0;y<C.length;y++)L(C[y]);break;case 3:for(C=function($){var he=$.length;if(he<=1)return[$];for(var ve,Be,Ce=[],Ze=0;Ze<he;Ze++){var et=Hf($[Ze]);et!==0&&(Be===void 0&&(Be=et<0),Be===et<0?(ve&&Ce.push(ve),ve=[$[Ze]]):ve.push($[Ze]))}return ve&&Ce.push(ve),Ce}(C),y=0;y<C.length;y++)for(_=0;_<C[y].length;_++)L(C[y][_])}C.length===1?C=C[0]:M="Multi"+M;var W={type:"Feature",geometry:{type:M,coordinates:C},properties:this.properties};return"id"in this&&(W.id=this.id),W};var iu=X0;function X0(o,a){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=o,this._keys=[],this._values=[],this._features=[],o.readFields(nl,this,a),this.length=this._features.length}function nl(o,a,u){o===15?a.version=u.readVarint():o===1?a.name=u.readString():o===5?a.extent=u.readVarint():o===2?a._features.push(u.pos):o===3?a._keys.push(u.readString()):o===4&&a._values.push(function(y){for(var _=null,v=y.readVarint()+y.pos;y.pos<v;){var P=y.readVarint()>>3;_=P===1?y.readString():P===2?y.readFloat():P===3?y.readDouble():P===4?y.readVarint64():P===5?y.readVarint():P===6?y.readSVarint():P===7?y.readBoolean():null}return _}(u))}function Lp(o,a,u){if(o===3){var y=new iu(u,u.readVarint()+u.pos);y.length&&(a[y.name]=y)}}X0.prototype.feature=function(o){if(o<0||o>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[o];var a=this._pbf.readVarint()+this._pbf.pos;return new W0(this._pbf,a,this.extent,this._keys,this._values)};var mc={VectorTile:function(o,a){this.layers=o.readFields(Lp,{},a)},VectorTileFeature:W0,VectorTileLayer:iu},Z0=mc.VectorTileFeature.types,al=Math.pow(2,13);function sl(o,a,u,y,_,v,P,S){o.emplaceBack(a,u,2*Math.floor(y*al)+P,_*al*2,v*al*2,Math.round(S))}var Qi=function(o){this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(a){return a.id}),this.index=o.index,this.hasPattern=!1,this.layoutVertexArray=new tu,this.indexArray=new Ss,this.programConfigurations=new $r(o.layers,o.zoom),this.segments=new te,this.stateDependentLayerIds=this.layers.filter(function(a){return a.isStateDependent()}).map(function(a){return a.id})};function Bp(o,a){return o.x===a.x&&(o.x<0||o.x>8192)||o.y===a.y&&(o.y<0||o.y>8192)}Qi.prototype.populate=function(o,a,u){this.features=[],this.hasPattern=Kl("fill-extrusion",this.layers,a);for(var y=0,_=o;y<_.length;y+=1){var v=_[y],P=v.feature,S=v.id,C=v.index,M=v.sourceLayerIndex,L=this.layers[0]._featureFilter.needGeometry,z=Ci(P,L);if(this.layers[0]._featureFilter.filter(new ho(this.zoom),z,u)){var W={id:S,sourceLayerIndex:M,index:C,geometry:L?z.geometry:Ti(P),properties:P.properties,type:P.type,patterns:{}};this.hasPattern?this.features.push(j0("fill-extrusion",this.layers,W,this.zoom,a)):this.addFeature(W,W.geometry,C,u,{}),a.featureIndex.insert(P,W.geometry,C,M,this.index,!0)}}},Qi.prototype.addFeatures=function(o,a,u){for(var y=0,_=this.features;y<_.length;y+=1){var v=_[y];this.addFeature(v,v.geometry,v.index,a,u)}},Qi.prototype.update=function(o,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,u)},Qi.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},Qi.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Qi.prototype.upload=function(o){this.uploaded||(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Ry),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},Qi.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Qi.prototype.addFeature=function(o,a,u,y,_){for(var v=0,P=up(a,500);v<P.length;v+=1){for(var S=P[v],C=0,M=0,L=S;M<L.length;M+=1)C+=L[M].length;for(var z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),W=0,$=S;W<$.length;W+=1){var he=$[W];if(he.length!==0&&!((Io=he).every(function(go){return go.x<0})||Io.every(function(go){return go.x>8192})||Io.every(function(go){return go.y<0})||Io.every(function(go){return go.y>8192})))for(var ve=0,Be=0;Be<he.length;Be++){var Ce=he[Be];if(Be>=1){var Ze=he[Be-1];if(!Bp(Ce,Ze)){z.vertexLength+4>te.MAX_VERTEX_ARRAY_LENGTH&&(z=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var et=Ce.sub(Ze)._perp()._unit(),pt=Ze.dist(Ce);ve+pt>32768&&(ve=0),sl(this.layoutVertexArray,Ce.x,Ce.y,et.x,et.y,0,0,ve),sl(this.layoutVertexArray,Ce.x,Ce.y,et.x,et.y,0,1,ve),sl(this.layoutVertexArray,Ze.x,Ze.y,et.x,et.y,0,0,ve+=pt),sl(this.layoutVertexArray,Ze.x,Ze.y,et.x,et.y,0,1,ve);var ft=z.vertexLength;this.indexArray.emplaceBack(ft,ft+2,ft+1),this.indexArray.emplaceBack(ft+1,ft+2,ft+3),z.vertexLength+=4,z.primitiveLength+=2}}}}if(z.vertexLength+C>te.MAX_VERTEX_ARRAY_LENGTH&&(z=this.segments.prepareSegment(C,this.layoutVertexArray,this.indexArray)),Z0[o.type]==="Polygon"){for(var It=[],$t=[],ar=z.vertexLength,zr=0,Er=S;zr<Er.length;zr+=1){var Xr=Er[zr];if(Xr.length!==0){Xr!==S[0]&&$t.push(It.length/2);for(var br=0;br<Xr.length;br++){var To=Xr[br];sl(this.layoutVertexArray,To.x,To.y,0,0,1,1,0),It.push(To.x),It.push(To.y)}}}for(var no=L1(It,$t),Mr=0;Mr<no.length;Mr+=3)this.indexArray.emplaceBack(ar+no[Mr],ar+no[Mr+2],ar+no[Mr+1]);z.primitiveLength+=no.length/3,z.vertexLength+=C}}var Io;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,_,y)},Tr("FillExtrusionBucket",Qi,{omit:["layers","features"]});var _n={paint:new Fi({"fill-extrusion-opacity":new Ur(J["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Cr(J["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new Ur(J["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new Ur(J["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new Fa(J["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Cr(J["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Cr(J["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new Ur(J["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})},es=function(o){function a(u){o.call(this,u,_n)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.createBucket=function(u){return new Qi(u)},a.prototype.queryRadius=function(){return Ui(this.paint.get("fill-extrusion-translate"))},a.prototype.is3D=function(){return!0},a.prototype.queryIntersectsFeature=function(u,y,_,v,P,S,C,M){var L=ca(u,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),S.angle,C),z=this.paint.get("fill-extrusion-height").evaluate(y,_),W=this.paint.get("fill-extrusion-base").evaluate(y,_),$=function(ve,Be,Ce,Ze){for(var et=[],pt=0,ft=ve;pt<ft.length;pt+=1){var It=ft[pt],$t=[It.x,It.y,0,1];Ou($t,$t,Be),et.push(new x($t[0]/$t[3],$t[1]/$t[3]))}return et}(L,M),he=function(ve,Be,Ce,Ze){for(var et=[],pt=[],ft=Ze[8]*Be,It=Ze[9]*Be,$t=Ze[10]*Be,ar=Ze[11]*Be,zr=Ze[8]*Ce,Er=Ze[9]*Ce,Xr=Ze[10]*Ce,br=Ze[11]*Ce,To=0,no=ve;To<no.length;To+=1){for(var Mr=[],Io=[],go=0,Go=no[To];go<Go.length;go+=1){var Yr=Go[go],Ko=Yr.x,Mi=Yr.y,Yi=Ze[0]*Ko+Ze[4]*Mi+Ze[12],ji=Ze[1]*Ko+Ze[5]*Mi+Ze[13],Ni=Ze[2]*Ko+Ze[6]*Mi+Ze[14],qi=Ze[3]*Ko+Ze[7]*Mi+Ze[15],kn=Ni+$t,zn=qi+ar,Ra=Yi+zr,qn=ji+Er,wa=Ni+Xr,rn=qi+br,$n=new x((Yi+ft)/zn,(ji+It)/zn);$n.z=kn/zn,Mr.push($n);var Lo=new x(Ra/rn,qn/rn);Lo.z=wa/rn,Io.push(Lo)}et.push(Mr),pt.push(Io)}return[et,pt]}(v,W,z,M);return function(ve,Be,Ce){var Ze=1/0;Qa(Ce,Be)&&(Ze=Cy(Ce,Be[0]));for(var et=0;et<Be.length;et++)for(var pt=Be[et],ft=ve[et],It=0;It<pt.length-1;It++){var $t=pt[It],ar=[$t,pt[It+1],ft[It+1],ft[It],$t];Rs(Ce,ar)&&(Ze=Math.min(Ze,Cy(Ce,ar)))}return Ze!==1/0&&Ze}(he[0],he[1],$)},a}($a);function ul(o,a){return o.x*a.x+o.y*a.y}function Cy(o,a){if(o.length===1){for(var u,y=0,_=a[y++];!u||_.equals(u);)if(!(u=a[y++]))return 1/0;for(;y<a.length;y++){var v=a[y],P=o[0],S=u.sub(_),C=v.sub(_),M=P.sub(_),L=ul(S,S),z=ul(S,C),W=ul(C,C),$=ul(M,S),he=ul(M,C),ve=L*W-z*z,Be=(W*$-z*he)/ve,Ce=(L*he-z*$)/ve,Ze=_.z*(1-Be-Ce)+u.z*Be+v.z*Ce;if(isFinite(Ze))return Ze}return 1/0}for(var et=1/0,pt=0,ft=a;pt<ft.length;pt+=1)et=Math.min(et,ft[pt].z);return et}var Gf=fn([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4).members,jf=fn([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]).members,Wf=mc.VectorTileFeature.types,Iy=Math.cos(Math.PI/180*37.5),My=Math.pow(2,14)/.5,da=function(o){var a=this;this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(u){return u.id}),this.index=o.index,this.hasPattern=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(function(u){a.gradients[u.id]={}}),this.layoutVertexArray=new Ta,this.layoutVertexArray2=new Rp,this.indexArray=new Ss,this.programConfigurations=new $r(o.layers,o.zoom),this.segments=new te,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(function(u){return u.isStateDependent()}).map(function(u){return u.id})};da.prototype.populate=function(o,a,u){this.hasPattern=Kl("line",this.layers,a);for(var y=this.layers[0].layout.get("line-sort-key"),_=[],v=0,P=o;v<P.length;v+=1){var S=P[v],C=S.feature,M=S.id,L=S.index,z=S.sourceLayerIndex,W=this.layers[0]._featureFilter.needGeometry,$=Ci(C,W);if(this.layers[0]._featureFilter.filter(new ho(this.zoom),$,u)){var he=y?y.evaluate($,{},u):void 0,ve={id:M,properties:C.properties,type:C.type,sourceLayerIndex:z,index:L,geometry:W?$.geometry:Ti(C),patterns:{},sortKey:he};_.push(ve)}}y&&_.sort(function($t,ar){return $t.sortKey-ar.sortKey});for(var Be=0,Ce=_;Be<Ce.length;Be+=1){var Ze=Ce[Be],et=Ze.geometry,pt=Ze.index,ft=Ze.sourceLayerIndex;if(this.hasPattern){var It=j0("line",this.layers,Ze,this.zoom,a);this.patternFeatures.push(It)}else this.addFeature(Ze,et,pt,u,{});a.featureIndex.insert(o[pt].feature,et,pt,ft,this.index)}},da.prototype.update=function(o,a,u){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(o,a,this.stateDependentLayers,u)},da.prototype.addFeatures=function(o,a,u){for(var y=0,_=this.patternFeatures;y<_.length;y+=1){var v=_[y];this.addFeature(v,v.geometry,v.index,a,u)}},da.prototype.isEmpty=function(){return this.layoutVertexArray.length===0},da.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},da.prototype.upload=function(o){this.uploaded||(this.layoutVertexArray2.length!==0&&(this.layoutVertexBuffer2=o.createVertexBuffer(this.layoutVertexArray2,jf)),this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Gf),this.indexBuffer=o.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(o),this.uploaded=!0},da.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},da.prototype.lineFeatureClips=function(o){if(o.properties&&o.properties.hasOwnProperty("mapbox_clip_start")&&o.properties.hasOwnProperty("mapbox_clip_end"))return{start:+o.properties.mapbox_clip_start,end:+o.properties.mapbox_clip_end}},da.prototype.addFeature=function(o,a,u,y,_){var v=this.layers[0].layout,P=v.get("line-join").evaluate(o,{}),S=v.get("line-cap"),C=v.get("line-miter-limit"),M=v.get("line-round-limit");this.lineClips=this.lineFeatureClips(o);for(var L=0,z=a;L<z.length;L+=1)this.addLine(z[L],o,P,S,C,M);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,o,u,_,y)},da.prototype.addLine=function(o,a,u,y,_,v){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,this.lineClips){this.lineClipsArray.push(this.lineClips);for(var P=0;P<o.length-1;P++)this.totalDistance+=o[P].dist(o[P+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}for(var S=Wf[a.type]==="Polygon",C=o.length;C>=2&&o[C-1].equals(o[C-2]);)C--;for(var M=0;M<C-1&&o[M].equals(o[M+1]);)M++;if(!(C<(S?3:2))){u==="bevel"&&(_=1.05);var L,z=this.overscaling<=16?122880/(512*this.overscaling):0,W=this.segments.prepareSegment(10*C,this.layoutVertexArray,this.indexArray),$=void 0,he=void 0,ve=void 0,Be=void 0;this.e1=this.e2=-1,S&&(Be=o[M].sub(L=o[C-2])._unit()._perp());for(var Ce=M;Ce<C;Ce++)if(!(he=Ce===C-1?S?o[M+1]:void 0:o[Ce+1])||!o[Ce].equals(he)){Be&&(ve=Be),L&&($=L),L=o[Ce],Be=he?he.sub(L)._unit()._perp():ve;var Ze=(ve=ve||Be).add(Be);Ze.x===0&&Ze.y===0||Ze._unit();var et=ve.x*Be.x+ve.y*Be.y,pt=Ze.x*Be.x+Ze.y*Be.y,ft=pt!==0?1/pt:1/0,It=2*Math.sqrt(2-2*pt),$t=pt<Iy&&$&&he,ar=ve.x*Be.y-ve.y*Be.x>0;if($t&&Ce>M){var zr=L.dist($);if(zr>2*z){var Er=L.sub(L.sub($)._mult(z/zr)._round());this.updateDistance($,Er),this.addCurrentVertex(Er,ve,0,0,W),$=Er}}var Xr=$&&he,br=Xr?u:S?"butt":y;if(Xr&&br==="round"&&(ft<v?br="miter":ft<=2&&(br="fakeround")),br==="miter"&&ft>_&&(br="bevel"),br==="bevel"&&(ft>2&&(br="flipbevel"),ft<_&&(br="miter")),$&&this.updateDistance($,L),br==="miter")Ze._mult(ft),this.addCurrentVertex(L,Ze,0,0,W);else if(br==="flipbevel"){if(ft>100)Ze=Be.mult(-1);else{var To=ft*ve.add(Be).mag()/ve.sub(Be).mag();Ze._perp()._mult(To*(ar?-1:1))}this.addCurrentVertex(L,Ze,0,0,W),this.addCurrentVertex(L,Ze.mult(-1),0,0,W)}else if(br==="bevel"||br==="fakeround"){var no=-Math.sqrt(ft*ft-1),Mr=ar?no:0,Io=ar?0:no;if($&&this.addCurrentVertex(L,ve,Mr,Io,W),br==="fakeround")for(var go=Math.round(180*It/Math.PI/20),Go=1;Go<go;Go++){var Yr=Go/go;if(Yr!==.5){var Ko=Yr-.5;Yr+=Yr*Ko*(Yr-1)*((1.0904+et*(et*(3.55645-1.43519*et)-3.2452))*Ko*Ko+(.848013+et*(.215638*et-1.06021)))}var Mi=Be.sub(ve)._mult(Yr)._add(ve)._unit()._mult(ar?-1:1);this.addHalfVertex(L,Mi.x,Mi.y,!1,ar,0,W)}he&&this.addCurrentVertex(L,Be,-Mr,-Io,W)}else if(br==="butt")this.addCurrentVertex(L,Ze,0,0,W);else if(br==="square"){var Yi=$?1:-1;this.addCurrentVertex(L,Ze,Yi,Yi,W)}else br==="round"&&($&&(this.addCurrentVertex(L,ve,0,0,W),this.addCurrentVertex(L,ve,1,1,W,!0)),he&&(this.addCurrentVertex(L,Be,-1,-1,W,!0),this.addCurrentVertex(L,Be,0,0,W)));if($t&&Ce<C-1){var ji=L.dist(he);if(ji>2*z){var Ni=L.add(he.sub(L)._mult(z/ji)._round());this.updateDistance(L,Ni),this.addCurrentVertex(Ni,Be,0,0,W),L=Ni}}}}},da.prototype.addCurrentVertex=function(o,a,u,y,_,v){v===void 0&&(v=!1);var P=a.y*y-a.x,S=-a.y-a.x*y;this.addHalfVertex(o,a.x+a.y*u,a.y-a.x*u,v,!1,u,_),this.addHalfVertex(o,P,S,v,!0,-y,_),this.distance>My/2&&this.totalDistance===0&&(this.distance=0,this.addCurrentVertex(o,a,u,y,_,v))},da.prototype.addHalfVertex=function(o,a,u,y,_,v,P){var S=.5*(this.lineClips?this.scaledDistance*(My-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((o.x<<1)+(y?1:0),(o.y<<1)+(_?1:0),Math.round(63*a)+128,Math.round(63*u)+128,1+(v===0?0:v<0?-1:1)|(63&S)<<2,S>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);var C=P.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,this.e2,C),P.primitiveLength++),_?this.e2=C:this.e1=C},da.prototype.updateScaledDistance=function(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance},da.prototype.updateDistance=function(o,a){this.distance+=o.dist(a),this.updateScaledDistance()},Tr("LineBucket",da,{omit:["layers","patternFeatures"]});var Xf=new Fi({"line-cap":new Ur(J.layout_line["line-cap"]),"line-join":new Cr(J.layout_line["line-join"]),"line-miter-limit":new Ur(J.layout_line["line-miter-limit"]),"line-round-limit":new Ur(J.layout_line["line-round-limit"]),"line-sort-key":new Cr(J.layout_line["line-sort-key"])}),Ny={paint:new Fi({"line-opacity":new Cr(J.paint_line["line-opacity"]),"line-color":new Cr(J.paint_line["line-color"]),"line-translate":new Ur(J.paint_line["line-translate"]),"line-translate-anchor":new Ur(J.paint_line["line-translate-anchor"]),"line-width":new Cr(J.paint_line["line-width"]),"line-gap-width":new Cr(J.paint_line["line-gap-width"]),"line-offset":new Cr(J.paint_line["line-offset"]),"line-blur":new Cr(J.paint_line["line-blur"]),"line-dasharray":new Wn(J.paint_line["line-dasharray"]),"line-pattern":new Fa(J.paint_line["line-pattern"]),"line-gradient":new ps(J.paint_line["line-gradient"])}),layout:Xf},Dy=new(function(o){function a(){o.apply(this,arguments)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.possiblyEvaluate=function(u,y){return y=new ho(Math.floor(y.zoom),{now:y.now,fadeDuration:y.fadeDuration,zoomHistory:y.zoomHistory,transition:y.transition}),o.prototype.possiblyEvaluate.call(this,u,y)},a.prototype.evaluate=function(u,y,_,v){return y=ee({},y,{zoom:Math.floor(y.zoom)}),o.prototype.evaluate.call(this,u,y,_,v)},a}(Cr))(Ny.paint.properties["line-width"].specification);Dy.useIntegerZoom=!0;var Oy=function(o){function a(u){o.call(this,u,Ny),this.gradientVersion=0}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype._handleSpecialPaintPropertyUpdate=function(u){u==="line-gradient"&&(this.stepInterpolant=this._transitionablePaint._values["line-gradient"].value.expression._styleExpression.expression instanceof Pa,this.gradientVersion=(this.gradientVersion+1)%R)},a.prototype.gradientExpression=function(){return this._transitionablePaint._values["line-gradient"].value.expression},a.prototype.recalculate=function(u,y){o.prototype.recalculate.call(this,u,y),this.paint._values["line-floorwidth"]=Dy.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,u)},a.prototype.createBucket=function(u){return new da(u)},a.prototype.queryRadius=function(u){var y=u,_=Y0(Bn("line-width",this,y),Bn("line-gap-width",this,y)),v=Bn("line-offset",this,y);return _/2+Math.abs(v)+Ui(this.paint.get("line-translate"))},a.prototype.queryIntersectsFeature=function(u,y,_,v,P,S,C){var M=ca(u,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),S.angle,C),L=C/2*Y0(this.paint.get("line-width").evaluate(y,_),this.paint.get("line-gap-width").evaluate(y,_)),z=this.paint.get("line-offset").evaluate(y,_);return z&&(v=function(W,$){for(var he=[],ve=new x(0,0),Be=0;Be<W.length;Be++){for(var Ce=W[Be],Ze=[],et=0;et<Ce.length;et++){var pt=Ce[et],ft=Ce[et+1],It=et===0?ve:pt.sub(Ce[et-1])._unit()._perp(),$t=et===Ce.length-1?ve:ft.sub(pt)._unit()._perp(),ar=It._add($t)._unit();ar._mult(1/(ar.x*$t.x+ar.y*$t.y)),Ze.push(ar._mult($)._add(pt))}he.push(Ze)}return he}(v,z*C)),function(W,$,he){for(var ve=0;ve<$.length;ve++){var Be=$[ve];if(W.length>=3){for(var Ce=0;Ce<Be.length;Ce++)if(ls(W,Be[Ce]))return!0}if(Sa(W,Be,he))return!0}return!1}(M,v,L)},a.prototype.isTileClipped=function(){return!0},a}($a);function Y0(o,a){return a>0?a+2*o:o}var Ly=fn([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),Zf=fn([{name:"a_projected_pos",components:3,type:"Float32"}],4),Yf=(fn([{name:"a_fade_opacity",components:1,type:"Uint32"}],4),fn([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"}])),q0=(fn([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]),fn([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4)),qf=fn([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function N(o,a,u){return o.sections.forEach(function(y){y.text=function(_,v,P){var S=v.layout.get("text-transform").evaluate(P,{});return S==="uppercase"?_=_.toLocaleUpperCase():S==="lowercase"&&(_=_.toLocaleLowerCase()),La.applyArabicShaping&&(_=La.applyArabicShaping(_)),_}(y.text,a,u)}),o}fn([{name:"triangle",components:3,type:"Uint16"}]),fn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),fn([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",components:2,name:"textOffset"},{type:"Float32",name:"collisionCircleDiameter"}]),fn([{type:"Float32",name:"offsetX"}]),fn([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]);var ae={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"},Se=function(o,a,u,y,_){var v,P,S=8*_-y-1,C=(1<<S)-1,M=C>>1,L=-7,z=_-1,W=-1,$=o[a+z];for(z+=W,v=$&(1<<-L)-1,$>>=-L,L+=S;L>0;v=256*v+o[a+z],z+=W,L-=8);for(P=v&(1<<-L)-1,v>>=-L,L+=y;L>0;P=256*P+o[a+z],z+=W,L-=8);if(v===0)v=1-M;else{if(v===C)return P?NaN:1/0*($?-1:1);P+=Math.pow(2,y),v-=M}return($?-1:1)*P*Math.pow(2,v-y)},nt=function(o,a,u,y,_,v){var P,S,C,M=8*v-_-1,L=(1<<M)-1,z=L>>1,W=_===23?Math.pow(2,-24)-Math.pow(2,-77):0,$=0,he=1,ve=a<0||a===0&&1/a<0?1:0;for(a=Math.abs(a),isNaN(a)||a===1/0?(S=isNaN(a)?1:0,P=L):(P=Math.floor(Math.log(a)/Math.LN2),a*(C=Math.pow(2,-P))<1&&(P--,C*=2),(a+=P+z>=1?W/C:W*Math.pow(2,1-z))*C>=2&&(P++,C/=2),P+z>=L?(S=0,P=L):P+z>=1?(S=(a*C-1)*Math.pow(2,_),P+=z):(S=a*Math.pow(2,z-1)*Math.pow(2,_),P=0));_>=8;o[u+$]=255&S,$+=he,S/=256,_-=8);for(P=P<<_|S,M+=_;M>0;o[u+$]=255&P,$+=he,P/=256,M-=8);o[u+$-he]|=128*ve},St=$e;function $e(o){this.buf=ArrayBuffer.isView&&ArrayBuffer.isView(o)?o:new Uint8Array(o||0),this.pos=0,this.type=0,this.length=this.buf.length}$e.Varint=0,$e.Fixed64=1,$e.Bytes=2,$e.Fixed32=5;var xt=typeof TextDecoder>"u"?null:new TextDecoder("utf8");function Ut(o){return o.type===$e.Bytes?o.readVarint()+o.pos:o.pos+1}function Ht(o,a,u){return u?4294967296*a+(o>>>0):4294967296*(a>>>0)+(o>>>0)}function ir(o,a,u){var y=a<=16383?1:a<=2097151?2:a<=268435455?3:Math.floor(Math.log(a)/(7*Math.LN2));u.realloc(y);for(var _=u.pos-1;_>=o;_--)u.buf[_+y]=u.buf[_]}function qt(o,a){for(var u=0;u<o.length;u++)a.writeVarint(o[u])}function Jt(o,a){for(var u=0;u<o.length;u++)a.writeSVarint(o[u])}function nr(o,a){for(var u=0;u<o.length;u++)a.writeFloat(o[u])}function zt(o,a){for(var u=0;u<o.length;u++)a.writeDouble(o[u])}function er(o,a){for(var u=0;u<o.length;u++)a.writeBoolean(o[u])}function Ke(o,a){for(var u=0;u<o.length;u++)a.writeFixed32(o[u])}function _t(o,a){for(var u=0;u<o.length;u++)a.writeSFixed32(o[u])}function Xt(o,a){for(var u=0;u<o.length;u++)a.writeFixed64(o[u])}function dr(o,a){for(var u=0;u<o.length;u++)a.writeSFixed64(o[u])}function Mt(o,a){return(o[a]|o[a+1]<<8|o[a+2]<<16)+16777216*o[a+3]}function mr(o,a,u){o[u]=a,o[u+1]=a>>>8,o[u+2]=a>>>16,o[u+3]=a>>>24}function Zt(o,a){return(o[a]|o[a+1]<<8|o[a+2]<<16)+(o[a+3]<<24)}function _r(o,a,u){o===1&&u.readMessage(Ot,a)}function Ot(o,a,u){if(o===3){var y=u.readMessage(cr,{}),_=y.width,v=y.height,P=y.left,S=y.top,C=y.advance;a.push({id:y.id,bitmap:new Ip({width:_+6,height:v+6},y.bitmap),metrics:{width:_,height:v,left:P,top:S,advance:C}})}}function cr(o,a,u){o===1?a.id=u.readVarint():o===2?a.bitmap=u.readBytes():o===3?a.width=u.readVarint():o===4?a.height=u.readVarint():o===5?a.left=u.readSVarint():o===6?a.top=u.readSVarint():o===7&&(a.advance=u.readVarint())}function Gr(o){for(var a=0,u=0,y=0,_=o;y<_.length;y+=1){var v=_[y];a+=v.w*v.h,u=Math.max(u,v.w)}o.sort(function(ve,Be){return Be.h-ve.h});for(var P=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(a/.95)),u),h:1/0}],S=0,C=0,M=0,L=o;M<L.length;M+=1)for(var z=L[M],W=P.length-1;W>=0;W--){var $=P[W];if(!(z.w>$.w||z.h>$.h)){if(z.x=$.x,z.y=$.y,C=Math.max(C,z.y+z.h),S=Math.max(S,z.x+z.w),z.w===$.w&&z.h===$.h){var he=P.pop();W<P.length&&(P[W]=he)}else z.h===$.h?($.x+=z.w,$.w-=z.w):z.w===$.w?($.y+=z.h,$.h-=z.h):(P.push({x:$.x+z.w,y:$.y,w:$.w-z.w,h:z.h}),$.y+=z.h,$.h-=z.h);break}}return{w:S,h:C,fill:a/(S*C)||0}}$e.prototype={destroy:function(){this.buf=null},readFields:function(o,a,u){for(u=u||this.length;this.pos<u;){var y=this.readVarint(),_=y>>3,v=this.pos;this.type=7&y,o(_,a,this),this.pos===v&&this.skip(y)}return a},readMessage:function(o,a){return this.readFields(o,a,this.readVarint()+this.pos)},readFixed32:function(){var o=Mt(this.buf,this.pos);return this.pos+=4,o},readSFixed32:function(){var o=Zt(this.buf,this.pos);return this.pos+=4,o},readFixed64:function(){var o=Mt(this.buf,this.pos)+4294967296*Mt(this.buf,this.pos+4);return this.pos+=8,o},readSFixed64:function(){var o=Mt(this.buf,this.pos)+4294967296*Zt(this.buf,this.pos+4);return this.pos+=8,o},readFloat:function(){var o=Se(this.buf,this.pos,!0,23,4);return this.pos+=4,o},readDouble:function(){var o=Se(this.buf,this.pos,!0,52,8);return this.pos+=8,o},readVarint:function(o){var a,u,y=this.buf;return a=127&(u=y[this.pos++]),u<128?a:(a|=(127&(u=y[this.pos++]))<<7,u<128?a:(a|=(127&(u=y[this.pos++]))<<14,u<128?a:(a|=(127&(u=y[this.pos++]))<<21,u<128?a:function(_,v,P){var S,C,M=P.buf;if(S=(112&(C=M[P.pos++]))>>4,C<128||(S|=(127&(C=M[P.pos++]))<<3,C<128)||(S|=(127&(C=M[P.pos++]))<<10,C<128)||(S|=(127&(C=M[P.pos++]))<<17,C<128)||(S|=(127&(C=M[P.pos++]))<<24,C<128)||(S|=(1&(C=M[P.pos++]))<<31,C<128))return Ht(_,S,v);throw new Error("Expected varint not more than 10 bytes")}(a|=(15&(u=y[this.pos]))<<28,o,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var o=this.readVarint();return o%2==1?(o+1)/-2:o/2},readBoolean:function(){return!!this.readVarint()},readString:function(){var o=this.readVarint()+this.pos,a=this.pos;return this.pos=o,o-a>=12&&xt?function(u,y,_){return xt.decode(u.subarray(y,_))}(this.buf,a,o):function(u,y,_){for(var v="",P=y;P<_;){var S,C,M,L=u[P],z=null,W=L>239?4:L>223?3:L>191?2:1;if(P+W>_)break;W===1?L<128&&(z=L):W===2?(192&(S=u[P+1]))==128&&(z=(31&L)<<6|63&S)<=127&&(z=null):W===3?(C=u[P+2],(192&(S=u[P+1]))==128&&(192&C)==128&&((z=(15&L)<<12|(63&S)<<6|63&C)<=2047||z>=55296&&z<=57343)&&(z=null)):W===4&&(C=u[P+2],M=u[P+3],(192&(S=u[P+1]))==128&&(192&C)==128&&(192&M)==128&&((z=(15&L)<<18|(63&S)<<12|(63&C)<<6|63&M)<=65535||z>=1114112)&&(z=null)),z===null?(z=65533,W=1):z>65535&&(z-=65536,v+=String.fromCharCode(z>>>10&1023|55296),z=56320|1023&z),v+=String.fromCharCode(z),P+=W}return v}(this.buf,a,o)},readBytes:function(){var o=this.readVarint()+this.pos,a=this.buf.subarray(this.pos,o);return this.pos=o,a},readPackedVarint:function(o,a){if(this.type!==$e.Bytes)return o.push(this.readVarint(a));var u=Ut(this);for(o=o||[];this.pos<u;)o.push(this.readVarint(a));return o},readPackedSVarint:function(o){if(this.type!==$e.Bytes)return o.push(this.readSVarint());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readSVarint());return o},readPackedBoolean:function(o){if(this.type!==$e.Bytes)return o.push(this.readBoolean());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readBoolean());return o},readPackedFloat:function(o){if(this.type!==$e.Bytes)return o.push(this.readFloat());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readFloat());return o},readPackedDouble:function(o){if(this.type!==$e.Bytes)return o.push(this.readDouble());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readDouble());return o},readPackedFixed32:function(o){if(this.type!==$e.Bytes)return o.push(this.readFixed32());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readFixed32());return o},readPackedSFixed32:function(o){if(this.type!==$e.Bytes)return o.push(this.readSFixed32());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readSFixed32());return o},readPackedFixed64:function(o){if(this.type!==$e.Bytes)return o.push(this.readFixed64());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readFixed64());return o},readPackedSFixed64:function(o){if(this.type!==$e.Bytes)return o.push(this.readSFixed64());var a=Ut(this);for(o=o||[];this.pos<a;)o.push(this.readSFixed64());return o},skip:function(o){var a=7&o;if(a===$e.Varint)for(;this.buf[this.pos++]>127;);else if(a===$e.Bytes)this.pos=this.readVarint()+this.pos;else if(a===$e.Fixed32)this.pos+=4;else{if(a!==$e.Fixed64)throw new Error("Unimplemented type: "+a);this.pos+=8}},writeTag:function(o,a){this.writeVarint(o<<3|a)},realloc:function(o){for(var a=this.length||16;a<this.pos+o;)a*=2;if(a!==this.length){var u=new Uint8Array(a);u.set(this.buf),this.buf=u,this.length=a}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(o){this.realloc(4),mr(this.buf,o,this.pos),this.pos+=4},writeSFixed32:function(o){this.realloc(4),mr(this.buf,o,this.pos),this.pos+=4},writeFixed64:function(o){this.realloc(8),mr(this.buf,-1&o,this.pos),mr(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(o){this.realloc(8),mr(this.buf,-1&o,this.pos),mr(this.buf,Math.floor(o*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(o){(o=+o||0)>268435455||o<0?function(a,u){var y,_;if(a>=0?(y=a%4294967296|0,_=a/4294967296|0):(_=~(-a/4294967296),4294967295^(y=~(-a%4294967296))?y=y+1|0:(y=0,_=_+1|0)),a>=18446744073709552e3||a<-18446744073709552e3)throw new Error("Given varint doesn't fit into 10 bytes");u.realloc(10),function(v,P,S){S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,v>>>=7,S.buf[S.pos++]=127&v|128,S.buf[S.pos]=127&(v>>>=7)}(y,0,u),function(v,P){var S=(7&v)<<4;P.buf[P.pos++]|=S|((v>>>=3)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v|((v>>>=7)?128:0),v&&(P.buf[P.pos++]=127&v)))))}(_,u)}(o,this):(this.realloc(4),this.buf[this.pos++]=127&o|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=127&(o>>>=7)|(o>127?128:0),o<=127||(this.buf[this.pos++]=o>>>7&127))))},writeSVarint:function(o){this.writeVarint(o<0?2*-o-1:2*o)},writeBoolean:function(o){this.writeVarint(!!o)},writeString:function(o){o=String(o),this.realloc(4*o.length),this.pos++;var a=this.pos;this.pos=function(y,_,v){for(var P,S,C=0;C<_.length;C++){if((P=_.charCodeAt(C))>55295&&P<57344){if(!S){P>56319||C+1===_.length?(y[v++]=239,y[v++]=191,y[v++]=189):S=P;continue}if(P<56320){y[v++]=239,y[v++]=191,y[v++]=189,S=P;continue}P=S-55296<<10|P-56320|65536,S=null}else S&&(y[v++]=239,y[v++]=191,y[v++]=189,S=null);P<128?y[v++]=P:(P<2048?y[v++]=P>>6|192:(P<65536?y[v++]=P>>12|224:(y[v++]=P>>18|240,y[v++]=P>>12&63|128),y[v++]=P>>6&63|128),y[v++]=63&P|128)}return v}(this.buf,o,this.pos);var u=this.pos-a;u>=128&&ir(a,u,this),this.pos=a-1,this.writeVarint(u),this.pos+=u},writeFloat:function(o){this.realloc(4),nt(this.buf,o,this.pos,!0,23,4),this.pos+=4},writeDouble:function(o){this.realloc(8),nt(this.buf,o,this.pos,!0,52,8),this.pos+=8},writeBytes:function(o){var a=o.length;this.writeVarint(a),this.realloc(a);for(var u=0;u<a;u++)this.buf[this.pos++]=o[u]},writeRawMessage:function(o,a){this.pos++;var u=this.pos;o(a,this);var y=this.pos-u;y>=128&&ir(u,y,this),this.pos=u-1,this.writeVarint(y),this.pos+=y},writeMessage:function(o,a,u){this.writeTag(o,$e.Bytes),this.writeRawMessage(a,u)},writePackedVarint:function(o,a){a.length&&this.writeMessage(o,qt,a)},writePackedSVarint:function(o,a){a.length&&this.writeMessage(o,Jt,a)},writePackedBoolean:function(o,a){a.length&&this.writeMessage(o,er,a)},writePackedFloat:function(o,a){a.length&&this.writeMessage(o,nr,a)},writePackedDouble:function(o,a){a.length&&this.writeMessage(o,zt,a)},writePackedFixed32:function(o,a){a.length&&this.writeMessage(o,Ke,a)},writePackedSFixed32:function(o,a){a.length&&this.writeMessage(o,_t,a)},writePackedFixed64:function(o,a){a.length&&this.writeMessage(o,Xt,a)},writePackedSFixed64:function(o,a){a.length&&this.writeMessage(o,dr,a)},writeBytesField:function(o,a){this.writeTag(o,$e.Bytes),this.writeBytes(a)},writeFixed32Field:function(o,a){this.writeTag(o,$e.Fixed32),this.writeFixed32(a)},writeSFixed32Field:function(o,a){this.writeTag(o,$e.Fixed32),this.writeSFixed32(a)},writeFixed64Field:function(o,a){this.writeTag(o,$e.Fixed64),this.writeFixed64(a)},writeSFixed64Field:function(o,a){this.writeTag(o,$e.Fixed64),this.writeSFixed64(a)},writeVarintField:function(o,a){this.writeTag(o,$e.Varint),this.writeVarint(a)},writeSVarintField:function(o,a){this.writeTag(o,$e.Varint),this.writeSVarint(a)},writeStringField:function(o,a){this.writeTag(o,$e.Bytes),this.writeString(a)},writeFloatField:function(o,a){this.writeTag(o,$e.Fixed32),this.writeFloat(a)},writeDoubleField:function(o,a){this.writeTag(o,$e.Fixed64),this.writeDouble(a)},writeBooleanField:function(o,a){this.writeVarintField(o,!!a)}};var so=function(o,a){var u=a.pixelRatio,y=a.version,_=a.stretchX,v=a.stretchY,P=a.content;this.paddedRect=o,this.pixelRatio=u,this.stretchX=_,this.stretchY=v,this.content=P,this.version=y},ur={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};ur.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},ur.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},ur.tlbr.get=function(){return this.tl.concat(this.br)},ur.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(so.prototype,ur);var jt=function(o,a){var u={},y={};this.haveRenderCallbacks=[];var _=[];this.addImages(o,u,_),this.addImages(a,y,_);var v=Gr(_),P=new la({width:v.w||1,height:v.h||1});for(var S in o){var C=o[S],M=u[S].paddedRect;la.copy(C.data,P,{x:0,y:0},{x:M.x+1,y:M.y+1},C.data)}for(var L in a){var z=a[L],W=y[L].paddedRect,$=W.x+1,he=W.y+1,ve=z.data.width,Be=z.data.height;la.copy(z.data,P,{x:0,y:0},{x:$,y:he},z.data),la.copy(z.data,P,{x:0,y:Be-1},{x:$,y:he-1},{width:ve,height:1}),la.copy(z.data,P,{x:0,y:0},{x:$,y:he+Be},{width:ve,height:1}),la.copy(z.data,P,{x:ve-1,y:0},{x:$-1,y:he},{width:1,height:Be}),la.copy(z.data,P,{x:0,y:0},{x:$+ve,y:he},{width:1,height:Be})}this.image=P,this.iconPositions=u,this.patternPositions=y};jt.prototype.addImages=function(o,a,u){for(var y in o){var _=o[y],v={x:0,y:0,w:_.data.width+2,h:_.data.height+2};u.push(v),a[y]=new so(v,_),_.hasRenderCallback&&this.haveRenderCallbacks.push(y)}},jt.prototype.patchUpdatedImages=function(o,a){for(var u in o.dispatchRenderCallbacks(this.haveRenderCallbacks),o.updatedImages)this.patchUpdatedImage(this.iconPositions[u],o.getImage(u),a),this.patchUpdatedImage(this.patternPositions[u],o.getImage(u),a)},jt.prototype.patchUpdatedImage=function(o,a,u){if(o&&a&&o.version!==a.version){o.version=a.version;var y=o.tl;u.update(a.data,void 0,{x:y[0],y:y[1]})}},Tr("ImagePosition",so),Tr("ImageAtlas",jt);var Tt={horizontal:1,vertical:2,horizontalOnly:3},oo=function(){this.scale=1,this.fontStack="",this.imageName=null};oo.forText=function(o,a){var u=new oo;return u.scale=o||1,u.fontStack=a,u},oo.forImage=function(o){var a=new oo;return a.imageName=o,a};var io=function(){this.text="",this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function Or(o,a,u,y,_,v,P,S,C,M,L,z,W,$,he,ve){var Be,Ce=io.fromFeature(o,_);z===Tt.vertical&&Ce.verticalizePunctuation();var Ze=La.processBidirectionalText,et=La.processStyledBidirectionalText;if(Ze&&Ce.sections.length===1){Be=[];for(var pt=0,ft=Ze(Ce.toString(),Ro(Ce,M,v,a,y,$,he));pt<ft.length;pt+=1){var It=ft[pt],$t=new io;$t.text=It,$t.sections=Ce.sections;for(var ar=0;ar<It.length;ar++)$t.sectionIndex.push(0);Be.push($t)}}else if(et){Be=[];for(var zr=0,Er=et(Ce.text,Ce.sectionIndex,Ro(Ce,M,v,a,y,$,he));zr<Er.length;zr+=1){var Xr=Er[zr],br=new io;br.text=Xr[0],br.sectionIndex=Xr[1],br.sections=Ce.sections,Be.push(br)}}else Be=function(Mr,Io){for(var go=[],Go=Mr.text,Yr=0,Ko=0,Mi=Io;Ko<Mi.length;Ko+=1){var Yi=Mi[Ko];go.push(Mr.substring(Yr,Yi)),Yr=Yi}return Yr<Go.length&&go.push(Mr.substring(Yr,Go.length)),go}(Ce,Ro(Ce,M,v,a,y,$,he));var To=[],no={positionedLines:To,text:Ce.toString(),top:L[1],bottom:L[1],left:L[0],right:L[0],writingMode:z,iconsInText:!1,verticalizable:!1};return function(Mr,Io,go,Go,Yr,Ko,Mi,Yi,ji,Ni,qi,kn){for(var zn=0,Ra=-17,qn=0,wa=0,rn=Yi==="right"?1:Yi==="left"?0:.5,$n=0,Lo=0,hi=Yr;Lo<hi.length;Lo+=1){var si=hi[Lo];si.trim();var Zo=si.getMaxScale(),ka=24*(Zo-1),ya={positionedGlyphs:[],lineOffset:0};Mr.positionedLines[$n]=ya;var Ri=ya.positionedGlyphs,En=0;if(si.length()){for(var ha=0;ha<si.length();ha++){var Qo=si.getSection(ha),Up=si.getSectionIndex(ha),Ms=si.getCharCode(ha),kp=0,on=null,zp=null,Bu=null,j1=24,t1=!(ji===Tt.horizontal||!qi&&!uc(Ms)||qi&&(Eo[Ms]||(Ec=Ms,sr.Arabic(Ec)||sr["Arabic Supplement"](Ec)||sr["Arabic Extended-A"](Ec)||sr["Arabic Presentation Forms-A"](Ec)||sr["Arabic Presentation Forms-B"](Ec))));if(Qo.imageName){var W1=Go[Qo.imageName];if(!W1)continue;Bu=Qo.imageName,Mr.iconsInText=Mr.iconsInText||!0,zp=W1.paddedRect;var vc=W1.displaySize;Qo.scale=24*Qo.scale/kn,kp=ka+(24-vc[1]*Qo.scale),j1=(on={width:vc[0],height:vc[1],left:1,top:-3,advance:t1?vc[1]:vc[0]}).advance;var X1=t1?vc[0]*Qo.scale-24*Zo:vc[1]*Qo.scale-24*Zo;X1>0&&X1>En&&(En=X1)}else{var Vy=go[Qo.fontStack],Z1=Vy&&Vy[Ms];if(Z1&&Z1.rect)zp=Z1.rect,on=Z1.metrics;else{var J0=Io[Qo.fontStack],Hy=J0&&J0[Ms];if(!Hy)continue;on=Hy.metrics}kp=24*(Zo-Qo.scale)}t1?(Mr.verticalizable=!0,Ri.push({glyph:Ms,imageName:Bu,x:zn,y:Ra+kp,vertical:t1,scale:Qo.scale,fontStack:Qo.fontStack,sectionIndex:Up,metrics:on,rect:zp}),zn+=j1*Qo.scale+Ni):(Ri.push({glyph:Ms,imageName:Bu,x:zn,y:Ra+kp,vertical:t1,scale:Qo.scale,fontStack:Qo.fontStack,sectionIndex:Up,metrics:on,rect:zp}),zn+=on.advance*Qo.scale+Ni)}Ri.length!==0&&(qn=Math.max(zn-Ni,qn),Si(Ri,0,Ri.length-1,rn,En)),zn=0;var Gy=Ko*Zo+En;ya.lineOffset=Math.max(En,ka),Ra+=Gy,wa=Math.max(Gy,wa),++$n}else Ra+=Ko,++$n}var Ec,ed=Ra- -17,Y1=Ji(Mi),cl=Y1.horizontalAlign,q1=Y1.verticalAlign;(function(jy,Wy,td,rd,Xy,od,id,nd,Zy){var $1,Yy=(Wy-td)*Xy;$1=od!==id?-nd*rd- -17:(-rd*Zy+.5)*id;for(var K1=0,ad=jy;K1<ad.length;K1+=1)for(var r1=0,sd=ad[K1].positionedGlyphs;r1<sd.length;r1+=1){var Q1=sd[r1];Q1.x+=Yy,Q1.y+=$1}})(Mr.positionedLines,rn,cl,q1,qn,wa,Ko,ed,Yr.length),Mr.top+=-q1*ed,Mr.bottom=Mr.top+ed,Mr.left+=-cl*qn,Mr.right=Mr.left+qn}(no,a,u,y,Be,P,S,C,z,M,W,ve),!function(Mr){for(var Io=0,go=Mr;Io<go.length;Io+=1)if(go[Io].positionedGlyphs.length!==0)return!1;return!0}(To)&&no}io.fromFeature=function(o,a){for(var u=new io,y=0;y<o.sections.length;y++){var _=o.sections[y];_.image?u.addImageSection(_):u.addTextSection(_,a)}return u},io.prototype.length=function(){return this.text.length},io.prototype.getSection=function(o){return this.sections[this.sectionIndex[o]]},io.prototype.getSectionIndex=function(o){return this.sectionIndex[o]},io.prototype.getCharCode=function(o){return this.text.charCodeAt(o)},io.prototype.verticalizePunctuation=function(){this.text=function(o){for(var a="",u=0;u<o.length;u++){var y=o.charCodeAt(u+1)||null,_=o.charCodeAt(u-1)||null;a+=y&&Hc(y)&&!ae[o[u+1]]||_&&Hc(_)&&!ae[o[u-1]]||!ae[o[u]]?o[u]:ae[o[u]]}return a}(this.text)},io.prototype.trim=function(){for(var o=0,a=0;a<this.text.length&&Eo[this.text.charCodeAt(a)];a++)o++;for(var u=this.text.length,y=this.text.length-1;y>=0&&y>=o&&Eo[this.text.charCodeAt(y)];y--)u--;this.text=this.text.substring(o,u),this.sectionIndex=this.sectionIndex.slice(o,u)},io.prototype.substring=function(o,a){var u=new io;return u.text=this.text.substring(o,a),u.sectionIndex=this.sectionIndex.slice(o,a),u.sections=this.sections,u},io.prototype.toString=function(){return this.text},io.prototype.getMaxScale=function(){var o=this;return this.sectionIndex.reduce(function(a,u){return Math.max(a,o.sections[u].scale)},0)},io.prototype.addTextSection=function(o,a){this.text+=o.text,this.sections.push(oo.forText(o.scale,o.fontStack||a));for(var u=this.sections.length-1,y=0;y<o.text.length;++y)this.sectionIndex.push(u)},io.prototype.addImageSection=function(o){var a=o.image?o.image.name:"";if(a.length!==0){var u=this.getNextImageSectionCharCode();u?(this.text+=String.fromCharCode(u),this.sections.push(oo.forImage(a)),this.sectionIndex.push(this.sections.length-1)):X("Reached maximum number of images 6401")}else X("Can't add FormattedSection with an empty image.")},io.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var Eo={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},Wr={};function xo(o,a,u,y,_,v){if(a.imageName){var P=y[a.imageName];return P?P.displaySize[0]*a.scale*24/v+_:0}var S=u[a.fontStack],C=S&&S[o];return C?C.metrics.advance*a.scale+_:0}function Xo(o,a,u,y){var _=Math.pow(o-a,2);return y?o<a?_/2:2*_:_+Math.abs(u)*u}function gn(o,a,u){var y=0;return o===10&&(y-=1e4),u&&(y+=150),o!==40&&o!==65288||(y+=50),a!==41&&a!==65289||(y+=50),y}function Sn(o,a,u,y,_,v){for(var P=null,S=Xo(a,u,_,v),C=0,M=y;C<M.length;C+=1){var L=M[C],z=Xo(a-L.x,u,_,v)+L.badness;z<=S&&(P=L,S=z)}return{index:o,x:a,priorBreak:P,badness:S}}function Ro(o,a,u,y,_,v,P){if(v!=="point")return[];if(!o)return[];for(var S,C=[],M=function(Be,Ce,Ze,et,pt,ft){for(var It=0,$t=0;$t<Be.length();$t++){var ar=Be.getSection($t);It+=xo(Be.getCharCode($t),ar,et,pt,Ce,ft)}return It/Math.max(1,Math.ceil(It/Ze))}(o,a,u,y,_,P),L=o.text.indexOf("​")>=0,z=0,W=0;W<o.length();W++){var $=o.getSection(W),he=o.getCharCode(W);if(Eo[he]||(z+=xo(he,$,y,_,a,P)),W<o.length()-1){var ve=!((S=he)<11904||!(sr["Bopomofo Extended"](S)||sr.Bopomofo(S)||sr["CJK Compatibility Forms"](S)||sr["CJK Compatibility Ideographs"](S)||sr["CJK Compatibility"](S)||sr["CJK Radicals Supplement"](S)||sr["CJK Strokes"](S)||sr["CJK Symbols and Punctuation"](S)||sr["CJK Unified Ideographs Extension A"](S)||sr["CJK Unified Ideographs"](S)||sr["Enclosed CJK Letters and Months"](S)||sr["Halfwidth and Fullwidth Forms"](S)||sr.Hiragana(S)||sr["Ideographic Description Characters"](S)||sr["Kangxi Radicals"](S)||sr["Katakana Phonetic Extensions"](S)||sr.Katakana(S)||sr["Vertical Forms"](S)||sr["Yi Radicals"](S)||sr["Yi Syllables"](S)));(Wr[he]||ve||$.imageName)&&C.push(Sn(W+1,z,M,C,gn(he,o.getCharCode(W+1),ve&&L),!1))}}return function Be(Ce){return Ce?Be(Ce.priorBreak).concat(Ce.index):[]}(Sn(o.length(),z,M,C,0,!0))}function Ji(o){var a=.5,u=.5;switch(o){case"right":case"top-right":case"bottom-right":a=1;break;case"left":case"top-left":case"bottom-left":a=0}switch(o){case"bottom":case"bottom-right":case"bottom-left":u=1;break;case"top":case"top-right":case"top-left":u=0}return{horizontalAlign:a,verticalAlign:u}}function Si(o,a,u,y,_){if(y||_)for(var v=o[u],P=(o[u].x+v.metrics.advance*v.scale)*y,S=a;S<=u;S++)o[S].x-=P,o[S].y+=_}function en(o,a,u,y,_,v){var P,S=o.image;if(S.content){var C=S.content,M=S.pixelRatio||1;P=[C[0]/M,C[1]/M,S.displaySize[0]-C[2]/M,S.displaySize[1]-C[3]/M]}var L,z,W,$,he=a.left*v,ve=a.right*v;u==="width"||u==="both"?($=_[0]+he-y[3],z=_[0]+ve+y[1]):z=($=_[0]+(he+ve-S.displaySize[0])/2)+S.displaySize[0];var Be=a.top*v,Ce=a.bottom*v;return u==="height"||u==="both"?(L=_[1]+Be-y[0],W=_[1]+Ce+y[2]):W=(L=_[1]+(Be+Ce-S.displaySize[1])/2)+S.displaySize[1],{image:S,top:L,right:z,bottom:W,left:$,collisionPadding:P}}Wr[10]=!0,Wr[32]=!0,Wr[38]=!0,Wr[40]=!0,Wr[41]=!0,Wr[43]=!0,Wr[45]=!0,Wr[47]=!0,Wr[173]=!0,Wr[183]=!0,Wr[8203]=!0,Wr[8208]=!0,Wr[8211]=!0,Wr[8231]=!0;var zi=function(o){function a(u,y,_,v){o.call(this,u,y),this.angle=_,v!==void 0&&(this.segment=v)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.clone=function(){return new a(this.x,this.y,this.angle,this.segment)},a}(x);function tn(o,a){var u=a.expression;if(u.kind==="constant")return{kind:"constant",layoutSize:u.evaluate(new ho(o+1))};if(u.kind==="source")return{kind:"source"};for(var y=u.zoomStops,_=u.interpolationType,v=0;v<y.length&&y[v]<=o;)v++;for(var P=v=Math.max(0,v-1);P<y.length&&y[P]<o+1;)P++;P=Math.min(y.length-1,P);var S=y[v],C=y[P];return u.kind==="composite"?{kind:"composite",minZoom:S,maxZoom:C,interpolationType:_}:{kind:"camera",minZoom:S,maxZoom:C,minSize:u.evaluate(new ho(S)),maxSize:u.evaluate(new ho(C)),interpolationType:_}}function Un(o,a,u){var y=a.uSize,_=u.lowerSize;return o.kind==="source"?_/128:o.kind==="composite"?Li(_/128,u.upperSize/128,a.uSizeT):y}function ia(o,a){var u=0,y=0;if(o.kind==="constant")y=o.layoutSize;else if(o.kind!=="source"){var _=o.interpolationType,v=_?U(Ln.interpolationFactor(_,a,o.minZoom,o.maxZoom),0,1):0;o.kind==="camera"?y=Li(o.minSize,o.maxSize,v):u=v}return{uSizeT:u,uSize:y}}Tr("Anchor",zi);var Rn=Object.freeze({__proto__:null,getSizeData:tn,evaluateSizeForFeature:Un,evaluateSizeForZoom:ia,SIZE_PACK_FACTOR:128});function _o(o,a,u,y,_){if(a.segment===void 0)return!0;for(var v=a,P=a.segment+1,S=0;S>-u/2;){if(--P<0)return!1;S-=o[P].dist(v),v=o[P]}S+=o[P].dist(o[P+1]),P++;for(var C=[],M=0;S<u/2;){var L=o[P],z=o[P+1];if(!z)return!1;var W=o[P-1].angleTo(L)-L.angleTo(z);for(W=Math.abs((W+3*Math.PI)%(2*Math.PI)-Math.PI),C.push({distance:S,angleDelta:W}),M+=W;S-C[0].distance>y;)M-=C.shift().angleDelta;if(M>_)return!1;P++,S+=L.dist(z)}return!0}function Zn(o){for(var a=0,u=0;u<o.length-1;u++)a+=o[u].dist(o[u+1]);return a}function qo(o,a,u){return o?.6*a*u:0}function Kr(o,a){return Math.max(o?o.right-o.left:0,a?a.right-a.left:0)}function Co(o,a,u,y,_,v){for(var P=qo(u,_,v),S=Kr(u,y)*v,C=0,M=Zn(o)/2,L=0;L<o.length-1;L++){var z=o[L],W=o[L+1],$=z.dist(W);if(C+$>M){var he=(M-C)/$,ve=Li(z.x,W.x,he),Be=Li(z.y,W.y,he),Ce=new zi(ve,Be,W.angleTo(z),L);return Ce._round(),!P||_o(o,Ce,S,P,a)?Ce:void 0}C+=$}}function Ho(o,a,u,y,_,v,P,S,C){var M=qo(y,v,P),L=Kr(y,_),z=L*P,W=o[0].x===0||o[0].x===C||o[0].y===0||o[0].y===C;return a-z<a/4&&(a=z+a/4),function $(he,ve,Be,Ce,Ze,et,pt,ft,It){for(var $t=et/2,ar=Zn(he),zr=0,Er=ve-Be,Xr=[],br=0;br<he.length-1;br++){for(var To=he[br],no=he[br+1],Mr=To.dist(no),Io=no.angleTo(To);Er+Be<zr+Mr;){var go=((Er+=Be)-zr)/Mr,Go=Li(To.x,no.x,go),Yr=Li(To.y,no.y,go);if(Go>=0&&Go<It&&Yr>=0&&Yr<It&&Er-$t>=0&&Er+$t<=ar){var Ko=new zi(Go,Yr,Io,br);Ko._round(),Ce&&!_o(he,Ko,et,Ce,Ze)||Xr.push(Ko)}}zr+=Mr}return ft||Xr.length||pt||(Xr=$(he,zr/2,Be,Ce,Ze,et,pt,!0,It)),Xr}(o,W?a/2*S%a:(L/2+2*v)*P*S%a,a,M,u,z,W,!1,C)}function Zi(o,a,u,y,_){for(var v=[],P=0;P<o.length;P++)for(var S=o[P],C=void 0,M=0;M<S.length-1;M++){var L=S[M],z=S[M+1];L.x<a&&z.x<a||(L.x<a?L=new x(a,L.y+(a-L.x)/(z.x-L.x)*(z.y-L.y))._round():z.x<a&&(z=new x(a,L.y+(a-L.x)/(z.x-L.x)*(z.y-L.y))._round()),L.y<u&&z.y<u||(L.y<u?L=new x(L.x+(u-L.y)/(z.y-L.y)*(z.x-L.x),u)._round():z.y<u&&(z=new x(L.x+(u-L.y)/(z.y-L.y)*(z.x-L.x),u)._round()),L.x>=y&&z.x>=y||(L.x>=y?L=new x(y,L.y+(y-L.x)/(z.x-L.x)*(z.y-L.y))._round():z.x>=y&&(z=new x(y,L.y+(y-L.x)/(z.x-L.x)*(z.y-L.y))._round()),L.y>=_&&z.y>=_||(L.y>=_?L=new x(L.x+(_-L.y)/(z.y-L.y)*(z.x-L.x),_)._round():z.y>=_&&(z=new x(L.x+(_-L.y)/(z.y-L.y)*(z.x-L.x),_)._round()),C&&L.equals(C[C.length-1])||v.push(C=[L]),C.push(z)))))}return v}function nu(o,a,u,y){var _=[],v=o.image,P=v.pixelRatio,S=v.paddedRect.w-2,C=v.paddedRect.h-2,M=o.right-o.left,L=o.bottom-o.top,z=v.stretchX||[[0,S]],W=v.stretchY||[[0,C]],$=function(Go,Yr){return Go+Yr[1]-Yr[0]},he=z.reduce($,0),ve=W.reduce($,0),Be=S-he,Ce=C-ve,Ze=0,et=he,pt=0,ft=ve,It=0,$t=Be,ar=0,zr=Ce;if(v.content&&y){var Er=v.content;Ze=_e(z,0,Er[0]),pt=_e(W,0,Er[1]),et=_e(z,Er[0],Er[2]),ft=_e(W,Er[1],Er[3]),It=Er[0]-Ze,ar=Er[1]-pt,$t=Er[2]-Er[0]-et,zr=Er[3]-Er[1]-ft}var Xr=function(Go,Yr,Ko,Mi){var Yi=rt(Go.stretch-Ze,et,M,o.left),ji=vr(Go.fixed-It,$t,Go.stretch,he),Ni=rt(Yr.stretch-pt,ft,L,o.top),qi=vr(Yr.fixed-ar,zr,Yr.stretch,ve),kn=rt(Ko.stretch-Ze,et,M,o.left),zn=vr(Ko.fixed-It,$t,Ko.stretch,he),Ra=rt(Mi.stretch-pt,ft,L,o.top),qn=vr(Mi.fixed-ar,zr,Mi.stretch,ve),wa=new x(Yi,Ni),rn=new x(kn,Ni),$n=new x(kn,Ra),Lo=new x(Yi,Ra),hi=new x(ji/P,qi/P),si=new x(zn/P,qn/P),Zo=a*Math.PI/180;if(Zo){var ka=Math.sin(Zo),ya=Math.cos(Zo),Ri=[ya,-ka,ka,ya];wa._matMult(Ri),rn._matMult(Ri),Lo._matMult(Ri),$n._matMult(Ri)}var En=Go.stretch+Go.fixed,ha=Yr.stretch+Yr.fixed;return{tl:wa,tr:rn,bl:Lo,br:$n,tex:{x:v.paddedRect.x+1+En,y:v.paddedRect.y+1+ha,w:Ko.stretch+Ko.fixed-En,h:Mi.stretch+Mi.fixed-ha},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:hi,pixelOffsetBR:si,minFontScaleX:$t/P/M,minFontScaleY:zr/P/L,isSDF:u}};if(y&&(v.stretchX||v.stretchY))for(var br=yt(z,Be,he),To=yt(W,Ce,ve),no=0;no<br.length-1;no++)for(var Mr=br[no],Io=br[no+1],go=0;go<To.length-1;go++)_.push(Xr(Mr,To[go],Io,To[go+1]));else _.push(Xr({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:S+1},{fixed:0,stretch:C+1}));return _}function _e(o,a,u){for(var y=0,_=0,v=o;_<v.length;_+=1){var P=v[_];y+=Math.max(a,Math.min(u,P[1]))-Math.max(a,Math.min(u,P[0]))}return y}function yt(o,a,u){for(var y=[{fixed:-1,stretch:0}],_=0,v=o;_<v.length;_+=1){var P=v[_],S=P[0],C=P[1],M=y[y.length-1];y.push({fixed:S-M.stretch,stretch:M.stretch}),y.push({fixed:S-M.stretch,stretch:M.stretch+(C-S)})}return y.push({fixed:a+1,stretch:u}),y}function rt(o,a,u,y){return o/a*u+y}function vr(o,a,u,y){return o-a*u/y}var Po=function(o,a,u,y,_,v,P,S,C,M){if(this.boxStartIndex=o.length,C){var L=v.top,z=v.bottom,W=v.collisionPadding;W&&(L-=W[1],z+=W[3]);var $=z-L;$>0&&($=Math.max(10,$),this.circleDiameter=$)}else{var he=v.top*P-S,ve=v.bottom*P+S,Be=v.left*P-S,Ce=v.right*P+S,Ze=v.collisionPadding;if(Ze&&(Be-=Ze[0]*P,he-=Ze[1]*P,Ce+=Ze[2]*P,ve+=Ze[3]*P),M){var et=new x(Be,he),pt=new x(Ce,he),ft=new x(Be,ve),It=new x(Ce,ve),$t=M*Math.PI/180;et._rotate($t),pt._rotate($t),ft._rotate($t),It._rotate($t),Be=Math.min(et.x,pt.x,ft.x,It.x),Ce=Math.max(et.x,pt.x,ft.x,It.x),he=Math.min(et.y,pt.y,ft.y,It.y),ve=Math.max(et.y,pt.y,ft.y,It.y)}o.emplaceBack(a.x,a.y,Be,he,Ce,ve,u,y,_)}this.boxEndIndex=o.length},ri=function(o,a){if(o===void 0&&(o=[]),a===void 0&&(a=K),this.data=o,this.length=this.data.length,this.compare=a,this.length>0)for(var u=(this.length>>1)-1;u>=0;u--)this._down(u)};function K(o,a){return o<a?-1:o>a?1:0}function le(o,a,u){u===void 0&&(u=!1);for(var y=1/0,_=1/0,v=-1/0,P=-1/0,S=o[0],C=0;C<S.length;C++){var M=S[C];(!C||M.x<y)&&(y=M.x),(!C||M.y<_)&&(_=M.y),(!C||M.x>v)&&(v=M.x),(!C||M.y>P)&&(P=M.y)}var L=Math.min(v-y,P-_),z=L/2,W=new ri([],Te);if(L===0)return new x(y,_);for(var $=y;$<v;$+=L)for(var he=_;he<P;he+=L)W.push(new tt($+z,he+z,z,o));for(var ve=function(Ze){for(var et=0,pt=0,ft=0,It=Ze[0],$t=0,ar=It.length,zr=ar-1;$t<ar;zr=$t++){var Er=It[$t],Xr=It[zr],br=Er.x*Xr.y-Xr.x*Er.y;pt+=(Er.x+Xr.x)*br,ft+=(Er.y+Xr.y)*br,et+=3*br}return new tt(pt/et,ft/et,0,Ze)}(o),Be=W.length;W.length;){var Ce=W.pop();(Ce.d>ve.d||!ve.d)&&(ve=Ce,u&&console.log("found best %d after %d probes",Math.round(1e4*Ce.d)/1e4,Be)),Ce.max-ve.d<=a||(W.push(new tt(Ce.p.x-(z=Ce.h/2),Ce.p.y-z,z,o)),W.push(new tt(Ce.p.x+z,Ce.p.y-z,z,o)),W.push(new tt(Ce.p.x-z,Ce.p.y+z,z,o)),W.push(new tt(Ce.p.x+z,Ce.p.y+z,z,o)),Be+=4)}return u&&(console.log("num probes: "+Be),console.log("best distance: "+ve.d)),ve.p}function Te(o,a){return a.max-o.max}function tt(o,a,u,y){this.p=new x(o,a),this.h=u,this.d=function(_,v){for(var P=!1,S=1/0,C=0;C<v.length;C++)for(var M=v[C],L=0,z=M.length,W=z-1;L<z;W=L++){var $=M[L],he=M[W];$.y>_.y!=he.y>_.y&&_.x<(he.x-$.x)*(_.y-$.y)/(he.y-$.y)+$.x&&(P=!P),S=Math.min(S,Nu(_,$,he))}return(P?1:-1)*Math.sqrt(S)}(this.p,y),this.max=this.d+this.h*Math.SQRT2}ri.prototype.push=function(o){this.data.push(o),this.length++,this._up(this.length-1)},ri.prototype.pop=function(){if(this.length!==0){var o=this.data[0],a=this.data.pop();return this.length--,this.length>0&&(this.data[0]=a,this._down(0)),o}},ri.prototype.peek=function(){return this.data[0]},ri.prototype._up=function(o){for(var a=this.data,u=this.compare,y=a[o];o>0;){var _=o-1>>1,v=a[_];if(u(y,v)>=0)break;a[o]=v,o=_}a[o]=y},ri.prototype._down=function(o){for(var a=this.data,u=this.compare,y=this.length>>1,_=a[o];o<y;){var v=1+(o<<1),P=a[v],S=v+1;if(S<this.length&&u(a[S],P)<0&&(v=S,P=a[S]),u(P,_)>=0)break;a[o]=P,o=v}a[o]=_};var ot=Number.POSITIVE_INFINITY;function Oe(o,a){return a[1]!==ot?function(u,y,_){var v=0,P=0;switch(y=Math.abs(y),_=Math.abs(_),u){case"top-right":case"top-left":case"top":P=_-7;break;case"bottom-right":case"bottom-left":case"bottom":P=7-_}switch(u){case"top-right":case"bottom-right":case"right":v=-y;break;case"top-left":case"bottom-left":case"left":v=y}return[v,P]}(o,a[0],a[1]):function(u,y){var _=0,v=0;y<0&&(y=0);var P=y/Math.sqrt(2);switch(u){case"top-right":case"top-left":v=P-7;break;case"bottom-right":case"bottom-left":v=7-P;break;case"bottom":v=7-y;break;case"top":v=y-7}switch(u){case"top-right":case"bottom-right":_=-P;break;case"top-left":case"bottom-left":_=P;break;case"left":_=y;break;case"right":_=-y}return[_,v]}(o,a[0])}function ze(o){switch(o){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function je(o,a,u,y,_,v,P,S,C,M,L,z,W,$,he){var ve=function(pt,ft,It,$t,ar,zr,Er,Xr){for(var br=$t.layout.get("text-rotate").evaluate(zr,{})*Math.PI/180,To=[],no=0,Mr=ft.positionedLines;no<Mr.length;no+=1)for(var Io=Mr[no],go=0,Go=Io.positionedGlyphs;go<Go.length;go+=1){var Yr=Go[go];if(Yr.rect){var Ko=Yr.rect||{},Mi=4,Yi=!0,ji=1,Ni=0,qi=(ar||Xr)&&Yr.vertical,kn=Yr.metrics.advance*Yr.scale/2;if(Xr&&ft.verticalizable&&(Ni=Io.lineOffset/2-(Yr.imageName?-(24-Yr.metrics.width*Yr.scale)/2:24*(Yr.scale-1))),Yr.imageName){var zn=Er[Yr.imageName];Yi=zn.sdf,Mi=1/(ji=zn.pixelRatio)}var Ra=ar?[Yr.x+kn,Yr.y]:[0,0],qn=ar?[0,0]:[Yr.x+kn+It[0],Yr.y+It[1]-Ni],wa=[0,0];qi&&(wa=qn,qn=[0,0]);var rn=(Yr.metrics.left-Mi)*Yr.scale-kn+qn[0],$n=(-Yr.metrics.top-Mi)*Yr.scale+qn[1],Lo=rn+Ko.w*Yr.scale/ji,hi=$n+Ko.h*Yr.scale/ji,si=new x(rn,$n),Zo=new x(Lo,$n),ka=new x(rn,hi),ya=new x(Lo,hi);if(qi){var Ri=new x(-kn,kn- -17),En=-Math.PI/2,ha=12-kn,Qo=new x(22-ha,-(Yr.imageName?ha:0)),Up=new(Function.prototype.bind.apply(x,[null].concat(wa)));si._rotateAround(En,Ri)._add(Qo)._add(Up),Zo._rotateAround(En,Ri)._add(Qo)._add(Up),ka._rotateAround(En,Ri)._add(Qo)._add(Up),ya._rotateAround(En,Ri)._add(Qo)._add(Up)}if(br){var Ms=Math.sin(br),kp=Math.cos(br),on=[kp,-Ms,Ms,kp];si._matMult(on),Zo._matMult(on),ka._matMult(on),ya._matMult(on)}var zp=new x(0,0),Bu=new x(0,0);To.push({tl:si,tr:Zo,bl:ka,br:ya,tex:Ko,writingMode:ft.writingMode,glyphOffset:Ra,sectionIndex:Yr.sectionIndex,isSDF:Yi,pixelOffsetTL:zp,pixelOffsetBR:Bu,minFontScaleX:0,minFontScaleY:0})}}return To}(0,u,S,_,v,P,y,o.allowVerticalPlacement),Be=o.textSizeData,Ce=null;Be.kind==="source"?(Ce=[128*_.layout.get("text-size").evaluate(P,{})])[0]>32640&&X(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'):Be.kind==="composite"&&((Ce=[128*$.compositeTextSizes[0].evaluate(P,{},he),128*$.compositeTextSizes[1].evaluate(P,{},he)])[0]>32640||Ce[1]>32640)&&X(o.layerIds[0]+': Value for "text-size" is >= 255. Reduce your "text-size".'),o.addSymbols(o.text,ve,Ce,S,v,P,M,a,C.lineStartIndex,C.lineLength,W,he);for(var Ze=0,et=L;Ze<et.length;Ze+=1)z[et[Ze]]=o.text.placedSymbolArray.length-1;return 4*ve.length}function Ee(o){for(var a in o)return o[a];return null}function Ue(o,a,u,y){var _=o.compareText;if(a in _){for(var v=_[a],P=v.length-1;P>=0;P--)if(y.dist(v[P])<u)return!0}else _[a]=[];return _[a].push(y),!1}var pe=mc.VectorTileFeature.types,Ve=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function st(o,a,u,y,_,v,P,S,C,M,L,z,W){var $=S?Math.min(32640,Math.round(S[0])):0,he=S?Math.min(32640,Math.round(S[1])):0;o.emplaceBack(a,u,Math.round(32*y),Math.round(32*_),v,P,($<<1)+(C?1:0),he,16*M,16*L,256*z,256*W)}function Pt(o,a,u){o.emplaceBack(a.x,a.y,u),o.emplaceBack(a.x,a.y,u),o.emplaceBack(a.x,a.y,u),o.emplaceBack(a.x,a.y,u)}function kt(o){for(var a=0,u=o.sections;a<u.length;a+=1)if(Gc(u[a].text))return!0;return!1}var Ct=function(o){this.layoutVertexArray=new Zc,this.indexArray=new Ss,this.programConfigurations=o,this.segments=new te,this.dynamicLayoutVertexArray=new wp,this.opacityVertexArray=new pc,this.placedSymbolArray=new h};Ct.prototype.isEmpty=function(){return this.layoutVertexArray.length===0&&this.indexArray.length===0&&this.dynamicLayoutVertexArray.length===0&&this.opacityVertexArray.length===0},Ct.prototype.upload=function(o,a,u,y){this.isEmpty()||(u&&(this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,Ly.members),this.indexBuffer=o.createIndexBuffer(this.indexArray,a),this.dynamicLayoutVertexBuffer=o.createVertexBuffer(this.dynamicLayoutVertexArray,Zf.members,!0),this.opacityVertexBuffer=o.createVertexBuffer(this.opacityVertexArray,Ve,!0),this.opacityVertexBuffer.itemSize=1),(u||y)&&this.programConfigurations.upload(o))},Ct.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Tr("SymbolBuffers",Ct);var Vt=function(o,a,u){this.layoutVertexArray=new o,this.layoutAttributes=a,this.indexArray=new u,this.segments=new te,this.collisionVertexArray=new Zl};Vt.prototype.upload=function(o){this.layoutVertexBuffer=o.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=o.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=o.createVertexBuffer(this.collisionVertexArray,Yf.members,!0)},Vt.prototype.destroy=function(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Tr("CollisionBuffers",Vt);var rr=function(o){this.collisionBoxArray=o.collisionBoxArray,this.zoom=o.zoom,this.overscaling=o.overscaling,this.layers=o.layers,this.layerIds=this.layers.map(function(v){return v.id}),this.index=o.index,this.pixelRatio=o.pixelRatio,this.sourceLayerIndex=o.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=Tn([]),this.placementViewportMatrix=Tn([]);var a=this.layers[0]._unevaluatedLayout._values;this.textSizeData=tn(this.zoom,a["text-size"]),this.iconSizeData=tn(this.zoom,a["icon-size"]);var u=this.layers[0].layout,y=u.get("symbol-sort-key"),_=u.get("symbol-z-order");this.canOverlap=u.get("text-allow-overlap")||u.get("icon-allow-overlap")||u.get("text-ignore-placement")||u.get("icon-ignore-placement"),this.sortFeaturesByKey=_!=="viewport-y"&&y.constantOr(1)!==void 0,this.sortFeaturesByY=(_==="viewport-y"||_==="auto"&&!this.sortFeaturesByKey)&&this.canOverlap,u.get("symbol-placement")==="point"&&(this.writingModes=u.get("text-writing-mode").map(function(v){return Tt[v]})),this.stateDependentLayerIds=this.layers.filter(function(v){return v.isStateDependent()}).map(function(v){return v.id}),this.sourceID=o.sourceID};rr.prototype.createArrays=function(){this.text=new Ct(new $r(this.layers,this.zoom,function(o){return/^text/.test(o)})),this.icon=new Ct(new $r(this.layers,this.zoom,function(o){return/^icon/.test(o)})),this.glyphOffsetArray=new T,this.lineVertexArray=new w,this.symbolInstances=new A},rr.prototype.calculateGlyphDependencies=function(o,a,u,y,_){for(var v=0;v<o.length;v++)if(a[o.charCodeAt(v)]=!0,(u||y)&&_){var P=ae[o.charAt(v)];P&&(a[P.charCodeAt(0)]=!0)}},rr.prototype.populate=function(o,a,u){var y=this.layers[0],_=y.layout,v=_.get("text-font"),P=_.get("text-field"),S=_.get("icon-image"),C=(P.value.kind!=="constant"||P.value.value instanceof Oi&&!P.value.value.isEmpty()||P.value.value.toString().length>0)&&(v.value.kind!=="constant"||v.value.value.length>0),M=S.value.kind!=="constant"||!!S.value.value||Object.keys(S.parameters).length>0,L=_.get("symbol-sort-key");if(this.features=[],C||M){for(var z=a.iconDependencies,W=a.glyphDependencies,$=a.availableImages,he=new ho(this.zoom),ve=0,Be=o;ve<Be.length;ve+=1){var Ce=Be[ve],Ze=Ce.feature,et=Ce.id,pt=Ce.index,ft=Ce.sourceLayerIndex,It=y._featureFilter.needGeometry,$t=Ci(Ze,It);if(y._featureFilter.filter(he,$t,u)){It||($t.geometry=Ti(Ze));var ar=void 0;if(C){var zr=y.getValueAndResolveTokens("text-field",$t,u,$),Er=Oi.factory(zr);kt(Er)&&(this.hasRTLText=!0),(!this.hasRTLText||Wl()==="unavailable"||this.hasRTLText&&La.isParsed())&&(ar=N(Er,y,$t))}var Xr=void 0;if(M){var br=y.getValueAndResolveTokens("icon-image",$t,u,$);Xr=br instanceof vi?br:vi.fromString(br)}if(ar||Xr){var To=this.sortFeaturesByKey?L.evaluate($t,{},u):void 0;if(this.features.push({id:et,text:ar,icon:Xr,index:pt,sourceLayerIndex:ft,geometry:$t.geometry,properties:Ze.properties,type:pe[Ze.type],sortKey:To}),Xr&&(z[Xr.name]=!0),ar){var no=v.evaluate($t,{},u).join(","),Mr=_.get("text-rotation-alignment")==="map"&&_.get("symbol-placement")!=="point";this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(Tt.vertical)>=0;for(var Io=0,go=ar.sections;Io<go.length;Io+=1){var Go=go[Io];if(Go.image)z[Go.image.name]=!0;else{var Yr=Qs(ar.toString()),Ko=Go.fontStack||no,Mi=W[Ko]=W[Ko]||{};this.calculateGlyphDependencies(Go.text,Mi,Mr,this.allowVerticalPlacement,Yr)}}}}}}_.get("symbol-placement")==="line"&&(this.features=function(Yi){var ji={},Ni={},qi=[],kn=0;function zn(Ri){qi.push(Yi[Ri]),kn++}function Ra(Ri,En,ha){var Qo=Ni[Ri];return delete Ni[Ri],Ni[En]=Qo,qi[Qo].geometry[0].pop(),qi[Qo].geometry[0]=qi[Qo].geometry[0].concat(ha[0]),Qo}function qn(Ri,En,ha){var Qo=ji[En];return delete ji[En],ji[Ri]=Qo,qi[Qo].geometry[0].shift(),qi[Qo].geometry[0]=ha[0].concat(qi[Qo].geometry[0]),Qo}function wa(Ri,En,ha){var Qo=ha?En[0][En[0].length-1]:En[0][0];return Ri+":"+Qo.x+":"+Qo.y}for(var rn=0;rn<Yi.length;rn++){var $n=Yi[rn],Lo=$n.geometry,hi=$n.text?$n.text.toString():null;if(hi){var si=wa(hi,Lo),Zo=wa(hi,Lo,!0);if(si in Ni&&Zo in ji&&Ni[si]!==ji[Zo]){var ka=qn(si,Zo,Lo),ya=Ra(si,Zo,qi[ka].geometry);delete ji[si],delete Ni[Zo],Ni[wa(hi,qi[ya].geometry,!0)]=ya,qi[ka].geometry=null}else si in Ni?Ra(si,Zo,Lo):Zo in ji?qn(si,Zo,Lo):(zn(rn),ji[si]=kn-1,Ni[Zo]=kn-1)}else zn(rn)}return qi.filter(function(Ri){return Ri.geometry})}(this.features)),this.sortFeaturesByKey&&this.features.sort(function(Yi,ji){return Yi.sortKey-ji.sortKey})}},rr.prototype.update=function(o,a,u){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(o,a,this.layers,u),this.icon.programConfigurations.updatePaintArrays(o,a,this.layers,u))},rr.prototype.isEmpty=function(){return this.symbolInstances.length===0&&!this.hasRTLText},rr.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},rr.prototype.upload=function(o){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(o),this.iconCollisionBox.upload(o)),this.text.upload(o,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(o,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},rr.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},rr.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()},rr.prototype.addToLineVertexArray=function(o,a){var u=this.lineVertexArray.length;if(o.segment!==void 0){for(var y=o.dist(a[o.segment+1]),_=o.dist(a[o.segment]),v={},P=o.segment+1;P<a.length;P++)v[P]={x:a[P].x,y:a[P].y,tileUnitDistanceFromAnchor:y},P<a.length-1&&(y+=a[P+1].dist(a[P]));for(var S=o.segment||0;S>=0;S--)v[S]={x:a[S].x,y:a[S].y,tileUnitDistanceFromAnchor:_},S>0&&(_+=a[S-1].dist(a[S]));for(var C=0;C<a.length;C++){var M=v[C];this.lineVertexArray.emplaceBack(M.x,M.y,M.tileUnitDistanceFromAnchor)}}return{lineStartIndex:u,lineLength:this.lineVertexArray.length-u}},rr.prototype.addSymbols=function(o,a,u,y,_,v,P,S,C,M,L,z){for(var W=o.indexArray,$=o.layoutVertexArray,he=o.segments.prepareSegment(4*a.length,$,W,this.canOverlap?v.sortKey:void 0),ve=this.glyphOffsetArray.length,Be=he.vertexLength,Ce=this.allowVerticalPlacement&&P===Tt.vertical?Math.PI/2:0,Ze=v.text&&v.text.sections,et=0;et<a.length;et++){var pt=a[et],ft=pt.tl,It=pt.tr,$t=pt.bl,ar=pt.br,zr=pt.tex,Er=pt.pixelOffsetTL,Xr=pt.pixelOffsetBR,br=pt.minFontScaleX,To=pt.minFontScaleY,no=pt.glyphOffset,Mr=pt.isSDF,Io=pt.sectionIndex,go=he.vertexLength,Go=no[1];st($,S.x,S.y,ft.x,Go+ft.y,zr.x,zr.y,u,Mr,Er.x,Er.y,br,To),st($,S.x,S.y,It.x,Go+It.y,zr.x+zr.w,zr.y,u,Mr,Xr.x,Er.y,br,To),st($,S.x,S.y,$t.x,Go+$t.y,zr.x,zr.y+zr.h,u,Mr,Er.x,Xr.y,br,To),st($,S.x,S.y,ar.x,Go+ar.y,zr.x+zr.w,zr.y+zr.h,u,Mr,Xr.x,Xr.y,br,To),Pt(o.dynamicLayoutVertexArray,S,Ce),W.emplaceBack(go,go+1,go+2),W.emplaceBack(go+1,go+2,go+3),he.vertexLength+=4,he.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(no[0]),et!==a.length-1&&Io===a[et+1].sectionIndex||o.programConfigurations.populatePaintArrays($.length,v,v.index,{},z,Ze&&Ze[Io])}o.placedSymbolArray.emplaceBack(S.x,S.y,ve,this.glyphOffsetArray.length-ve,Be,C,M,S.segment,u?u[0]:0,u?u[1]:0,y[0],y[1],P,0,!1,0,L)},rr.prototype._addCollisionDebugVertex=function(o,a,u,y,_,v){return a.emplaceBack(0,0),o.emplaceBack(u.x,u.y,y,_,Math.round(v.x),Math.round(v.y))},rr.prototype.addCollisionDebugVertices=function(o,a,u,y,_,v,P){var S=_.segments.prepareSegment(4,_.layoutVertexArray,_.indexArray),C=S.vertexLength,M=_.layoutVertexArray,L=_.collisionVertexArray,z=P.anchorX,W=P.anchorY;this._addCollisionDebugVertex(M,L,v,z,W,new x(o,a)),this._addCollisionDebugVertex(M,L,v,z,W,new x(u,a)),this._addCollisionDebugVertex(M,L,v,z,W,new x(u,y)),this._addCollisionDebugVertex(M,L,v,z,W,new x(o,y)),S.vertexLength+=4;var $=_.indexArray;$.emplaceBack(C,C+1),$.emplaceBack(C+1,C+2),$.emplaceBack(C+2,C+3),$.emplaceBack(C+3,C),S.primitiveLength+=4},rr.prototype.addDebugCollisionBoxes=function(o,a,u,y){for(var _=o;_<a;_++){var v=this.collisionBoxArray.get(_);this.addCollisionDebugVertices(v.x1,v.y1,v.x2,v.y2,y?this.textCollisionBox:this.iconCollisionBox,v.anchorPoint,u)}},rr.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new Vt(tp,q0.members,cc),this.iconCollisionBox=new Vt(tp,q0.members,cc);for(var o=0;o<this.symbolInstances.length;o++){var a=this.symbolInstances.get(o);this.addDebugCollisionBoxes(a.textBoxStartIndex,a.textBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.verticalTextBoxStartIndex,a.verticalTextBoxEndIndex,a,!0),this.addDebugCollisionBoxes(a.iconBoxStartIndex,a.iconBoxEndIndex,a,!1),this.addDebugCollisionBoxes(a.verticalIconBoxStartIndex,a.verticalIconBoxEndIndex,a,!1)}},rr.prototype._deserializeCollisionBoxesForSymbol=function(o,a,u,y,_,v,P,S,C){for(var M={},L=a;L<u;L++){var z=o.get(L);M.textBox={x1:z.x1,y1:z.y1,x2:z.x2,y2:z.y2,anchorPointX:z.anchorPointX,anchorPointY:z.anchorPointY},M.textFeatureIndex=z.featureIndex;break}for(var W=y;W<_;W++){var $=o.get(W);M.verticalTextBox={x1:$.x1,y1:$.y1,x2:$.x2,y2:$.y2,anchorPointX:$.anchorPointX,anchorPointY:$.anchorPointY},M.verticalTextFeatureIndex=$.featureIndex;break}for(var he=v;he<P;he++){var ve=o.get(he);M.iconBox={x1:ve.x1,y1:ve.y1,x2:ve.x2,y2:ve.y2,anchorPointX:ve.anchorPointX,anchorPointY:ve.anchorPointY},M.iconFeatureIndex=ve.featureIndex;break}for(var Be=S;Be<C;Be++){var Ce=o.get(Be);M.verticalIconBox={x1:Ce.x1,y1:Ce.y1,x2:Ce.x2,y2:Ce.y2,anchorPointX:Ce.anchorPointX,anchorPointY:Ce.anchorPointY},M.verticalIconFeatureIndex=Ce.featureIndex;break}return M},rr.prototype.deserializeCollisionBoxes=function(o){this.collisionArrays=[];for(var a=0;a<this.symbolInstances.length;a++){var u=this.symbolInstances.get(a);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(o,u.textBoxStartIndex,u.textBoxEndIndex,u.verticalTextBoxStartIndex,u.verticalTextBoxEndIndex,u.iconBoxStartIndex,u.iconBoxEndIndex,u.verticalIconBoxStartIndex,u.verticalIconBoxEndIndex))}},rr.prototype.hasTextData=function(){return this.text.segments.get().length>0},rr.prototype.hasIconData=function(){return this.icon.segments.get().length>0},rr.prototype.hasDebugData=function(){return this.textCollisionBox&&this.iconCollisionBox},rr.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0},rr.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0},rr.prototype.addIndicesForPlacedSymbol=function(o,a){for(var u=o.placedSymbolArray.get(a),y=u.vertexStartIndex+4*u.numGlyphs,_=u.vertexStartIndex;_<y;_+=4)o.indexArray.emplaceBack(_,_+1,_+2),o.indexArray.emplaceBack(_+1,_+2,_+3)},rr.prototype.getSortedSymbolIndexes=function(o){if(this.sortedAngle===o&&this.symbolInstanceIndexes!==void 0)return this.symbolInstanceIndexes;for(var a=Math.sin(o),u=Math.cos(o),y=[],_=[],v=[],P=0;P<this.symbolInstances.length;++P){v.push(P);var S=this.symbolInstances.get(P);y.push(0|Math.round(a*S.anchorX+u*S.anchorY)),_.push(S.featureIndex)}return v.sort(function(C,M){return y[C]-y[M]||_[M]-_[C]}),v},rr.prototype.addToSortKeyRanges=function(o,a){var u=this.sortKeyRanges[this.sortKeyRanges.length-1];u&&u.sortKey===a?u.symbolInstanceEnd=o+1:this.sortKeyRanges.push({sortKey:a,symbolInstanceStart:o,symbolInstanceEnd:o+1})},rr.prototype.sortFeatures=function(o){var a=this;if(this.sortFeaturesByY&&this.sortedAngle!==o&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(o),this.sortedAngle=o,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var u=0,y=this.symbolInstanceIndexes;u<y.length;u+=1){var _=this.symbolInstances.get(y[u]);this.featureSortOrder.push(_.featureIndex),[_.rightJustifiedTextSymbolIndex,_.centerJustifiedTextSymbolIndex,_.leftJustifiedTextSymbolIndex].forEach(function(v,P,S){v>=0&&S.indexOf(v)===P&&a.addIndicesForPlacedSymbol(a.text,v)}),_.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,_.verticalPlacedTextSymbolIndex),_.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.placedIconSymbolIndex),_.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,_.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}},Tr("SymbolBucket",rr,{omit:["layers","collisionBoxArray","features","compareText"]}),rr.MAX_GLYPHS=65535,rr.addDynamicAttributes=Pt;var vo=new Fi({"symbol-placement":new Ur(J.layout_symbol["symbol-placement"]),"symbol-spacing":new Ur(J.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new Ur(J.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Cr(J.layout_symbol["symbol-sort-key"]),"symbol-z-order":new Ur(J.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new Ur(J.layout_symbol["icon-allow-overlap"]),"icon-ignore-placement":new Ur(J.layout_symbol["icon-ignore-placement"]),"icon-optional":new Ur(J.layout_symbol["icon-optional"]),"icon-rotation-alignment":new Ur(J.layout_symbol["icon-rotation-alignment"]),"icon-size":new Cr(J.layout_symbol["icon-size"]),"icon-text-fit":new Ur(J.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new Ur(J.layout_symbol["icon-text-fit-padding"]),"icon-image":new Cr(J.layout_symbol["icon-image"]),"icon-rotate":new Cr(J.layout_symbol["icon-rotate"]),"icon-padding":new Ur(J.layout_symbol["icon-padding"]),"icon-keep-upright":new Ur(J.layout_symbol["icon-keep-upright"]),"icon-offset":new Cr(J.layout_symbol["icon-offset"]),"icon-anchor":new Cr(J.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new Ur(J.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new Ur(J.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new Ur(J.layout_symbol["text-rotation-alignment"]),"text-field":new Cr(J.layout_symbol["text-field"]),"text-font":new Cr(J.layout_symbol["text-font"]),"text-size":new Cr(J.layout_symbol["text-size"]),"text-max-width":new Cr(J.layout_symbol["text-max-width"]),"text-line-height":new Ur(J.layout_symbol["text-line-height"]),"text-letter-spacing":new Cr(J.layout_symbol["text-letter-spacing"]),"text-justify":new Cr(J.layout_symbol["text-justify"]),"text-radial-offset":new Cr(J.layout_symbol["text-radial-offset"]),"text-variable-anchor":new Ur(J.layout_symbol["text-variable-anchor"]),"text-anchor":new Cr(J.layout_symbol["text-anchor"]),"text-max-angle":new Ur(J.layout_symbol["text-max-angle"]),"text-writing-mode":new Ur(J.layout_symbol["text-writing-mode"]),"text-rotate":new Cr(J.layout_symbol["text-rotate"]),"text-padding":new Ur(J.layout_symbol["text-padding"]),"text-keep-upright":new Ur(J.layout_symbol["text-keep-upright"]),"text-transform":new Cr(J.layout_symbol["text-transform"]),"text-offset":new Cr(J.layout_symbol["text-offset"]),"text-allow-overlap":new Ur(J.layout_symbol["text-allow-overlap"]),"text-ignore-placement":new Ur(J.layout_symbol["text-ignore-placement"]),"text-optional":new Ur(J.layout_symbol["text-optional"])}),Rr={paint:new Fi({"icon-opacity":new Cr(J.paint_symbol["icon-opacity"]),"icon-color":new Cr(J.paint_symbol["icon-color"]),"icon-halo-color":new Cr(J.paint_symbol["icon-halo-color"]),"icon-halo-width":new Cr(J.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Cr(J.paint_symbol["icon-halo-blur"]),"icon-translate":new Ur(J.paint_symbol["icon-translate"]),"icon-translate-anchor":new Ur(J.paint_symbol["icon-translate-anchor"]),"text-opacity":new Cr(J.paint_symbol["text-opacity"]),"text-color":new Cr(J.paint_symbol["text-color"],{runtimeType:or,getOverride:function(o){return o.textColor},hasOverride:function(o){return!!o.textColor}}),"text-halo-color":new Cr(J.paint_symbol["text-halo-color"]),"text-halo-width":new Cr(J.paint_symbol["text-halo-width"]),"text-halo-blur":new Cr(J.paint_symbol["text-halo-blur"]),"text-translate":new Ur(J.paint_symbol["text-translate"]),"text-translate-anchor":new Ur(J.paint_symbol["text-translate-anchor"])}),layout:vo},Zr=function(o){this.type=o.property.overrides?o.property.overrides.runtimeType:Ar,this.defaultValue=o};Zr.prototype.evaluate=function(o){if(o.formattedSection){var a=this.defaultValue.property.overrides;if(a&&a.hasOverride(o.formattedSection))return a.getOverride(o.formattedSection)}return o.feature&&o.featureState?this.defaultValue.evaluate(o.feature,o.featureState):this.defaultValue.property.specification.default},Zr.prototype.eachChild=function(o){this.defaultValue.isConstant()||o(this.defaultValue.value._styleExpression.expression)},Zr.prototype.outputDefined=function(){return!1},Zr.prototype.serialize=function(){return null},Tr("FormatSectionOverride",Zr,{omit:["defaultValue"]});var fo=function(o){function a(u){o.call(this,u,Rr)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.recalculate=function(u,y){if(o.prototype.recalculate.call(this,u,y),this.layout.get("icon-rotation-alignment")==="auto"&&(this.layout._values["icon-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-rotation-alignment")==="auto"&&(this.layout._values["text-rotation-alignment"]=this.layout.get("symbol-placement")!=="point"?"map":"viewport"),this.layout.get("text-pitch-alignment")==="auto"&&(this.layout._values["text-pitch-alignment"]=this.layout.get("text-rotation-alignment")),this.layout.get("icon-pitch-alignment")==="auto"&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),this.layout.get("symbol-placement")==="point"){var _=this.layout.get("text-writing-mode");if(_){for(var v=[],P=0,S=_;P<S.length;P+=1){var C=S[P];v.indexOf(C)<0&&v.push(C)}this.layout._values["text-writing-mode"]=v}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()},a.prototype.getValueAndResolveTokens=function(u,y,_,v){var P=this.layout.get(u).evaluate(y,{},_,v),S=this._unevaluatedLayout._values[u];return S.isDataDriven()||qu(S.value)||!P?P:function(C,M){return M.replace(/{([^{}]+)}/g,function(L,z){return z in C?String(C[z]):""})}(y.properties,P)},a.prototype.createBucket=function(u){return new rr(u)},a.prototype.queryRadius=function(){return 0},a.prototype.queryIntersectsFeature=function(){return!1},a.prototype._setPaintOverrides=function(){for(var u=0,y=Rr.paint.overridableProperties;u<y.length;u+=1){var _=y[u];if(a.hasPaintOverride(this.layout,_)){var v,P=this.paint.get(_),S=new Zr(P),C=new Au(S,P.property.specification);v=P.value.kind==="constant"||P.value.kind==="source"?new $u("source",C):new Ku("composite",C,P.value.zoomStops,P.value._interpolationType),this.paint._values[_]=new jn(P.property,v,P.parameters)}}},a.prototype._handleOverridablePaintPropertyUpdate=function(u,y,_){return!(!this.layout||y.isDataDriven()||_.isDataDriven())&&a.hasPaintOverride(this.layout,u)},a.hasPaintOverride=function(u,y){var _=u.get("text-field"),v=Rr.paint.properties[y],P=!1,S=function(L){for(var z=0,W=L;z<W.length;z+=1)if(v.overrides&&v.overrides.hasOverride(W[z]))return void(P=!0)};if(_.value.kind==="constant"&&_.value.value instanceof Oi)S(_.value.value.sections);else if(_.value.kind==="source"){var C=function(L){P||(L instanceof dn&&mi(L.value)===ei?S(L.value.sections):L instanceof Jn?S(L.sections):L.eachChild(C))},M=_.value;M._styleExpression&&C(M._styleExpression.expression)}return P},a}($a),$o={paint:new Fi({"background-color":new Ur(J.paint_background["background-color"]),"background-pattern":new Wn(J.paint_background["background-pattern"]),"background-opacity":new Ur(J.paint_background["background-opacity"])})},vn=function(o){function a(u){o.call(this,u,$o)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a}($a),au={paint:new Fi({"raster-opacity":new Ur(J.paint_raster["raster-opacity"]),"raster-hue-rotate":new Ur(J.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new Ur(J.paint_raster["raster-brightness-min"]),"raster-brightness-max":new Ur(J.paint_raster["raster-brightness-max"]),"raster-saturation":new Ur(J.paint_raster["raster-saturation"]),"raster-contrast":new Ur(J.paint_raster["raster-contrast"]),"raster-resampling":new Ur(J.paint_raster["raster-resampling"]),"raster-fade-duration":new Ur(J.paint_raster["raster-fade-duration"])})},$0=function(o){function a(u){o.call(this,u,au)}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a}($a),Is=function(o){function a(u){o.call(this,u,{}),this.implementation=u}return a.__proto__=o,(a.prototype=Object.create(o.prototype)).constructor=a,a.prototype.is3D=function(){return this.implementation.renderingMode==="3d"},a.prototype.hasOffscreenPass=function(){return this.implementation.prerender!==void 0},a.prototype.recalculate=function(){},a.prototype.updateTransitions=function(){},a.prototype.hasTransition=function(){},a.prototype.serialize=function(){},a.prototype.onAdd=function(u){this.implementation.onAdd&&this.implementation.onAdd(u,u.painter.context.gl)},a.prototype.onRemove=function(u){this.implementation.onRemove&&this.implementation.onRemove(u,u.painter.context.gl)},a}($a),By={circle:ql,heatmap:el,hillshade:Nf,fill:Sy,"fill-extrusion":es,line:Oy,symbol:fo,background:vn,raster:$0},Lu=F.HTMLImageElement,K0=F.HTMLCanvasElement,V6=F.HTMLVideoElement,H6=F.ImageData,Uy=F.ImageBitmap,Ql=function(o,a,u,y){this.context=o,this.format=u,this.texture=o.gl.createTexture(),this.update(a,y)};Ql.prototype.update=function(o,a,u){var y=o.width,_=o.height,v=!(this.size&&this.size[0]===y&&this.size[1]===_||u),P=this.context,S=P.gl;if(this.useMipmap=!!(a&&a.useMipmap),S.bindTexture(S.TEXTURE_2D,this.texture),P.pixelStoreUnpackFlipY.set(!1),P.pixelStoreUnpack.set(1),P.pixelStoreUnpackPremultiplyAlpha.set(this.format===S.RGBA&&(!a||a.premultiply!==!1)),v)this.size=[y,_],o instanceof Lu||o instanceof K0||o instanceof V6||o instanceof H6||Uy&&o instanceof Uy?S.texImage2D(S.TEXTURE_2D,0,this.format,this.format,S.UNSIGNED_BYTE,o):S.texImage2D(S.TEXTURE_2D,0,this.format,y,_,0,this.format,S.UNSIGNED_BYTE,o.data);else{var C=u||{x:0,y:0},M=C.x,L=C.y;o instanceof Lu||o instanceof K0||o instanceof V6||o instanceof H6||Uy&&o instanceof Uy?S.texSubImage2D(S.TEXTURE_2D,0,M,L,S.RGBA,S.UNSIGNED_BYTE,o):S.texSubImage2D(S.TEXTURE_2D,0,M,L,y,_,S.RGBA,S.UNSIGNED_BYTE,o.data)}this.useMipmap&&this.isSizePowerOfTwo()&&S.generateMipmap(S.TEXTURE_2D)},Ql.prototype.bind=function(o,a,u){var y=this.context.gl;y.bindTexture(y.TEXTURE_2D,this.texture),u!==y.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(u=y.LINEAR),o!==this.filter&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MAG_FILTER,o),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_MIN_FILTER,u||o),this.filter=o),a!==this.wrap&&(y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_S,a),y.texParameteri(y.TEXTURE_2D,y.TEXTURE_WRAP_T,a),this.wrap=a)},Ql.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0},Ql.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var $f=function(o){var a=this;this._callback=o,this._triggered=!1,typeof MessageChannel<"u"&&(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){a._triggered=!1,a._callback()})};$f.prototype.trigger=function(){var o=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(function(){o._triggered=!1,o._callback()},0))},$f.prototype.remove=function(){delete this._channel,this._callback=function(){}};var H1=function(o,a,u){this.target=o,this.parent=a,this.mapId=u,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},Ie(["receive","process"],this),this.invoker=new $f(this.process),this.target.addEventListener("message",this.receive,!1),this.globalScope=re()?o:F};function G6(o,a,u){var y=2*Math.PI*6378137/256/Math.pow(2,u);return[o*y-2*Math.PI*6378137/2,a*y-2*Math.PI*6378137/2]}H1.prototype.send=function(o,a,u,y,_){var v=this;_===void 0&&(_=!1);var P=Math.round(1e18*Math.random()).toString(36).substring(0,10);u&&(this.callbacks[P]=u);var S=Xe(this.globalScope)?void 0:[];return this.target.postMessage({id:P,type:o,hasCallback:!!u,targetMapId:y,mustQueue:_,sourceMapId:this.mapId,data:ea(a,S)},S),{cancel:function(){u&&delete v.callbacks[P],v.target.postMessage({id:P,type:"<cancel>",targetMapId:y,sourceMapId:v.mapId})}}},H1.prototype.receive=function(o){var a=o.data,u=a.id;if(u&&(!a.targetMapId||this.mapId===a.targetMapId))if(a.type==="<cancel>"){delete this.tasks[u];var y=this.cancelCallbacks[u];delete this.cancelCallbacks[u],y&&y()}else re()||a.mustQueue?(this.tasks[u]=a,this.taskQueue.push(u),this.invoker.trigger()):this.processTask(u,a)},H1.prototype.process=function(){if(this.taskQueue.length){var o=this.taskQueue.shift(),a=this.tasks[o];delete this.tasks[o],this.taskQueue.length&&this.invoker.trigger(),a&&this.processTask(o,a)}},H1.prototype.processTask=function(o,a){var u=this;if(a.type==="<response>"){var y=this.callbacks[o];delete this.callbacks[o],y&&(a.error?y(ai(a.error)):y(null,ai(a.data)))}else{var _=!1,v=Xe(this.globalScope)?void 0:[],P=a.hasCallback?function(L,z){_=!0,delete u.cancelCallbacks[o],u.target.postMessage({id:o,type:"<response>",sourceMapId:u.mapId,error:L?ea(L):null,data:ea(z,v)},v)}:function(L){_=!0},S=null,C=ai(a.data);if(this.parent[a.type])S=this.parent[a.type](a.sourceMapId,C,P);else if(this.parent.getWorkerSource){var M=a.type.split(".");S=this.parent.getWorkerSource(a.sourceMapId,M[0],C.source)[M[1]](C,P)}else P(new Error("Could not find function "+a.type));!_&&S&&S.cancel&&(this.cancelCallbacks[o]=S.cancel)}},H1.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener("message",this.receive,!1)};var wn=function(o,a){o&&(a?this.setSouthWest(o).setNorthEast(a):o.length===4?this.setSouthWest([o[0],o[1]]).setNorthEast([o[2],o[3]]):this.setSouthWest(o[0]).setNorthEast(o[1]))};wn.prototype.setNorthEast=function(o){return this._ne=o instanceof Ii?new Ii(o.lng,o.lat):Ii.convert(o),this},wn.prototype.setSouthWest=function(o){return this._sw=o instanceof Ii?new Ii(o.lng,o.lat):Ii.convert(o),this},wn.prototype.extend=function(o){var a,u,y=this._sw,_=this._ne;if(o instanceof Ii)a=o,u=o;else{if(!(o instanceof wn))return Array.isArray(o)?o.length===4||o.every(Array.isArray)?this.extend(wn.convert(o)):this.extend(Ii.convert(o)):this;if(u=o._ne,!(a=o._sw)||!u)return this}return y||_?(y.lng=Math.min(a.lng,y.lng),y.lat=Math.min(a.lat,y.lat),_.lng=Math.max(u.lng,_.lng),_.lat=Math.max(u.lat,_.lat)):(this._sw=new Ii(a.lng,a.lat),this._ne=new Ii(u.lng,u.lat)),this},wn.prototype.getCenter=function(){return new Ii((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},wn.prototype.getSouthWest=function(){return this._sw},wn.prototype.getNorthEast=function(){return this._ne},wn.prototype.getNorthWest=function(){return new Ii(this.getWest(),this.getNorth())},wn.prototype.getSouthEast=function(){return new Ii(this.getEast(),this.getSouth())},wn.prototype.getWest=function(){return this._sw.lng},wn.prototype.getSouth=function(){return this._sw.lat},wn.prototype.getEast=function(){return this._ne.lng},wn.prototype.getNorth=function(){return this._ne.lat},wn.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},wn.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},wn.prototype.isEmpty=function(){return!(this._sw&&this._ne)},wn.prototype.contains=function(o){var a=Ii.convert(o),u=a.lng,y=a.lat,_=this._sw.lng<=u&&u<=this._ne.lng;return this._sw.lng>this._ne.lng&&(_=this._sw.lng>=u&&u>=this._ne.lng),this._sw.lat<=y&&y<=this._ne.lat&&_},wn.convert=function(o){return!o||o instanceof wn?o:new wn(o)};var Ii=function(o,a){if(isNaN(o)||isNaN(a))throw new Error("Invalid LngLat object: ("+o+", "+a+")");if(this.lng=+o,this.lat=+a,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};Ii.prototype.wrap=function(){return new Ii(Y(this.lng,-180,180),this.lat)},Ii.prototype.toArray=function(){return[this.lng,this.lat]},Ii.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},Ii.prototype.distanceTo=function(o){var a=Math.PI/180,u=this.lat*a,y=o.lat*a,_=Math.sin(u)*Math.sin(y)+Math.cos(u)*Math.cos(y)*Math.cos((o.lng-this.lng)*a);return 63710088e-1*Math.acos(Math.min(_,1))},Ii.prototype.toBounds=function(o){o===void 0&&(o=0);var a=360*o/40075017,u=a/Math.cos(Math.PI/180*this.lat);return new wn(new Ii(this.lng-u,this.lat-a),new Ii(this.lng+u,this.lat+a))},Ii.convert=function(o){if(o instanceof Ii)return o;if(Array.isArray(o)&&(o.length===2||o.length===3))return new Ii(Number(o[0]),Number(o[1]));if(!Array.isArray(o)&&typeof o=="object"&&o!==null)return new Ii(Number("lng"in o?o.lng:o.lon),Number(o.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")};var j6=2*Math.PI*63710088e-1;function W6(o){return j6*Math.cos(o*Math.PI/180)}function X6(o){return(180+o)/360}function Z6(o){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+o*Math.PI/360)))/360}function Y6(o,a){return o/W6(a)}function Kf(o){return 360/Math.PI*Math.atan(Math.exp((180-360*o)*Math.PI/180))-90}var Jl=function(o,a,u){u===void 0&&(u=0),this.x=+o,this.y=+a,this.z=+u};Jl.fromLngLat=function(o,a){a===void 0&&(a=0);var u=Ii.convert(o);return new Jl(X6(u.lng),Z6(u.lat),Y6(a,u.lat))},Jl.prototype.toLngLat=function(){return new Ii(360*this.x-180,Kf(this.y))},Jl.prototype.toAltitude=function(){return this.z*W6(Kf(this.y))},Jl.prototype.meterInMercatorCoordinateUnits=function(){return 1/j6*(o=Kf(this.y),1/Math.cos(o*Math.PI/180));var o};var e1=function(o,a,u){this.z=o,this.x=a,this.y=u,this.key=Q0(0,o,o,a,u)};e1.prototype.equals=function(o){return this.z===o.z&&this.x===o.x&&this.y===o.y},e1.prototype.url=function(o,a){var u,y,_,v,P,S=(y=this.y,_=this.z,v=G6(256*(u=this.x),256*(y=Math.pow(2,_)-y-1),_),P=G6(256*(u+1),256*(y+1),_),v[0]+","+v[1]+","+P[0]+","+P[1]),C=function(M,L,z){for(var W,$="",he=M;he>0;he--)$+=(L&(W=1<<he-1)?1:0)+(z&W?2:0);return $}(this.z,this.x,this.y);return o[(this.x+this.y)%o.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",String(this.z)).replace("{x}",String(this.x)).replace("{y}",String(a==="tms"?Math.pow(2,this.z)-this.y-1:this.y)).replace("{quadkey}",C).replace("{bbox-epsg-3857}",S)},e1.prototype.getTilePoint=function(o){var a=Math.pow(2,this.z);return new x(8192*(o.x*a-this.x),8192*(o.y*a-this.y))},e1.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y};var q6=function(o,a){this.wrap=o,this.canonical=a,this.key=Q0(o,a.z,a.z,a.x,a.y)},Cn=function(o,a,u,y,_){this.overscaledZ=o,this.wrap=a,this.canonical=new e1(u,+y,+_),this.key=Q0(a,o,u,y,_)};function Q0(o,a,u,y,_){(o*=2)<0&&(o=-1*o-1);var v=1<<u;return(v*v*o+v*_+y).toString(36)+u.toString(36)+a.toString(36)}Cn.prototype.equals=function(o){return this.overscaledZ===o.overscaledZ&&this.wrap===o.wrap&&this.canonical.equals(o.canonical)},Cn.prototype.scaledTo=function(o){var a=this.canonical.z-o;return o>this.canonical.z?new Cn(o,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Cn(o,this.wrap,o,this.canonical.x>>a,this.canonical.y>>a)},Cn.prototype.calculateScaledKey=function(o,a){var u=this.canonical.z-o;return o>this.canonical.z?Q0(this.wrap*+a,o,this.canonical.z,this.canonical.x,this.canonical.y):Q0(this.wrap*+a,o,o,this.canonical.x>>u,this.canonical.y>>u)},Cn.prototype.isChildOf=function(o){if(o.wrap!==this.wrap)return!1;var a=this.canonical.z-o.canonical.z;return o.overscaledZ===0||o.overscaledZ<this.overscaledZ&&o.canonical.x===this.canonical.x>>a&&o.canonical.y===this.canonical.y>>a},Cn.prototype.children=function(o){if(this.overscaledZ>=o)return[new Cn(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var a=this.canonical.z+1,u=2*this.canonical.x,y=2*this.canonical.y;return[new Cn(a,this.wrap,a,u,y),new Cn(a,this.wrap,a,u+1,y),new Cn(a,this.wrap,a,u,y+1),new Cn(a,this.wrap,a,u+1,y+1)]},Cn.prototype.isLessThan=function(o){return this.wrap<o.wrap||!(this.wrap>o.wrap)&&(this.overscaledZ<o.overscaledZ||!(this.overscaledZ>o.overscaledZ)&&(this.canonical.x<o.canonical.x||!(this.canonical.x>o.canonical.x)&&this.canonical.y<o.canonical.y))},Cn.prototype.wrapped=function(){return new Cn(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Cn.prototype.unwrapTo=function(o){return new Cn(this.overscaledZ,o,this.canonical.z,this.canonical.x,this.canonical.y)},Cn.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Cn.prototype.toUnwrapped=function(){return new q6(this.wrap,this.canonical)},Cn.prototype.toString=function(){return this.overscaledZ+"/"+this.canonical.x+"/"+this.canonical.y},Cn.prototype.getTilePoint=function(o){return this.canonical.getTilePoint(new Jl(o.x-this.wrap,o.y))},Tr("CanonicalTileID",e1),Tr("OverscaledTileID",Cn,{omit:["posMatrix"]});var _c=function(o,a,u){if(this.uid=o,a.height!==a.width)throw new RangeError("DEM tiles must be square");if(u&&u!=="mapbox"&&u!=="terrarium")return X('"'+u+'" is not a valid encoding type. Valid types include "mapbox" and "terrarium".');this.stride=a.height;var y=this.dim=a.height-2;this.data=new Uint32Array(a.data.buffer),this.encoding=u||"mapbox";for(var _=0;_<y;_++)this.data[this._idx(-1,_)]=this.data[this._idx(0,_)],this.data[this._idx(y,_)]=this.data[this._idx(y-1,_)],this.data[this._idx(_,-1)]=this.data[this._idx(_,0)],this.data[this._idx(_,y)]=this.data[this._idx(_,y-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(y,-1)]=this.data[this._idx(y-1,0)],this.data[this._idx(-1,y)]=this.data[this._idx(0,y-1)],this.data[this._idx(y,y)]=this.data[this._idx(y-1,y-1)]};_c.prototype.get=function(o,a){var u=new Uint8Array(this.data.buffer),y=4*this._idx(o,a);return(this.encoding==="terrarium"?this._unpackTerrarium:this._unpackMapbox)(u[y],u[y+1],u[y+2])},_c.prototype.getUnpackVector=function(){return this.encoding==="terrarium"?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},_c.prototype._idx=function(o,a){if(o<-1||o>=this.dim+1||a<-1||a>=this.dim+1)throw new RangeError("out of range source coordinates for DEM data");return(a+1)*this.stride+(o+1)},_c.prototype._unpackMapbox=function(o,a,u){return(256*o*256+256*a+u)/10-1e4},_c.prototype._unpackTerrarium=function(o,a,u){return 256*o+a+u/256-32768},_c.prototype.getPixels=function(){return new la({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},_c.prototype.backfillBorder=function(o,a,u){if(this.dim!==o.dim)throw new Error("dem dimension mismatch");var y=a*this.dim,_=a*this.dim+this.dim,v=u*this.dim,P=u*this.dim+this.dim;switch(a){case-1:y=_-1;break;case 1:_=y+1}switch(u){case-1:v=P-1;break;case 1:P=v+1}for(var S=-a*this.dim,C=-u*this.dim,M=v;M<P;M++)for(var L=y;L<_;L++)this.data[this._idx(L,M)]=o.data[this._idx(L+S,M+C)]},Tr("DEMData",_c);var ky=function(o){this._stringToNumber={},this._numberToString=[];for(var a=0;a<o.length;a++){var u=o[a];this._stringToNumber[u]=a,this._numberToString[a]=u}};ky.prototype.encode=function(o){return this._stringToNumber[o]},ky.prototype.decode=function(o){return this._numberToString[o]};var zy=function(o,a,u,y,_){this.type="Feature",this._vectorTileFeature=o,o._z=a,o._x=u,o._y=y,this.properties=o.properties,this.id=_},Qf={geometry:{configurable:!0}};Qf.geometry.get=function(){return this._geometry===void 0&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Qf.geometry.set=function(o){this._geometry=o},zy.prototype.toJSON=function(){var o={geometry:this.geometry};for(var a in this)a!=="_geometry"&&a!=="_vectorTileFeature"&&(o[a]=this[a]);return o},Object.defineProperties(zy.prototype,Qf);var G1=function(){this.state={},this.stateChanges={},this.deletedStates={}};G1.prototype.updateState=function(o,a,u){var y=String(a);if(this.stateChanges[o]=this.stateChanges[o]||{},this.stateChanges[o][y]=this.stateChanges[o][y]||{},ee(this.stateChanges[o][y],u),this.deletedStates[o]===null)for(var _ in this.deletedStates[o]={},this.state[o])_!==y&&(this.deletedStates[o][_]=null);else if(this.deletedStates[o]&&this.deletedStates[o][y]===null)for(var v in this.deletedStates[o][y]={},this.state[o][y])u[v]||(this.deletedStates[o][y][v]=null);else for(var P in u)this.deletedStates[o]&&this.deletedStates[o][y]&&this.deletedStates[o][y][P]===null&&delete this.deletedStates[o][y][P]},G1.prototype.removeFeatureState=function(o,a,u){if(this.deletedStates[o]!==null){var y=String(a);if(this.deletedStates[o]=this.deletedStates[o]||{},u&&a!==void 0)this.deletedStates[o][y]!==null&&(this.deletedStates[o][y]=this.deletedStates[o][y]||{},this.deletedStates[o][y][u]=null);else if(a!==void 0)if(this.stateChanges[o]&&this.stateChanges[o][y])for(u in this.deletedStates[o][y]={},this.stateChanges[o][y])this.deletedStates[o][y][u]=null;else this.deletedStates[o][y]=null;else this.deletedStates[o]=null}},G1.prototype.getState=function(o,a){var u=String(a),y=ee({},(this.state[o]||{})[u],(this.stateChanges[o]||{})[u]);if(this.deletedStates[o]===null)return{};if(this.deletedStates[o]){var _=this.deletedStates[o][a];if(_===null)return{};for(var v in _)delete y[v]}return y},G1.prototype.initializeTileState=function(o,a){o.setFeatureState(this.state,a)},G1.prototype.coalesceChanges=function(o,a){var u={};for(var y in this.stateChanges){this.state[y]=this.state[y]||{};var _={};for(var v in this.stateChanges[y])this.state[y][v]||(this.state[y][v]={}),ee(this.state[y][v],this.stateChanges[y][v]),_[v]=this.state[y][v];u[y]=_}for(var P in this.deletedStates){this.state[P]=this.state[P]||{};var S={};if(this.deletedStates[P]===null)for(var C in this.state[P])S[C]={},this.state[P][C]={};else for(var M in this.deletedStates[P]){if(this.deletedStates[P][M]===null)this.state[P][M]={};else for(var L=0,z=Object.keys(this.deletedStates[P][M]);L<z.length;L+=1)delete this.state[P][M][z[L]];S[M]=this.state[P][M]}u[P]=u[P]||{},ee(u[P],S)}if(this.stateChanges={},this.deletedStates={},Object.keys(u).length!==0)for(var W in o)o[W].setFeatureState(u,a)};var gc=function(o,a){this.tileID=o,this.x=o.canonical.x,this.y=o.canonical.y,this.z=o.canonical.z,this.grid=new hn(8192,16,0),this.grid3D=new hn(8192,16,0),this.featureIndexArray=new H,this.promoteId=a};function $6(o,a,u,y,_){return ht(o,function(v,P){var S=a instanceof Sp?a.get(P):null;return S&&S.evaluate?S.evaluate(u,y,_):S})}function K6(o){for(var a=1/0,u=1/0,y=-1/0,_=-1/0,v=0,P=o;v<P.length;v+=1){var S=P[v];a=Math.min(a,S.x),u=Math.min(u,S.y),y=Math.max(y,S.x),_=Math.max(_,S.y)}return{minX:a,minY:u,maxX:y,maxY:_}}function B7(o,a){return a-o}gc.prototype.insert=function(o,a,u,y,_,v){var P=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(u,y,_);for(var S=v?this.grid3D:this.grid,C=0;C<a.length;C++){for(var M=a[C],L=[1/0,1/0,-1/0,-1/0],z=0;z<M.length;z++){var W=M[z];L[0]=Math.min(L[0],W.x),L[1]=Math.min(L[1],W.y),L[2]=Math.max(L[2],W.x),L[3]=Math.max(L[3],W.y)}L[0]<8192&&L[1]<8192&&L[2]>=0&&L[3]>=0&&S.insert(P,L[0],L[1],L[2],L[3])}},gc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new mc.VectorTile(new St(this.rawTileData)).layers,this.sourceLayerCoder=new ky(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"])),this.vtLayers},gc.prototype.query=function(o,a,u,y){var _=this;this.loadVTLayers();for(var v=o.params||{},P=8192/o.tileSize/o.scale,S=Tu(v.filter),C=o.queryGeometry,M=o.queryPadding*P,L=K6(C),z=this.grid.query(L.minX-M,L.minY-M,L.maxX+M,L.maxY+M),W=K6(o.cameraQueryGeometry),$=this.grid3D.query(W.minX-M,W.minY-M,W.maxX+M,W.maxY+M,function(pt,ft,It,$t){return function(ar,zr,Er,Xr,br){for(var To=0,no=ar;To<no.length;To+=1){var Mr=no[To];if(zr<=Mr.x&&Er<=Mr.y&&Xr>=Mr.x&&br>=Mr.y)return!0}var Io=[new x(zr,Er),new x(zr,br),new x(Xr,br),new x(Xr,Er)];if(ar.length>2){for(var go=0,Go=Io;go<Go.length;go+=1)if(ls(ar,Go[go]))return!0}for(var Yr=0;Yr<ar.length-1;Yr++)if(Du(ar[Yr],ar[Yr+1],Io))return!0;return!1}(o.cameraQueryGeometry,pt-M,ft-M,It+M,$t+M)}),he=0,ve=$;he<ve.length;he+=1)z.push(ve[he]);z.sort(B7);for(var Be,Ce={},Ze=function(pt){var ft=z[pt];if(ft!==Be){Be=ft;var It=_.featureIndexArray.get(ft),$t=null;_.loadMatchingFeature(Ce,It.bucketIndex,It.sourceLayerIndex,It.featureIndex,S,v.layers,v.availableImages,a,u,y,function(ar,zr,Er){return $t||($t=Ti(ar)),zr.queryIntersectsFeature(C,ar,Er,$t,_.z,o.transform,P,o.pixelPosMatrix)})}},et=0;et<z.length;et++)Ze(et);return Ce},gc.prototype.loadMatchingFeature=function(o,a,u,y,_,v,P,S,C,M,L){var z=this.bucketLayerIDs[a];if(!v||function(ar,zr){for(var Er=0;Er<ar.length;Er++)if(zr.indexOf(ar[Er])>=0)return!0;return!1}(v,z)){var W=this.sourceLayerCoder.decode(u),$=this.vtLayers[W].feature(y);if(_.needGeometry){var he=Ci($,!0);if(!_.filter(new ho(this.tileID.overscaledZ),he,this.tileID.canonical))return}else if(!_.filter(new ho(this.tileID.overscaledZ),$))return;for(var ve=this.getId($,W),Be=0;Be<z.length;Be++){var Ce=z[Be];if(!(v&&v.indexOf(Ce)<0)){var Ze=S[Ce];if(Ze){var et={};ve!==void 0&&M&&(et=M.getState(Ze.sourceLayer||"_geojsonTileLayer",ve));var pt=ee({},C[Ce]);pt.paint=$6(pt.paint,Ze.paint,$,et,P),pt.layout=$6(pt.layout,Ze.layout,$,et,P);var ft=!L||L($,Ze,et);if(ft){var It=new zy($,this.z,this.x,this.y,ve);It.layer=pt;var $t=o[Ce];$t===void 0&&($t=o[Ce]=[]),$t.push({featureIndex:y,feature:It,intersectionZ:ft})}}}}}},gc.prototype.lookupSymbolFeatures=function(o,a,u,y,_,v,P,S){var C={};this.loadVTLayers();for(var M=Tu(_),L=0,z=o;L<z.length;L+=1)this.loadMatchingFeature(C,u,y,z[L],M,v,P,S,a);return C},gc.prototype.hasLayer=function(o){for(var a=0,u=this.bucketLayerIDs;a<u.length;a+=1)for(var y=0,_=u[a];y<_.length;y+=1)if(o===_[y])return!0;return!1},gc.prototype.getId=function(o,a){var u=o.id;return this.promoteId&&typeof(u=o.properties[typeof this.promoteId=="string"?this.promoteId:this.promoteId[a]])=="boolean"&&(u=Number(u)),u},Tr("FeatureIndex",gc,{omit:["rawTileData","sourceLayerCoder"]});var Yn=function(o,a){this.tileID=o,this.uid=Re(),this.uses=0,this.tileSize=a,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state="loading"};Yn.prototype.registerFadeDuration=function(o){var a=o+this.timeAdded;a<Lr.now()||this.fadeEndTime&&a<this.fadeEndTime||(this.fadeEndTime=a)},Yn.prototype.wasRequested=function(){return this.state==="errored"||this.state==="loaded"||this.state==="reloading"},Yn.prototype.loadVectorData=function(o,a,u){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",o){for(var y in o.featureIndex&&(this.latestFeatureIndex=o.featureIndex,o.rawTileData?(this.latestRawTileData=o.rawTileData,this.latestFeatureIndex.rawTileData=o.rawTileData):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=o.collisionBoxArray,this.buckets=function(M,L){var z={};if(!L)return z;for(var W=function(){var ve=he[$],Be=ve.layerIds.map(function(et){return L.getLayer(et)}).filter(Boolean);if(Be.length!==0){ve.layers=Be,ve.stateDependentLayerIds&&(ve.stateDependentLayers=ve.stateDependentLayerIds.map(function(et){return Be.filter(function(pt){return pt.id===et})[0]}));for(var Ce=0,Ze=Be;Ce<Ze.length;Ce+=1)z[Ze[Ce].id]=ve}},$=0,he=M;$<he.length;$+=1)W();return z}(o.buckets,a.style),this.hasSymbolBuckets=!1,this.buckets){var _=this.buckets[y];if(_ instanceof rr){if(this.hasSymbolBuckets=!0,!u)break;_.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var v in this.buckets){var P=this.buckets[v];if(P instanceof rr&&P.hasRTLText){this.hasRTLText=!0,La.isLoading()||La.isLoaded()||Wl()!=="deferred"||Aa();break}}for(var S in this.queryPadding=0,this.buckets){var C=this.buckets[S];this.queryPadding=Math.max(this.queryPadding,a.style.getLayer(S).queryRadius(C))}o.imageAtlas&&(this.imageAtlas=o.imageAtlas),o.glyphAtlasImage&&(this.glyphAtlasImage=o.glyphAtlasImage)}else this.collisionBoxArray=new d},Yn.prototype.unloadVectorData=function(){for(var o in this.buckets)this.buckets[o].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state="unloaded"},Yn.prototype.getBucket=function(o){return this.buckets[o.id]},Yn.prototype.upload=function(o){for(var a in this.buckets){var u=this.buckets[a];u.uploadPending()&&u.upload(o)}var y=o.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new Ql(o,this.imageAtlas.image,y.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new Ql(o,this.glyphAtlasImage,y.ALPHA),this.glyphAtlasImage=null)},Yn.prototype.prepare=function(o){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(o,this.imageAtlasTexture)},Yn.prototype.queryRenderedFeatures=function(o,a,u,y,_,v,P,S,C,M){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:y,cameraQueryGeometry:_,scale:v,tileSize:this.tileSize,pixelPosMatrix:M,transform:S,params:P,queryPadding:this.queryPadding*C},o,a,u):{}},Yn.prototype.querySourceFeatures=function(o,a){var u=this.latestFeatureIndex;if(u&&u.rawTileData){var y=u.loadVTLayers(),_=a?a.sourceLayer:"",v=y._geojsonTileLayer||y[_];if(v)for(var P=Tu(a&&a.filter),S=this.tileID.canonical,C=S.z,M=S.x,L=S.y,z={z:C,x:M,y:L},W=0;W<v.length;W++){var $=v.feature(W);if(P.needGeometry){var he=Ci($,!0);if(!P.filter(new ho(this.tileID.overscaledZ),he,this.tileID.canonical))continue}else if(!P.filter(new ho(this.tileID.overscaledZ),$))continue;var ve=u.getId($,_),Be=new zy($,C,M,L,ve);Be.tile=z,o.push(Be)}}},Yn.prototype.hasData=function(){return this.state==="loaded"||this.state==="reloading"||this.state==="expired"},Yn.prototype.patternsLoaded=function(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length},Yn.prototype.setExpiryData=function(o){var a=this.expirationTime;if(o.cacheControl){var u=fe(o.cacheControl);u["max-age"]&&(this.expirationTime=Date.now()+1e3*u["max-age"])}else o.expires&&(this.expirationTime=new Date(o.expires).getTime());if(this.expirationTime){var y=Date.now(),_=!1;if(this.expirationTime>y)_=!1;else if(a)if(this.expirationTime<a)_=!0;else{var v=this.expirationTime-a;v?this.expirationTime=y+Math.max(v,3e4):_=!0}else _=!0;_?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},Yn.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-new Date().getTime(),Math.pow(2,31)-1)},Yn.prototype.setFeatureState=function(o,a){if(this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData&&Object.keys(o).length!==0){var u=this.latestFeatureIndex.loadVTLayers();for(var y in this.buckets)if(a.style.hasLayer(y)){var _=this.buckets[y],v=_.layers[0].sourceLayer||"_geojsonTileLayer",P=u[v],S=o[v];if(P&&S&&Object.keys(S).length!==0){_.update(S,P,this.imageAtlas&&this.imageAtlas.patternPositions||{});var C=a&&a.style&&a.style.getLayer(y);C&&(this.queryPadding=Math.max(this.queryPadding,C.queryRadius(_)))}}}},Yn.prototype.holdingForFade=function(){return this.symbolFadeHoldUntil!==void 0},Yn.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<Lr.now()},Yn.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},Yn.prototype.setHoldDuration=function(o){this.symbolFadeHoldUntil=Lr.now()+o},Yn.prototype.setDependencies=function(o,a){for(var u={},y=0,_=a;y<_.length;y+=1)u[_[y]]=!0;this.dependencies[o]=u},Yn.prototype.hasDependency=function(o,a){for(var u=0,y=o;u<y.length;u+=1){var _=this.dependencies[y[u]];if(_){for(var v=0,P=a;v<P.length;v+=1)if(_[P[v]])return!0}}return!1};var pl=F.performance,Q6=function(o){this._marks={start:[o.url,"start"].join("#"),end:[o.url,"end"].join("#"),measure:o.url.toString()},pl.mark(this._marks.start)};Q6.prototype.finish=function(){pl.mark(this._marks.end);var o=pl.getEntriesByName(this._marks.measure);return o.length===0&&(pl.measure(this._marks.measure,this._marks.start,this._marks.end),o=pl.getEntriesByName(this._marks.measure),pl.clearMarks(this._marks.start),pl.clearMarks(this._marks.end),pl.clearMeasures(this._marks.measure)),o},n.Actor=H1,n.AlphaImage=Ip,n.CanonicalTileID=e1,n.CollisionBoxArray=d,n.Color=Fo,n.DEMData=_c,n.DataConstantProperty=Ur,n.DictionaryCoder=ky,n.EXTENT=8192,n.ErrorEvent=ke,n.EvaluationParameters=ho,n.Event=ge,n.Evented=Ge,n.FeatureIndex=gc,n.FillBucket=ou,n.FillExtrusionBucket=Qi,n.ImageAtlas=jt,n.ImagePosition=so,n.LineBucket=da,n.LngLat=Ii,n.LngLatBounds=wn,n.MercatorCoordinate=Jl,n.ONE_EM=24,n.OverscaledTileID=Cn,n.Point=x,n.Point$1=x,n.Properties=Fi,n.Protobuf=St,n.RGBAImage=la,n.RequestManager=Ir,n.RequestPerformance=Q6,n.ResourceType=Hs,n.SegmentVector=te,n.SourceFeatureState=G1,n.StructArrayLayout1ui2=$c,n.StructArrayLayout2f1f2i16=rp,n.StructArrayLayout2i4=Iu,n.StructArrayLayout3ui6=Ss,n.StructArrayLayout4i8=Xc,n.SymbolBucket=rr,n.Texture=Ql,n.Tile=Yn,n.Transitionable=An,n.Uniform1f=Qt,n.Uniform1i=Nt,n.Uniform2f=Yt,n.Uniform3f=gr,n.Uniform4f=kr,n.UniformColor=jr,n.UniformMatrix4f=Uo,n.UnwrappedTileID=q6,n.ValidationError=be,n.WritingMode=Tt,n.ZoomHistory=Vc,n.add=function(o,a,u){return o[0]=a[0]+u[0],o[1]=a[1]+u[1],o[2]=a[2]+u[2],o},n.addDynamicAttributes=Pt,n.asyncAll=function(o,a,u){if(!o.length)return u(null,[]);var y=o.length,_=new Array(o.length),v=null;o.forEach(function(P,S){a(P,function(C,M){C&&(v=C),_[S]=M,--y==0&&u(v,_)})})},n.bezier=I,n.bindAll=Ie,n.browser=Lr,n.cacheEntryPossiblyAdded=function(o){++ss>Qn&&(o.getActor().send("enforceCacheSizeLimit",Nn),ss=0)},n.clamp=U,n.clearTileCache=function(o){var a=F.caches.delete("mapbox-tiles");o&&a.catch(o).then(function(){return o()})},n.clipLine=Zi,n.clone=function(o){var a=new Mo(16);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a[3]=o[3],a[4]=o[4],a[5]=o[5],a[6]=o[6],a[7]=o[7],a[8]=o[8],a[9]=o[9],a[10]=o[10],a[11]=o[11],a[12]=o[12],a[13]=o[13],a[14]=o[14],a[15]=o[15],a},n.clone$1=we,n.clone$2=function(o){var a=new Mo(3);return a[0]=o[0],a[1]=o[1],a[2]=o[2],a},n.collisionCircleLayout=qf,n.config=At,n.create=function(){var o=new Mo(16);return Mo!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=0,o[12]=0,o[13]=0,o[14]=0),o[0]=1,o[5]=1,o[10]=1,o[15]=1,o},n.create$1=function(){var o=new Mo(9);return Mo!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o},n.create$2=function(){var o=new Mo(4);return Mo!=Float32Array&&(o[1]=0,o[2]=0),o[0]=1,o[3]=1,o},n.createCommonjsModule=f,n.createExpression=xp,n.createLayout=fn,n.createStyleLayer=function(o){return o.type==="custom"?new Is(o):new By[o.type](o)},n.cross=function(o,a,u){var y=a[0],_=a[1],v=a[2],P=u[0],S=u[1],C=u[2];return o[0]=_*C-v*S,o[1]=v*P-y*C,o[2]=y*S-_*P,o},n.deepEqual=function o(a,u){if(Array.isArray(a)){if(!Array.isArray(u)||a.length!==u.length)return!1;for(var y=0;y<a.length;y++)if(!o(a[y],u[y]))return!1;return!0}if(typeof a=="object"&&a!==null&&u!==null){if(typeof u!="object"||Object.keys(a).length!==Object.keys(u).length)return!1;for(var _ in a)if(!o(a[_],u[_]))return!1;return!0}return a===u},n.dot=function(o,a){return o[0]*a[0]+o[1]*a[1]+o[2]*a[2]},n.dot$1=function(o,a){return o[0]*a[0]+o[1]*a[1]+o[2]*a[2]+o[3]*a[3]},n.ease=O,n.emitValidationErrors=wu,n.endsWith=De,n.enforceCacheSizeLimit=function(o){ln(),Hn&&Hn.then(function(a){a.keys().then(function(u){for(var y=0;y<u.length-o;y++)a.delete(u[y])})})},n.evaluateSizeForFeature=Un,n.evaluateSizeForZoom=ia,n.evaluateVariableOffset=Oe,n.evented=Wc,n.extend=ee,n.featureFilter=Tu,n.filterObject=qe,n.fromRotation=function(o,a){var u=Math.sin(a),y=Math.cos(a);return o[0]=y,o[1]=u,o[2]=0,o[3]=-u,o[4]=y,o[5]=0,o[6]=0,o[7]=0,o[8]=1,o},n.getAnchorAlignment=Ji,n.getAnchorJustification=ze,n.getArrayBuffer=Zu,n.getImage=j,n.getJSON=function(o,a){return gs(ee(o,{type:"json"}),a)},n.getRTLTextPluginStatus=Wl,n.getReferrer=Gs,n.getVideo=function(o,a){var u,y,_=F.document.createElement("video");_.muted=!0,_.onloadstart=function(){a(null,_)};for(var v=0;v<o.length;v++){var P=F.document.createElement("source");u=o[v],y=void 0,(y=F.document.createElement("a")).href=u,(y.protocol!==F.document.location.protocol||y.host!==F.document.location.host)&&(_.crossOrigin="Anonymous"),P.src=o[v],_.appendChild(P)}return{cancel:function(){}}},n.identity=Tn,n.invert=function(o,a){var u=a[0],y=a[1],_=a[2],v=a[3],P=a[4],S=a[5],C=a[6],M=a[7],L=a[8],z=a[9],W=a[10],$=a[11],he=a[12],ve=a[13],Be=a[14],Ce=a[15],Ze=u*S-y*P,et=u*C-_*P,pt=u*M-v*P,ft=y*C-_*S,It=y*M-v*S,$t=_*M-v*C,ar=L*ve-z*he,zr=L*Be-W*he,Er=L*Ce-$*he,Xr=z*Be-W*ve,br=z*Ce-$*ve,To=W*Ce-$*Be,no=Ze*To-et*br+pt*Xr+ft*Er-It*zr+$t*ar;return no?(o[0]=(S*To-C*br+M*Xr)*(no=1/no),o[1]=(_*br-y*To-v*Xr)*no,o[2]=(ve*$t-Be*It+Ce*ft)*no,o[3]=(W*It-z*$t-$*ft)*no,o[4]=(C*Er-P*To-M*zr)*no,o[5]=(u*To-_*Er+v*zr)*no,o[6]=(Be*pt-he*$t-Ce*et)*no,o[7]=(L*$t-W*pt+$*et)*no,o[8]=(P*br-S*Er+M*ar)*no,o[9]=(y*Er-u*br-v*ar)*no,o[10]=(he*It-ve*pt+Ce*Ze)*no,o[11]=(z*pt-L*It-$*Ze)*no,o[12]=(S*zr-P*Xr-C*ar)*no,o[13]=(u*Xr-y*zr+_*ar)*no,o[14]=(ve*et-he*ft-Be*Ze)*no,o[15]=(L*ft-z*et+W*Ze)*no,o):null},n.isChar=sr,n.isMapboxURL=wr,n.keysDifference=function(o,a){var u=[];for(var y in o)y in a||u.push(y);return u},n.makeRequest=gs,n.mapObject=ht,n.mercatorXfromLng=X6,n.mercatorYfromLat=Z6,n.mercatorZfromAltitude=Y6,n.mul=Qc,n.multiply=Ki,n.mvt=mc,n.nextPowerOfTwo=function(o){return o<=1?1:Math.pow(2,Math.ceil(Math.log(o)/Math.LN2))},n.normalize=function(o,a){var u=a[0],y=a[1],_=a[2],v=u*u+y*y+_*_;return v>0&&(v=1/Math.sqrt(v)),o[0]=a[0]*v,o[1]=a[1]*v,o[2]=a[2]*v,o},n.number=Li,n.offscreenCanvasSupported=Vs,n.ortho=function(o,a,u,y,_,v,P){var S=1/(a-u),C=1/(y-_),M=1/(v-P);return o[0]=-2*S,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=-2*C,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[10]=2*M,o[11]=0,o[12]=(a+u)*S,o[13]=(_+y)*C,o[14]=(P+v)*M,o[15]=1,o},n.parseGlyphPBF=function(o){return new St(o).readFields(_r,[])},n.pbf=St,n.performSymbolLayout=function(o,a,u,y,_,v,P){o.createArrays(),o.tilePixelRatio=8192/(512*o.overscaling),o.compareText={},o.iconsNeedLinear=!1;var S=o.layers[0].layout,C=o.layers[0]._unevaluatedLayout._values,M={};if(o.textSizeData.kind==="composite"){var L=o.textSizeData,z=L.maxZoom;M.compositeTextSizes=[C["text-size"].possiblyEvaluate(new ho(L.minZoom),P),C["text-size"].possiblyEvaluate(new ho(z),P)]}if(o.iconSizeData.kind==="composite"){var W=o.iconSizeData,$=W.maxZoom;M.compositeIconSizes=[C["icon-size"].possiblyEvaluate(new ho(W.minZoom),P),C["icon-size"].possiblyEvaluate(new ho($),P)]}M.layoutTextSize=C["text-size"].possiblyEvaluate(new ho(o.zoom+1),P),M.layoutIconSize=C["icon-size"].possiblyEvaluate(new ho(o.zoom+1),P),M.textMaxSize=C["text-size"].possiblyEvaluate(new ho(18));for(var he=24*S.get("text-line-height"),ve=S.get("text-rotation-alignment")==="map"&&S.get("symbol-placement")!=="point",Be=S.get("text-keep-upright"),Ce=S.get("text-size"),Ze=function(){var ft=pt[et],It=S.get("text-font").evaluate(ft,{},P).join(","),$t=Ce.evaluate(ft,{},P),ar=M.layoutTextSize.evaluate(ft,{},P),zr=M.layoutIconSize.evaluate(ft,{},P),Er={horizontal:{},vertical:void 0},Xr=ft.text,br=[0,0];if(Xr){var To=Xr.toString(),no=24*S.get("text-letter-spacing").evaluate(ft,{},P),Mr=function(Lo){for(var hi=0,si=Lo;hi<si.length;hi+=1)if(Zo=si[hi].charCodeAt(0),sr.Arabic(Zo)||sr["Arabic Supplement"](Zo)||sr["Arabic Extended-A"](Zo)||sr["Arabic Presentation Forms-A"](Zo)||sr["Arabic Presentation Forms-B"](Zo))return!1;var Zo;return!0}(To)?no:0,Io=S.get("text-anchor").evaluate(ft,{},P),go=S.get("text-variable-anchor");if(!go){var Go=S.get("text-radial-offset").evaluate(ft,{},P);br=Go?Oe(Io,[24*Go,ot]):S.get("text-offset").evaluate(ft,{},P).map(function(Lo){return 24*Lo})}var Yr=ve?"center":S.get("text-justify").evaluate(ft,{},P),Ko=S.get("symbol-placement"),Mi=Ko==="point"?24*S.get("text-max-width").evaluate(ft,{},P):0,Yi=function(){o.allowVerticalPlacement&&Qs(To)&&(Er.vertical=Or(Xr,a,u,_,It,Mi,he,Io,"left",Mr,br,Tt.vertical,!0,Ko,ar,$t))};if(!ve&&go){for(var ji=Yr==="auto"?go.map(function(Lo){return ze(Lo)}):[Yr],Ni=!1,qi=0;qi<ji.length;qi++){var kn=ji[qi];if(!Er.horizontal[kn])if(Ni)Er.horizontal[kn]=Er.horizontal[0];else{var zn=Or(Xr,a,u,_,It,Mi,he,"center",kn,Mr,br,Tt.horizontal,!1,Ko,ar,$t);zn&&(Er.horizontal[kn]=zn,Ni=zn.positionedLines.length===1)}}Yi()}else{Yr==="auto"&&(Yr=ze(Io));var Ra=Or(Xr,a,u,_,It,Mi,he,Io,Yr,Mr,br,Tt.horizontal,!1,Ko,ar,$t);Ra&&(Er.horizontal[Yr]=Ra),Yi(),Qs(To)&&ve&&Be&&(Er.vertical=Or(Xr,a,u,_,It,Mi,he,Io,Yr,Mr,br,Tt.vertical,!1,Ko,ar,$t))}}var qn=void 0,wa=!1;if(ft.icon&&ft.icon.name){var rn=y[ft.icon.name];rn&&(qn=function(Lo,hi,si){var Zo=Ji(si),ka=hi[0]-Lo.displaySize[0]*Zo.horizontalAlign,ya=hi[1]-Lo.displaySize[1]*Zo.verticalAlign;return{image:Lo,top:ya,bottom:ya+Lo.displaySize[1],left:ka,right:ka+Lo.displaySize[0]}}(_[ft.icon.name],S.get("icon-offset").evaluate(ft,{},P),S.get("icon-anchor").evaluate(ft,{},P)),wa=rn.sdf,o.sdfIcons===void 0?o.sdfIcons=rn.sdf:o.sdfIcons!==rn.sdf&&X("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(rn.pixelRatio!==o.pixelRatio||S.get("icon-rotate").constantOr(1)!==0)&&(o.iconsNeedLinear=!0))}var $n=Ee(Er.horizontal)||Er.vertical;o.iconsInText=!!$n&&$n.iconsInText,($n||qn)&&function(Lo,hi,si,Zo,ka,ya,Ri,En,ha,Qo,Up){var Ms=ya.textMaxSize.evaluate(hi,{});Ms===void 0&&(Ms=Ri);var kp,on=Lo.layers[0].layout,zp=on.get("icon-offset").evaluate(hi,{},Up),Bu=Ee(si.horizontal),j1=Ri/24,t1=Lo.tilePixelRatio*j1,W1=Lo.tilePixelRatio*Ms/24,vc=Lo.tilePixelRatio*En,X1=Lo.tilePixelRatio*on.get("symbol-spacing"),Vy=on.get("text-padding")*Lo.tilePixelRatio,Z1=on.get("icon-padding")*Lo.tilePixelRatio,J0=on.get("text-max-angle")/180*Math.PI,Hy=on.get("text-rotation-alignment")==="map"&&on.get("symbol-placement")!=="point",Gy=on.get("icon-rotation-alignment")==="map"&&on.get("symbol-placement")!=="point",Ec=on.get("symbol-placement"),ed=X1/2,Y1=on.get("icon-text-fit");Zo&&Y1!=="none"&&(Lo.allowVerticalPlacement&&si.vertical&&(kp=en(Zo,si.vertical,Y1,on.get("icon-text-fit-padding"),zp,j1)),Bu&&(Zo=en(Zo,Bu,Y1,on.get("icon-text-fit-padding"),zp,j1)));var cl=function(U7,ud){ud.x<0||ud.x>=8192||ud.y<0||ud.y>=8192||function(nn,pp,k7,ll,rm,t3,qy,Vp,$y,pd,Ky,Qy,om,r3,cd,o3,i3,n3,a3,s3,Ns,Jy,u3,Hp,z7){var p3,o1,J1,e0,t0,r0=nn.addToLineVertexArray(pp,k7),c3=0,l3=0,d3=0,y3=0,im=-1,nm=-1,xc={},h3=ye(""),am=0,sm=0;if(Vp._unevaluatedLayout.getValue("text-radial-offset")===void 0?(am=(p3=Vp.layout.get("text-offset").evaluate(Ns,{},Hp).map(function(dd){return 24*dd}))[0],sm=p3[1]):(am=24*Vp.layout.get("text-radial-offset").evaluate(Ns,{},Hp),sm=ot),nn.allowVerticalPlacement&&ll.vertical){var f3=Vp.layout.get("text-rotate").evaluate(Ns,{},Hp)+90;e0=new Po($y,pp,pd,Ky,Qy,ll.vertical,om,r3,cd,f3),qy&&(t0=new Po($y,pp,pd,Ky,Qy,qy,i3,n3,cd,f3))}if(rm){var um=Vp.layout.get("icon-rotate").evaluate(Ns,{}),m3=Vp.layout.get("icon-text-fit")!=="none",_3=nu(rm,um,u3,m3),pm=qy?nu(qy,um,u3,m3):void 0;J1=new Po($y,pp,pd,Ky,Qy,rm,i3,n3,!1,um),c3=4*_3.length;var g3=nn.iconSizeData,ld=null;g3.kind==="source"?(ld=[128*Vp.layout.get("icon-size").evaluate(Ns,{})])[0]>32640&&X(nn.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'):g3.kind==="composite"&&((ld=[128*Jy.compositeIconSizes[0].evaluate(Ns,{},Hp),128*Jy.compositeIconSizes[1].evaluate(Ns,{},Hp)])[0]>32640||ld[1]>32640)&&X(nn.layerIds[0]+': Value for "icon-size" is >= 255. Reduce your "icon-size".'),nn.addSymbols(nn.icon,_3,ld,s3,a3,Ns,!1,pp,r0.lineStartIndex,r0.lineLength,-1,Hp),im=nn.icon.placedSymbolArray.length-1,pm&&(l3=4*pm.length,nn.addSymbols(nn.icon,pm,ld,s3,a3,Ns,Tt.vertical,pp,r0.lineStartIndex,r0.lineLength,-1,Hp),nm=nn.icon.placedSymbolArray.length-1)}for(var v3 in ll.horizontal){var eh=ll.horizontal[v3];if(!o1){h3=ye(eh.text);var V7=Vp.layout.get("text-rotate").evaluate(Ns,{},Hp);o1=new Po($y,pp,pd,Ky,Qy,eh,om,r3,cd,V7)}var E3=eh.positionedLines.length===1;if(d3+=je(nn,pp,eh,t3,Vp,cd,Ns,o3,r0,ll.vertical?Tt.horizontal:Tt.horizontalOnly,E3?Object.keys(ll.horizontal):[v3],xc,im,Jy,Hp),E3)break}ll.vertical&&(y3+=je(nn,pp,ll.vertical,t3,Vp,cd,Ns,o3,r0,Tt.vertical,["vertical"],xc,nm,Jy,Hp));var H7=o1?o1.boxStartIndex:nn.collisionBoxArray.length,G7=o1?o1.boxEndIndex:nn.collisionBoxArray.length,j7=e0?e0.boxStartIndex:nn.collisionBoxArray.length,W7=e0?e0.boxEndIndex:nn.collisionBoxArray.length,X7=J1?J1.boxStartIndex:nn.collisionBoxArray.length,Z7=J1?J1.boxEndIndex:nn.collisionBoxArray.length,Y7=t0?t0.boxStartIndex:nn.collisionBoxArray.length,q7=t0?t0.boxEndIndex:nn.collisionBoxArray.length,Gp=-1,th=function(dd,P3){return dd&&dd.circleDiameter?Math.max(dd.circleDiameter,P3):P3};Gp=th(o1,Gp),Gp=th(e0,Gp),Gp=th(J1,Gp);var x3=(Gp=th(t0,Gp))>-1?1:0;x3&&(Gp*=z7/24),nn.glyphOffsetArray.length>=rr.MAX_GLYPHS&&X("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),Ns.sortKey!==void 0&&nn.addToSortKeyRanges(nn.symbolInstances.length,Ns.sortKey),nn.symbolInstances.emplaceBack(pp.x,pp.y,xc.right>=0?xc.right:-1,xc.center>=0?xc.center:-1,xc.left>=0?xc.left:-1,xc.vertical||-1,im,nm,h3,H7,G7,j7,W7,X7,Z7,Y7,q7,pd,d3,y3,c3,l3,x3,0,om,am,sm,Gp)}(Lo,ud,U7,si,Zo,ka,kp,Lo.layers[0],Lo.collisionBoxArray,hi.index,hi.sourceLayerIndex,Lo.index,t1,Vy,Hy,ha,vc,Z1,Gy,zp,hi,ya,Qo,Up,Ri)};if(Ec==="line")for(var q1=0,jy=Zi(hi.geometry,0,0,8192,8192);q1<jy.length;q1+=1)for(var Wy=jy[q1],td=0,rd=Ho(Wy,X1,J0,si.vertical||Bu,Zo,24,W1,Lo.overscaling,8192);td<rd.length;td+=1){var Xy=rd[td];Bu&&Ue(Lo,Bu.text,ed,Xy)||cl(Wy,Xy)}else if(Ec==="line-center")for(var od=0,id=hi.geometry;od<id.length;od+=1){var nd=id[od];if(nd.length>1){var Zy=Co(nd,J0,si.vertical||Bu,Zo,24,W1);Zy&&cl(nd,Zy)}}else if(hi.type==="Polygon")for(var $1=0,Yy=up(hi.geometry,0);$1<Yy.length;$1+=1){var K1=Yy[$1],ad=le(K1,16);cl(K1[0],new zi(ad.x,ad.y,0))}else if(hi.type==="LineString")for(var r1=0,sd=hi.geometry;r1<sd.length;r1+=1){var Q1=sd[r1];cl(Q1,new zi(Q1[0].x,Q1[0].y,0))}else if(hi.type==="Point")for(var Jf=0,J6=hi.geometry;Jf<J6.length;Jf+=1)for(var em=0,e3=J6[Jf];em<e3.length;em+=1){var tm=e3[em];cl([tm],new zi(tm.x,tm.y,0))}}(o,ft,Er,qn,y,M,ar,zr,br,wa,P)},et=0,pt=o.features;et<pt.length;et+=1)Ze();v&&o.generateCollisionDebugBuffers()},n.perspective=function(o,a,u,y,_){var v,P=1/Math.tan(a/2);return o[0]=P/u,o[1]=0,o[2]=0,o[3]=0,o[4]=0,o[5]=P,o[6]=0,o[7]=0,o[8]=0,o[9]=0,o[11]=-1,o[12]=0,o[13]=0,o[15]=0,_!=null&&_!==1/0?(o[10]=(_+y)*(v=1/(y-_)),o[14]=2*_*y*v):(o[10]=-1,o[14]=-2*y),o},n.pick=function(o,a){for(var u={},y=0;y<a.length;y++){var _=a[y];_ in o&&(u[_]=o[_])}return u},n.plugin=La,n.polygonIntersectsPolygon=Rs,n.postMapLoadEvent=Mn,n.postTurnstileEvent=va,n.potpack=Gr,n.refProperties=["type","source","source-layer","minzoom","maxzoom","filter","layout"],n.register=Tr,n.registerForPluginStateChange=function(o){return o({pluginStatus:ta,pluginURL:Fs}),Wc.on("pluginStateChange",o),o},n.renderColorRamp=by,n.rotate=function(o,a,u){var y=a[0],_=a[1],v=a[2],P=a[3],S=Math.sin(u),C=Math.cos(u);return o[0]=y*C+v*S,o[1]=_*C+P*S,o[2]=y*-S+v*C,o[3]=_*-S+P*C,o},n.rotateX=function(o,a,u){var y=Math.sin(u),_=Math.cos(u),v=a[4],P=a[5],S=a[6],C=a[7],M=a[8],L=a[9],z=a[10],W=a[11];return a!==o&&(o[0]=a[0],o[1]=a[1],o[2]=a[2],o[3]=a[3],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15]),o[4]=v*_+M*y,o[5]=P*_+L*y,o[6]=S*_+z*y,o[7]=C*_+W*y,o[8]=M*_-v*y,o[9]=L*_-P*y,o[10]=z*_-S*y,o[11]=W*_-C*y,o},n.rotateZ=function(o,a,u){var y=Math.sin(u),_=Math.cos(u),v=a[0],P=a[1],S=a[2],C=a[3],M=a[4],L=a[5],z=a[6],W=a[7];return a!==o&&(o[8]=a[8],o[9]=a[9],o[10]=a[10],o[11]=a[11],o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15]),o[0]=v*_+M*y,o[1]=P*_+L*y,o[2]=S*_+z*y,o[3]=C*_+W*y,o[4]=M*_-v*y,o[5]=L*_-P*y,o[6]=z*_-S*y,o[7]=W*_-C*y,o},n.scale=function(o,a,u){var y=u[0],_=u[1],v=u[2];return o[0]=a[0]*y,o[1]=a[1]*y,o[2]=a[2]*y,o[3]=a[3]*y,o[4]=a[4]*_,o[5]=a[5]*_,o[6]=a[6]*_,o[7]=a[7]*_,o[8]=a[8]*v,o[9]=a[9]*v,o[10]=a[10]*v,o[11]=a[11]*v,o[12]=a[12],o[13]=a[13],o[14]=a[14],o[15]=a[15],o},n.scale$1=function(o,a,u){return o[0]=a[0]*u,o[1]=a[1]*u,o[2]=a[2]*u,o[3]=a[3]*u,o},n.scale$2=function(o,a,u){return o[0]=a[0]*u,o[1]=a[1]*u,o[2]=a[2]*u,o},n.setCacheLimits=function(o,a){Nn=o,Qn=a},n.setRTLTextPlugin=function(o,a,u){if(u===void 0&&(u=!1),ta==="deferred"||ta==="loading"||ta==="loaded")throw new Error("setRTLTextPlugin cannot be called multiple times.");Fs=Lr.resolveURL(o),ta="deferred",jc=a,Tp(),u||Aa()},n.sphericalToCartesian=function(o){var a=o[0],u=o[1],y=o[2];return u+=90,u*=Math.PI/180,y*=Math.PI/180,{x:a*Math.cos(u)*Math.sin(y),y:a*Math.sin(u)*Math.sin(y),z:a*Math.cos(y)}},n.sqrLen=function(o){var a=o[0],u=o[1];return a*a+u*u},n.styleSpec=J,n.sub=function(o,a,u){return o[0]=a[0]-u[0],o[1]=a[1]-u[1],o[2]=a[2]-u[2],o},n.symbolSize=Rn,n.transformMat3=function(o,a,u){var y=a[0],_=a[1],v=a[2];return o[0]=y*u[0]+_*u[3]+v*u[6],o[1]=y*u[1]+_*u[4]+v*u[7],o[2]=y*u[2]+_*u[5]+v*u[8],o},n.transformMat4=Ou,n.translate=function(o,a,u){var y,_,v,P,S,C,M,L,z,W,$,he,ve=u[0],Be=u[1],Ce=u[2];return a===o?(o[12]=a[0]*ve+a[4]*Be+a[8]*Ce+a[12],o[13]=a[1]*ve+a[5]*Be+a[9]*Ce+a[13],o[14]=a[2]*ve+a[6]*Be+a[10]*Ce+a[14],o[15]=a[3]*ve+a[7]*Be+a[11]*Ce+a[15]):(_=a[1],v=a[2],P=a[3],S=a[4],C=a[5],M=a[6],L=a[7],z=a[8],W=a[9],$=a[10],he=a[11],o[0]=y=a[0],o[1]=_,o[2]=v,o[3]=P,o[4]=S,o[5]=C,o[6]=M,o[7]=L,o[8]=z,o[9]=W,o[10]=$,o[11]=he,o[12]=y*ve+S*Be+z*Ce+a[12],o[13]=_*ve+C*Be+W*Ce+a[13],o[14]=v*ve+M*Be+$*Ce+a[14],o[15]=P*ve+L*Be+he*Ce+a[15]),o},n.triggerPluginCompletionEvent=O1,n.uniqueId=Re,n.validateCustomStyleLayer=function(o){var a=[],u=o.id;return u===void 0&&a.push({message:"layers."+u+': missing required property "id"'}),o.render===void 0&&a.push({message:"layers."+u+': missing required method "render"'}),o.renderingMode&&o.renderingMode!=="2d"&&o.renderingMode!=="3d"&&a.push({message:"layers."+u+': property "renderingMode" must be either "2d" or "3d"'}),a},n.validateLight=D1,n.validateStyle=nc,n.values=function(o){var a=[];for(var u in o)a.push(o[u]);return a},n.vectorTile=mc,n.version="1.13.3",n.warnOnce=X,n.webpSupported=lt,n.window=F,n.wrap=Y}),p(["./shared"],function(n){function f(V){var j=typeof V;if(j==="number"||j==="boolean"||j==="string"||V==null)return JSON.stringify(V);if(Array.isArray(V)){for(var Z="[",se=0,ge=V;se<ge.length;se+=1)Z+=f(ge[se])+",";return Z+"]"}for(var ke=Object.keys(V).sort(),Ge="{",J=0;J<ke.length;J++)Ge+=JSON.stringify(ke[J])+":"+f(V[ke[J]])+",";return Ge+"}"}function m(V){for(var j="",Z=0,se=n.refProperties;Z<se.length;Z+=1)j+="/"+f(V[se[Z]]);return j}var g=function(V){this.keyCache={},V&&this.replace(V)};g.prototype.replace=function(V){this._layerConfigs={},this._layers={},this.update(V,[])},g.prototype.update=function(V,j){for(var Z=this,se=0,ge=V;se<ge.length;se+=1){var ke=ge[se];this._layerConfigs[ke.id]=ke;var Ge=this._layers[ke.id]=n.createStyleLayer(ke);Ge._featureFilter=n.featureFilter(Ge.filter),this.keyCache[ke.id]&&delete this.keyCache[ke.id]}for(var J=0,be=j;J<be.length;J+=1){var Qe=be[J];delete this.keyCache[Qe],delete this._layerConfigs[Qe],delete this._layers[Qe]}this.familiesBySource={};for(var Ft=0,Gt=function(tr,or){for(var po={},lr=0;lr<tr.length;lr++){var So=or&&or[tr[lr].id]||m(tr[lr]);or&&(or[tr[lr].id]=So);var ei=po[So];ei||(ei=po[So]=[]),ei.push(tr[lr])}var Ao=[];for(var Do in po)Ao.push(po[Do]);return Ao}(n.values(this._layerConfigs),this.keyCache);Ft<Gt.length;Ft+=1){var gt=Gt[Ft].map(function(tr){return Z._layers[tr.id]}),Bt=gt[0];if(Bt.visibility!=="none"){var Sr=Bt.source||"",Ar=this.familiesBySource[Sr];Ar||(Ar=this.familiesBySource[Sr]={});var Et=Bt.sourceLayer||"_geojsonTileLayer",fr=Ar[Et];fr||(fr=Ar[Et]=[]),fr.push(gt)}}};var x=function(V){var j={},Z=[];for(var se in V){var ge=V[se],ke=j[se]={};for(var Ge in ge){var J=ge[+Ge];if(J&&J.bitmap.width!==0&&J.bitmap.height!==0){var be={x:0,y:0,w:J.bitmap.width+2,h:J.bitmap.height+2};Z.push(be),ke[Ge]={rect:be,metrics:J.metrics}}}}var Qe=n.potpack(Z),Ft=new n.AlphaImage({width:Qe.w||1,height:Qe.h||1});for(var Gt in V){var gt=V[Gt];for(var Bt in gt){var Sr=gt[+Bt];if(Sr&&Sr.bitmap.width!==0&&Sr.bitmap.height!==0){var Ar=j[Gt][Bt].rect;n.AlphaImage.copy(Sr.bitmap,Ft,{x:0,y:0},{x:Ar.x+1,y:Ar.y+1},Sr.bitmap)}}}this.image=Ft,this.positions=j};n.register("GlyphAtlas",x);var b=function(V){this.tileID=new n.OverscaledTileID(V.tileID.overscaledZ,V.tileID.wrap,V.tileID.canonical.z,V.tileID.canonical.x,V.tileID.canonical.y),this.uid=V.uid,this.zoom=V.zoom,this.pixelRatio=V.pixelRatio,this.tileSize=V.tileSize,this.source=V.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=V.showCollisionBoxes,this.collectResourceTiming=!!V.collectResourceTiming,this.returnDependencies=!!V.returnDependencies,this.promoteId=V.promoteId};function F(V,j,Z){for(var se=new n.EvaluationParameters(j),ge=0,ke=V;ge<ke.length;ge+=1)ke[ge].recalculate(se,Z)}function R(V,j){var Z=n.getArrayBuffer(V.request,function(se,ge,ke,Ge){se?j(se):ge&&j(null,{vectorTile:new n.vectorTile.VectorTile(new n.pbf(ge)),rawData:ge,cacheControl:ke,expires:Ge})});return function(){Z.cancel(),j()}}b.prototype.parse=function(V,j,Z,se,ge){var ke=this;this.status="parsing",this.data=V,this.collisionBoxArray=new n.CollisionBoxArray;var Ge=new n.DictionaryCoder(Object.keys(V.layers).sort()),J=new n.FeatureIndex(this.tileID,this.promoteId);J.bucketLayerIDs=[];var be,Qe,Ft,Gt,gt={},Bt={featureIndex:J,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:Z},Sr=j.familiesBySource[this.source];for(var Ar in Sr){var Et=V.layers[Ar];if(Et){Et.version===1&&n.warnOnce('Vector tile source "'+this.source+'" layer "'+Ar+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var fr=Ge.encode(Ar),tr=[],or=0;or<Et.length;or++){var po=Et.feature(or),lr=J.getId(po,Ar);tr.push({feature:po,id:lr,index:or,sourceLayerIndex:fr})}for(var So=0,ei=Sr[Ar];So<ei.length;So+=1){var Ao=ei[So],Do=Ao[0];Do.minzoom&&this.zoom<Math.floor(Do.minzoom)||Do.maxzoom&&this.zoom>=Do.maxzoom||Do.visibility!=="none"&&(F(Ao,this.zoom,Z),(gt[Do.id]=Do.createBucket({index:J.bucketLayerIDs.length,layers:Ao,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:fr,sourceID:this.source})).populate(tr,Bt,this.tileID.canonical),J.bucketLayerIDs.push(Ao.map(function(Vo){return Vo.id})))}}}var co=n.mapObject(Bt.glyphDependencies,function(Vo){return Object.keys(Vo).map(Number)});Object.keys(co).length?se.send("getGlyphs",{uid:this.uid,stacks:co},function(Vo,lo){be||(be=Vo,Qe=lo,ti.call(ke))}):Qe={};var Vi=Object.keys(Bt.iconDependencies);Vi.length?se.send("getImages",{icons:Vi,source:this.source,tileID:this.tileID,type:"icons"},function(Vo,lo){be||(be=Vo,Ft=lo,ti.call(ke))}):Ft={};var wo=Object.keys(Bt.patternDependencies);function ti(){if(be)return ge(be);if(Qe&&Ft&&Gt){var Vo=new x(Qe),lo=new n.ImageAtlas(Ft,Gt);for(var Fo in gt){var Dn=gt[Fo];Dn instanceof n.SymbolBucket?(F(Dn.layers,this.zoom,Z),n.performSymbolLayout(Dn,Qe,Vo.positions,Ft,lo.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):Dn.hasPattern&&(Dn instanceof n.LineBucket||Dn instanceof n.FillBucket||Dn instanceof n.FillExtrusionBucket)&&(F(Dn.layers,this.zoom,Z),Dn.addFeatures(Bt,this.tileID.canonical,lo.patternPositions))}this.status="done",ge(null,{buckets:n.values(gt).filter(function(yu){return!yu.isEmpty()}),featureIndex:J,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:Vo.image,imageAtlas:lo,glyphMap:this.returnDependencies?Qe:null,iconMap:this.returnDependencies?Ft:null,glyphPositions:this.returnDependencies?Vo.positions:null})}}wo.length?se.send("getImages",{icons:wo,source:this.source,tileID:this.tileID,type:"patterns"},function(Vo,lo){be||(be=Vo,Gt=lo,ti.call(ke))}):Gt={},ti.call(this)};var I=function(V,j,Z,se){this.actor=V,this.layerIndex=j,this.availableImages=Z,this.loadVectorData=se||R,this.loading={},this.loaded={}};I.prototype.loadTile=function(V,j){var Z=this,se=V.uid;this.loading||(this.loading={});var ge=!!(V&&V.request&&V.request.collectResourceTiming)&&new n.RequestPerformance(V.request),ke=this.loading[se]=new b(V);ke.abort=this.loadVectorData(V,function(Ge,J){if(delete Z.loading[se],Ge||!J)return ke.status="done",Z.loaded[se]=ke,j(Ge);var be=J.rawData,Qe={};J.expires&&(Qe.expires=J.expires),J.cacheControl&&(Qe.cacheControl=J.cacheControl);var Ft={};if(ge){var Gt=ge.finish();Gt&&(Ft.resourceTiming=JSON.parse(JSON.stringify(Gt)))}ke.vectorTile=J.vectorTile,ke.parse(J.vectorTile,Z.layerIndex,Z.availableImages,Z.actor,function(gt,Bt){if(gt||!Bt)return j(gt);j(null,n.extend({rawTileData:be.slice(0)},Bt,Qe,Ft))}),Z.loaded=Z.loaded||{},Z.loaded[se]=ke})},I.prototype.reloadTile=function(V,j){var Z=this,se=this.loaded,ge=V.uid,ke=this;if(se&&se[ge]){var Ge=se[ge];Ge.showCollisionBoxes=V.showCollisionBoxes;var J=function(be,Qe){var Ft=Ge.reloadCallback;Ft&&(delete Ge.reloadCallback,Ge.parse(Ge.vectorTile,ke.layerIndex,Z.availableImages,ke.actor,Ft)),j(be,Qe)};Ge.status==="parsing"?Ge.reloadCallback=J:Ge.status==="done"&&(Ge.vectorTile?Ge.parse(Ge.vectorTile,this.layerIndex,this.availableImages,this.actor,J):J())}},I.prototype.abortTile=function(V,j){var Z=this.loading,se=V.uid;Z&&Z[se]&&Z[se].abort&&(Z[se].abort(),delete Z[se]),j()},I.prototype.removeTile=function(V,j){var Z=this.loaded,se=V.uid;Z&&Z[se]&&delete Z[se],j()};var O=n.window.ImageBitmap,U=function(){this.loaded={}};function Y(V,j){if(V.length!==0){ee(V[0],j);for(var Z=1;Z<V.length;Z++)ee(V[Z],!j)}}function ee(V,j){for(var Z=0,se=0,ge=0,ke=V.length,Ge=ke-1;ge<ke;Ge=ge++){var J=(V[ge][0]-V[Ge][0])*(V[Ge][1]+V[ge][1]),be=Z+J;se+=Math.abs(Z)>=Math.abs(J)?Z-be+J:J-be+Z,Z=be}Z+se>=0!=!!j&&V.reverse()}U.prototype.loadTile=function(V,j){var Z=V.uid,se=V.encoding,ge=V.rawImageData,ke=O&&ge instanceof O?this.getImageData(ge):ge,Ge=new n.DEMData(Z,ke,se);this.loaded=this.loaded||{},this.loaded[Z]=Ge,j(null,Ge)},U.prototype.getImageData=function(V){this.offscreenCanvas&&this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(V.width,V.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext("2d")),this.offscreenCanvas.width=V.width,this.offscreenCanvas.height=V.height,this.offscreenCanvasContext.drawImage(V,0,0,V.width,V.height);var j=this.offscreenCanvasContext.getImageData(-1,-1,V.width+2,V.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new n.RGBAImage({width:j.width,height:j.height},j.data)},U.prototype.removeTile=function(V){var j=this.loaded,Z=V.uid;j&&j[Z]&&delete j[Z]};var oe=n.vectorTile.VectorTileFeature.prototype.toGeoJSON,Re=function(V){this._feature=V,this.extent=n.EXTENT,this.type=V.type,this.properties=V.tags,"id"in V&&!isNaN(V.id)&&(this.id=parseInt(V.id,10))};Re.prototype.loadGeometry=function(){if(this._feature.type===1){for(var V=[],j=0,Z=this._feature.geometry;j<Z.length;j+=1){var se=Z[j];V.push([new n.Point$1(se[0],se[1])])}return V}for(var ge=[],ke=0,Ge=this._feature.geometry;ke<Ge.length;ke+=1){for(var J=[],be=0,Qe=Ge[ke];be<Qe.length;be+=1){var Ft=Qe[be];J.push(new n.Point$1(Ft[0],Ft[1]))}ge.push(J)}return ge},Re.prototype.toGeoJSON=function(V,j,Z){return oe.call(this,V,j,Z)};var Ae=function(V){this.layers={_geojsonTileLayer:this},this.name="_geojsonTileLayer",this.extent=n.EXTENT,this.length=V.length,this._features=V};Ae.prototype.feature=function(V){return new Re(this._features[V])};var ce=n.vectorTile.VectorTileFeature,Ie=De;function De(V,j){this.options=j||{},this.features=V,this.length=V.length}function ht(V,j){this.id=typeof V.id=="number"?V.id:void 0,this.type=V.type,this.rawGeometry=V.type===1?[V.geometry]:V.geometry,this.properties=V.tags,this.extent=j||4096}De.prototype.feature=function(V){return new ht(this.features[V],this.options.extent)},ht.prototype.loadGeometry=function(){var V=this.rawGeometry;this.geometry=[];for(var j=0;j<V.length;j++){for(var Z=V[j],se=[],ge=0;ge<Z.length;ge++)se.push(new n.Point$1(Z[ge][0],Z[ge][1]));this.geometry.push(se)}return this.geometry},ht.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var V=this.geometry,j=1/0,Z=-1/0,se=1/0,ge=-1/0,ke=0;ke<V.length;ke++)for(var Ge=V[ke],J=0;J<Ge.length;J++){var be=Ge[J];j=Math.min(j,be.x),Z=Math.max(Z,be.x),se=Math.min(se,be.y),ge=Math.max(ge,be.y)}return[j,se,Z,ge]},ht.prototype.toGeoJSON=ce.prototype.toGeoJSON;var qe=B,we=Ie;function B(V){var j=new n.pbf;return function(Z,se){for(var ge in Z.layers)se.writeMessage(3,X,Z.layers[ge])}(V,j),j.finish()}function X(V,j){var Z;j.writeVarintField(15,V.version||1),j.writeStringField(1,V.name||""),j.writeVarintField(5,V.extent||4096);var se={keys:[],values:[],keycache:{},valuecache:{}};for(Z=0;Z<V.length;Z++)se.feature=V.feature(Z),j.writeMessage(2,de,se);var ge=se.keys;for(Z=0;Z<ge.length;Z++)j.writeStringField(3,ge[Z]);var ke=se.values;for(Z=0;Z<ke.length;Z++)j.writeMessage(4,Xe,ke[Z])}function de(V,j){var Z=V.feature;Z.id!==void 0&&j.writeVarintField(1,Z.id),j.writeMessage(2,mt,V),j.writeVarintField(3,Z.type),j.writeMessage(4,Pe,Z)}function mt(V,j){var Z=V.feature,se=V.keys,ge=V.values,ke=V.keycache,Ge=V.valuecache;for(var J in Z.properties){var be=ke[J];be===void 0&&(se.push(J),ke[J]=be=se.length-1),j.writeVarint(be);var Qe=Z.properties[J],Ft=typeof Qe;Ft!=="string"&&Ft!=="boolean"&&Ft!=="number"&&(Qe=JSON.stringify(Qe));var Gt=Ft+":"+Qe,gt=Ge[Gt];gt===void 0&&(ge.push(Qe),Ge[Gt]=gt=ge.length-1),j.writeVarint(gt)}}function re(V,j){return(j<<3)+(7&V)}function fe(V){return V<<1^V>>31}function Pe(V,j){for(var Z=V.loadGeometry(),se=V.type,ge=0,ke=0,Ge=Z.length,J=0;J<Ge;J++){var be=Z[J],Qe=1;se===1&&(Qe=be.length),j.writeVarint(re(1,Qe));for(var Ft=se===3?be.length-1:be.length,Gt=0;Gt<Ft;Gt++){Gt===1&&se!==1&&j.writeVarint(re(2,Ft-1));var gt=be[Gt].x-ge,Bt=be[Gt].y-ke;j.writeVarint(fe(gt)),j.writeVarint(fe(Bt)),ge+=gt,ke+=Bt}se===3&&j.writeVarint(re(7,1))}}function Xe(V,j){var Z=typeof V;Z==="string"?j.writeStringField(1,V):Z==="boolean"?j.writeBooleanField(7,V):Z==="number"&&(V%1!=0?j.writeDoubleField(3,V):V<0?j.writeSVarintField(6,V):j.writeVarintField(5,V))}function Ye(V,j,Z,se){at(V,Z,se),at(j,2*Z,2*se),at(j,2*Z+1,2*se+1)}function at(V,j,Z){var se=V[j];V[j]=V[Z],V[Z]=se}function ct(V,j,Z,se){var ge=V-Z,ke=j-se;return ge*ge+ke*ke}qe.fromVectorTileJs=B,qe.fromGeojsonVt=function(V,j){j=j||{};var Z={};for(var se in V)Z[se]=new Ie(V[se].features,j),Z[se].name=se,Z[se].version=j.version,Z[se].extent=j.extent;return B({layers:Z})},qe.GeoJSONWrapper=we;var Lt=function(V){return V[0]},pr=function(V){return V[1]},Wt=function(V,j,Z,se,ge){j===void 0&&(j=Lt),Z===void 0&&(Z=pr),se===void 0&&(se=64),ge===void 0&&(ge=Float64Array),this.nodeSize=se,this.points=V;for(var ke=V.length<65536?Uint16Array:Uint32Array,Ge=this.ids=new ke(V.length),J=this.coords=new ge(2*V.length),be=0;be<V.length;be++)Ge[be]=be,J[2*be]=j(V[be]),J[2*be+1]=Z(V[be]);(function Qe(Ft,Gt,gt,Bt,Sr,Ar){if(!(Sr-Bt<=gt)){var Et=Bt+Sr>>1;(function fr(tr,or,po,lr,So,ei){for(;So>lr;){if(So-lr>600){var Ao=So-lr+1,Do=po-lr+1,co=Math.log(Ao),Vi=.5*Math.exp(2*co/3),wo=.5*Math.sqrt(co*Vi*(Ao-Vi)/Ao)*(Do-Ao/2<0?-1:1);fr(tr,or,po,Math.max(lr,Math.floor(po-Do*Vi/Ao+wo)),Math.min(So,Math.floor(po+(Ao-Do)*Vi/Ao+wo)),ei)}var ti=or[2*po+ei],Vo=lr,lo=So;for(Ye(tr,or,lr,po),or[2*So+ei]>ti&&Ye(tr,or,lr,So);Vo<lo;){for(Ye(tr,or,Vo,lo),Vo++,lo--;or[2*Vo+ei]<ti;)Vo++;for(;or[2*lo+ei]>ti;)lo--}or[2*lr+ei]===ti?Ye(tr,or,lr,lo):Ye(tr,or,++lo,So),lo<=po&&(lr=lo+1),po<=lo&&(So=lo-1)}})(Ft,Gt,Et,Bt,Sr,Ar%2),Qe(Ft,Gt,gt,Bt,Et-1,Ar+1),Qe(Ft,Gt,gt,Et+1,Sr,Ar+1)}})(Ge,J,se,0,Ge.length-1,0)};Wt.prototype.range=function(V,j,Z,se){return function(ge,ke,Ge,J,be,Qe,Ft){for(var Gt,gt,Bt=[0,ge.length-1,0],Sr=[];Bt.length;){var Ar=Bt.pop(),Et=Bt.pop(),fr=Bt.pop();if(Et-fr<=Ft)for(var tr=fr;tr<=Et;tr++)gt=ke[2*tr+1],(Gt=ke[2*tr])>=Ge&&Gt<=be&&gt>=J&&gt<=Qe&&Sr.push(ge[tr]);else{var or=Math.floor((fr+Et)/2);gt=ke[2*or+1],(Gt=ke[2*or])>=Ge&&Gt<=be&&gt>=J&&gt<=Qe&&Sr.push(ge[or]);var po=(Ar+1)%2;(Ar===0?Ge<=Gt:J<=gt)&&(Bt.push(fr),Bt.push(or-1),Bt.push(po)),(Ar===0?be>=Gt:Qe>=gt)&&(Bt.push(or+1),Bt.push(Et),Bt.push(po))}}return Sr}(this.ids,this.coords,V,j,Z,se,this.nodeSize)},Wt.prototype.within=function(V,j,Z){return function(se,ge,ke,Ge,J,be){for(var Qe=[0,se.length-1,0],Ft=[],Gt=J*J;Qe.length;){var gt=Qe.pop(),Bt=Qe.pop(),Sr=Qe.pop();if(Bt-Sr<=be)for(var Ar=Sr;Ar<=Bt;Ar++)ct(ge[2*Ar],ge[2*Ar+1],ke,Ge)<=Gt&&Ft.push(se[Ar]);else{var Et=Math.floor((Sr+Bt)/2),fr=ge[2*Et],tr=ge[2*Et+1];ct(fr,tr,ke,Ge)<=Gt&&Ft.push(se[Et]);var or=(gt+1)%2;(gt===0?ke-J<=fr:Ge-J<=tr)&&(Qe.push(Sr),Qe.push(Et-1),Qe.push(or)),(gt===0?ke+J>=fr:Ge+J>=tr)&&(Qe.push(Et+1),Qe.push(Bt),Qe.push(or))}}return Ft}(this.ids,this.coords,V,j,Z,this.nodeSize)};var uo={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(V){return V}},hr=function(V){this.options=to(Object.create(uo),V),this.trees=new Array(this.options.maxZoom+1)};function Lr(V,j,Z,se,ge){return{x:V,y:j,zoom:1/0,id:Z,parentId:-1,numPoints:se,properties:ge}}function At(V,j){var Z=V.geometry.coordinates,se=Z[1];return{x:bt(Z[0]),y:Fr(se),zoom:1/0,index:j,parentId:-1}}function lt(V){return{type:"Feature",id:V.id,properties:yr(V),geometry:{type:"Point",coordinates:[(se=V.x,360*(se-.5)),(j=V.y,Z=(180-360*j)*Math.PI/180,360*Math.atan(Math.exp(Z))/Math.PI-90)]}};var j,Z,se}function yr(V){var j=V.numPoints,Z=j>=1e4?Math.round(j/1e3)+"k":j>=1e3?Math.round(j/100)/10+"k":j;return to(to({},V.properties),{cluster:!0,cluster_id:V.id,point_count:j,point_count_abbreviated:Z})}function bt(V){return V/360+.5}function Fr(V){var j=Math.sin(V*Math.PI/180),Z=.5-.25*Math.log((1+j)/(1-j))/Math.PI;return Z<0?0:Z>1?1:Z}function to(V,j){for(var Z in j)V[Z]=j[Z];return V}function Ir(V){return V.x}function wr(V){return V.y}function No(V,j,Z,se,ge,ke){var Ge=ge-Z,J=ke-se;if(Ge!==0||J!==0){var be=((V-Z)*Ge+(j-se)*J)/(Ge*Ge+J*J);be>1?(Z=ge,se=ke):be>0&&(Z+=Ge*be,se+=J*be)}return(Ge=V-Z)*Ge+(J=j-se)*J}function Qr(V,j,Z,se){var ge={id:V===void 0?null:V,type:j,geometry:Z,tags:se,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(ke){var Ge=ke.geometry,J=ke.type;if(J==="Point"||J==="MultiPoint"||J==="LineString")bi(ke,Ge);else if(J==="Polygon"||J==="MultiLineString")for(var be=0;be<Ge.length;be++)bi(ke,Ge[be]);else if(J==="MultiPolygon")for(be=0;be<Ge.length;be++)for(var Qe=0;Qe<Ge[be].length;Qe++)bi(ke,Ge[be][Qe])}(ge),ge}function bi(V,j){for(var Z=0;Z<j.length;Z+=3)V.minX=Math.min(V.minX,j[Z]),V.minY=Math.min(V.minY,j[Z+1]),V.maxX=Math.max(V.maxX,j[Z]),V.maxY=Math.max(V.maxY,j[Z+1])}function ni(V,j,Z,se){if(j.geometry){var ge=j.geometry.coordinates,ke=j.geometry.type,Ge=Math.pow(Z.tolerance/((1<<Z.maxZoom)*Z.extent),2),J=[],be=j.id;if(Z.promoteId?be=j.properties[Z.promoteId]:Z.generateId&&(be=se||0),ke==="Point")oi(ge,J);else if(ke==="MultiPoint")for(var Qe=0;Qe<ge.length;Qe++)oi(ge[Qe],J);else if(ke==="LineString")Wi(ge,J,Ge,!1);else if(ke==="MultiLineString"){if(Z.lineMetrics){for(Qe=0;Qe<ge.length;Qe++)Wi(ge[Qe],J=[],Ge,!1),V.push(Qr(be,"LineString",J,j.properties));return}ue(ge,J,Ge,!1)}else if(ke==="Polygon")ue(ge,J,Ge,!0);else{if(ke!=="MultiPolygon"){if(ke==="GeometryCollection"){for(Qe=0;Qe<j.geometry.geometries.length;Qe++)ni(V,{id:be,geometry:j.geometry.geometries[Qe],properties:j.properties},Z,se);return}throw new Error("Input data is not a valid GeoJSON object.")}for(Qe=0;Qe<ge.length;Qe++){var Ft=[];ue(ge[Qe],Ft,Ge,!0),J.push(Ft)}}V.push(Qr(be,ke,J,j.properties))}}function oi(V,j){j.push(Hn(V[0])),j.push(ga(V[1])),j.push(0)}function Wi(V,j,Z,se){for(var ge,ke,Ge=0,J=0;J<V.length;J++){var be=Hn(V[J][0]),Qe=ga(V[J][1]);j.push(be),j.push(Qe),j.push(0),J>0&&(Ge+=se?(ge*Qe-be*ke)/2:Math.sqrt(Math.pow(be-ge,2)+Math.pow(Qe-ke,2))),ge=be,ke=Qe}var Ft=j.length-3;j[2]=1,function Gt(gt,Bt,Sr,Ar){for(var Et,fr=Ar,tr=Sr-Bt>>1,or=Sr-Bt,po=gt[Bt],lr=gt[Bt+1],So=gt[Sr],ei=gt[Sr+1],Ao=Bt+3;Ao<Sr;Ao+=3){var Do=No(gt[Ao],gt[Ao+1],po,lr,So,ei);if(Do>fr)Et=Ao,fr=Do;else if(Do===fr){var co=Math.abs(Ao-tr);co<or&&(Et=Ao,or=co)}}fr>Ar&&(Et-Bt>3&&Gt(gt,Bt,Et,Ar),gt[Et+2]=fr,Sr-Et>3&&Gt(gt,Et,Sr,Ar))}(j,0,Ft,Z),j[Ft+2]=1,j.size=Math.abs(Ge),j.start=0,j.end=j.size}function ue(V,j,Z,se){for(var ge=0;ge<V.length;ge++){var ke=[];Wi(V[ge],ke,Z,se),j.push(ke)}}function Hn(V){return V/360+.5}function ga(V){var j=Math.sin(V*Math.PI/180),Z=.5-.25*Math.log((1+j)/(1-j))/Math.PI;return Z<0?0:Z>1?1:Z}function Pn(V,j,Z,se,ge,ke,Ge,J){if(se/=j,ke>=(Z/=j)&&Ge<se)return V;if(Ge<Z||ke>=se)return null;for(var be=[],Qe=0;Qe<V.length;Qe++){var Ft=V[Qe],Gt=Ft.geometry,gt=Ft.type,Bt=ge===0?Ft.minX:Ft.minY,Sr=ge===0?Ft.maxX:Ft.maxY;if(Bt>=Z&&Sr<se)be.push(Ft);else if(!(Sr<Z||Bt>=se)){var Ar=[];if(gt==="Point"||gt==="MultiPoint")as(Gt,Ar,Z,se,ge);else if(gt==="LineString")va(Gt,Ar,Z,se,ge,!1,J.lineMetrics);else if(gt==="MultiLineString")Mn(Gt,Ar,Z,se,ge,!1);else if(gt==="Polygon")Mn(Gt,Ar,Z,se,ge,!0);else if(gt==="MultiPolygon")for(var Et=0;Et<Gt.length;Et++){var fr=[];Mn(Gt[Et],fr,Z,se,ge,!0),fr.length&&Ar.push(fr)}if(Ar.length){if(J.lineMetrics&&gt==="LineString"){for(Et=0;Et<Ar.length;Et++)be.push(Qr(Ft.id,gt,Ar[Et],Ft.tags));continue}gt!=="LineString"&&gt!=="MultiLineString"||(Ar.length===1?(gt="LineString",Ar=Ar[0]):gt="MultiLineString"),gt!=="Point"&&gt!=="MultiPoint"||(gt=Ar.length===3?"Point":"MultiPoint"),be.push(Qr(Ft.id,gt,Ar,Ft.tags))}}}return be.length?be:null}function as(V,j,Z,se,ge){for(var ke=0;ke<V.length;ke+=3){var Ge=V[ke+ge];Ge>=Z&&Ge<=se&&(j.push(V[ke]),j.push(V[ke+1]),j.push(V[ke+2]))}}function va(V,j,Z,se,ge,ke,Ge){for(var J,be,Qe=fi(V),Ft=ge===0?Qn:ln,Gt=V.start,gt=0;gt<V.length-3;gt+=3){var Bt=V[gt],Sr=V[gt+1],Ar=V[gt+2],Et=V[gt+3],fr=V[gt+4],tr=ge===0?Bt:Sr,or=ge===0?Et:fr,po=!1;Ge&&(J=Math.sqrt(Math.pow(Bt-Et,2)+Math.pow(Sr-fr,2))),tr<Z?or>Z&&(be=Ft(Qe,Bt,Sr,Et,fr,Z),Ge&&(Qe.start=Gt+J*be)):tr>se?or<se&&(be=Ft(Qe,Bt,Sr,Et,fr,se),Ge&&(Qe.start=Gt+J*be)):Nn(Qe,Bt,Sr,Ar),or<Z&&tr>=Z&&(be=Ft(Qe,Bt,Sr,Et,fr,Z),po=!0),or>se&&tr<=se&&(be=Ft(Qe,Bt,Sr,Et,fr,se),po=!0),!ke&&po&&(Ge&&(Qe.end=Gt+J*be),j.push(Qe),Qe=fi(V)),Ge&&(Gt+=J)}var lr=V.length-3;Bt=V[lr],Sr=V[lr+1],Ar=V[lr+2],(tr=ge===0?Bt:Sr)>=Z&&tr<=se&&Nn(Qe,Bt,Sr,Ar),lr=Qe.length-3,ke&&lr>=3&&(Qe[lr]!==Qe[0]||Qe[lr+1]!==Qe[1])&&Nn(Qe,Qe[0],Qe[1],Qe[2]),Qe.length&&j.push(Qe)}function fi(V){var j=[];return j.size=V.size,j.start=V.start,j.end=V.end,j}function Mn(V,j,Z,se,ge,ke){for(var Ge=0;Ge<V.length;Ge++)va(V[Ge],j,Z,se,ge,ke,!1)}function Nn(V,j,Z,se){V.push(j),V.push(Z),V.push(se)}function Qn(V,j,Z,se,ge,ke){var Ge=(ke-j)/(se-j);return V.push(ke),V.push(Z+(ge-Z)*Ge),V.push(1),Ge}function ln(V,j,Z,se,ge,ke){var Ge=(ke-Z)/(ge-Z);return V.push(j+(se-j)*Ge),V.push(ke),V.push(1),Ge}function Ea(V,j){for(var Z=[],se=0;se<V.length;se++){var ge,ke=V[se],Ge=ke.type;if(Ge==="Point"||Ge==="MultiPoint"||Ge==="LineString")ge=Ga(ke.geometry,j);else if(Ge==="MultiLineString"||Ge==="Polygon"){ge=[];for(var J=0;J<ke.geometry.length;J++)ge.push(Ga(ke.geometry[J],j))}else if(Ge==="MultiPolygon")for(ge=[],J=0;J<ke.geometry.length;J++){for(var be=[],Qe=0;Qe<ke.geometry[J].length;Qe++)be.push(Ga(ke.geometry[J][Qe],j));ge.push(be)}Z.push(Qr(ke.id,Ge,ge,ke.tags))}return Z}function Ga(V,j){var Z=[];Z.size=V.size,V.start!==void 0&&(Z.start=V.start,Z.end=V.end);for(var se=0;se<V.length;se+=3)Z.push(V[se]+j,V[se+1],V[se+2]);return Z}function ss(V,j){if(V.transformed)return V;var Z,se,ge,ke=1<<V.z,Ge=V.x,J=V.y;for(Z=0;Z<V.features.length;Z++){var be=V.features[Z],Qe=be.geometry,Ft=be.type;if(be.geometry=[],Ft===1)for(se=0;se<Qe.length;se+=2)be.geometry.push(Vs(Qe[se],Qe[se+1],j,ke,Ge,J));else for(se=0;se<Qe.length;se++){var Gt=[];for(ge=0;ge<Qe[se].length;ge+=2)Gt.push(Vs(Qe[se][ge],Qe[se][ge+1],j,ke,Ge,J));be.geometry.push(Gt)}}return V.transformed=!0,V}function Vs(V,j,Z,se,ge,ke){return[Math.round(Z*(V*se-ge)),Math.round(Z*(j*se-ke))]}function Hs(V,j,Z,se,ge){for(var ke=j===ge.maxZoom?0:ge.tolerance/((1<<j)*ge.extent),Ge={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:Z,y:se,z:j,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},J=0;J<V.length;J++){Ge.numFeatures++,gp(Ge,V[J],ke,ge);var be=V[J].minX,Qe=V[J].minY,Ft=V[J].maxX,Gt=V[J].maxY;be<Ge.minX&&(Ge.minX=be),Qe<Ge.minY&&(Ge.minY=Qe),Ft>Ge.maxX&&(Ge.maxX=Ft),Gt>Ge.maxY&&(Ge.maxY=Gt)}return Ge}function gp(V,j,Z,se){var ge=j.geometry,ke=j.type,Ge=[];if(ke==="Point"||ke==="MultiPoint")for(var J=0;J<ge.length;J+=3)Ge.push(ge[J]),Ge.push(ge[J+1]),V.numPoints++,V.numSimplified++;else if(ke==="LineString")Gs(Ge,ge,V,Z,!1,!1);else if(ke==="MultiLineString"||ke==="Polygon")for(J=0;J<ge.length;J++)Gs(Ge,ge[J],V,Z,ke==="Polygon",J===0);else if(ke==="MultiPolygon")for(var be=0;be<ge.length;be++){var Qe=ge[be];for(J=0;J<Qe.length;J++)Gs(Ge,Qe[J],V,Z,!0,J===0)}if(Ge.length){var Ft=j.tags||null;if(ke==="LineString"&&se.lineMetrics){for(var Gt in Ft={},j.tags)Ft[Gt]=j.tags[Gt];Ft.mapbox_clip_start=ge.start/ge.size,Ft.mapbox_clip_end=ge.end/ge.size}var gt={geometry:Ge,type:ke==="Polygon"||ke==="MultiPolygon"?3:ke==="LineString"||ke==="MultiLineString"?2:1,tags:Ft};j.id!==null&&(gt.id=j.id),V.features.push(gt)}}function Gs(V,j,Z,se,ge,ke){var Ge=se*se;if(se>0&&j.size<(ge?Ge:se))Z.numPoints+=j.length/3;else{for(var J=[],be=0;be<j.length;be+=3)(se===0||j[be+2]>Ge)&&(Z.numSimplified++,J.push(j[be]),J.push(j[be+1])),Z.numPoints++;ge&&function(Qe,Ft){for(var Gt=0,gt=0,Bt=Qe.length,Sr=Bt-2;gt<Bt;Sr=gt,gt+=2)Gt+=(Qe[gt]-Qe[Sr])*(Qe[gt+1]+Qe[Sr+1]);if(Gt>0===Ft)for(gt=0,Bt=Qe.length;gt<Bt/2;gt+=2){var Ar=Qe[gt],Et=Qe[gt+1];Qe[gt]=Qe[Bt-2-gt],Qe[gt+1]=Qe[Bt-1-gt],Qe[Bt-2-gt]=Ar,Qe[Bt-1-gt]=Et}}(J,ke),V.push(J)}}function Ia(V,j){var Z=(j=this.options=function(ge,ke){for(var Ge in ke)ge[Ge]=ke[Ge];return ge}(Object.create(this.options),j)).debug;if(Z&&console.time("preprocess data"),j.maxZoom<0||j.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(j.promoteId&&j.generateId)throw new Error("promoteId and generateId cannot be used together.");var se=function(ge,ke){var Ge=[];if(ge.type==="FeatureCollection")for(var J=0;J<ge.features.length;J++)ni(Ge,ge.features[J],ke,J);else ni(Ge,ge.type==="Feature"?ge:{geometry:ge},ke);return Ge}(V,j);this.tiles={},this.tileCoords=[],Z&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",j.indexMaxZoom,j.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),(se=function(ge,ke){var Ge=ke.buffer/ke.extent,J=ge,be=Pn(ge,1,-1-Ge,Ge,0,-1,2,ke),Qe=Pn(ge,1,1-Ge,2+Ge,0,-1,2,ke);return(be||Qe)&&(J=Pn(ge,1,-Ge,1+Ge,0,-1,2,ke)||[],be&&(J=Ea(be,1).concat(J)),Qe&&(J=J.concat(Ea(Qe,-1)))),J}(se,j)).length&&this.splitTile(se,0,0,0),Z&&(se.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function Ma(V,j,Z){return 32*((1<<V)*Z+j)+V}function gs(V,j){var Z=V.tileID.canonical;if(!this._geoJSONIndex)return j(null,null);var se=this._geoJSONIndex.getTile(Z.z,Z.x,Z.y);if(!se)return j(null,null);var ge=new Ae(se.features),ke=qe(ge);ke.byteOffset===0&&ke.byteLength===ke.buffer.byteLength||(ke=new Uint8Array(ke)),j(null,{vectorTile:ge,rawData:ke.buffer})}hr.prototype.load=function(V){var j=this.options,Z=j.log,se=j.minZoom,ge=j.maxZoom,ke=j.nodeSize;Z&&console.time("total time");var Ge="prepare "+V.length+" points";Z&&console.time(Ge),this.points=V;for(var J=[],be=0;be<V.length;be++)V[be].geometry&&J.push(At(V[be],be));this.trees[ge+1]=new Wt(J,Ir,wr,ke,Float32Array),Z&&console.timeEnd(Ge);for(var Qe=ge;Qe>=se;Qe--){var Ft=+Date.now();J=this._cluster(J,Qe),this.trees[Qe]=new Wt(J,Ir,wr,ke,Float32Array),Z&&console.log("z%d: %d clusters in %dms",Qe,J.length,+Date.now()-Ft)}return Z&&console.timeEnd("total time"),this},hr.prototype.getClusters=function(V,j){var Z=((V[0]+180)%360+360)%360-180,se=Math.max(-90,Math.min(90,V[1])),ge=V[2]===180?180:((V[2]+180)%360+360)%360-180,ke=Math.max(-90,Math.min(90,V[3]));if(V[2]-V[0]>=360)Z=-180,ge=180;else if(Z>ge){var Ge=this.getClusters([Z,se,180,ke],j),J=this.getClusters([-180,se,ge,ke],j);return Ge.concat(J)}for(var be=this.trees[this._limitZoom(j)],Qe=[],Ft=0,Gt=be.range(bt(Z),Fr(ke),bt(ge),Fr(se));Ft<Gt.length;Ft+=1){var gt=be.points[Gt[Ft]];Qe.push(gt.numPoints?lt(gt):this.points[gt.index])}return Qe},hr.prototype.getChildren=function(V){var j=this._getOriginId(V),Z=this._getOriginZoom(V),se="No cluster with the specified id.",ge=this.trees[Z];if(!ge)throw new Error(se);var ke=ge.points[j];if(!ke)throw new Error(se);for(var Ge=this.options.radius/(this.options.extent*Math.pow(2,Z-1)),J=[],be=0,Qe=ge.within(ke.x,ke.y,Ge);be<Qe.length;be+=1){var Ft=ge.points[Qe[be]];Ft.parentId===V&&J.push(Ft.numPoints?lt(Ft):this.points[Ft.index])}if(J.length===0)throw new Error(se);return J},hr.prototype.getLeaves=function(V,j,Z){var se=[];return this._appendLeaves(se,V,j=j||10,Z=Z||0,0),se},hr.prototype.getTile=function(V,j,Z){var se=this.trees[this._limitZoom(V)],ge=Math.pow(2,V),ke=this.options,Ge=ke.radius/ke.extent,J=(Z-Ge)/ge,be=(Z+1+Ge)/ge,Qe={features:[]};return this._addTileFeatures(se.range((j-Ge)/ge,J,(j+1+Ge)/ge,be),se.points,j,Z,ge,Qe),j===0&&this._addTileFeatures(se.range(1-Ge/ge,J,1,be),se.points,ge,Z,ge,Qe),j===ge-1&&this._addTileFeatures(se.range(0,J,Ge/ge,be),se.points,-1,Z,ge,Qe),Qe.features.length?Qe:null},hr.prototype.getClusterExpansionZoom=function(V){for(var j=this._getOriginZoom(V)-1;j<=this.options.maxZoom;){var Z=this.getChildren(V);if(j++,Z.length!==1)break;V=Z[0].properties.cluster_id}return j},hr.prototype._appendLeaves=function(V,j,Z,se,ge){for(var ke=0,Ge=this.getChildren(j);ke<Ge.length;ke+=1){var J=Ge[ke],be=J.properties;if(be&&be.cluster?ge+be.point_count<=se?ge+=be.point_count:ge=this._appendLeaves(V,be.cluster_id,Z,se,ge):ge<se?ge++:V.push(J),V.length===Z)break}return ge},hr.prototype._addTileFeatures=function(V,j,Z,se,ge,ke){for(var Ge=0,J=V;Ge<J.length;Ge+=1){var be=j[J[Ge]],Qe=be.numPoints,Ft={type:1,geometry:[[Math.round(this.options.extent*(be.x*ge-Z)),Math.round(this.options.extent*(be.y*ge-se))]],tags:Qe?yr(be):this.points[be.index].properties},Gt=void 0;Qe?Gt=be.id:this.options.generateId?Gt=be.index:this.points[be.index].id&&(Gt=this.points[be.index].id),Gt!==void 0&&(Ft.id=Gt),ke.features.push(Ft)}},hr.prototype._limitZoom=function(V){return Math.max(this.options.minZoom,Math.min(+V,this.options.maxZoom+1))},hr.prototype._cluster=function(V,j){for(var Z=[],se=this.options,ge=se.reduce,ke=se.minPoints,Ge=se.radius/(se.extent*Math.pow(2,j)),J=0;J<V.length;J++){var be=V[J];if(!(be.zoom<=j)){be.zoom=j;for(var Qe=this.trees[j+1],Ft=Qe.within(be.x,be.y,Ge),Gt=be.numPoints||1,gt=Gt,Bt=0,Sr=Ft;Bt<Sr.length;Bt+=1){var Ar=Qe.points[Sr[Bt]];Ar.zoom>j&&(gt+=Ar.numPoints||1)}if(gt>=ke){for(var Et=be.x*Gt,fr=be.y*Gt,tr=ge&&Gt>1?this._map(be,!0):null,or=(J<<5)+(j+1)+this.points.length,po=0,lr=Ft;po<lr.length;po+=1){var So=Qe.points[lr[po]];if(!(So.zoom<=j)){So.zoom=j;var ei=So.numPoints||1;Et+=So.x*ei,fr+=So.y*ei,So.parentId=or,ge&&(tr||(tr=this._map(be,!0)),ge(tr,this._map(So)))}}be.parentId=or,Z.push(Lr(Et/gt,fr/gt,or,gt,tr))}else if(Z.push(be),gt>1)for(var Ao=0,Do=Ft;Ao<Do.length;Ao+=1){var co=Qe.points[Do[Ao]];co.zoom<=j||(co.zoom=j,Z.push(co))}}}return Z},hr.prototype._getOriginId=function(V){return V-this.points.length>>5},hr.prototype._getOriginZoom=function(V){return(V-this.points.length)%32},hr.prototype._map=function(V,j){if(V.numPoints)return j?to({},V.properties):V.properties;var Z=this.points[V.index].properties,se=this.options.map(Z);return j&&se===Z?to({},se):se},Ia.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},Ia.prototype.splitTile=function(V,j,Z,se,ge,ke,Ge){for(var J=[V,j,Z,se],be=this.options,Qe=be.debug;J.length;){se=J.pop(),Z=J.pop(),j=J.pop(),V=J.pop();var Ft=1<<j,Gt=Ma(j,Z,se),gt=this.tiles[Gt];if(!gt&&(Qe>1&&console.time("creation"),gt=this.tiles[Gt]=Hs(V,j,Z,se,be),this.tileCoords.push({z:j,x:Z,y:se}),Qe)){Qe>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",j,Z,se,gt.numFeatures,gt.numPoints,gt.numSimplified),console.timeEnd("creation"));var Bt="z"+j;this.stats[Bt]=(this.stats[Bt]||0)+1,this.total++}if(gt.source=V,ge){if(j===be.maxZoom||j===ge)continue;var Sr=1<<ge-j;if(Z!==Math.floor(ke/Sr)||se!==Math.floor(Ge/Sr))continue}else if(j===be.indexMaxZoom||gt.numPoints<=be.indexMaxPoints)continue;if(gt.source=null,V.length!==0){Qe>1&&console.time("clipping");var Ar,Et,fr,tr,or,po,lr=.5*be.buffer/be.extent,So=.5-lr,ei=.5+lr,Ao=1+lr;Ar=Et=fr=tr=null,or=Pn(V,Ft,Z-lr,Z+ei,0,gt.minX,gt.maxX,be),po=Pn(V,Ft,Z+So,Z+Ao,0,gt.minX,gt.maxX,be),V=null,or&&(Ar=Pn(or,Ft,se-lr,se+ei,1,gt.minY,gt.maxY,be),Et=Pn(or,Ft,se+So,se+Ao,1,gt.minY,gt.maxY,be),or=null),po&&(fr=Pn(po,Ft,se-lr,se+ei,1,gt.minY,gt.maxY,be),tr=Pn(po,Ft,se+So,se+Ao,1,gt.minY,gt.maxY,be),po=null),Qe>1&&console.timeEnd("clipping"),J.push(Ar||[],j+1,2*Z,2*se),J.push(Et||[],j+1,2*Z,2*se+1),J.push(fr||[],j+1,2*Z+1,2*se),J.push(tr||[],j+1,2*Z+1,2*se+1)}}},Ia.prototype.getTile=function(V,j,Z){var se=this.options,ge=se.extent,ke=se.debug;if(V<0||V>24)return null;var Ge=1<<V,J=Ma(V,j=(j%Ge+Ge)%Ge,Z);if(this.tiles[J])return ss(this.tiles[J],ge);ke>1&&console.log("drilling down to z%d-%d-%d",V,j,Z);for(var be,Qe=V,Ft=j,Gt=Z;!be&&Qe>0;)Qe--,Ft=Math.floor(Ft/2),Gt=Math.floor(Gt/2),be=this.tiles[Ma(Qe,Ft,Gt)];return be&&be.source?(ke>1&&console.log("found parent tile z%d-%d-%d",Qe,Ft,Gt),ke>1&&console.time("drilling down"),this.splitTile(be.source,Qe,Ft,Gt,V,j,Z),ke>1&&console.timeEnd("drilling down"),this.tiles[J]?ss(this.tiles[J],ge):null):null};var Zu=function(V){function j(Z,se,ge,ke){V.call(this,Z,se,ge,gs),ke&&(this.loadGeoJSON=ke)}return j.__proto__=V,(j.prototype=Object.create(V.prototype)).constructor=j,j.prototype.loadData=function(Z,se){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=se,this._pendingLoadDataParams=Z,this._state&&this._state!=="Idle"?this._state="NeedsLoadData":(this._state="Coalescing",this._loadData())},j.prototype._loadData=function(){var Z=this;if(this._pendingCallback&&this._pendingLoadDataParams){var se=this._pendingCallback,ge=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var ke=!!(ge&&ge.request&&ge.request.collectResourceTiming)&&new n.RequestPerformance(ge.request);this.loadGeoJSON(ge,function(Ge,J){if(Ge||!J)return se(Ge);if(typeof J!="object")return se(new Error("Input data given to '"+ge.source+"' is not a valid GeoJSON object."));(function gt(Bt,Sr){var Ar,Et=Bt&&Bt.type;if(Et==="FeatureCollection")for(Ar=0;Ar<Bt.features.length;Ar++)gt(Bt.features[Ar],Sr);else if(Et==="GeometryCollection")for(Ar=0;Ar<Bt.geometries.length;Ar++)gt(Bt.geometries[Ar],Sr);else if(Et==="Feature")gt(Bt.geometry,Sr);else if(Et==="Polygon")Y(Bt.coordinates,Sr);else if(Et==="MultiPolygon")for(Ar=0;Ar<Bt.coordinates.length;Ar++)Y(Bt.coordinates[Ar],Sr);return Bt})(J,!0);try{if(ge.filter){var be=n.createExpression(ge.filter,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if(be.result==="error")throw new Error(be.value.map(function(gt){return gt.key+": "+gt.message}).join(", "));var Qe=J.features.filter(function(gt){return be.value.evaluate({zoom:0},gt)});J={type:"FeatureCollection",features:Qe}}Z._geoJSONIndex=ge.cluster?new hr(function(gt){var Bt=gt.superclusterOptions,Sr=gt.clusterProperties;if(!Sr||!Bt)return Bt;for(var Ar={},Et={},fr={accumulated:null,zoom:0},tr={properties:null},or=Object.keys(Sr),po=0,lr=or;po<lr.length;po+=1){var So=lr[po],ei=Sr[So],Ao=ei[0],Do=n.createExpression(ei[1]),co=n.createExpression(typeof Ao=="string"?[Ao,["accumulated"],["get",So]]:Ao);Ar[So]=Do.value,Et[So]=co.value}return Bt.map=function(Vi){tr.properties=Vi;for(var wo={},ti=0,Vo=or;ti<Vo.length;ti+=1){var lo=Vo[ti];wo[lo]=Ar[lo].evaluate(fr,tr)}return wo},Bt.reduce=function(Vi,wo){tr.properties=wo;for(var ti=0,Vo=or;ti<Vo.length;ti+=1){var lo=Vo[ti];fr.accumulated=Vi[lo],Vi[lo]=Et[lo].evaluate(fr,tr)}},Bt}(ge)).load(J.features):function(gt,Bt){return new Ia(gt,Bt)}(J,ge.geojsonVtOptions)}catch(gt){return se(gt)}Z.loaded={};var Ft={};if(ke){var Gt=ke.finish();Gt&&(Ft.resourceTiming={},Ft.resourceTiming[ge.source]=JSON.parse(JSON.stringify(Gt)))}se(null,Ft)})}},j.prototype.coalesce=function(){this._state==="Coalescing"?this._state="Idle":this._state==="NeedsLoadData"&&(this._state="Coalescing",this._loadData())},j.prototype.reloadTile=function(Z,se){var ge=this.loaded;return ge&&ge[Z.uid]?V.prototype.reloadTile.call(this,Z,se):this.loadTile(Z,se)},j.prototype.loadGeoJSON=function(Z,se){if(Z.request)n.getJSON(Z.request,se);else{if(typeof Z.data!="string")return se(new Error("Input data given to '"+Z.source+"' is not a valid GeoJSON object."));try{return se(null,JSON.parse(Z.data))}catch{return se(new Error("Input data given to '"+Z.source+"' is not a valid GeoJSON object."))}}},j.prototype.removeSource=function(Z,se){this._pendingCallback&&this._pendingCallback(null,{abandoned:!0}),se()},j.prototype.getClusterExpansionZoom=function(Z,se){try{se(null,this._geoJSONIndex.getClusterExpansionZoom(Z.clusterId))}catch(ge){se(ge)}},j.prototype.getClusterChildren=function(Z,se){try{se(null,this._geoJSONIndex.getChildren(Z.clusterId))}catch(ge){se(ge)}},j.prototype.getClusterLeaves=function(Z,se){try{se(null,this._geoJSONIndex.getLeaves(Z.clusterId,Z.limit,Z.offset))}catch(ge){se(ge)}},j}(I),Wo=function(V){var j=this;this.self=V,this.actor=new n.Actor(V,this),this.layerIndexes={},this.availableImages={},this.workerSourceTypes={vector:I,geojson:Zu},this.workerSources={},this.demWorkerSources={},this.self.registerWorkerSource=function(Z,se){if(j.workerSourceTypes[Z])throw new Error('Worker source with name "'+Z+'" already registered.');j.workerSourceTypes[Z]=se},this.self.registerRTLTextPlugin=function(Z){if(n.plugin.isParsed())throw new Error("RTL text plugin already registered.");n.plugin.applyArabicShaping=Z.applyArabicShaping,n.plugin.processBidirectionalText=Z.processBidirectionalText,n.plugin.processStyledBidirectionalText=Z.processStyledBidirectionalText}};return Wo.prototype.setReferrer=function(V,j){this.referrer=j},Wo.prototype.setImages=function(V,j,Z){for(var se in this.availableImages[V]=j,this.workerSources[V]){var ge=this.workerSources[V][se];for(var ke in ge)ge[ke].availableImages=j}Z()},Wo.prototype.setLayers=function(V,j,Z){this.getLayerIndex(V).replace(j),Z()},Wo.prototype.updateLayers=function(V,j,Z){this.getLayerIndex(V).update(j.layers,j.removedIds),Z()},Wo.prototype.loadTile=function(V,j,Z){this.getWorkerSource(V,j.type,j.source).loadTile(j,Z)},Wo.prototype.loadDEMTile=function(V,j,Z){this.getDEMWorkerSource(V,j.source).loadTile(j,Z)},Wo.prototype.reloadTile=function(V,j,Z){this.getWorkerSource(V,j.type,j.source).reloadTile(j,Z)},Wo.prototype.abortTile=function(V,j,Z){this.getWorkerSource(V,j.type,j.source).abortTile(j,Z)},Wo.prototype.removeTile=function(V,j,Z){this.getWorkerSource(V,j.type,j.source).removeTile(j,Z)},Wo.prototype.removeDEMTile=function(V,j){this.getDEMWorkerSource(V,j.source).removeTile(j)},Wo.prototype.removeSource=function(V,j,Z){if(this.workerSources[V]&&this.workerSources[V][j.type]&&this.workerSources[V][j.type][j.source]){var se=this.workerSources[V][j.type][j.source];delete this.workerSources[V][j.type][j.source],se.removeSource!==void 0?se.removeSource(j,Z):Z()}},Wo.prototype.loadWorkerSource=function(V,j,Z){try{this.self.importScripts(j.url),Z()}catch(se){Z(se.toString())}},Wo.prototype.syncRTLPluginState=function(V,j,Z){try{n.plugin.setState(j);var se=n.plugin.getPluginURL();if(n.plugin.isLoaded()&&!n.plugin.isParsed()&&se!=null){this.self.importScripts(se);var ge=n.plugin.isParsed();Z(ge?void 0:new Error("RTL Text Plugin failed to import scripts from "+se),ge)}}catch(ke){Z(ke.toString())}},Wo.prototype.getAvailableImages=function(V){var j=this.availableImages[V];return j||(j=[]),j},Wo.prototype.getLayerIndex=function(V){var j=this.layerIndexes[V];return j||(j=this.layerIndexes[V]=new g),j},Wo.prototype.getWorkerSource=function(V,j,Z){var se=this;return this.workerSources[V]||(this.workerSources[V]={}),this.workerSources[V][j]||(this.workerSources[V][j]={}),this.workerSources[V][j][Z]||(this.workerSources[V][j][Z]=new this.workerSourceTypes[j]({send:function(ge,ke,Ge){se.actor.send(ge,ke,Ge,V)}},this.getLayerIndex(V),this.getAvailableImages(V))),this.workerSources[V][j][Z]},Wo.prototype.getDEMWorkerSource=function(V,j){return this.demWorkerSources[V]||(this.demWorkerSources[V]={}),this.demWorkerSources[V][j]||(this.demWorkerSources[V][j]=new U),this.demWorkerSources[V][j]},Wo.prototype.enforceCacheSizeLimit=function(V,j){n.enforceCacheSizeLimit(j)},typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope&&(self.worker=new Wo(self)),Wo}),p(["./shared"],function(n){var f=n.createCommonjsModule(function(c){function d(E){return!l(E)}function l(E){return typeof window>"u"||typeof document>"u"?"not a browser":Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray?Function.prototype&&Function.prototype.bind?Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions?"JSON"in window&&"parse"in JSON&&"stringify"in JSON?function(){if(!("Worker"in window&&"Blob"in window&&"URL"in window))return!1;var T,w,D=new Blob([""],{type:"text/javascript"}),H=URL.createObjectURL(D);try{w=new Worker(H),T=!0}catch{T=!1}return w&&w.terminate(),URL.revokeObjectURL(H),T}()?"Uint8ClampedArray"in window?ArrayBuffer.isView?function(){var T=document.createElement("canvas");T.width=T.height=1;var w=T.getContext("2d");if(!w)return!1;var D=w.getImageData(0,0,1,1);return D&&D.width===T.width}()?(h[A=E&&E.failIfMajorPerformanceCaveat]===void 0&&(h[A]=function(T){var w=function(H){var Q=document.createElement("canvas"),te=Object.create(d.webGLContextAttributes);return te.failIfMajorPerformanceCaveat=H,Q.probablySupportsContext?Q.probablySupportsContext("webgl",te)||Q.probablySupportsContext("experimental-webgl",te):Q.supportsContext?Q.supportsContext("webgl",te)||Q.supportsContext("experimental-webgl",te):Q.getContext("webgl",te)||Q.getContext("experimental-webgl",te)}(T);if(!w)return!1;var D=w.createShader(w.VERTEX_SHADER);return!(!D||w.isContextLost())&&(w.shaderSource(D,"void main() {}"),w.compileShader(D),w.getShaderParameter(D,w.COMPILE_STATUS)===!0)}(A)),h[A]?void 0:"insufficient WebGL support"):"insufficient Canvas/getImageData support":"insufficient ArrayBuffer support":"insufficient Uint8ClampedArray support":"insufficient worker support":"insufficient JSON support":"insufficient Object support":"insufficient Function support":"insufficent Array support";var A}c.exports?c.exports=d:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=d,window.mapboxgl.notSupportedReason=l);var h={};d.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}}),m={create:function(c,d,l){var h=n.window.document.createElement(c);return d!==void 0&&(h.className=d),l&&l.appendChild(h),h},createNS:function(c,d){return n.window.document.createElementNS(c,d)}},g=n.window.document&&n.window.document.documentElement.style;function x(c){if(!g)return c[0];for(var d=0;d<c.length;d++)if(c[d]in g)return c[d];return c[0]}var b,F=x(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]);m.disableDrag=function(){g&&F&&(b=g[F],g[F]="none")},m.enableDrag=function(){g&&F&&(g[F]=b)};var R=x(["transform","WebkitTransform"]);m.setTransform=function(c,d){c.style[R]=d};var I=!1;try{var O=Object.defineProperty({},"passive",{get:function(){I=!0}});n.window.addEventListener("test",O,O),n.window.removeEventListener("test",O,O)}catch{I=!1}m.addEventListener=function(c,d,l,h){h===void 0&&(h={}),c.addEventListener(d,l,"passive"in h&&I?h:h.capture)},m.removeEventListener=function(c,d,l,h){h===void 0&&(h={}),c.removeEventListener(d,l,"passive"in h&&I?h:h.capture)};var U=function(c){c.preventDefault(),c.stopPropagation(),n.window.removeEventListener("click",U,!0)};function Y(c){var d=c.userImage;return!!(d&&d.render&&d.render())&&(c.data.replace(new Uint8Array(d.data.buffer)),!0)}m.suppressClick=function(){n.window.addEventListener("click",U,!0),n.window.setTimeout(function(){n.window.removeEventListener("click",U,!0)},0)},m.mousePos=function(c,d){var l=c.getBoundingClientRect();return new n.Point(d.clientX-l.left-c.clientLeft,d.clientY-l.top-c.clientTop)},m.touchPos=function(c,d){for(var l=c.getBoundingClientRect(),h=[],E=0;E<d.length;E++)h.push(new n.Point(d[E].clientX-l.left-c.clientLeft,d[E].clientY-l.top-c.clientTop));return h},m.mouseButton=function(c){return n.window.InstallTrigger!==void 0&&c.button===2&&c.ctrlKey&&n.window.navigator.platform.toUpperCase().indexOf("MAC")>=0?0:c.button},m.remove=function(c){c.parentNode&&c.parentNode.removeChild(c)};var ee=function(c){function d(){c.call(this),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new n.RGBAImage({width:1,height:1}),this.dirty=!0}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.isLoaded=function(){return this.loaded},d.prototype.setLoaded=function(l){if(this.loaded!==l&&(this.loaded=l,l)){for(var h=0,E=this.requestors;h<E.length;h+=1){var A=E[h];this._notify(A.ids,A.callback)}this.requestors=[]}},d.prototype.getImage=function(l){return this.images[l]},d.prototype.addImage=function(l,h){this._validate(l,h)&&(this.images[l]=h)},d.prototype._validate=function(l,h){var E=!0;return this._validateStretch(h.stretchX,h.data&&h.data.width)||(this.fire(new n.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchX" value'))),E=!1),this._validateStretch(h.stretchY,h.data&&h.data.height)||(this.fire(new n.ErrorEvent(new Error('Image "'+l+'" has invalid "stretchY" value'))),E=!1),this._validateContent(h.content,h)||(this.fire(new n.ErrorEvent(new Error('Image "'+l+'" has invalid "content" value'))),E=!1),E},d.prototype._validateStretch=function(l,h){if(!l)return!0;for(var E=0,A=0,T=l;A<T.length;A+=1){var w=T[A];if(w[0]<E||w[1]<w[0]||h<w[1])return!1;E=w[1]}return!0},d.prototype._validateContent=function(l,h){return!(l&&(l.length!==4||l[0]<0||h.data.width<l[0]||l[1]<0||h.data.height<l[1]||l[2]<0||h.data.width<l[2]||l[3]<0||h.data.height<l[3]||l[2]<l[0]||l[3]<l[1]))},d.prototype.updateImage=function(l,h){h.version=this.images[l].version+1,this.images[l]=h,this.updatedImages[l]=!0},d.prototype.removeImage=function(l){var h=this.images[l];delete this.images[l],delete this.patterns[l],h.userImage&&h.userImage.onRemove&&h.userImage.onRemove()},d.prototype.listImages=function(){return Object.keys(this.images)},d.prototype.getImages=function(l,h){var E=!0;if(!this.isLoaded())for(var A=0,T=l;A<T.length;A+=1)this.images[T[A]]||(E=!1);this.isLoaded()||E?this._notify(l,h):this.requestors.push({ids:l,callback:h})},d.prototype._notify=function(l,h){for(var E={},A=0,T=l;A<T.length;A+=1){var w=T[A];this.images[w]||this.fire(new n.Event("styleimagemissing",{id:w}));var D=this.images[w];D?E[w]={data:D.data.clone(),pixelRatio:D.pixelRatio,sdf:D.sdf,version:D.version,stretchX:D.stretchX,stretchY:D.stretchY,content:D.content,hasRenderCallback:!!(D.userImage&&D.userImage.render)}:n.warnOnce('Image "'+w+'" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.')}h(null,E)},d.prototype.getPixelSize=function(){var l=this.atlasImage;return{width:l.width,height:l.height}},d.prototype.getPattern=function(l){var h=this.patterns[l],E=this.getImage(l);if(!E)return null;if(h&&h.position.version===E.version)return h.position;if(h)h.position.version=E.version;else{var A={w:E.data.width+2,h:E.data.height+2,x:0,y:0},T=new n.ImagePosition(A,E);this.patterns[l]={bin:A,position:T}}return this._updatePatternAtlas(),this.patterns[l].position},d.prototype.bind=function(l){var h=l.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new n.Texture(l,this.atlasImage,h.RGBA),this.atlasTexture.bind(h.LINEAR,h.CLAMP_TO_EDGE)},d.prototype._updatePatternAtlas=function(){var l=[];for(var h in this.patterns)l.push(this.patterns[h].bin);var E=n.potpack(l),A=E.w,T=E.h,w=this.atlasImage;for(var D in w.resize({width:A||1,height:T||1}),this.patterns){var H=this.patterns[D].bin,Q=H.x+1,te=H.y+1,ie=this.images[D].data,xe=ie.width,me=ie.height;n.RGBAImage.copy(ie,w,{x:0,y:0},{x:Q,y:te},{width:xe,height:me}),n.RGBAImage.copy(ie,w,{x:0,y:me-1},{x:Q,y:te-1},{width:xe,height:1}),n.RGBAImage.copy(ie,w,{x:0,y:0},{x:Q,y:te+me},{width:xe,height:1}),n.RGBAImage.copy(ie,w,{x:xe-1,y:0},{x:Q-1,y:te},{width:1,height:me}),n.RGBAImage.copy(ie,w,{x:0,y:0},{x:Q+xe,y:te},{width:1,height:me})}this.dirty=!0},d.prototype.beginFrame=function(){this.callbackDispatchedThisFrame={}},d.prototype.dispatchRenderCallbacks=function(l){for(var h=0,E=l;h<E.length;h+=1){var A=E[h];if(!this.callbackDispatchedThisFrame[A]){this.callbackDispatchedThisFrame[A]=!0;var T=this.images[A];Y(T)&&this.updateImage(A,T)}}},d}(n.Evented),oe=ce,Re=ce,Ae=1e20;function ce(c,d,l,h,E,A){this.fontSize=c||24,this.buffer=d===void 0?3:d,this.cutoff=h||.25,this.fontFamily=E||"sans-serif",this.fontWeight=A||"normal",this.radius=l||8;var T=this.size=this.fontSize+2*this.buffer;this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=T,this.ctx=this.canvas.getContext("2d"),this.ctx.font=this.fontWeight+" "+this.fontSize+"px "+this.fontFamily,this.ctx.textBaseline="middle",this.ctx.fillStyle="black",this.gridOuter=new Float64Array(T*T),this.gridInner=new Float64Array(T*T),this.f=new Float64Array(T),this.d=new Float64Array(T),this.z=new Float64Array(T+1),this.v=new Int16Array(T),this.middle=Math.round(T/2*(navigator.userAgent.indexOf("Gecko/")>=0?1.2:1))}function Ie(c,d,l,h,E,A,T){for(var w=0;w<d;w++){for(var D=0;D<l;D++)h[D]=c[D*d+w];for(De(h,E,A,T,l),D=0;D<l;D++)c[D*d+w]=E[D]}for(D=0;D<l;D++){for(w=0;w<d;w++)h[w]=c[D*d+w];for(De(h,E,A,T,d),w=0;w<d;w++)c[D*d+w]=Math.sqrt(E[w])}}function De(c,d,l,h,E){l[0]=0,h[0]=-Ae,h[1]=+Ae;for(var A=1,T=0;A<E;A++){for(var w=(c[A]+A*A-(c[l[T]]+l[T]*l[T]))/(2*A-2*l[T]);w<=h[T];)T--,w=(c[A]+A*A-(c[l[T]]+l[T]*l[T]))/(2*A-2*l[T]);l[++T]=A,h[T]=w,h[T+1]=+Ae}for(A=0,T=0;A<E;A++){for(;h[T+1]<A;)T++;d[A]=(A-l[T])*(A-l[T])+c[l[T]]}}ce.prototype.draw=function(c){this.ctx.clearRect(0,0,this.size,this.size),this.ctx.fillText(c,this.buffer,this.middle);for(var d=this.ctx.getImageData(0,0,this.size,this.size),l=new Uint8ClampedArray(this.size*this.size),h=0;h<this.size*this.size;h++){var E=d.data[4*h+3]/255;this.gridOuter[h]=E===1?0:E===0?Ae:Math.pow(Math.max(0,.5-E),2),this.gridInner[h]=E===1?Ae:E===0?0:Math.pow(Math.max(0,E-.5),2)}for(Ie(this.gridOuter,this.size,this.size,this.f,this.d,this.v,this.z),Ie(this.gridInner,this.size,this.size,this.f,this.d,this.v,this.z),h=0;h<this.size*this.size;h++)l[h]=Math.max(0,Math.min(255,Math.round(255-255*((this.gridOuter[h]-this.gridInner[h])/this.radius+this.cutoff))));return l},oe.default=Re;var ht=function(c,d){this.requestManager=c,this.localIdeographFontFamily=d,this.entries={}};ht.prototype.setURL=function(c){this.url=c},ht.prototype.getGlyphs=function(c,d){var l=this,h=[];for(var E in c)for(var A=0,T=c[E];A<T.length;A+=1)h.push({stack:E,id:T[A]});n.asyncAll(h,function(w,D){var H=w.stack,Q=w.id,te=l.entries[H];te||(te=l.entries[H]={glyphs:{},requests:{},ranges:{}});var ie=te.glyphs[Q];if(ie===void 0){if(ie=l._tinySDF(te,H,Q))return te.glyphs[Q]=ie,void D(null,{stack:H,id:Q,glyph:ie});var xe=Math.floor(Q/256);if(256*xe>65535)D(new Error("glyphs > 65535 not supported"));else if(te.ranges[xe])D(null,{stack:H,id:Q,glyph:ie});else{var me=te.requests[xe];me||(me=te.requests[xe]=[],ht.loadGlyphRange(H,xe,l.url,l.requestManager,function(Ne,ye){if(ye){for(var Me in ye)l._doesCharSupportLocalGlyph(+Me)||(te.glyphs[+Me]=ye[+Me]);te.ranges[xe]=!0}for(var He=0,Je=me;He<Je.length;He+=1)(0,Je[He])(Ne,ye);delete te.requests[xe]})),me.push(function(Ne,ye){Ne?D(Ne):ye&&D(null,{stack:H,id:Q,glyph:ye[Q]||null})})}}else D(null,{stack:H,id:Q,glyph:ie})},function(w,D){if(w)d(w);else if(D){for(var H={},Q=0,te=D;Q<te.length;Q+=1){var ie=te[Q],xe=ie.stack,me=ie.id,Ne=ie.glyph;(H[xe]||(H[xe]={}))[me]=Ne&&{id:Ne.id,bitmap:Ne.bitmap.clone(),metrics:Ne.metrics}}d(null,H)}})},ht.prototype._doesCharSupportLocalGlyph=function(c){return!!this.localIdeographFontFamily&&(n.isChar["CJK Unified Ideographs"](c)||n.isChar["Hangul Syllables"](c)||n.isChar.Hiragana(c)||n.isChar.Katakana(c))},ht.prototype._tinySDF=function(c,d,l){var h=this.localIdeographFontFamily;if(h&&this._doesCharSupportLocalGlyph(l)){var E=c.tinySDF;if(!E){var A="400";/bold/i.test(d)?A="900":/medium/i.test(d)?A="500":/light/i.test(d)&&(A="200"),E=c.tinySDF=new ht.TinySDF(24,3,8,.25,h,A)}return{id:l,bitmap:new n.AlphaImage({width:30,height:30},E.draw(String.fromCharCode(l))),metrics:{width:24,height:24,left:0,top:-8,advance:24}}}},ht.loadGlyphRange=function(c,d,l,h,E){var A=256*d,T=A+255,w=h.transformRequest(h.normalizeGlyphsURL(l).replace("{fontstack}",c).replace("{range}",A+"-"+T),n.ResourceType.Glyphs);n.getArrayBuffer(w,function(D,H){if(D)E(D);else if(H){for(var Q={},te=0,ie=n.parseGlyphPBF(H);te<ie.length;te+=1){var xe=ie[te];Q[xe.id]=xe}E(null,Q)}})},ht.TinySDF=oe;var qe=function(){this.specification=n.styleSpec.light.position};qe.prototype.possiblyEvaluate=function(c,d){return n.sphericalToCartesian(c.expression.evaluate(d))},qe.prototype.interpolate=function(c,d,l){return{x:n.number(c.x,d.x,l),y:n.number(c.y,d.y,l),z:n.number(c.z,d.z,l)}};var we=new n.Properties({anchor:new n.DataConstantProperty(n.styleSpec.light.anchor),position:new qe,color:new n.DataConstantProperty(n.styleSpec.light.color),intensity:new n.DataConstantProperty(n.styleSpec.light.intensity)}),B=function(c){function d(l){c.call(this),this._transitionable=new n.Transitionable(we),this.setLight(l),this._transitioning=this._transitionable.untransitioned()}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getLight=function(){return this._transitionable.serialize()},d.prototype.setLight=function(l,h){if(h===void 0&&(h={}),!this._validate(n.validateLight,l,h))for(var E in l){var A=l[E];n.endsWith(E,"-transition")?this._transitionable.setTransition(E.slice(0,-11),A):this._transitionable.setValue(E,A)}},d.prototype.updateTransitions=function(l){this._transitioning=this._transitionable.transitioned(l,this._transitioning)},d.prototype.hasTransition=function(){return this._transitioning.hasTransition()},d.prototype.recalculate=function(l){this.properties=this._transitioning.possiblyEvaluate(l)},d.prototype._validate=function(l,h,E){return(!E||E.validate!==!1)&&n.emitValidationErrors(this,l.call(n.validateStyle,n.extend({value:h,style:{glyphs:!0,sprite:!0},styleSpec:n.styleSpec})))},d}(n.Evented),X=function(c,d){this.width=c,this.height=d,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}};X.prototype.getDash=function(c,d){var l=c.join(",")+String(d);return this.dashEntry[l]||(this.dashEntry[l]=this.addDash(c,d)),this.dashEntry[l]},X.prototype.getDashRanges=function(c,d,l){var h=[],E=c.length%2==1?-c[c.length-1]*l:0,A=c[0]*l,T=!0;h.push({left:E,right:A,isDash:T,zeroLength:c[0]===0});for(var w=c[0],D=1;D<c.length;D++){var H=c[D];h.push({left:E=w*l,right:A=(w+=H)*l,isDash:T=!T,zeroLength:H===0})}return h},X.prototype.addRoundDash=function(c,d,l){for(var h=d/2,E=-l;E<=l;E++)for(var A=this.width*(this.nextRow+l+E),T=0,w=c[T],D=0;D<this.width;D++){D/w.right>1&&(w=c[++T]);var H=Math.abs(D-w.left),Q=Math.abs(D-w.right),te=Math.min(H,Q),ie=void 0,xe=E/l*(h+1);if(w.isDash){var me=h-Math.abs(xe);ie=Math.sqrt(te*te+me*me)}else ie=h-Math.sqrt(te*te+xe*xe);this.data[A+D]=Math.max(0,Math.min(255,ie+128))}},X.prototype.addRegularDash=function(c){for(var d=c.length-1;d>=0;--d){var l=c[d],h=c[d+1];l.zeroLength?c.splice(d,1):h&&h.isDash===l.isDash&&(h.left=l.left,c.splice(d,1))}var E=c[0],A=c[c.length-1];E.isDash===A.isDash&&(E.left=A.left-this.width,A.right=E.right+this.width);for(var T=this.width*this.nextRow,w=0,D=c[w],H=0;H<this.width;H++){H/D.right>1&&(D=c[++w]);var Q=Math.abs(H-D.left),te=Math.abs(H-D.right),ie=Math.min(Q,te);this.data[T+H]=Math.max(0,Math.min(255,(D.isDash?ie:-ie)+128))}},X.prototype.addDash=function(c,d){var l=d?7:0,h=2*l+1;if(this.nextRow+h>this.height)return n.warnOnce("LineAtlas out of space"),null;for(var E=0,A=0;A<c.length;A++)E+=c[A];if(E!==0){var T=this.width/E,w=this.getDashRanges(c,this.width,T);d?this.addRoundDash(w,T,l):this.addRegularDash(w)}var D={y:(this.nextRow+l+.5)/this.height,height:2*l/this.height,width:E};return this.nextRow+=h,this.dirty=!0,D},X.prototype.bind=function(c){var d=c.gl;this.texture?(d.bindTexture(d.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,d.texSubImage2D(d.TEXTURE_2D,0,0,0,this.width,this.height,d.ALPHA,d.UNSIGNED_BYTE,this.data))):(this.texture=d.createTexture(),d.bindTexture(d.TEXTURE_2D,this.texture),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_S,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_WRAP_T,d.REPEAT),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MIN_FILTER,d.LINEAR),d.texParameteri(d.TEXTURE_2D,d.TEXTURE_MAG_FILTER,d.LINEAR),d.texImage2D(d.TEXTURE_2D,0,d.ALPHA,this.width,this.height,0,d.ALPHA,d.UNSIGNED_BYTE,this.data))};var de=function c(d,l){this.workerPool=d,this.actors=[],this.currentActor=0,this.id=n.uniqueId();for(var h=this.workerPool.acquire(this.id),E=0;E<h.length;E++){var A=new c.Actor(h[E],l,this.id);A.name="Worker "+E,this.actors.push(A)}};function mt(c,d,l){var h=function(E,A){if(E)return l(E);if(A){var T=n.pick(n.extend(A,c),["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds","scheme","tileSize","encoding"]);A.vector_layers&&(T.vectorLayers=A.vector_layers,T.vectorLayerIds=T.vectorLayers.map(function(w){return w.id})),T.tiles=d.canonicalizeTileset(T,c.url),l(null,T)}};return c.url?n.getJSON(d.transformRequest(d.normalizeSourceURL(c.url),n.ResourceType.Source),h):n.browser.frame(function(){return h(null,c)})}de.prototype.broadcast=function(c,d,l){n.asyncAll(this.actors,function(h,E){h.send(c,d,E)},l=l||function(){})},de.prototype.getActor=function(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]},de.prototype.remove=function(){this.actors.forEach(function(c){c.remove()}),this.actors=[],this.workerPool.release(this.id)},de.Actor=n.Actor;var re=function(c,d,l){this.bounds=n.LngLatBounds.convert(this.validateBounds(c)),this.minzoom=d||0,this.maxzoom=l||24};re.prototype.validateBounds=function(c){return Array.isArray(c)&&c.length===4?[Math.max(-180,c[0]),Math.max(-90,c[1]),Math.min(180,c[2]),Math.min(90,c[3])]:[-180,-90,180,90]},re.prototype.contains=function(c){var d=Math.pow(2,c.z),l=Math.floor(n.mercatorXfromLng(this.bounds.getWest())*d),h=Math.floor(n.mercatorYfromLat(this.bounds.getNorth())*d),E=Math.ceil(n.mercatorXfromLng(this.bounds.getEast())*d),A=Math.ceil(n.mercatorYfromLat(this.bounds.getSouth())*d);return c.x>=l&&c.x<E&&c.y>=h&&c.y<A};var fe=function(c){function d(l,h,E,A){if(c.call(this),this.id=l,this.dispatcher=E,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,n.extend(this,n.pick(h,["url","scheme","tileSize","promoteId"])),this._options=n.extend({type:"vector"},h),this._collectResourceTiming=h.collectResourceTiming,this.tileSize!==512)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(A)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=mt(this._options,this.map._requestManager,function(h,E){l._tileJSONRequest=null,l._loaded=!0,h?l.fire(new n.ErrorEvent(h)):E&&(n.extend(l,E),E.bounds&&(l.tileBounds=new re(E.bounds,l.minzoom,l.maxzoom)),n.postTurnstileEvent(E.tiles,l.map._requestManager._customAccessToken),n.postMapLoadEvent(E.tiles,l.map._getMapId(),l.map._requestManager._skuToken,l.map._requestManager._customAccessToken),l.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},d.prototype.loaded=function(){return this._loaded},d.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.setSourceProperty=function(l){this._tileJSONRequest&&this._tileJSONRequest.cancel(),l(),this.map.style.sourceCaches[this.id].clearTiles(),this.load()},d.prototype.setTiles=function(l){var h=this;return this.setSourceProperty(function(){h._options.tiles=l}),this},d.prototype.setUrl=function(l){var h=this;return this.setSourceProperty(function(){h.url=l,h._options.url=l}),this},d.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},d.prototype.serialize=function(){return n.extend({},this._options)},d.prototype.loadTile=function(l,h){var E=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme)),A={request:this.map._requestManager.transformRequest(E,n.ResourceType.Tile),uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,tileSize:this.tileSize*l.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId};function T(w,D){return delete l.request,l.aborted?h(null):w&&w.status!==404?h(w):(D&&D.resourceTiming&&(l.resourceTiming=D.resourceTiming),this.map._refreshExpiredTiles&&D&&l.setExpiryData(D),l.loadVectorData(D,this.map.painter),n.cacheEntryPossiblyAdded(this.dispatcher),h(null),void(l.reloadCallback&&(this.loadTile(l,l.reloadCallback),l.reloadCallback=null)))}A.request.collectResourceTiming=this._collectResourceTiming,l.actor&&l.state!=="expired"?l.state==="loading"?l.reloadCallback=h:l.request=l.actor.send("reloadTile",A,T.bind(this)):(l.actor=this.dispatcher.getActor(),l.request=l.actor.send("loadTile",A,T.bind(this)))},d.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.actor&&l.actor.send("abortTile",{uid:l.uid,type:this.type,source:this.id},void 0)},d.prototype.unloadTile=function(l){l.unloadVectorData(),l.actor&&l.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id},void 0)},d.prototype.hasTransition=function(){return!1},d}(n.Evented),Pe=function(c){function d(l,h,E,A){c.call(this),this.id=l,this.dispatcher=E,this.setEventedParent(A),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=n.extend({type:"raster"},h),n.extend(this,n.pick(h,["url","scheme","tileSize"]))}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this._tileJSONRequest=mt(this._options,this.map._requestManager,function(h,E){l._tileJSONRequest=null,l._loaded=!0,h?l.fire(new n.ErrorEvent(h)):E&&(n.extend(l,E),E.bounds&&(l.tileBounds=new re(E.bounds,l.minzoom,l.maxzoom)),n.postTurnstileEvent(E.tiles),n.postMapLoadEvent(E.tiles,l.map._getMapId(),l.map._requestManager._skuToken),l.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})),l.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})))})},d.prototype.loaded=function(){return this._loaded},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.onRemove=function(){this._tileJSONRequest&&(this._tileJSONRequest.cancel(),this._tileJSONRequest=null)},d.prototype.serialize=function(){return n.extend({},this._options)},d.prototype.hasTile=function(l){return!this.tileBounds||this.tileBounds.contains(l.canonical)},d.prototype.loadTile=function(l,h){var E=this,A=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);l.request=n.getImage(this.map._requestManager.transformRequest(A,n.ResourceType.Tile),function(T,w){if(delete l.request,l.aborted)l.state="unloaded",h(null);else if(T)l.state="errored",h(T);else if(w){E.map._refreshExpiredTiles&&l.setExpiryData(w),delete w.cacheControl,delete w.expires;var D=E.map.painter.context,H=D.gl;l.texture=E.map.painter.getTileTexture(w.width),l.texture?l.texture.update(w,{useMipmap:!0}):(l.texture=new n.Texture(D,w,H.RGBA,{useMipmap:!0}),l.texture.bind(H.LINEAR,H.CLAMP_TO_EDGE,H.LINEAR_MIPMAP_NEAREST),D.extTextureFilterAnisotropic&&H.texParameterf(H.TEXTURE_2D,D.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,D.extTextureFilterAnisotropicMax)),l.state="loaded",n.cacheEntryPossiblyAdded(E.dispatcher),h(null)}})},d.prototype.abortTile=function(l,h){l.request&&(l.request.cancel(),delete l.request),h()},d.prototype.unloadTile=function(l,h){l.texture&&this.map.painter.saveTileTexture(l.texture),h()},d.prototype.hasTransition=function(){return!1},d}(n.Evented),Xe=function(c){function d(l,h,E,A){c.call(this,l,h,E,A),this.type="raster-dem",this.maxzoom=22,this._options=n.extend({type:"raster-dem"},h),this.encoding=h.encoding||"mapbox"}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.serialize=function(){return{type:"raster-dem",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds,encoding:this.encoding}},d.prototype.loadTile=function(l,h){var E=this.map._requestManager.normalizeTileURL(l.tileID.canonical.url(this.tiles,this.scheme),this.tileSize);function A(T,w){T&&(l.state="errored",h(T)),w&&(l.dem=w,l.needsHillshadePrepare=!0,l.state="loaded",h(null))}l.request=n.getImage(this.map._requestManager.transformRequest(E,n.ResourceType.Tile),(function(T,w){if(delete l.request,l.aborted)l.state="unloaded",h(null);else if(T)l.state="errored",h(T);else if(w){this.map._refreshExpiredTiles&&l.setExpiryData(w),delete w.cacheControl,delete w.expires;var D=n.window.ImageBitmap&&w instanceof n.window.ImageBitmap&&n.offscreenCanvasSupported()?w:n.browser.getImageData(w,1),H={uid:l.uid,coord:l.tileID,source:this.id,rawImageData:D,encoding:this.encoding};l.actor&&l.state!=="expired"||(l.actor=this.dispatcher.getActor(),l.actor.send("loadDEMTile",H,A.bind(this)))}}).bind(this)),l.neighboringTiles=this._getNeighboringTiles(l.tileID)},d.prototype._getNeighboringTiles=function(l){var h=l.canonical,E=Math.pow(2,h.z),A=(h.x-1+E)%E,T=h.x===0?l.wrap-1:l.wrap,w=(h.x+1+E)%E,D=h.x+1===E?l.wrap+1:l.wrap,H={};return H[new n.OverscaledTileID(l.overscaledZ,T,h.z,A,h.y).key]={backfilled:!1},H[new n.OverscaledTileID(l.overscaledZ,D,h.z,w,h.y).key]={backfilled:!1},h.y>0&&(H[new n.OverscaledTileID(l.overscaledZ,T,h.z,A,h.y-1).key]={backfilled:!1},H[new n.OverscaledTileID(l.overscaledZ,l.wrap,h.z,h.x,h.y-1).key]={backfilled:!1},H[new n.OverscaledTileID(l.overscaledZ,D,h.z,w,h.y-1).key]={backfilled:!1}),h.y+1<E&&(H[new n.OverscaledTileID(l.overscaledZ,T,h.z,A,h.y+1).key]={backfilled:!1},H[new n.OverscaledTileID(l.overscaledZ,l.wrap,h.z,h.x,h.y+1).key]={backfilled:!1},H[new n.OverscaledTileID(l.overscaledZ,D,h.z,w,h.y+1).key]={backfilled:!1}),H},d.prototype.unloadTile=function(l){l.demTexture&&this.map.painter.saveTileTexture(l.demTexture),l.fbo&&(l.fbo.destroy(),delete l.fbo),l.dem&&delete l.dem,delete l.neighboringTiles,l.state="unloaded",l.actor&&l.actor.send("removeDEMTile",{uid:l.uid,source:this.id})},d}(Pe),Ye=function(c){function d(l,h,E,A){c.call(this),this.id=l,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._loaded=!1,this.actor=E.getActor(),this.setEventedParent(A),this._data=h.data,this._options=n.extend({},h),this._collectResourceTiming=h.collectResourceTiming,this._resourceTiming=[],h.maxzoom!==void 0&&(this.maxzoom=h.maxzoom),h.type&&(this.type=h.type),h.attribution&&(this.attribution=h.attribution),this.promoteId=h.promoteId;var T=n.EXTENT/this.tileSize;this.workerOptions=n.extend({source:this.id,cluster:h.cluster||!1,geojsonVtOptions:{buffer:(h.buffer!==void 0?h.buffer:128)*T,tolerance:(h.tolerance!==void 0?h.tolerance:.375)*T,extent:n.EXTENT,maxZoom:this.maxzoom,lineMetrics:h.lineMetrics||!1,generateId:h.generateId||!1},superclusterOptions:{maxZoom:h.clusterMaxZoom!==void 0?Math.min(h.clusterMaxZoom,this.maxzoom-1):this.maxzoom-1,minPoints:Math.max(2,h.clusterMinPoints||2),extent:n.EXTENT,radius:(h.clusterRadius||50)*T,log:!1,generateId:h.generateId||!1},clusterProperties:h.clusterProperties,filter:h.filter},h.workerOptions)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(h){if(h)l.fire(new n.ErrorEvent(h));else{var E={dataType:"source",sourceDataType:"metadata"};l._collectResourceTiming&&l._resourceTiming&&l._resourceTiming.length>0&&(E.resourceTiming=l._resourceTiming,l._resourceTiming=[]),l.fire(new n.Event("data",E))}})},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.setData=function(l){var h=this;return this._data=l,this.fire(new n.Event("dataloading",{dataType:"source"})),this._updateWorkerData(function(E){if(E)h.fire(new n.ErrorEvent(E));else{var A={dataType:"source",sourceDataType:"content"};h._collectResourceTiming&&h._resourceTiming&&h._resourceTiming.length>0&&(A.resourceTiming=h._resourceTiming,h._resourceTiming=[]),h.fire(new n.Event("data",A))}}),this},d.prototype.getClusterExpansionZoom=function(l,h){return this.actor.send("geojson.getClusterExpansionZoom",{clusterId:l,source:this.id},h),this},d.prototype.getClusterChildren=function(l,h){return this.actor.send("geojson.getClusterChildren",{clusterId:l,source:this.id},h),this},d.prototype.getClusterLeaves=function(l,h,E,A){return this.actor.send("geojson.getClusterLeaves",{source:this.id,clusterId:l,limit:h,offset:E},A),this},d.prototype._updateWorkerData=function(l){var h=this;this._loaded=!1;var E=n.extend({},this.workerOptions),A=this._data;typeof A=="string"?(E.request=this.map._requestManager.transformRequest(n.browser.resolveURL(A),n.ResourceType.Source),E.request.collectResourceTiming=this._collectResourceTiming):E.data=JSON.stringify(A),this.actor.send(this.type+".loadData",E,function(T,w){h._removed||w&&w.abandoned||(h._loaded=!0,w&&w.resourceTiming&&w.resourceTiming[h.id]&&(h._resourceTiming=w.resourceTiming[h.id].slice(0)),h.actor.send(h.type+".coalesce",{source:E.source},null),l(T))})},d.prototype.loaded=function(){return this._loaded},d.prototype.loadTile=function(l,h){var E=this,A=l.actor?"reloadTile":"loadTile";l.actor=this.actor,l.request=this.actor.send(A,{type:this.type,uid:l.uid,tileID:l.tileID,zoom:l.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:n.browser.devicePixelRatio,showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId},function(T,w){return delete l.request,l.unloadVectorData(),l.aborted?h(null):T?h(T):(l.loadVectorData(w,E.map.painter,A==="reloadTile"),h(null))})},d.prototype.abortTile=function(l){l.request&&(l.request.cancel(),delete l.request),l.aborted=!0},d.prototype.unloadTile=function(l){l.unloadVectorData(),this.actor.send("removeTile",{uid:l.uid,type:this.type,source:this.id})},d.prototype.onRemove=function(){this._removed=!0,this.actor.send("removeSource",{type:this.type,source:this.id})},d.prototype.serialize=function(){return n.extend({},this._options,{type:this.type,data:this._data})},d.prototype.hasTransition=function(){return!1},d}(n.Evented),at=n.createLayout([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]),ct=function(c){function d(l,h,E,A){c.call(this),this.id=l,this.dispatcher=E,this.coordinates=h.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(A),this.options=h}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.load=function(l,h){var E=this;this._loaded=!1,this.fire(new n.Event("dataloading",{dataType:"source"})),this.url=this.options.url,n.getImage(this.map._requestManager.transformRequest(this.url,n.ResourceType.Image),function(A,T){E._loaded=!0,A?E.fire(new n.ErrorEvent(A)):T&&(E.image=T,l&&(E.coordinates=l),h&&h(),E._finishLoading())})},d.prototype.loaded=function(){return this._loaded},d.prototype.updateImage=function(l){var h=this;return this.image&&l.url?(this.options.url=l.url,this.load(l.coordinates,function(){h.texture=null}),this):this},d.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"metadata"})))},d.prototype.onAdd=function(l){this.map=l,this.load()},d.prototype.setCoordinates=function(l){var h=this;this.coordinates=l;var E=l.map(n.MercatorCoordinate.fromLngLat);this.tileID=function(T){for(var w=1/0,D=1/0,H=-1/0,Q=-1/0,te=0,ie=T;te<ie.length;te+=1){var xe=ie[te];w=Math.min(w,xe.x),D=Math.min(D,xe.y),H=Math.max(H,xe.x),Q=Math.max(Q,xe.y)}var me=Math.max(H-w,Q-D),Ne=Math.max(0,Math.floor(-Math.log(me)/Math.LN2)),ye=Math.pow(2,Ne);return new n.CanonicalTileID(Ne,Math.floor((w+H)/2*ye),Math.floor((D+Q)/2*ye))}(E),this.minzoom=this.maxzoom=this.tileID.z;var A=E.map(function(T){return h.tileID.getTilePoint(T)._round()});return this._boundsArray=new n.StructArrayLayout4i8,this._boundsArray.emplaceBack(A[0].x,A[0].y,0,0),this._boundsArray.emplaceBack(A[1].x,A[1].y,n.EXTENT,0),this._boundsArray.emplaceBack(A[3].x,A[3].y,0,n.EXTENT),this._boundsArray.emplaceBack(A[2].x,A[2].y,n.EXTENT,n.EXTENT),this.boundsBuffer&&(this.boundsBuffer.destroy(),delete this.boundsBuffer),this.fire(new n.Event("data",{dataType:"source",sourceDataType:"content"})),this},d.prototype.prepare=function(){if(Object.keys(this.tiles).length!==0&&this.image){var l=this.map.painter.context,h=l.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,at.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture||(this.texture=new n.Texture(l,this.image,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this.tiles){var A=this.tiles[E];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture)}}},d.prototype.loadTile=function(l,h){this.tileID&&this.tileID.equals(l.tileID.canonical)?(this.tiles[String(l.tileID.wrap)]=l,l.buckets={},h(null)):(l.state="errored",h(null))},d.prototype.serialize=function(){return{type:"image",url:this.options.url,coordinates:this.coordinates}},d.prototype.hasTransition=function(){return!1},d}(n.Evented),Lt=function(c){function d(l,h,E,A){c.call(this,l,h,E,A),this.roundZoom=!0,this.type="video",this.options=h}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.load=function(){var l=this;this._loaded=!1;var h=this.options;this.urls=[];for(var E=0,A=h.urls;E<A.length;E+=1)this.urls.push(this.map._requestManager.transformRequest(A[E],n.ResourceType.Source).url);n.getVideo(this.urls,function(T,w){l._loaded=!0,T?l.fire(new n.ErrorEvent(T)):w&&(l.video=w,l.video.loop=!0,l.video.setAttribute("playsinline",""),l.video.addEventListener("playing",function(){l.map.triggerRepaint()}),l.map&&l.video.play(),l._finishLoading())})},d.prototype.pause=function(){this.video&&this.video.pause()},d.prototype.play=function(){this.video&&this.video.play()},d.prototype.seek=function(l){if(this.video){var h=this.video.seekable;l<h.start(0)||l>h.end(0)?this.fire(new n.ErrorEvent(new n.ValidationError("sources."+this.id,null,"Playback for this video can be set only between the "+h.start(0)+" and "+h.end(0)+"-second mark."))):this.video.currentTime=l}},d.prototype.getVideo=function(){return this.video},d.prototype.onAdd=function(l){this.map||(this.map=l,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},d.prototype.prepare=function(){if(!(Object.keys(this.tiles).length===0||this.video.readyState<2)){var l=this.map.painter.context,h=l.gl;for(var E in this.boundsBuffer||(this.boundsBuffer=l.createVertexBuffer(this._boundsArray,at.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?this.video.paused||(this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE),h.texSubImage2D(h.TEXTURE_2D,0,0,0,h.RGBA,h.UNSIGNED_BYTE,this.video)):(this.texture=new n.Texture(l,this.video,h.RGBA),this.texture.bind(h.LINEAR,h.CLAMP_TO_EDGE)),this.tiles){var A=this.tiles[E];A.state!=="loaded"&&(A.state="loaded",A.texture=this.texture)}}},d.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},d.prototype.hasTransition=function(){return this.video&&!this.video.paused},d}(ct),pr=function(c){function d(l,h,E,A){c.call(this,l,h,E,A),h.coordinates?Array.isArray(h.coordinates)&&h.coordinates.length===4&&!h.coordinates.some(function(T){return!Array.isArray(T)||T.length!==2||T.some(function(w){return typeof w!="number"})})||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+l,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+l,null,'missing required property "coordinates"'))),h.animate&&typeof h.animate!="boolean"&&this.fire(new n.ErrorEvent(new n.ValidationError("sources."+l,null,'optional "animate" property must be a boolean value'))),h.canvas?typeof h.canvas=="string"||h.canvas instanceof n.window.HTMLCanvasElement||this.fire(new n.ErrorEvent(new n.ValidationError("sources."+l,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new n.ErrorEvent(new n.ValidationError("sources."+l,null,'missing required property "canvas"'))),this.options=h,this.animate=h.animate===void 0||h.animate}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.load=function(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof n.window.HTMLCanvasElement?this.options.canvas:n.window.document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new n.ErrorEvent(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())},d.prototype.getCanvas=function(){return this.canvas},d.prototype.onAdd=function(l){this.map=l,this.load(),this.canvas&&this.animate&&this.play()},d.prototype.onRemove=function(){this.pause()},d.prototype.prepare=function(){var l=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,l=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,l=!0),!this._hasInvalidDimensions()&&Object.keys(this.tiles).length!==0){var h=this.map.painter.context,E=h.gl;for(var A in this.boundsBuffer||(this.boundsBuffer=h.createVertexBuffer(this._boundsArray,at.members)),this.boundsSegments||(this.boundsSegments=n.SegmentVector.simpleSegment(0,0,4,2)),this.texture?(l||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):this.texture=new n.Texture(h,this.canvas,E.RGBA,{premultiply:!0}),this.tiles){var T=this.tiles[A];T.state!=="loaded"&&(T.state="loaded",T.texture=this.texture)}}},d.prototype.serialize=function(){return{type:"canvas",coordinates:this.coordinates}},d.prototype.hasTransition=function(){return this._playing},d.prototype._hasInvalidDimensions=function(){for(var l=0,h=[this.canvas.width,this.canvas.height];l<h.length;l+=1){var E=h[l];if(isNaN(E)||E<=0)return!0}return!1},d}(ct),Wt={vector:fe,raster:Pe,"raster-dem":Xe,geojson:Ye,video:Lt,image:ct,canvas:pr};function uo(c,d){var l=n.identity([]);return n.translate(l,l,[1,1,0]),n.scale(l,l,[.5*c.width,.5*c.height,1]),n.multiply(l,l,c.calculatePosMatrix(d.toUnwrapped()))}function hr(c,d,l,h,E,A){var T=function(Ne,ye,Me){if(Ne)for(var He=0,Je=Ne;He<Je.length;He+=1){var dt=ye[Je[He]];if(dt&&dt.source===Me&&dt.type==="fill-extrusion")return!0}else for(var it in ye){var vt=ye[it];if(vt.source===Me&&vt.type==="fill-extrusion")return!0}return!1}(E&&E.layers,d,c.id),w=A.maxPitchScaleFactor(),D=c.tilesIn(h,w,T);D.sort(Lr);for(var H=[],Q=0,te=D;Q<te.length;Q+=1){var ie=te[Q];H.push({wrappedTileID:ie.tileID.wrapped().key,queryResults:ie.tile.queryRenderedFeatures(d,l,c._state,ie.queryGeometry,ie.cameraQueryGeometry,ie.scale,E,A,w,uo(c.transform,ie.tileID))})}var xe=function(Ne){for(var ye={},Me={},He=0,Je=Ne;He<Je.length;He+=1){var dt=Je[He],it=dt.queryResults,vt=dt.wrappedTileID,Nt=Me[vt]=Me[vt]||{};for(var Qt in it)for(var Yt=it[Qt],gr=Nt[Qt]=Nt[Qt]||{},kr=ye[Qt]=ye[Qt]||[],jr=0,Hr=Yt;jr<Hr.length;jr+=1){var Uo=Hr[jr];gr[Uo.featureIndex]||(gr[Uo.featureIndex]=!0,kr.push(Uo))}}return ye}(H);for(var me in xe)xe[me].forEach(function(Ne){var ye=Ne.feature,Me=c.getFeatureState(ye.layer["source-layer"],ye.id);ye.source=ye.layer.source,ye.layer["source-layer"]&&(ye.sourceLayer=ye.layer["source-layer"]),ye.state=Me});return xe}function Lr(c,d){var l=c.tileID,h=d.tileID;return l.overscaledZ-h.overscaledZ||l.canonical.y-h.canonical.y||l.wrap-h.wrap||l.canonical.x-h.canonical.x}var At=function(c,d){this.max=c,this.onRemove=d,this.reset()};At.prototype.reset=function(){for(var c in this.data)for(var d=0,l=this.data[c];d<l.length;d+=1){var h=l[d];h.timeout&&clearTimeout(h.timeout),this.onRemove(h.value)}return this.data={},this.order=[],this},At.prototype.add=function(c,d,l){var h=this,E=c.wrapped().key;this.data[E]===void 0&&(this.data[E]=[]);var A={value:d,timeout:void 0};if(l!==void 0&&(A.timeout=setTimeout(function(){h.remove(c,A)},l)),this.data[E].push(A),this.order.push(E),this.order.length>this.max){var T=this._getAndRemoveByKey(this.order[0]);T&&this.onRemove(T)}return this},At.prototype.has=function(c){return c.wrapped().key in this.data},At.prototype.getAndRemove=function(c){return this.has(c)?this._getAndRemoveByKey(c.wrapped().key):null},At.prototype._getAndRemoveByKey=function(c){var d=this.data[c].shift();return d.timeout&&clearTimeout(d.timeout),this.data[c].length===0&&delete this.data[c],this.order.splice(this.order.indexOf(c),1),d.value},At.prototype.getByKey=function(c){var d=this.data[c];return d?d[0].value:null},At.prototype.get=function(c){return this.has(c)?this.data[c.wrapped().key][0].value:null},At.prototype.remove=function(c,d){if(!this.has(c))return this;var l=c.wrapped().key,h=d===void 0?0:this.data[l].indexOf(d),E=this.data[l][h];return this.data[l].splice(h,1),E.timeout&&clearTimeout(E.timeout),this.data[l].length===0&&delete this.data[l],this.onRemove(E.value),this.order.splice(this.order.indexOf(l),1),this},At.prototype.setMaxSize=function(c){for(this.max=c;this.order.length>this.max;){var d=this._getAndRemoveByKey(this.order[0]);d&&this.onRemove(d)}return this},At.prototype.filter=function(c){var d=[];for(var l in this.data)for(var h=0,E=this.data[l];h<E.length;h+=1){var A=E[h];c(A.value)||d.push(A)}for(var T=0,w=d;T<w.length;T+=1){var D=w[T];this.remove(D.value.tileID,D)}};var lt=function(c,d,l){this.context=c;var h=c.gl;this.buffer=h.createBuffer(),this.dynamicDraw=!!l,this.context.unbindVAO(),c.bindElementBuffer.set(this.buffer),h.bufferData(h.ELEMENT_ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?h.DYNAMIC_DRAW:h.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer};lt.prototype.bind=function(){this.context.bindElementBuffer.set(this.buffer)},lt.prototype.updateData=function(c){var d=this.context.gl;this.context.unbindVAO(),this.bind(),d.bufferSubData(d.ELEMENT_ARRAY_BUFFER,0,c.arrayBuffer)},lt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var yr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"},bt=function(c,d,l,h){this.length=d.length,this.attributes=l,this.itemSize=d.bytesPerElement,this.dynamicDraw=h,this.context=c;var E=c.gl;this.buffer=E.createBuffer(),c.bindVertexBuffer.set(this.buffer),E.bufferData(E.ARRAY_BUFFER,d.arrayBuffer,this.dynamicDraw?E.DYNAMIC_DRAW:E.STATIC_DRAW),this.dynamicDraw||delete d.arrayBuffer};bt.prototype.bind=function(){this.context.bindVertexBuffer.set(this.buffer)},bt.prototype.updateData=function(c){var d=this.context.gl;this.bind(),d.bufferSubData(d.ARRAY_BUFFER,0,c.arrayBuffer)},bt.prototype.enableAttributes=function(c,d){for(var l=0;l<this.attributes.length;l++){var h=d.attributes[this.attributes[l].name];h!==void 0&&c.enableVertexAttribArray(h)}},bt.prototype.setVertexAttribPointers=function(c,d,l){for(var h=0;h<this.attributes.length;h++){var E=this.attributes[h],A=d.attributes[E.name];A!==void 0&&c.vertexAttribPointer(A,E.components,c[yr[E.type]],!1,this.itemSize,E.offset+this.itemSize*(l||0))}},bt.prototype.destroy=function(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)};var Fr=function(c){this.gl=c.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1};Fr.prototype.get=function(){return this.current},Fr.prototype.set=function(c){},Fr.prototype.getDefault=function(){return this.default},Fr.prototype.setDefault=function(){this.set(this.default)};var to=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return n.Color.transparent},d.prototype.set=function(l){var h=this.current;(l.r!==h.r||l.g!==h.g||l.b!==h.b||l.a!==h.a||this.dirty)&&(this.gl.clearColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},d}(Fr),Ir=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return 1},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearDepth(l),this.current=l,this.dirty=!1)},d}(Fr),wr=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return 0},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.clearStencil(l),this.current=l,this.dirty=!1)},d}(Fr),No=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return[!0,!0,!0,!0]},d.prototype.set=function(l){var h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||l[3]!==h[3]||this.dirty)&&(this.gl.colorMask(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},d}(Fr),Qr=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return!0},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthMask(l),this.current=l,this.dirty=!1)},d}(Fr),bi=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return 255},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.stencilMask(l),this.current=l,this.dirty=!1)},d}(Fr),ni=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return{func:this.gl.ALWAYS,ref:0,mask:255}},d.prototype.set=function(l){var h=this.current;(l.func!==h.func||l.ref!==h.ref||l.mask!==h.mask||this.dirty)&&(this.gl.stencilFunc(l.func,l.ref,l.mask),this.current=l,this.dirty=!1)},d}(Fr),oi=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){var l=this.gl;return[l.KEEP,l.KEEP,l.KEEP]},d.prototype.set=function(l){var h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||this.dirty)&&(this.gl.stencilOp(l[0],l[1],l[2]),this.current=l,this.dirty=!1)},d}(Fr),Wi=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;l?h.enable(h.STENCIL_TEST):h.disable(h.STENCIL_TEST),this.current=l,this.dirty=!1}},d}(Fr),ue=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return[0,1]},d.prototype.set=function(l){var h=this.current;(l[0]!==h[0]||l[1]!==h[1]||this.dirty)&&(this.gl.depthRange(l[0],l[1]),this.current=l,this.dirty=!1)},d}(Fr),Hn=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;l?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST),this.current=l,this.dirty=!1}},d}(Fr),ga=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.LESS},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.depthFunc(l),this.current=l,this.dirty=!1)},d}(Fr),Pn=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;l?h.enable(h.BLEND):h.disable(h.BLEND),this.current=l,this.dirty=!1}},d}(Fr),as=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){var l=this.gl;return[l.ONE,l.ZERO]},d.prototype.set=function(l){var h=this.current;(l[0]!==h[0]||l[1]!==h[1]||this.dirty)&&(this.gl.blendFunc(l[0],l[1]),this.current=l,this.dirty=!1)},d}(Fr),va=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return n.Color.transparent},d.prototype.set=function(l){var h=this.current;(l.r!==h.r||l.g!==h.g||l.b!==h.b||l.a!==h.a||this.dirty)&&(this.gl.blendColor(l.r,l.g,l.b,l.a),this.current=l,this.dirty=!1)},d}(Fr),fi=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.FUNC_ADD},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.blendEquation(l),this.current=l,this.dirty=!1)},d}(Fr),Mn=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;l?h.enable(h.CULL_FACE):h.disable(h.CULL_FACE),this.current=l,this.dirty=!1}},d}(Fr),Nn=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.BACK},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.cullFace(l),this.current=l,this.dirty=!1)},d}(Fr),Qn=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.CCW},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.frontFace(l),this.current=l,this.dirty=!1)},d}(Fr),ln=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.useProgram(l),this.current=l,this.dirty=!1)},d}(Fr),Ea=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return this.gl.TEXTURE0},d.prototype.set=function(l){(l!==this.current||this.dirty)&&(this.gl.activeTexture(l),this.current=l,this.dirty=!1)},d}(Fr),Ga=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){var l=this.gl;return[0,0,l.drawingBufferWidth,l.drawingBufferHeight]},d.prototype.set=function(l){var h=this.current;(l[0]!==h[0]||l[1]!==h[1]||l[2]!==h[2]||l[3]!==h[3]||this.dirty)&&(this.gl.viewport(l[0],l[1],l[2],l[3]),this.current=l,this.dirty=!1)},d}(Fr),ss=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;h.bindFramebuffer(h.FRAMEBUFFER,l),this.current=l,this.dirty=!1}},d}(Fr),Vs=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;h.bindRenderbuffer(h.RENDERBUFFER,l),this.current=l,this.dirty=!1}},d}(Fr),Hs=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;h.bindTexture(h.TEXTURE_2D,l),this.current=l,this.dirty=!1}},d}(Fr),gp=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;h.bindBuffer(h.ARRAY_BUFFER,l),this.current=l,this.dirty=!1}},d}(Fr),Gs=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){var h=this.gl;h.bindBuffer(h.ELEMENT_ARRAY_BUFFER,l),this.current=l,this.dirty=!1},d}(Fr),Ia=function(c){function d(l){c.call(this,l),this.vao=l.extVertexArrayObject}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d.prototype.set=function(l){this.vao&&(l!==this.current||this.dirty)&&(this.vao.bindVertexArrayOES(l),this.current=l,this.dirty=!1)},d}(Fr),Ma=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return 4},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;h.pixelStorei(h.UNPACK_ALIGNMENT,l),this.current=l,this.dirty=!1}},d}(Fr),gs=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;h.pixelStorei(h.UNPACK_PREMULTIPLY_ALPHA_WEBGL,l),this.current=l,this.dirty=!1}},d}(Fr),Zu=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return!1},d.prototype.set=function(l){if(l!==this.current||this.dirty){var h=this.gl;h.pixelStorei(h.UNPACK_FLIP_Y_WEBGL,l),this.current=l,this.dirty=!1}},d}(Fr),Wo=function(c){function d(l,h){c.call(this,l),this.context=l,this.parent=h}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.getDefault=function(){return null},d}(Fr),V=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.setDirty=function(){this.dirty=!0},d.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var h=this.gl;h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,l,0),this.current=l,this.dirty=!1}},d}(Wo),j=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.set=function(l){if(l!==this.current||this.dirty){this.context.bindFramebuffer.set(this.parent);var h=this.gl;h.framebufferRenderbuffer(h.FRAMEBUFFER,h.DEPTH_ATTACHMENT,h.RENDERBUFFER,l),this.current=l,this.dirty=!1}},d}(Wo),Z=function(c,d,l,h){this.context=c,this.width=d,this.height=l;var E=this.framebuffer=c.gl.createFramebuffer();this.colorAttachment=new V(c,E),h&&(this.depthAttachment=new j(c,E))};Z.prototype.destroy=function(){var c=this.context.gl,d=this.colorAttachment.get();if(d&&c.deleteTexture(d),this.depthAttachment){var l=this.depthAttachment.get();l&&c.deleteRenderbuffer(l)}c.deleteFramebuffer(this.framebuffer)};var se=function(c,d,l){this.func=c,this.mask=d,this.range=l};se.ReadOnly=!1,se.ReadWrite=!0,se.disabled=new se(519,se.ReadOnly,[0,1]);var ge=function(c,d,l,h,E,A){this.test=c,this.ref=d,this.mask=l,this.fail=h,this.depthFail=E,this.pass=A};ge.disabled=new ge({func:519,mask:0},0,0,7680,7680,7680);var ke=function(c,d,l){this.blendFunction=c,this.blendColor=d,this.mask=l};ke.disabled=new ke(ke.Replace=[1,0],n.Color.transparent,[!1,!1,!1,!1]),ke.unblended=new ke(ke.Replace,n.Color.transparent,[!0,!0,!0,!0]),ke.alphaBlended=new ke([1,771],n.Color.transparent,[!0,!0,!0,!0]);var Ge=function(c,d,l){this.enable=c,this.mode=d,this.frontFace=l};Ge.disabled=new Ge(!1,1029,2305),Ge.backCCW=new Ge(!0,1029,2305);var J=function(c){this.gl=c,this.extVertexArrayObject=this.gl.getExtension("OES_vertex_array_object"),this.clearColor=new to(this),this.clearDepth=new Ir(this),this.clearStencil=new wr(this),this.colorMask=new No(this),this.depthMask=new Qr(this),this.stencilMask=new bi(this),this.stencilFunc=new ni(this),this.stencilOp=new oi(this),this.stencilTest=new Wi(this),this.depthRange=new ue(this),this.depthTest=new Hn(this),this.depthFunc=new ga(this),this.blend=new Pn(this),this.blendFunc=new as(this),this.blendColor=new va(this),this.blendEquation=new fi(this),this.cullFace=new Mn(this),this.cullFaceSide=new Nn(this),this.frontFace=new Qn(this),this.program=new ln(this),this.activeTexture=new Ea(this),this.viewport=new Ga(this),this.bindFramebuffer=new ss(this),this.bindRenderbuffer=new Vs(this),this.bindTexture=new Hs(this),this.bindVertexBuffer=new gp(this),this.bindElementBuffer=new Gs(this),this.bindVertexArrayOES=this.extVertexArrayObject&&new Ia(this),this.pixelStoreUnpack=new Ma(this),this.pixelStoreUnpackPremultiplyAlpha=new gs(this),this.pixelStoreUnpackFlipY=new Zu(this),this.extTextureFilterAnisotropic=c.getExtension("EXT_texture_filter_anisotropic")||c.getExtension("MOZ_EXT_texture_filter_anisotropic")||c.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=c.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.extTextureHalfFloat=c.getExtension("OES_texture_half_float"),this.extTextureHalfFloat&&(c.getExtension("OES_texture_half_float_linear"),this.extRenderToTextureHalfFloat=c.getExtension("EXT_color_buffer_half_float")),this.extTimerQuery=c.getExtension("EXT_disjoint_timer_query"),this.maxTextureSize=c.getParameter(c.MAX_TEXTURE_SIZE)};J.prototype.setDefault=function(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()},J.prototype.setDirty=function(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.extVertexArrayObject&&(this.bindVertexArrayOES.dirty=!0),this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0},J.prototype.createIndexBuffer=function(c,d){return new lt(this,c,d)},J.prototype.createVertexBuffer=function(c,d,l){return new bt(this,c,d,l)},J.prototype.createRenderbuffer=function(c,d,l){var h=this.gl,E=h.createRenderbuffer();return this.bindRenderbuffer.set(E),h.renderbufferStorage(h.RENDERBUFFER,c,d,l),this.bindRenderbuffer.set(null),E},J.prototype.createFramebuffer=function(c,d,l){return new Z(this,c,d,l)},J.prototype.clear=function(c){var d=c.color,l=c.depth,h=this.gl,E=0;d&&(E|=h.COLOR_BUFFER_BIT,this.clearColor.set(d),this.colorMask.set([!0,!0,!0,!0])),l!==void 0&&(E|=h.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(l),this.depthMask.set(!0)),h.clear(E)},J.prototype.setCullFace=function(c){c.enable===!1?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(c.mode),this.frontFace.set(c.frontFace))},J.prototype.setDepthMode=function(c){c.func!==this.gl.ALWAYS||c.mask?(this.depthTest.set(!0),this.depthFunc.set(c.func),this.depthMask.set(c.mask),this.depthRange.set(c.range)):this.depthTest.set(!1)},J.prototype.setStencilMode=function(c){c.test.func!==this.gl.ALWAYS||c.mask?(this.stencilTest.set(!0),this.stencilMask.set(c.mask),this.stencilOp.set([c.fail,c.depthFail,c.pass]),this.stencilFunc.set({func:c.test.func,ref:c.ref,mask:c.test.mask})):this.stencilTest.set(!1)},J.prototype.setColorMode=function(c){n.deepEqual(c.blendFunction,ke.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(c.blendFunction),this.blendColor.set(c.blendColor)),this.colorMask.set(c.mask)},J.prototype.unbindVAO=function(){this.extVertexArrayObject&&this.bindVertexArrayOES.set(null)};var be=function(c){function d(l,h,E){var A=this;c.call(this),this.id=l,this.dispatcher=E,this.on("data",function(T){T.dataType==="source"&&T.sourceDataType==="metadata"&&(A._sourceLoaded=!0),A._sourceLoaded&&!A._paused&&T.dataType==="source"&&T.sourceDataType==="content"&&(A.reload(),A.transform&&A.update(A.transform))}),this.on("error",function(){A._sourceErrored=!0}),this._source=function(T,w,D,H){var Q=new Wt[w.type](T,w,D,H);if(Q.id!==T)throw new Error("Expected Source id to be "+T+" instead of "+Q.id);return n.bindAll(["load","abort","unload","serialize","prepare"],Q),Q}(l,h,E,this),this._tiles={},this._cache=new At(0,this._unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._maxTileCacheSize=null,this._loadedParentTiles={},this._coveredTiles={},this._state=new n.SourceFeatureState}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.onAdd=function(l){this.map=l,this._maxTileCacheSize=l?l._maxTileCacheSize:null,this._source&&this._source.onAdd&&this._source.onAdd(l)},d.prototype.onRemove=function(l){this._source&&this._source.onRemove&&this._source.onRemove(l)},d.prototype.loaded=function(){if(this._sourceErrored)return!0;if(!this._sourceLoaded||!this._source.loaded())return!1;for(var l in this._tiles){var h=this._tiles[l];if(h.state!=="loaded"&&h.state!=="errored")return!1}return!0},d.prototype.getSource=function(){return this._source},d.prototype.pause=function(){this._paused=!0},d.prototype.resume=function(){if(this._paused){var l=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,l&&this.reload(),this.transform&&this.update(this.transform)}},d.prototype._loadTile=function(l,h){return this._source.loadTile(l,h)},d.prototype._unloadTile=function(l){if(this._source.unloadTile)return this._source.unloadTile(l,function(){})},d.prototype._abortTile=function(l){if(this._source.abortTile)return this._source.abortTile(l,function(){})},d.prototype.serialize=function(){return this._source.serialize()},d.prototype.prepare=function(l){for(var h in this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._tiles,this.map?this.map.painter:null),this._tiles){var E=this._tiles[h];E.upload(l),E.prepare(this.map.style.imageManager)}},d.prototype.getIds=function(){return n.values(this._tiles).map(function(l){return l.tileID}).sort(Qe).map(function(l){return l.key})},d.prototype.getRenderableIds=function(l){var h=this,E=[];for(var A in this._tiles)this._isIdRenderable(A,l)&&E.push(this._tiles[A]);return l?E.sort(function(T,w){var D=T.tileID,H=w.tileID,Q=new n.Point(D.canonical.x,D.canonical.y)._rotate(h.transform.angle),te=new n.Point(H.canonical.x,H.canonical.y)._rotate(h.transform.angle);return D.overscaledZ-H.overscaledZ||te.y-Q.y||te.x-Q.x}).map(function(T){return T.tileID.key}):E.map(function(T){return T.tileID}).sort(Qe).map(function(T){return T.key})},d.prototype.hasRenderableParent=function(l){var h=this.findLoadedParent(l,0);return!!h&&this._isIdRenderable(h.tileID.key)},d.prototype._isIdRenderable=function(l,h){return this._tiles[l]&&this._tiles[l].hasData()&&!this._coveredTiles[l]&&(h||!this._tiles[l].holdingForFade())},d.prototype.reload=function(){if(this._paused)this._shouldReloadOnResume=!0;else for(var l in this._cache.reset(),this._tiles)this._tiles[l].state!=="errored"&&this._reloadTile(l,"reloading")},d.prototype._reloadTile=function(l,h){var E=this._tiles[l];E&&(E.state!=="loading"&&(E.state=h),this._loadTile(E,this._tileLoaded.bind(this,E,l,h)))},d.prototype._tileLoaded=function(l,h,E,A){if(A)return l.state="errored",void(A.status!==404?this._source.fire(new n.ErrorEvent(A,{tile:l})):this.update(this.transform));l.timeAdded=n.browser.now(),E==="expired"&&(l.refreshedUponExpiration=!0),this._setTileReloadTimer(h,l),this.getSource().type==="raster-dem"&&l.dem&&this._backfillDEM(l),this._state.initializeTileState(l,this.map?this.map.painter:null),this._source.fire(new n.Event("data",{dataType:"source",tile:l,coord:l.tileID}))},d.prototype._backfillDEM=function(l){for(var h=this.getRenderableIds(),E=0;E<h.length;E++){var A=h[E];if(l.neighboringTiles&&l.neighboringTiles[A]){var T=this.getTileByID(A);w(l,T),w(T,l)}}function w(D,H){D.needsHillshadePrepare=!0;var Q=H.tileID.canonical.x-D.tileID.canonical.x,te=H.tileID.canonical.y-D.tileID.canonical.y,ie=Math.pow(2,D.tileID.canonical.z),xe=H.tileID.key;Q===0&&te===0||Math.abs(te)>1||(Math.abs(Q)>1&&(Math.abs(Q+ie)===1?Q+=ie:Math.abs(Q-ie)===1&&(Q-=ie)),H.dem&&D.dem&&(D.dem.backfillBorder(H.dem,Q,te),D.neighboringTiles&&D.neighboringTiles[xe]&&(D.neighboringTiles[xe].backfilled=!0)))}},d.prototype.getTile=function(l){return this.getTileByID(l.key)},d.prototype.getTileByID=function(l){return this._tiles[l]},d.prototype._retainLoadedChildren=function(l,h,E,A){for(var T in this._tiles){var w=this._tiles[T];if(!(A[T]||!w.hasData()||w.tileID.overscaledZ<=h||w.tileID.overscaledZ>E)){for(var D=w.tileID;w&&w.tileID.overscaledZ>h+1;){var H=w.tileID.scaledTo(w.tileID.overscaledZ-1);(w=this._tiles[H.key])&&w.hasData()&&(D=H)}for(var Q=D;Q.overscaledZ>h;)if(l[(Q=Q.scaledTo(Q.overscaledZ-1)).key]){A[D.key]=D;break}}}},d.prototype.findLoadedParent=function(l,h){if(l.key in this._loadedParentTiles){var E=this._loadedParentTiles[l.key];return E&&E.tileID.overscaledZ>=h?E:null}for(var A=l.overscaledZ-1;A>=h;A--){var T=l.scaledTo(A),w=this._getLoadedTile(T);if(w)return w}},d.prototype._getLoadedTile=function(l){var h=this._tiles[l.key];return h&&h.hasData()?h:this._cache.getByKey(l.wrapped().key)},d.prototype.updateCacheSize=function(l){var h=Math.ceil(l.width/this._source.tileSize)+1,E=Math.ceil(l.height/this._source.tileSize)+1,A=Math.floor(h*E*5),T=typeof this._maxTileCacheSize=="number"?Math.min(this._maxTileCacheSize,A):A;this._cache.setMaxSize(T)},d.prototype.handleWrapJump=function(l){var h=Math.round((l-(this._prevLng===void 0?l:this._prevLng))/360);if(this._prevLng=l,h){var E={};for(var A in this._tiles){var T=this._tiles[A];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+h),E[T.tileID.key]=T}for(var w in this._tiles=E,this._timers)clearTimeout(this._timers[w]),delete this._timers[w];for(var D in this._tiles)this._setTileReloadTimer(D,this._tiles[D])}},d.prototype.update=function(l){var h=this;if(this.transform=l,this._sourceLoaded&&!this._paused){var E;this.updateCacheSize(l),this.handleWrapJump(this.transform.center.lng),this._coveredTiles={},this.used?this._source.tileID?E=l.getVisibleUnwrappedCoordinates(this._source.tileID).map(function(Nt){return new n.OverscaledTileID(Nt.canonical.z,Nt.wrap,Nt.canonical.z,Nt.canonical.x,Nt.canonical.y)}):(E=l.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(E=E.filter(function(Nt){return h._source.hasTile(Nt)}))):E=[];var A=l.coveringZoomLevel(this._source),T=Math.max(A-d.maxOverzooming,this._source.minzoom),w=Math.max(A+d.maxUnderzooming,this._source.minzoom),D=this._updateRetainedTiles(E,A);if(Ft(this._source.type)){for(var H={},Q={},te=0,ie=Object.keys(D);te<ie.length;te+=1){var xe=ie[te],me=D[xe],Ne=this._tiles[xe];if(Ne&&!(Ne.fadeEndTime&&Ne.fadeEndTime<=n.browser.now())){var ye=this.findLoadedParent(me,T);ye&&(this._addTile(ye.tileID),H[ye.tileID.key]=ye.tileID),Q[xe]=me}}for(var Me in this._retainLoadedChildren(Q,A,w,D),H)D[Me]||(this._coveredTiles[Me]=!0,D[Me]=H[Me])}for(var He in D)this._tiles[He].clearFadeHold();for(var Je=0,dt=n.keysDifference(this._tiles,D);Je<dt.length;Je+=1){var it=dt[Je],vt=this._tiles[it];vt.hasSymbolBuckets&&!vt.holdingForFade()?vt.setHoldDuration(this.map._fadeDuration):vt.hasSymbolBuckets&&!vt.symbolFadeFinished()||this._removeTile(it)}this._updateLoadedParentTileCache()}},d.prototype.releaseSymbolFadeTiles=function(){for(var l in this._tiles)this._tiles[l].holdingForFade()&&this._removeTile(l)},d.prototype._updateRetainedTiles=function(l,h){for(var E={},A={},T=Math.max(h-d.maxOverzooming,this._source.minzoom),w=Math.max(h+d.maxUnderzooming,this._source.minzoom),D={},H=0,Q=l;H<Q.length;H+=1){var te=Q[H],ie=this._addTile(te);E[te.key]=te,ie.hasData()||h<this._source.maxzoom&&(D[te.key]=te)}this._retainLoadedChildren(D,h,w,E);for(var xe=0,me=l;xe<me.length;xe+=1){var Ne=me[xe],ye=this._tiles[Ne.key];if(!ye.hasData()){if(h+1>this._source.maxzoom){var Me=Ne.children(this._source.maxzoom)[0],He=this.getTile(Me);if(He&&He.hasData()){E[Me.key]=Me;continue}}else{var Je=Ne.children(this._source.maxzoom);if(E[Je[0].key]&&E[Je[1].key]&&E[Je[2].key]&&E[Je[3].key])continue}for(var dt=ye.wasRequested(),it=Ne.overscaledZ-1;it>=T;--it){var vt=Ne.scaledTo(it);if(A[vt.key]||(A[vt.key]=!0,!(ye=this.getTile(vt))&&dt&&(ye=this._addTile(vt)),ye&&(E[vt.key]=vt,dt=ye.wasRequested(),ye.hasData())))break}}}return E},d.prototype._updateLoadedParentTileCache=function(){for(var l in this._loadedParentTiles={},this._tiles){for(var h=[],E=void 0,A=this._tiles[l].tileID;A.overscaledZ>0;){if(A.key in this._loadedParentTiles){E=this._loadedParentTiles[A.key];break}h.push(A.key);var T=A.scaledTo(A.overscaledZ-1);if(E=this._getLoadedTile(T))break;A=T}for(var w=0,D=h;w<D.length;w+=1)this._loadedParentTiles[D[w]]=E}},d.prototype._addTile=function(l){var h=this._tiles[l.key];if(h)return h;(h=this._cache.getAndRemove(l))&&(this._setTileReloadTimer(l.key,h),h.tileID=l,this._state.initializeTileState(h,this.map?this.map.painter:null),this._cacheTimers[l.key]&&(clearTimeout(this._cacheTimers[l.key]),delete this._cacheTimers[l.key],this._setTileReloadTimer(l.key,h)));var E=!!h;return E||(h=new n.Tile(l,this._source.tileSize*l.overscaleFactor()),this._loadTile(h,this._tileLoaded.bind(this,h,l.key,h.state))),h?(h.uses++,this._tiles[l.key]=h,E||this._source.fire(new n.Event("dataloading",{tile:h,coord:h.tileID,dataType:"source"})),h):null},d.prototype._setTileReloadTimer=function(l,h){var E=this;l in this._timers&&(clearTimeout(this._timers[l]),delete this._timers[l]);var A=h.getExpiryTimeout();A&&(this._timers[l]=setTimeout(function(){E._reloadTile(l,"expired"),delete E._timers[l]},A))},d.prototype._removeTile=function(l){var h=this._tiles[l];h&&(h.uses--,delete this._tiles[l],this._timers[l]&&(clearTimeout(this._timers[l]),delete this._timers[l]),h.uses>0||(h.hasData()&&h.state!=="reloading"?this._cache.add(h.tileID,h,h.getExpiryTimeout()):(h.aborted=!0,this._abortTile(h),this._unloadTile(h))))},d.prototype.clearTiles=function(){for(var l in this._shouldReloadOnResume=!1,this._paused=!1,this._tiles)this._removeTile(l);this._cache.reset()},d.prototype.tilesIn=function(l,h,E){var A=this,T=[],w=this.transform;if(!w)return T;for(var D=E?w.getCameraQueryGeometry(l):l,H=l.map(function(it){return w.pointCoordinate(it)}),Q=D.map(function(it){return w.pointCoordinate(it)}),te=this.getIds(),ie=1/0,xe=1/0,me=-1/0,Ne=-1/0,ye=0,Me=Q;ye<Me.length;ye+=1){var He=Me[ye];ie=Math.min(ie,He.x),xe=Math.min(xe,He.y),me=Math.max(me,He.x),Ne=Math.max(Ne,He.y)}for(var Je=function(it){var vt=A._tiles[te[it]];if(!vt.holdingForFade()){var Nt=vt.tileID,Qt=Math.pow(2,w.zoom-vt.tileID.overscaledZ),Yt=h*vt.queryPadding*n.EXTENT/vt.tileSize/Qt,gr=[Nt.getTilePoint(new n.MercatorCoordinate(ie,xe)),Nt.getTilePoint(new n.MercatorCoordinate(me,Ne))];if(gr[0].x-Yt<n.EXTENT&&gr[0].y-Yt<n.EXTENT&&gr[1].x+Yt>=0&&gr[1].y+Yt>=0){var kr=H.map(function(Hr){return Nt.getTilePoint(Hr)}),jr=Q.map(function(Hr){return Nt.getTilePoint(Hr)});T.push({tile:vt,tileID:Nt,queryGeometry:kr,cameraQueryGeometry:jr,scale:Qt})}}},dt=0;dt<te.length;dt++)Je(dt);return T},d.prototype.getVisibleCoordinates=function(l){for(var h=this,E=this.getRenderableIds(l).map(function(D){return h._tiles[D].tileID}),A=0,T=E;A<T.length;A+=1){var w=T[A];w.posMatrix=this.transform.calculatePosMatrix(w.toUnwrapped())}return E},d.prototype.hasTransition=function(){if(this._source.hasTransition())return!0;if(Ft(this._source.type))for(var l in this._tiles){var h=this._tiles[l];if(h.fadeEndTime!==void 0&&h.fadeEndTime>=n.browser.now())return!0}return!1},d.prototype.setFeatureState=function(l,h,E){this._state.updateState(l=l||"_geojsonTileLayer",h,E)},d.prototype.removeFeatureState=function(l,h,E){this._state.removeFeatureState(l=l||"_geojsonTileLayer",h,E)},d.prototype.getFeatureState=function(l,h){return this._state.getState(l=l||"_geojsonTileLayer",h)},d.prototype.setDependencies=function(l,h,E){var A=this._tiles[l];A&&A.setDependencies(h,E)},d.prototype.reloadTilesForDependencies=function(l,h){for(var E in this._tiles)this._tiles[E].hasDependency(l,h)&&this._reloadTile(E,"reloading");this._cache.filter(function(A){return!A.hasDependency(l,h)})},d}(n.Evented);function Qe(c,d){var l=Math.abs(2*c.wrap)-+(c.wrap<0),h=Math.abs(2*d.wrap)-+(d.wrap<0);return c.overscaledZ-d.overscaledZ||h-l||d.canonical.y-c.canonical.y||d.canonical.x-c.canonical.x}function Ft(c){return c==="raster"||c==="image"||c==="video"}function Gt(){return new n.window.Worker(Kc.workerUrl)}be.maxOverzooming=10,be.maxUnderzooming=3;var gt="mapboxgl_preloaded_worker_pool",Bt=function(){this.active={}};Bt.prototype.acquire=function(c){if(!this.workers)for(this.workers=[];this.workers.length<Bt.workerCount;)this.workers.push(new Gt);return this.active[c]=!0,this.workers.slice()},Bt.prototype.release=function(c){delete this.active[c],this.numActive()===0&&(this.workers.forEach(function(d){d.terminate()}),this.workers=null)},Bt.prototype.isPreloaded=function(){return!!this.active[gt]},Bt.prototype.numActive=function(){return Object.keys(this.active).length};var Sr,Ar=Math.floor(n.browser.hardwareConcurrency/2);function Et(){return Sr||(Sr=new Bt),Sr}function fr(c,d){var l={};for(var h in c)h!=="ref"&&(l[h]=c[h]);return n.refProperties.forEach(function(E){E in d&&(l[E]=d[E])}),l}function tr(c){c=c.slice();for(var d=Object.create(null),l=0;l<c.length;l++)d[c[l].id]=c[l];for(var h=0;h<c.length;h++)"ref"in c[h]&&(c[h]=fr(c[h],d[c[h].ref]));return c}Bt.workerCount=Math.max(Math.min(Ar,6),1);var or={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setGeoJSONSourceData:"setGeoJSONSourceData",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};function po(c,d,l){l.push({command:or.addSource,args:[c,d[c]]})}function lr(c,d,l){d.push({command:or.removeSource,args:[c]}),l[c]=!0}function So(c,d,l,h){lr(c,l,h),po(c,d,l)}function ei(c,d,l){var h;for(h in c[l])if(c[l].hasOwnProperty(h)&&h!=="data"&&!n.deepEqual(c[l][h],d[l][h]))return!1;for(h in d[l])if(d[l].hasOwnProperty(h)&&h!=="data"&&!n.deepEqual(c[l][h],d[l][h]))return!1;return!0}function Ao(c,d,l,h,E,A){var T;for(T in d=d||{},c=c||{})c.hasOwnProperty(T)&&(n.deepEqual(c[T],d[T])||l.push({command:A,args:[h,T,d[T],E]}));for(T in d)d.hasOwnProperty(T)&&!c.hasOwnProperty(T)&&(n.deepEqual(c[T],d[T])||l.push({command:A,args:[h,T,d[T],E]}))}function Do(c){return c.id}function co(c,d){return c[d.id]=d,c}var Vi=function(c,d){this.reset(c,d)};Vi.prototype.reset=function(c,d){this.points=c||[],this._distances=[0];for(var l=1;l<this.points.length;l++)this._distances[l]=this._distances[l-1]+this.points[l].dist(this.points[l-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(d||0,.5*this.length),this.paddedLength=this.length-2*this.padding},Vi.prototype.lerp=function(c){if(this.points.length===1)return this.points[0];c=n.clamp(c,0,1);for(var d=1,l=this._distances[d],h=c*this.paddedLength+this.padding;l<h&&d<this._distances.length;)l=this._distances[++d];var E=d-1,A=this._distances[E],T=l-A,w=T>0?(h-A)/T:0;return this.points[E].mult(1-w).add(this.points[d].mult(w))};var wo=function(c,d,l){var h=this.boxCells=[],E=this.circleCells=[];this.xCellCount=Math.ceil(c/l),this.yCellCount=Math.ceil(d/l);for(var A=0;A<this.xCellCount*this.yCellCount;A++)h.push([]),E.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=c,this.height=d,this.xScale=this.xCellCount/c,this.yScale=this.yCellCount/d,this.boxUid=0,this.circleUid=0};function ti(c,d,l,h,E){var A=n.create();return d?(n.scale(A,A,[1/E,1/E,1]),l||n.rotateZ(A,A,h.angle)):n.multiply(A,h.labelPlaneMatrix,c),A}function Vo(c,d,l,h,E){if(d){var A=n.clone(c);return n.scale(A,A,[E,E,1]),l||n.rotateZ(A,A,-h.angle),A}return h.glCoordMatrix}function lo(c,d){var l=[c.x,c.y,0,1];_i(l,l,d);var h=l[3];return{point:new n.Point(l[0]/h,l[1]/h),signedDistanceFromCamera:h}}function Fo(c,d){return .5+c/d*.5}function Dn(c,d){var l=c[0]/c[3],h=c[1]/c[3];return l>=-d[0]&&l<=d[0]&&h>=-d[1]&&h<=d[1]}function yu(c,d,l,h,E,A,T,w){var D=h?c.textSizeData:c.iconSizeData,H=n.evaluateSizeForZoom(D,l.transform.zoom),Q=[256/l.width*2+1,256/l.height*2+1],te=h?c.text.dynamicLayoutVertexArray:c.icon.dynamicLayoutVertexArray;te.clear();for(var ie=c.lineVertexArray,xe=h?c.text.placedSymbolArray:c.icon.placedSymbolArray,me=l.transform.width/l.transform.height,Ne=!1,ye=0;ye<xe.length;ye++){var Me=xe.get(ye);if(Me.hidden||Me.writingMode===n.WritingMode.vertical&&!Ne)dn(Me.numGlyphs,te);else{Ne=!1;var He=[Me.anchorX,Me.anchorY,0,1];if(n.transformMat4(He,He,d),Dn(He,Q)){var Je=Fo(l.transform.cameraToCenterDistance,He[3]),dt=n.evaluateSizeForFeature(D,H,Me),it=T?dt/Je:dt*Je,vt=new n.Point(Me.anchorX,Me.anchorY),Nt=lo(vt,E).point,Qt={},Yt=hu(Me,it,!1,w,d,E,A,c.glyphOffsetArray,ie,te,Nt,vt,Qt,me);Ne=Yt.useVertical,(Yt.notEnoughRoom||Ne||Yt.needsFlipping&&hu(Me,it,!0,w,d,E,A,c.glyphOffsetArray,ie,te,Nt,vt,Qt,me).notEnoughRoom)&&dn(Me.numGlyphs,te)}else dn(Me.numGlyphs,te)}}h?c.text.dynamicLayoutVertexBuffer.updateData(te):c.icon.dynamicLayoutVertexBuffer.updateData(te)}function Oi(c,d,l,h,E,A,T,w,D,H,Q){var te=w.glyphStartIndex+w.numGlyphs,ie=w.lineStartIndex,xe=w.lineStartIndex+w.lineLength,me=d.getoffsetX(w.glyphStartIndex),Ne=d.getoffsetX(te-1),ye=mi(c*me,l,h,E,A,T,w.segment,ie,xe,D,H,Q);if(!ye)return null;var Me=mi(c*Ne,l,h,E,A,T,w.segment,ie,xe,D,H,Q);return Me?{first:ye,last:Me}:null}function vi(c,d,l,h){return c===n.WritingMode.horizontal&&Math.abs(l.y-d.y)>Math.abs(l.x-d.x)*h?{useVertical:!0}:(c===n.WritingMode.vertical?d.y<l.y:d.x>l.x)?{needsFlipping:!0}:null}function hu(c,d,l,h,E,A,T,w,D,H,Q,te,ie,xe){var me,Ne=d/24,ye=c.lineOffsetX*Ne,Me=c.lineOffsetY*Ne;if(c.numGlyphs>1){var He=c.glyphStartIndex+c.numGlyphs,Je=c.lineStartIndex,dt=c.lineStartIndex+c.lineLength,it=Oi(Ne,w,ye,Me,l,Q,te,c,D,A,ie);if(!it)return{notEnoughRoom:!0};var vt=lo(it.first.point,T).point,Nt=lo(it.last.point,T).point;if(h&&!l){var Qt=vi(c.writingMode,vt,Nt,xe);if(Qt)return Qt}me=[it.first];for(var Yt=c.glyphStartIndex+1;Yt<He-1;Yt++)me.push(mi(Ne*w.getoffsetX(Yt),ye,Me,l,Q,te,c.segment,Je,dt,D,A,ie));me.push(it.last)}else{if(h&&!l){var gr=lo(te,E).point,kr=c.lineStartIndex+c.segment+1,jr=new n.Point(D.getx(kr),D.gety(kr)),Hr=lo(jr,E),Uo=Hr.signedDistanceFromCamera>0?Hr.point:ja(te,jr,gr,1,E),Pr=vi(c.writingMode,gr,Uo,xe);if(Pr)return Pr}var ao=mi(Ne*w.getoffsetX(c.glyphStartIndex),ye,Me,l,Q,te,c.segment,c.lineStartIndex,c.lineStartIndex+c.lineLength,D,A,ie);if(!ao)return{notEnoughRoom:!0};me=[ao]}for(var mo=0,ro=me;mo<ro.length;mo+=1){var Jr=ro[mo];n.addDynamicAttributes(H,Jr.point,Jr.angle)}return{}}function ja(c,d,l,h,E){var A=lo(c.add(c.sub(d)._unit()),E).point,T=l.sub(A);return l.add(T._mult(h/T.mag()))}function mi(c,d,l,h,E,A,T,w,D,H,Q,te){var ie=h?c-d:c+d,xe=ie>0?1:-1,me=0;h&&(xe*=-1,me=Math.PI),xe<0&&(me+=Math.PI);for(var Ne=xe>0?w+T:w+T+1,ye=E,Me=E,He=0,Je=0,dt=Math.abs(ie),it=[];He+Je<=dt;){if((Ne+=xe)<w||Ne>=D)return null;if(Me=ye,it.push(ye),(ye=te[Ne])===void 0){var vt=new n.Point(H.getx(Ne),H.gety(Ne)),Nt=lo(vt,Q);if(Nt.signedDistanceFromCamera>0)ye=te[Ne]=Nt.point;else{var Qt=Ne-xe;ye=ja(He===0?A:new n.Point(H.getx(Qt),H.gety(Qt)),vt,Me,dt-He+1,Q)}}He+=Je,Je=Me.dist(ye)}var Yt=(dt-He)/Je,gr=ye.sub(Me),kr=gr.mult(Yt)._add(Me);kr._add(gr._unit()._perp()._mult(l*xe));var jr=me+Math.atan2(ye.y-Me.y,ye.x-Me.x);return it.push(kr),{point:kr,angle:jr,path:it}}wo.prototype.keysLength=function(){return this.boxKeys.length+this.circleKeys.length},wo.prototype.insert=function(c,d,l,h,E){this._forEachCell(d,l,h,E,this._insertBoxCell,this.boxUid++),this.boxKeys.push(c),this.bboxes.push(d),this.bboxes.push(l),this.bboxes.push(h),this.bboxes.push(E)},wo.prototype.insertCircle=function(c,d,l,h){this._forEachCell(d-h,l-h,d+h,l+h,this._insertCircleCell,this.circleUid++),this.circleKeys.push(c),this.circles.push(d),this.circles.push(l),this.circles.push(h)},wo.prototype._insertBoxCell=function(c,d,l,h,E,A){this.boxCells[E].push(A)},wo.prototype._insertCircleCell=function(c,d,l,h,E,A){this.circleCells[E].push(A)},wo.prototype._query=function(c,d,l,h,E,A){if(l<0||c>this.width||h<0||d>this.height)return!E&&[];var T=[];if(c<=0&&d<=0&&this.width<=l&&this.height<=h){if(E)return!0;for(var w=0;w<this.boxKeys.length;w++)T.push({key:this.boxKeys[w],x1:this.bboxes[4*w],y1:this.bboxes[4*w+1],x2:this.bboxes[4*w+2],y2:this.bboxes[4*w+3]});for(var D=0;D<this.circleKeys.length;D++){var H=this.circles[3*D],Q=this.circles[3*D+1],te=this.circles[3*D+2];T.push({key:this.circleKeys[D],x1:H-te,y1:Q-te,x2:H+te,y2:Q+te})}return A?T.filter(A):T}return this._forEachCell(c,d,l,h,this._queryCell,T,{hitTest:E,seenUids:{box:{},circle:{}}},A),E?T.length>0:T},wo.prototype._queryCircle=function(c,d,l,h,E){var A=c-l,T=c+l,w=d-l,D=d+l;if(T<0||A>this.width||D<0||w>this.height)return!h&&[];var H=[];return this._forEachCell(A,w,T,D,this._queryCellCircle,H,{hitTest:h,circle:{x:c,y:d,radius:l},seenUids:{box:{},circle:{}}},E),h?H.length>0:H},wo.prototype.query=function(c,d,l,h,E){return this._query(c,d,l,h,!1,E)},wo.prototype.hitTest=function(c,d,l,h,E){return this._query(c,d,l,h,!0,E)},wo.prototype.hitTestCircle=function(c,d,l,h){return this._queryCircle(c,d,l,!0,h)},wo.prototype._queryCell=function(c,d,l,h,E,A,T,w){var D=T.seenUids,H=this.boxCells[E];if(H!==null)for(var Q=this.bboxes,te=0,ie=H;te<ie.length;te+=1){var xe=ie[te];if(!D.box[xe]){D.box[xe]=!0;var me=4*xe;if(c<=Q[me+2]&&d<=Q[me+3]&&l>=Q[me+0]&&h>=Q[me+1]&&(!w||w(this.boxKeys[xe]))){if(T.hitTest)return A.push(!0),!0;A.push({key:this.boxKeys[xe],x1:Q[me],y1:Q[me+1],x2:Q[me+2],y2:Q[me+3]})}}}var Ne=this.circleCells[E];if(Ne!==null)for(var ye=this.circles,Me=0,He=Ne;Me<He.length;Me+=1){var Je=He[Me];if(!D.circle[Je]){D.circle[Je]=!0;var dt=3*Je;if(this._circleAndRectCollide(ye[dt],ye[dt+1],ye[dt+2],c,d,l,h)&&(!w||w(this.circleKeys[Je]))){if(T.hitTest)return A.push(!0),!0;var it=ye[dt],vt=ye[dt+1],Nt=ye[dt+2];A.push({key:this.circleKeys[Je],x1:it-Nt,y1:vt-Nt,x2:it+Nt,y2:vt+Nt})}}}},wo.prototype._queryCellCircle=function(c,d,l,h,E,A,T,w){var D=T.circle,H=T.seenUids,Q=this.boxCells[E];if(Q!==null)for(var te=this.bboxes,ie=0,xe=Q;ie<xe.length;ie+=1){var me=xe[ie];if(!H.box[me]){H.box[me]=!0;var Ne=4*me;if(this._circleAndRectCollide(D.x,D.y,D.radius,te[Ne+0],te[Ne+1],te[Ne+2],te[Ne+3])&&(!w||w(this.boxKeys[me])))return A.push(!0),!0}}var ye=this.circleCells[E];if(ye!==null)for(var Me=this.circles,He=0,Je=ye;He<Je.length;He+=1){var dt=Je[He];if(!H.circle[dt]){H.circle[dt]=!0;var it=3*dt;if(this._circlesCollide(Me[it],Me[it+1],Me[it+2],D.x,D.y,D.radius)&&(!w||w(this.circleKeys[dt])))return A.push(!0),!0}}},wo.prototype._forEachCell=function(c,d,l,h,E,A,T,w){for(var D=this._convertToXCellCoord(c),H=this._convertToYCellCoord(d),Q=this._convertToXCellCoord(l),te=this._convertToYCellCoord(h),ie=D;ie<=Q;ie++)for(var xe=H;xe<=te;xe++)if(E.call(this,c,d,l,h,this.xCellCount*xe+ie,A,T,w))return},wo.prototype._convertToXCellCoord=function(c){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(c*this.xScale)))},wo.prototype._convertToYCellCoord=function(c){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(c*this.yScale)))},wo.prototype._circlesCollide=function(c,d,l,h,E,A){var T=h-c,w=E-d,D=l+A;return D*D>T*T+w*w},wo.prototype._circleAndRectCollide=function(c,d,l,h,E,A,T){var w=(A-h)/2,D=Math.abs(c-(h+w));if(D>w+l)return!1;var H=(T-E)/2,Q=Math.abs(d-(E+H));if(Q>H+l)return!1;if(D<=w||Q<=H)return!0;var te=D-w,ie=Q-H;return te*te+ie*ie<=l*l};var js=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function dn(c,d){for(var l=0;l<c;l++){var h=d.length;d.resize(h+4),d.float32.set(js,3*h)}}function _i(c,d,l){var h=d[0],E=d[1];return c[0]=l[0]*h+l[4]*E+l[12],c[1]=l[1]*h+l[5]*E+l[13],c[3]=l[3]*h+l[7]*E+l[15],c}var Hi=function(c,d,l){d===void 0&&(d=new wo(c.width+200,c.height+200,25)),l===void 0&&(l=new wo(c.width+200,c.height+200,25)),this.transform=c,this.grid=d,this.ignoredGrid=l,this.pitchfactor=Math.cos(c._pitch)*c.cameraToCenterDistance,this.screenRightBoundary=c.width+100,this.screenBottomBoundary=c.height+100,this.gridRightBoundary=c.width+200,this.gridBottomBoundary=c.height+200};function pi(c,d,l){return d*(n.EXTENT/(c.tileSize*Math.pow(2,l-c.tileID.overscaledZ)))}Hi.prototype.placeCollisionBox=function(c,d,l,h,E){var A=this.projectAndGetPerspectiveRatio(h,c.anchorPointX,c.anchorPointY),T=l*A.perspectiveRatio,w=c.x1*T+A.point.x,D=c.y1*T+A.point.y,H=c.x2*T+A.point.x,Q=c.y2*T+A.point.y;return!this.isInsideGrid(w,D,H,Q)||!d&&this.grid.hitTest(w,D,H,Q,E)?{box:[],offscreen:!1}:{box:[w,D,H,Q],offscreen:this.isOffscreen(w,D,H,Q)}},Hi.prototype.placeCollisionCircles=function(c,d,l,h,E,A,T,w,D,H,Q,te,ie){var xe=[],me=new n.Point(d.anchorX,d.anchorY),Ne=lo(me,A),ye=Fo(this.transform.cameraToCenterDistance,Ne.signedDistanceFromCamera),Me=(H?E/ye:E*ye)/n.ONE_EM,He=lo(me,T).point,Je=Oi(Me,h,d.lineOffsetX*Me,d.lineOffsetY*Me,!1,He,me,d,l,T,{}),dt=!1,it=!1,vt=!0;if(Je){for(var Nt=.5*te*ye+ie,Qt=new n.Point(-100,-100),Yt=new n.Point(this.screenRightBoundary,this.screenBottomBoundary),gr=new Vi,kr=Je.first,jr=Je.last,Hr=[],Uo=kr.path.length-1;Uo>=1;Uo--)Hr.push(kr.path[Uo]);for(var Pr=1;Pr<jr.path.length;Pr++)Hr.push(jr.path[Pr]);var ao=2.5*Nt;if(w){var mo=Hr.map(function(Sa){return lo(Sa,w)});Hr=mo.some(function(Sa){return Sa.signedDistanceFromCamera<=0})?[]:mo.map(function(Sa){return Sa.point})}var ro=[];if(Hr.length>0){for(var Jr=Hr[0].clone(),yo=Hr[0].clone(),eo=1;eo<Hr.length;eo++)Jr.x=Math.min(Jr.x,Hr[eo].x),Jr.y=Math.min(Jr.y,Hr[eo].y),yo.x=Math.max(yo.x,Hr[eo].x),yo.y=Math.max(yo.y,Hr[eo].y);ro=Jr.x>=Qt.x&&yo.x<=Yt.x&&Jr.y>=Qt.y&&yo.y<=Yt.y?[Hr]:yo.x<Qt.x||Jr.x>Yt.x||yo.y<Qt.y||Jr.y>Yt.y?[]:n.clipLine([Hr],Qt.x,Qt.y,Yt.x,Yt.y)}for(var $r=0,$i=ro;$r<$i.length;$r+=1){var wi;gr.reset($i[$r],.25*Nt),wi=gr.length<=.5*Nt?1:Math.ceil(gr.paddedLength/ao)+1;for(var Fn=0;Fn<wi;Fn++){var mn=Fn/Math.max(wi-1,1),Ti=gr.lerp(mn),Ci=Ti.x+100,ra=Ti.y+100;xe.push(Ci,ra,Nt,0);var Xn=Ci-Nt,Rs=ra-Nt,oa=Ci+Nt,Qa=ra+Nt;if(vt=vt&&this.isOffscreen(Xn,Rs,oa,Qa),it=it||this.isInsideGrid(Xn,Rs,oa,Qa),!c&&this.grid.hitTestCircle(Ci,ra,Nt,Q)&&(dt=!0,!D))return{circles:[],offscreen:!1,collisionDetected:dt}}}}return{circles:!D&&dt||!it?[]:xe,offscreen:vt,collisionDetected:dt}},Hi.prototype.queryRenderedSymbols=function(c){if(c.length===0||this.grid.keysLength()===0&&this.ignoredGrid.keysLength()===0)return{};for(var d=[],l=1/0,h=1/0,E=-1/0,A=-1/0,T=0,w=c;T<w.length;T+=1){var D=w[T],H=new n.Point(D.x+100,D.y+100);l=Math.min(l,H.x),h=Math.min(h,H.y),E=Math.max(E,H.x),A=Math.max(A,H.y),d.push(H)}for(var Q={},te={},ie=0,xe=this.grid.query(l,h,E,A).concat(this.ignoredGrid.query(l,h,E,A));ie<xe.length;ie+=1){var me=xe[ie],Ne=me.key;if(Q[Ne.bucketInstanceId]===void 0&&(Q[Ne.bucketInstanceId]={}),!Q[Ne.bucketInstanceId][Ne.featureIndex]){var ye=[new n.Point(me.x1,me.y1),new n.Point(me.x2,me.y1),new n.Point(me.x2,me.y2),new n.Point(me.x1,me.y2)];n.polygonIntersectsPolygon(d,ye)&&(Q[Ne.bucketInstanceId][Ne.featureIndex]=!0,te[Ne.bucketInstanceId]===void 0&&(te[Ne.bucketInstanceId]=[]),te[Ne.bucketInstanceId].push(Ne.featureIndex))}}return te},Hi.prototype.insertCollisionBox=function(c,d,l,h,E){(d?this.ignoredGrid:this.grid).insert({bucketInstanceId:l,featureIndex:h,collisionGroupID:E},c[0],c[1],c[2],c[3])},Hi.prototype.insertCollisionCircles=function(c,d,l,h,E){for(var A=d?this.ignoredGrid:this.grid,T={bucketInstanceId:l,featureIndex:h,collisionGroupID:E},w=0;w<c.length;w+=4)A.insertCircle(T,c[w],c[w+1],c[w+2])},Hi.prototype.projectAndGetPerspectiveRatio=function(c,d,l){var h=[d,l,0,1];return _i(h,h,c),{point:new n.Point((h[0]/h[3]+1)/2*this.transform.width+100,(-h[1]/h[3]+1)/2*this.transform.height+100),perspectiveRatio:.5+this.transform.cameraToCenterDistance/h[3]*.5}},Hi.prototype.isOffscreen=function(c,d,l,h){return l<100||c>=this.screenRightBoundary||h<100||d>this.screenBottomBoundary},Hi.prototype.isInsideGrid=function(c,d,l,h){return l>=0&&c<this.gridRightBoundary&&h>=0&&d<this.gridBottomBoundary},Hi.prototype.getViewportMatrix=function(){var c=n.identity([]);return n.translate(c,c,[-100,-100,0]),c};var Jn=function(c,d,l,h){this.opacity=c?Math.max(0,Math.min(1,c.opacity+(c.placed?d:-d))):h&&l?1:0,this.placed=l};Jn.prototype.isHidden=function(){return this.opacity===0&&!this.placed};var Gn=function(c,d,l,h,E){this.text=new Jn(c?c.text:null,d,l,E),this.icon=new Jn(c?c.icon:null,d,h,E)};Gn.prototype.isHidden=function(){return this.text.isHidden()&&this.icon.isHidden()};var qp=function(c,d,l){this.text=c,this.icon=d,this.skipFade=l},xa=function(){this.invProjMatrix=n.create(),this.viewportMatrix=n.create(),this.circles=[]},Sl=function(c,d,l,h,E){this.bucketInstanceId=c,this.featureIndex=d,this.sourceLayerIndex=l,this.bucketIndex=h,this.tileID=E},q=function(c){this.crossSourceCollisions=c,this.maxGroupID=0,this.collisionGroups={}};function ne(c,d,l,h,E){var A=n.getAnchorAlignment(c),T=-(A.horizontalAlign-.5)*d,w=-(A.verticalAlign-.5)*l,D=n.evaluateVariableOffset(c,h);return new n.Point(T+D[0]*E,w+D[1]*E)}function Le(c,d,l,h,E,A){var T=c.x1,w=c.x2,D=c.y1,H=c.y2,Q=c.anchorPointX,te=c.anchorPointY,ie=new n.Point(d,l);return h&&ie._rotate(E?A:-A),{x1:T+ie.x,y1:D+ie.y,x2:w+ie.x,y2:H+ie.y,anchorPointX:Q,anchorPointY:te}}q.prototype.get=function(c){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[c]){var d=++this.maxGroupID;this.collisionGroups[c]={ID:d,predicate:function(l){return l.collisionGroupID===d}}}return this.collisionGroups[c]};var ut=function(c,d,l,h){this.transform=c.clone(),this.collisionIndex=new Hi(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=d,this.retainedQueryData={},this.collisionGroups=new q(l),this.collisionCircleArrays={},this.prevPlacement=h,h&&(h.prevPlacement=void 0),this.placedOrientations={}};function Kt(c,d,l,h,E){c.emplaceBack(d?1:0,l?1:0,h||0,E||0),c.emplaceBack(d?1:0,l?1:0,h||0,E||0),c.emplaceBack(d?1:0,l?1:0,h||0,E||0),c.emplaceBack(d?1:0,l?1:0,h||0,E||0)}ut.prototype.getBucketParts=function(c,d,l,h){var E=l.getBucket(d),A=l.latestFeatureIndex;if(E&&A&&d.id===E.layerIds[0]){var T=l.collisionBoxArray,w=E.layers[0].layout,D=Math.pow(2,this.transform.zoom-l.tileID.overscaledZ),H=l.tileSize/n.EXTENT,Q=this.transform.calculatePosMatrix(l.tileID.toUnwrapped()),te=w.get("text-pitch-alignment")==="map",ie=w.get("text-rotation-alignment")==="map",xe=pi(l,1,this.transform.zoom),me=ti(Q,te,ie,this.transform,xe),Ne=null;if(te){var ye=Vo(Q,te,ie,this.transform,xe);Ne=n.multiply([],this.transform.labelPlaneMatrix,ye)}this.retainedQueryData[E.bucketInstanceId]=new Sl(E.bucketInstanceId,A,E.sourceLayerIndex,E.index,l.tileID);var Me={bucket:E,layout:w,posMatrix:Q,textLabelPlaneMatrix:me,labelToScreenMatrix:Ne,scale:D,textPixelRatio:H,holdingForFade:l.holdingForFade(),collisionBoxArray:T,partiallyEvaluatedTextSize:n.evaluateSizeForZoom(E.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(E.sourceID)};if(h)for(var He=0,Je=E.sortKeyRanges;He<Je.length;He+=1){var dt=Je[He];c.push({sortKey:dt.sortKey,symbolInstanceStart:dt.symbolInstanceStart,symbolInstanceEnd:dt.symbolInstanceEnd,parameters:Me})}else c.push({symbolInstanceStart:0,symbolInstanceEnd:E.symbolInstances.length,parameters:Me})}},ut.prototype.attemptAnchorPlacement=function(c,d,l,h,E,A,T,w,D,H,Q,te,ie,xe,me){var Ne,ye=[te.textOffset0,te.textOffset1],Me=ne(c,l,h,ye,E),He=this.collisionIndex.placeCollisionBox(Le(d,Me.x,Me.y,A,T,this.transform.angle),Q,w,D,H.predicate);if(!me||this.collisionIndex.placeCollisionBox(Le(me,Me.x,Me.y,A,T,this.transform.angle),Q,w,D,H.predicate).box.length!==0)return He.box.length>0?(this.prevPlacement&&this.prevPlacement.variableOffsets[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID]&&this.prevPlacement.placements[te.crossTileID].text&&(Ne=this.prevPlacement.variableOffsets[te.crossTileID].anchor),this.variableOffsets[te.crossTileID]={textOffset:ye,width:l,height:h,anchor:c,textBoxScale:E,prevAnchor:Ne},this.markUsedJustification(ie,c,te,xe),ie.allowVerticalPlacement&&(this.markUsedOrientation(ie,xe,te),this.placedOrientations[te.crossTileID]=xe),{shift:Me,placedGlyphBoxes:He}):void 0},ut.prototype.placeLayerBucketPart=function(c,d,l){var h=this,E=c.parameters,A=E.bucket,T=E.layout,w=E.posMatrix,D=E.textLabelPlaneMatrix,H=E.labelToScreenMatrix,Q=E.textPixelRatio,te=E.holdingForFade,ie=E.collisionBoxArray,xe=E.partiallyEvaluatedTextSize,me=E.collisionGroup,Ne=T.get("text-optional"),ye=T.get("icon-optional"),Me=T.get("text-allow-overlap"),He=T.get("icon-allow-overlap"),Je=T.get("text-rotation-alignment")==="map",dt=T.get("text-pitch-alignment")==="map",it=T.get("icon-text-fit")!=="none",vt=T.get("symbol-z-order")==="viewport-y",Nt=Me&&(He||!A.hasIconData()||ye),Qt=He&&(Me||!A.hasTextData()||Ne);!A.collisionArrays&&ie&&A.deserializeCollisionBoxes(ie);var Yt=function(Pr,ao){if(!d[Pr.crossTileID])if(te)h.placements[Pr.crossTileID]=new qp(!1,!1,!1);else{var mo,ro=!1,Jr=!1,yo=!0,eo=null,$r={box:null,offscreen:null},$i={box:null,offscreen:null},wi=null,Fn=null,mn=0,Ti=0,Ci=0;ao.textFeatureIndex?mn=ao.textFeatureIndex:Pr.useRuntimeCollisionCircles&&(mn=Pr.featureIndex),ao.verticalTextFeatureIndex&&(Ti=ao.verticalTextFeatureIndex);var ra=ao.textBox;if(ra){var Xn=function(Mo){var Tn=n.WritingMode.horizontal;if(A.allowVerticalPlacement&&!Mo&&h.prevPlacement){var Ki=h.prevPlacement.placedOrientations[Pr.crossTileID];Ki&&(h.placedOrientations[Pr.crossTileID]=Ki,h.markUsedOrientation(A,Tn=Ki,Pr))}return Tn},Rs=function(Mo,Tn){if(A.allowVerticalPlacement&&Pr.numVerticalGlyphVertices>0&&ao.verticalTextBox)for(var Ki=0,Cs=A.writingModes;Ki<Cs.length&&(Cs[Ki]===n.WritingMode.vertical?($r=Tn(),$i=$r):$r=Mo(),!($r&&$r.box&&$r.box.length));Ki+=1);else $r=Mo()};if(T.get("text-variable-anchor")){var oa=T.get("text-variable-anchor");if(h.prevPlacement&&h.prevPlacement.variableOffsets[Pr.crossTileID]){var Qa=h.prevPlacement.variableOffsets[Pr.crossTileID];oa.indexOf(Qa.anchor)>0&&(oa=oa.filter(function(Mo){return Mo!==Qa.anchor})).unshift(Qa.anchor)}var Sa=function(Mo,Tn,Ki){for(var Cs=Mo.x2-Mo.x1,Qc=Mo.y2-Mo.y1,Ou=Pr.textBoxScale,ql=it&&!He?Tn:null,ip={box:[],offscreen:!1},np=Me?2*oa.length:oa.length,ys=0;ys<np;++ys){var Jc=h.attemptAnchorPlacement(oa[ys%oa.length],Mo,Cs,Qc,Ou,Je,dt,Q,w,me,ys>=oa.length,Pr,A,Ki,ql);if(Jc&&(ip=Jc.placedGlyphBoxes)&&ip.box&&ip.box.length){ro=!0,eo=Jc.shift;break}}return ip};Rs(function(){return Sa(ra,ao.iconBox,n.WritingMode.horizontal)},function(){var Mo=ao.verticalTextBox;return A.allowVerticalPlacement&&!($r&&$r.box&&$r.box.length)&&Pr.numVerticalGlyphVertices>0&&Mo?Sa(Mo,ao.verticalIconBox,n.WritingMode.vertical):{box:null,offscreen:null}}),$r&&(ro=$r.box,yo=$r.offscreen);var Cp=Xn($r&&$r.box);if(!ro&&h.prevPlacement){var op=h.prevPlacement.variableOffsets[Pr.crossTileID];op&&(h.variableOffsets[Pr.crossTileID]=op,h.markUsedJustification(A,op.anchor,Pr,Cp))}}else{var ws=function(Mo,Tn){var Ki=h.collisionIndex.placeCollisionBox(Mo,Me,Q,w,me.predicate);return Ki&&Ki.box&&Ki.box.length&&(h.markUsedOrientation(A,Tn,Pr),h.placedOrientations[Pr.crossTileID]=Tn),Ki};Rs(function(){return ws(ra,n.WritingMode.horizontal)},function(){var Mo=ao.verticalTextBox;return A.allowVerticalPlacement&&Pr.numVerticalGlyphVertices>0&&Mo?ws(Mo,n.WritingMode.vertical):{box:null,offscreen:null}}),Xn($r&&$r.box&&$r.box.length)}}if(ro=(mo=$r)&&mo.box&&mo.box.length>0,yo=mo&&mo.offscreen,Pr.useRuntimeCollisionCircles){var Nu=A.text.placedSymbolArray.get(Pr.centerJustifiedTextSymbolIndex),ru=n.evaluateSizeForFeature(A.textSizeData,xe,Nu),ls=T.get("text-padding");wi=h.collisionIndex.placeCollisionCircles(Me,Nu,A.lineVertexArray,A.glyphOffsetArray,ru,w,D,H,l,dt,me.predicate,Pr.collisionCircleDiameter,ls),ro=Me||wi.circles.length>0&&!wi.collisionDetected,yo=yo&&wi.offscreen}if(ao.iconFeatureIndex&&(Ci=ao.iconFeatureIndex),ao.iconBox){var Du=function(Mo){var Tn=it&&eo?Le(Mo,eo.x,eo.y,Je,dt,h.transform.angle):Mo;return h.collisionIndex.placeCollisionBox(Tn,He,Q,w,me.predicate)};Jr=$i&&$i.box&&$i.box.length&&ao.verticalIconBox?(Fn=Du(ao.verticalIconBox)).box.length>0:(Fn=Du(ao.iconBox)).box.length>0,yo=yo&&Fn.offscreen}var Bn=Ne||Pr.numHorizontalGlyphVertices===0&&Pr.numVerticalGlyphVertices===0,Ui=ye||Pr.numIconVertices===0;if(Bn||Ui?Ui?Bn||(Jr=Jr&&ro):ro=Jr&&ro:Jr=ro=Jr&&ro,ro&&mo&&mo.box&&h.collisionIndex.insertCollisionBox(mo.box,T.get("text-ignore-placement"),A.bucketInstanceId,$i&&$i.box&&Ti?Ti:mn,me.ID),Jr&&Fn&&h.collisionIndex.insertCollisionBox(Fn.box,T.get("icon-ignore-placement"),A.bucketInstanceId,Ci,me.ID),wi&&(ro&&h.collisionIndex.insertCollisionCircles(wi.circles,T.get("text-ignore-placement"),A.bucketInstanceId,mn,me.ID),l)){var ca=A.bucketInstanceId,Ja=h.collisionCircleArrays[ca];Ja===void 0&&(Ja=h.collisionCircleArrays[ca]=new xa);for(var ds=0;ds<wi.circles.length;ds+=4)Ja.circles.push(wi.circles[ds+0]),Ja.circles.push(wi.circles[ds+1]),Ja.circles.push(wi.circles[ds+2]),Ja.circles.push(wi.collisionDetected?1:0)}h.placements[Pr.crossTileID]=new qp(ro||Nt,Jr||Qt,yo||A.justReloaded),d[Pr.crossTileID]=!0}};if(vt)for(var gr=A.getSortedSymbolIndexes(this.transform.angle),kr=gr.length-1;kr>=0;--kr){var jr=gr[kr];Yt(A.symbolInstances.get(jr),A.collisionArrays[jr])}else for(var Hr=c.symbolInstanceStart;Hr<c.symbolInstanceEnd;Hr++)Yt(A.symbolInstances.get(Hr),A.collisionArrays[Hr]);if(l&&A.bucketInstanceId in this.collisionCircleArrays){var Uo=this.collisionCircleArrays[A.bucketInstanceId];n.invert(Uo.invProjMatrix,w),Uo.viewportMatrix=this.collisionIndex.getViewportMatrix()}A.justReloaded=!1},ut.prototype.markUsedJustification=function(c,d,l,h){var E;E=h===n.WritingMode.vertical?l.verticalPlacedTextSymbolIndex:{left:l.leftJustifiedTextSymbolIndex,center:l.centerJustifiedTextSymbolIndex,right:l.rightJustifiedTextSymbolIndex}[n.getAnchorJustification(d)];for(var A=0,T=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex,l.verticalPlacedTextSymbolIndex];A<T.length;A+=1){var w=T[A];w>=0&&(c.text.placedSymbolArray.get(w).crossTileID=E>=0&&w!==E?0:l.crossTileID)}},ut.prototype.markUsedOrientation=function(c,d,l){for(var h=d===n.WritingMode.horizontal||d===n.WritingMode.horizontalOnly?d:0,E=d===n.WritingMode.vertical?d:0,A=0,T=[l.leftJustifiedTextSymbolIndex,l.centerJustifiedTextSymbolIndex,l.rightJustifiedTextSymbolIndex];A<T.length;A+=1)c.text.placedSymbolArray.get(T[A]).placedOrientation=h;l.verticalPlacedTextSymbolIndex&&(c.text.placedSymbolArray.get(l.verticalPlacedTextSymbolIndex).placedOrientation=E)},ut.prototype.commit=function(c){this.commitTime=c,this.zoomAtLastRecencyCheck=this.transform.zoom;var d=this.prevPlacement,l=!1;this.prevZoomAdjustment=d?d.zoomAdjustment(this.transform.zoom):0;var h=d?d.symbolFadeChange(c):1,E=d?d.opacities:{},A=d?d.variableOffsets:{},T=d?d.placedOrientations:{};for(var w in this.placements){var D=this.placements[w],H=E[w];H?(this.opacities[w]=new Gn(H,h,D.text,D.icon),l=l||D.text!==H.text.placed||D.icon!==H.icon.placed):(this.opacities[w]=new Gn(null,h,D.text,D.icon,D.skipFade),l=l||D.text||D.icon)}for(var Q in E){var te=E[Q];if(!this.opacities[Q]){var ie=new Gn(te,h,!1,!1);ie.isHidden()||(this.opacities[Q]=ie,l=l||te.text.placed||te.icon.placed)}}for(var xe in A)this.variableOffsets[xe]||!this.opacities[xe]||this.opacities[xe].isHidden()||(this.variableOffsets[xe]=A[xe]);for(var me in T)this.placedOrientations[me]||!this.opacities[me]||this.opacities[me].isHidden()||(this.placedOrientations[me]=T[me]);l?this.lastPlacementChangeTime=c:typeof this.lastPlacementChangeTime!="number"&&(this.lastPlacementChangeTime=d?d.lastPlacementChangeTime:c)},ut.prototype.updateLayerOpacities=function(c,d){for(var l={},h=0,E=d;h<E.length;h+=1){var A=E[h],T=A.getBucket(c);T&&A.latestFeatureIndex&&c.id===T.layerIds[0]&&this.updateBucketOpacities(T,l,A.collisionBoxArray)}},ut.prototype.updateBucketOpacities=function(c,d,l){var h=this;c.hasTextData()&&c.text.opacityVertexArray.clear(),c.hasIconData()&&c.icon.opacityVertexArray.clear(),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexArray.clear(),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexArray.clear();var E=c.layers[0].layout,A=new Gn(null,0,!1,!1,!0),T=E.get("text-allow-overlap"),w=E.get("icon-allow-overlap"),D=E.get("text-variable-anchor"),H=E.get("text-rotation-alignment")==="map",Q=E.get("text-pitch-alignment")==="map",te=E.get("icon-text-fit")!=="none",ie=new Gn(null,0,T&&(w||!c.hasIconData()||E.get("icon-optional")),w&&(T||!c.hasTextData()||E.get("text-optional")),!0);!c.collisionArrays&&l&&(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData())&&c.deserializeCollisionBoxes(l);for(var xe=function(Me,He,Je){for(var dt=0;dt<He/4;dt++)Me.opacityVertexArray.emplaceBack(Je)},me=function(Me){var He=c.symbolInstances.get(Me),Je=He.numHorizontalGlyphVertices,dt=He.numVerticalGlyphVertices,it=He.crossTileID,vt=h.opacities[it];d[it]?vt=A:vt||(h.opacities[it]=vt=ie),d[it]=!0;var Nt=He.numIconVertices>0,Qt=h.placedOrientations[He.crossTileID],Yt=Qt===n.WritingMode.vertical,gr=Qt===n.WritingMode.horizontal||Qt===n.WritingMode.horizontalOnly;if(Je>0||dt>0){var kr=A1(vt.text);xe(c.text,Je,Yt?vp:kr),xe(c.text,dt,gr?vp:kr);var jr=vt.text.isHidden();[He.rightJustifiedTextSymbolIndex,He.centerJustifiedTextSymbolIndex,He.leftJustifiedTextSymbolIndex].forEach(function($r){$r>=0&&(c.text.placedSymbolArray.get($r).hidden=jr||Yt?1:0)}),He.verticalPlacedTextSymbolIndex>=0&&(c.text.placedSymbolArray.get(He.verticalPlacedTextSymbolIndex).hidden=jr||gr?1:0);var Hr=h.variableOffsets[He.crossTileID];Hr&&h.markUsedJustification(c,Hr.anchor,He,Qt);var Uo=h.placedOrientations[He.crossTileID];Uo&&(h.markUsedJustification(c,"left",He,Uo),h.markUsedOrientation(c,Uo,He))}if(Nt){var Pr=A1(vt.icon),ao=!(te&&He.verticalPlacedIconSymbolIndex&&Yt);He.placedIconSymbolIndex>=0&&(xe(c.icon,He.numIconVertices,ao?Pr:vp),c.icon.placedSymbolArray.get(He.placedIconSymbolIndex).hidden=vt.icon.isHidden()),He.verticalPlacedIconSymbolIndex>=0&&(xe(c.icon,He.numVerticalIconVertices,ao?vp:Pr),c.icon.placedSymbolArray.get(He.verticalPlacedIconSymbolIndex).hidden=vt.icon.isHidden())}if(c.hasIconCollisionBoxData()||c.hasTextCollisionBoxData()){var mo=c.collisionArrays[Me];if(mo){var ro=new n.Point(0,0);if(mo.textBox||mo.verticalTextBox){var Jr=!0;if(D){var yo=h.variableOffsets[it];yo?(ro=ne(yo.anchor,yo.width,yo.height,yo.textOffset,yo.textBoxScale),H&&ro._rotate(Q?h.transform.angle:-h.transform.angle)):Jr=!1}mo.textBox&&Kt(c.textCollisionBox.collisionVertexArray,vt.text.placed,!Jr||Yt,ro.x,ro.y),mo.verticalTextBox&&Kt(c.textCollisionBox.collisionVertexArray,vt.text.placed,!Jr||gr,ro.x,ro.y)}var eo=!!(!gr&&mo.verticalIconBox);mo.iconBox&&Kt(c.iconCollisionBox.collisionVertexArray,vt.icon.placed,eo,te?ro.x:0,te?ro.y:0),mo.verticalIconBox&&Kt(c.iconCollisionBox.collisionVertexArray,vt.icon.placed,!eo,te?ro.x:0,te?ro.y:0)}}},Ne=0;Ne<c.symbolInstances.length;Ne++)me(Ne);if(c.sortFeatures(this.transform.angle),this.retainedQueryData[c.bucketInstanceId]&&(this.retainedQueryData[c.bucketInstanceId].featureSortOrder=c.featureSortOrder),c.hasTextData()&&c.text.opacityVertexBuffer&&c.text.opacityVertexBuffer.updateData(c.text.opacityVertexArray),c.hasIconData()&&c.icon.opacityVertexBuffer&&c.icon.opacityVertexBuffer.updateData(c.icon.opacityVertexArray),c.hasIconCollisionBoxData()&&c.iconCollisionBox.collisionVertexBuffer&&c.iconCollisionBox.collisionVertexBuffer.updateData(c.iconCollisionBox.collisionVertexArray),c.hasTextCollisionBoxData()&&c.textCollisionBox.collisionVertexBuffer&&c.textCollisionBox.collisionVertexBuffer.updateData(c.textCollisionBox.collisionVertexArray),c.bucketInstanceId in this.collisionCircleArrays){var ye=this.collisionCircleArrays[c.bucketInstanceId];c.placementInvProjMatrix=ye.invProjMatrix,c.placementViewportMatrix=ye.viewportMatrix,c.collisionCircleArray=ye.circles,delete this.collisionCircleArrays[c.bucketInstanceId]}},ut.prototype.symbolFadeChange=function(c){return this.fadeDuration===0?1:(c-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment},ut.prototype.zoomAdjustment=function(c){return Math.max(0,(this.transform.zoom-c)/1.5)},ut.prototype.hasTransitions=function(c){return this.stale||c-this.lastPlacementChangeTime<this.fadeDuration},ut.prototype.stillRecent=function(c,d){var l=this.zoomAtLastRecencyCheck===d?1-this.zoomAdjustment(d):1;return this.zoomAtLastRecencyCheck=d,this.commitTime+this.fadeDuration*l>c},ut.prototype.setStale=function(){this.stale=!0};var Br=Math.pow(2,25),Bo=Math.pow(2,24),Xi=Math.pow(2,17),bn=Math.pow(2,16),yn=Math.pow(2,9),Wa=Math.pow(2,8),b1=Math.pow(2,1);function A1(c){if(c.opacity===0&&!c.placed)return 0;if(c.opacity===1&&c.placed)return 4294967295;var d=c.placed?1:0,l=Math.floor(127*c.opacity);return l*Br+d*Bo+l*Xi+d*bn+l*yn+d*Wa+l*b1+d}var vp=0,Rl=function(c){this._sortAcrossTiles=c.layout.get("symbol-z-order")!=="viewport-y"&&c.layout.get("symbol-sort-key").constantOr(1)!==void 0,this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]};Rl.prototype.continuePlacement=function(c,d,l,h,E){for(var A=this._bucketParts;this._currentTileIndex<c.length;)if(d.getBucketParts(A,h,c[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,E())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,A.sort(function(T,w){return T.sortKey-w.sortKey}));this._currentPartIndex<A.length;)if(d.placeLayerBucketPart(A[this._currentPartIndex],this._seenCrossTileIDs,l),this._currentPartIndex++,E())return!0;return!1};var $p=function(c,d,l,h,E,A,T){this.placement=new ut(c,E,A,T),this._currentPlacementIndex=d.length-1,this._forceFullPlacement=l,this._showCollisionBoxes=h,this._done=!1};$p.prototype.isDone=function(){return this._done},$p.prototype.continuePlacement=function(c,d,l){for(var h=this,E=n.browser.now(),A=function(){var D=n.browser.now()-E;return!h._forceFullPlacement&&D>2};this._currentPlacementIndex>=0;){var T=d[c[this._currentPlacementIndex]],w=this.placement.collisionIndex.transform.zoom;if(T.type==="symbol"&&(!T.minzoom||T.minzoom<=w)&&(!T.maxzoom||T.maxzoom>w)){if(this._inProgressLayer||(this._inProgressLayer=new Rl(T)),this._inProgressLayer.continuePlacement(l[T.source],this.placement,this._showCollisionBoxes,T,A))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0},$p.prototype.commit=function(c){return this.placement.commit(c),this.placement};var F1=512/n.EXTENT/2,wc=function(c,d,l){this.tileID=c,this.indexedSymbolInstances={},this.bucketInstanceId=l;for(var h=0;h<d.length;h++){var E=d.get(h),A=E.key;this.indexedSymbolInstances[A]||(this.indexedSymbolInstances[A]=[]),this.indexedSymbolInstances[A].push({crossTileID:E.crossTileID,coord:this.getScaledCoordinates(E,c)})}};wc.prototype.getScaledCoordinates=function(c,d){var l=F1/Math.pow(2,d.canonical.z-this.tileID.canonical.z);return{x:Math.floor((d.canonical.x*n.EXTENT+c.anchorX)*l),y:Math.floor((d.canonical.y*n.EXTENT+c.anchorY)*l)}},wc.prototype.findMatches=function(c,d,l){for(var h=this.tileID.canonical.z<d.canonical.z?1:Math.pow(2,this.tileID.canonical.z-d.canonical.z),E=0;E<c.length;E++){var A=c.get(E);if(!A.crossTileID){var T=this.indexedSymbolInstances[A.key];if(T)for(var w=this.getScaledCoordinates(A,d),D=0,H=T;D<H.length;D+=1){var Q=H[D];if(Math.abs(Q.coord.x-w.x)<=h&&Math.abs(Q.coord.y-w.y)<=h&&!l[Q.crossTileID]){l[Q.crossTileID]=!0,A.crossTileID=Q.crossTileID;break}}}}};var On=function(){this.maxCrossTileID=0};On.prototype.generate=function(){return++this.maxCrossTileID};var fu=function(){this.indexes={},this.usedCrossTileIDs={},this.lng=0};fu.prototype.handleWrapJump=function(c){var d=Math.round((c-this.lng)/360);if(d!==0)for(var l in this.indexes){var h=this.indexes[l],E={};for(var A in h){var T=h[A];T.tileID=T.tileID.unwrapTo(T.tileID.wrap+d),E[T.tileID.key]=T}this.indexes[l]=E}this.lng=c},fu.prototype.addBucket=function(c,d,l){if(this.indexes[c.overscaledZ]&&this.indexes[c.overscaledZ][c.key]){if(this.indexes[c.overscaledZ][c.key].bucketInstanceId===d.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(c.overscaledZ,this.indexes[c.overscaledZ][c.key])}for(var h=0;h<d.symbolInstances.length;h++)d.symbolInstances.get(h).crossTileID=0;this.usedCrossTileIDs[c.overscaledZ]||(this.usedCrossTileIDs[c.overscaledZ]={});var E=this.usedCrossTileIDs[c.overscaledZ];for(var A in this.indexes){var T=this.indexes[A];if(Number(A)>c.overscaledZ)for(var w in T){var D=T[w];D.tileID.isChildOf(c)&&D.findMatches(d.symbolInstances,c,E)}else{var H=T[c.scaledTo(Number(A)).key];H&&H.findMatches(d.symbolInstances,c,E)}}for(var Q=0;Q<d.symbolInstances.length;Q++){var te=d.symbolInstances.get(Q);te.crossTileID||(te.crossTileID=l.generate(),E[te.crossTileID]=!0)}return this.indexes[c.overscaledZ]===void 0&&(this.indexes[c.overscaledZ]={}),this.indexes[c.overscaledZ][c.key]=new wc(c,d.symbolInstances,d.bucketInstanceId),!0},fu.prototype.removeBucketCrossTileIDs=function(c,d){for(var l in d.indexedSymbolInstances)for(var h=0,E=d.indexedSymbolInstances[l];h<E.length;h+=1)delete this.usedCrossTileIDs[c][E[h].crossTileID]},fu.prototype.removeStaleBuckets=function(c){var d=!1;for(var l in this.indexes){var h=this.indexes[l];for(var E in h)c[h[E].bucketInstanceId]||(this.removeBucketCrossTileIDs(l,h[E]),delete h[E],d=!0)}return d};var mu=function(){this.layerIndexes={},this.crossTileIDs=new On,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}};mu.prototype.addLayer=function(c,d,l){var h=this.layerIndexes[c.id];h===void 0&&(h=this.layerIndexes[c.id]=new fu);var E=!1,A={};h.handleWrapJump(l);for(var T=0,w=d;T<w.length;T+=1){var D=w[T],H=D.getBucket(c);H&&c.id===H.layerIds[0]&&(H.bucketInstanceId||(H.bucketInstanceId=++this.maxBucketInstanceId),h.addBucket(D.tileID,H,this.crossTileIDs)&&(E=!0),A[H.bucketInstanceId]=!0)}return h.removeStaleBuckets(A)&&(E=!0),E},mu.prototype.pruneUnusedLayers=function(c){var d={};for(var l in c.forEach(function(h){d[h]=!0}),this.layerIndexes)d[l]||delete this.layerIndexes[l]};var vs=function(c,d){return n.emitValidationErrors(c,d&&d.filter(function(l){return l.identifier!=="source.canvas"}))},Es=n.pick(or,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition","setGeoJSONSourceData"]),Ws=n.pick(or,["setCenter","setZoom","setBearing","setPitch"]),Kp=function(){var c={},d=n.styleSpec.$version;for(var l in n.styleSpec.$root){var h,E=n.styleSpec.$root[l];E.required&&(h=l==="version"?d:E.type==="array"?[]:{})!=null&&(c[l]=h)}return c}(),Pa=function(c){function d(l,h){var E=this;h===void 0&&(h={}),c.call(this),this.map=l,this.dispatcher=new de(Et(),this),this.imageManager=new ee,this.imageManager.setEventedParent(this),this.glyphManager=new ht(l._requestManager,h.localIdeographFontFamily),this.lineAtlas=new X(256,512),this.crossTileSymbolIndex=new mu,this._layers={},this._serializedLayers={},this._order=[],this.sourceCaches={},this.zoomHistory=new n.ZoomHistory,this._loaded=!1,this._availableImages=[],this._resetUpdates(),this.dispatcher.broadcast("setReferrer",n.getReferrer());var A=this;this._rtlTextPluginCallback=d.registerForPluginStateChange(function(T){A.dispatcher.broadcast("syncRTLPluginState",{pluginStatus:T.pluginStatus,pluginURL:T.pluginURL},function(w,D){if(n.triggerPluginCompletionEvent(w),D&&D.every(function(Q){return Q}))for(var H in A.sourceCaches)A.sourceCaches[H].reload()})}),this.on("data",function(T){if(T.dataType==="source"&&T.sourceDataType==="metadata"){var w=E.sourceCaches[T.sourceId];if(w){var D=w.getSource();if(D&&D.vectorLayerIds)for(var H in E._layers){var Q=E._layers[H];Q.source===D.id&&E._validateLayer(Q)}}}})}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.loadURL=function(l,h){var E=this;h===void 0&&(h={}),this.fire(new n.Event("dataloading",{dataType:"style"}));var A=typeof h.validate=="boolean"?h.validate:!n.isMapboxURL(l);l=this.map._requestManager.normalizeStyleURL(l,h.accessToken);var T=this.map._requestManager.transformRequest(l,n.ResourceType.Style);this._request=n.getJSON(T,function(w,D){E._request=null,w?E.fire(new n.ErrorEvent(w)):D&&E._load(D,A)})},d.prototype.loadJSON=function(l,h){var E=this;h===void 0&&(h={}),this.fire(new n.Event("dataloading",{dataType:"style"})),this._request=n.browser.frame(function(){E._request=null,E._load(l,h.validate!==!1)})},d.prototype.loadEmpty=function(){this.fire(new n.Event("dataloading",{dataType:"style"})),this._load(Kp,!1)},d.prototype._load=function(l,h){if(!h||!vs(this,n.validateStyle(l))){for(var E in this._loaded=!0,this.stylesheet=l,l.sources)this.addSource(E,l.sources[E],{validate:!1});l.sprite?this._loadSprite(l.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(l.glyphs);var A=tr(this.stylesheet.layers);this._order=A.map(function(H){return H.id}),this._layers={},this._serializedLayers={};for(var T=0,w=A;T<w.length;T+=1){var D=w[T];(D=n.createStyleLayer(D)).setEventedParent(this,{layer:{id:D.id}}),this._layers[D.id]=D,this._serializedLayers[D.id]=D.serialize()}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new B(this.stylesheet.light),this.fire(new n.Event("data",{dataType:"style"})),this.fire(new n.Event("style.load"))}},d.prototype._loadSprite=function(l){var h=this;this._spriteRequest=function(E,A,T){var w,D,H,Q=n.browser.devicePixelRatio>1?"@2x":"",te=n.getJSON(A.transformRequest(A.normalizeSpriteURL(E,Q,".json"),n.ResourceType.SpriteJSON),function(me,Ne){te=null,H||(H=me,w=Ne,xe())}),ie=n.getImage(A.transformRequest(A.normalizeSpriteURL(E,Q,".png"),n.ResourceType.SpriteImage),function(me,Ne){ie=null,H||(H=me,D=Ne,xe())});function xe(){if(H)T(H);else if(w&&D){var me=n.browser.getImageData(D),Ne={};for(var ye in w){var Me=w[ye],He=Me.width,Je=Me.height,dt=Me.x,it=Me.y,vt=Me.sdf,Nt=Me.pixelRatio,Qt=Me.stretchX,Yt=Me.stretchY,gr=Me.content,kr=new n.RGBAImage({width:He,height:Je});n.RGBAImage.copy(me,kr,{x:dt,y:it},{x:0,y:0},{width:He,height:Je}),Ne[ye]={data:kr,pixelRatio:Nt,sdf:vt,stretchX:Qt,stretchY:Yt,content:gr}}T(null,Ne)}}return{cancel:function(){te&&(te.cancel(),te=null),ie&&(ie.cancel(),ie=null)}}}(l,this.map._requestManager,function(E,A){if(h._spriteRequest=null,E)h.fire(new n.ErrorEvent(E));else if(A)for(var T in A)h.imageManager.addImage(T,A[T]);h.imageManager.setLoaded(!0),h._availableImages=h.imageManager.listImages(),h.dispatcher.broadcast("setImages",h._availableImages),h.fire(new n.Event("data",{dataType:"style"}))})},d.prototype._validateLayer=function(l){var h=this.sourceCaches[l.source];if(h){var E=l.sourceLayer;if(E){var A=h.getSource();(A.type==="geojson"||A.vectorLayerIds&&A.vectorLayerIds.indexOf(E)===-1)&&this.fire(new n.ErrorEvent(new Error('Source layer "'+E+'" does not exist on source "'+A.id+'" as specified by style layer "'+l.id+'"')))}}},d.prototype.loaded=function(){if(!this._loaded||Object.keys(this._updatedSources).length)return!1;for(var l in this.sourceCaches)if(!this.sourceCaches[l].loaded())return!1;return!!this.imageManager.isLoaded()},d.prototype._serializeLayers=function(l){for(var h=[],E=0,A=l;E<A.length;E+=1){var T=this._layers[A[E]];T.type!=="custom"&&h.push(T.serialize())}return h},d.prototype.hasTransitions=function(){if(this.light&&this.light.hasTransition())return!0;for(var l in this.sourceCaches)if(this.sourceCaches[l].hasTransition())return!0;for(var h in this._layers)if(this._layers[h].hasTransition())return!0;return!1},d.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},d.prototype.update=function(l){if(this._loaded){var h=this._changed;if(this._changed){var E=Object.keys(this._updatedLayers),A=Object.keys(this._removedLayers);for(var T in(E.length||A.length)&&this._updateWorkerLayers(E,A),this._updatedSources){var w=this._updatedSources[T];w==="reload"?this._reloadSource(T):w==="clear"&&this._clearSource(T)}for(var D in this._updateTilesForChangedImages(),this._updatedPaintProps)this._layers[D].updateTransitions(l);this.light.updateTransitions(l),this._resetUpdates()}var H={};for(var Q in this.sourceCaches){var te=this.sourceCaches[Q];H[Q]=te.used,te.used=!1}for(var ie=0,xe=this._order;ie<xe.length;ie+=1){var me=this._layers[xe[ie]];me.recalculate(l,this._availableImages),!me.isHidden(l.zoom)&&me.source&&(this.sourceCaches[me.source].used=!0)}for(var Ne in H){var ye=this.sourceCaches[Ne];H[Ne]!==ye.used&&ye.fire(new n.Event("data",{sourceDataType:"visibility",dataType:"source",sourceId:Ne}))}this.light.recalculate(l),this.z=l.zoom,h&&this.fire(new n.Event("data",{dataType:"style"}))}},d.prototype._updateTilesForChangedImages=function(){var l=Object.keys(this._changedImages);if(l.length){for(var h in this.sourceCaches)this.sourceCaches[h].reloadTilesForDependencies(["icons","patterns"],l);this._changedImages={}}},d.prototype._updateWorkerLayers=function(l,h){this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(l),removedIds:h})},d.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={}},d.prototype.setState=function(l){var h=this;if(this._checkLoaded(),vs(this,n.validateStyle(l)))return!1;(l=n.clone$1(l)).layers=tr(l.layers);var E=function(T,w){if(!T)return[{command:or.setStyle,args:[w]}];var D=[];try{if(!n.deepEqual(T.version,w.version))return[{command:or.setStyle,args:[w]}];n.deepEqual(T.center,w.center)||D.push({command:or.setCenter,args:[w.center]}),n.deepEqual(T.zoom,w.zoom)||D.push({command:or.setZoom,args:[w.zoom]}),n.deepEqual(T.bearing,w.bearing)||D.push({command:or.setBearing,args:[w.bearing]}),n.deepEqual(T.pitch,w.pitch)||D.push({command:or.setPitch,args:[w.pitch]}),n.deepEqual(T.sprite,w.sprite)||D.push({command:or.setSprite,args:[w.sprite]}),n.deepEqual(T.glyphs,w.glyphs)||D.push({command:or.setGlyphs,args:[w.glyphs]}),n.deepEqual(T.transition,w.transition)||D.push({command:or.setTransition,args:[w.transition]}),n.deepEqual(T.light,w.light)||D.push({command:or.setLight,args:[w.light]});var H={},Q=[];(function(ie,xe,me,Ne){var ye;for(ye in xe=xe||{},ie=ie||{})ie.hasOwnProperty(ye)&&(xe.hasOwnProperty(ye)||lr(ye,me,Ne));for(ye in xe)xe.hasOwnProperty(ye)&&(ie.hasOwnProperty(ye)?n.deepEqual(ie[ye],xe[ye])||(ie[ye].type==="geojson"&&xe[ye].type==="geojson"&&ei(ie,xe,ye)?me.push({command:or.setGeoJSONSourceData,args:[ye,xe[ye].data]}):So(ye,xe,me,Ne)):po(ye,xe,me))})(T.sources,w.sources,Q,H);var te=[];T.layers&&T.layers.forEach(function(ie){H[ie.source]?D.push({command:or.removeLayer,args:[ie.id]}):te.push(ie)}),D=D.concat(Q),function(ie,xe,me){xe=xe||[];var Ne,ye,Me,He,Je,dt,it,vt=(ie=ie||[]).map(Do),Nt=xe.map(Do),Qt=ie.reduce(co,{}),Yt=xe.reduce(co,{}),gr=vt.slice(),kr=Object.create(null);for(Ne=0,ye=0;Ne<vt.length;Ne++)Yt.hasOwnProperty(Me=vt[Ne])?ye++:(me.push({command:or.removeLayer,args:[Me]}),gr.splice(gr.indexOf(Me,ye),1));for(Ne=0,ye=0;Ne<Nt.length;Ne++)gr[gr.length-1-Ne]!==(Me=Nt[Nt.length-1-Ne])&&(Qt.hasOwnProperty(Me)?(me.push({command:or.removeLayer,args:[Me]}),gr.splice(gr.lastIndexOf(Me,gr.length-ye),1)):ye++,me.push({command:or.addLayer,args:[Yt[Me],dt=gr[gr.length-Ne]]}),gr.splice(gr.length-Ne,0,Me),kr[Me]=!0);for(Ne=0;Ne<Nt.length;Ne++)if(He=Qt[Me=Nt[Ne]],Je=Yt[Me],!kr[Me]&&!n.deepEqual(He,Je))if(n.deepEqual(He.source,Je.source)&&n.deepEqual(He["source-layer"],Je["source-layer"])&&n.deepEqual(He.type,Je.type)){for(it in Ao(He.layout,Je.layout,me,Me,null,or.setLayoutProperty),Ao(He.paint,Je.paint,me,Me,null,or.setPaintProperty),n.deepEqual(He.filter,Je.filter)||me.push({command:or.setFilter,args:[Me,Je.filter]}),n.deepEqual(He.minzoom,Je.minzoom)&&n.deepEqual(He.maxzoom,Je.maxzoom)||me.push({command:or.setLayerZoomRange,args:[Me,Je.minzoom,Je.maxzoom]}),He)He.hasOwnProperty(it)&&it!=="layout"&&it!=="paint"&&it!=="filter"&&it!=="metadata"&&it!=="minzoom"&&it!=="maxzoom"&&(it.indexOf("paint.")===0?Ao(He[it],Je[it],me,Me,it.slice(6),or.setPaintProperty):n.deepEqual(He[it],Je[it])||me.push({command:or.setLayerProperty,args:[Me,it,Je[it]]}));for(it in Je)Je.hasOwnProperty(it)&&!He.hasOwnProperty(it)&&it!=="layout"&&it!=="paint"&&it!=="filter"&&it!=="metadata"&&it!=="minzoom"&&it!=="maxzoom"&&(it.indexOf("paint.")===0?Ao(He[it],Je[it],me,Me,it.slice(6),or.setPaintProperty):n.deepEqual(He[it],Je[it])||me.push({command:or.setLayerProperty,args:[Me,it,Je[it]]}))}else me.push({command:or.removeLayer,args:[Me]}),dt=gr[gr.lastIndexOf(Me)+1],me.push({command:or.addLayer,args:[Je,dt]})}(te,w.layers,D)}catch(ie){console.warn("Unable to compute style diff:",ie),D=[{command:or.setStyle,args:[w]}]}return D}(this.serialize(),l).filter(function(T){return!(T.command in Ws)});if(E.length===0)return!1;var A=E.filter(function(T){return!(T.command in Es)});if(A.length>0)throw new Error("Unimplemented: "+A.map(function(T){return T.command}).join(", ")+".");return E.forEach(function(T){T.command!=="setTransition"&&h[T.command].apply(h,T.args)}),this.stylesheet=l,!0},d.prototype.addImage=function(l,h){if(this.getImage(l))return this.fire(new n.ErrorEvent(new Error("An image with this name already exists.")));this.imageManager.addImage(l,h),this._afterImageUpdated(l)},d.prototype.updateImage=function(l,h){this.imageManager.updateImage(l,h)},d.prototype.getImage=function(l){return this.imageManager.getImage(l)},d.prototype.removeImage=function(l){if(!this.getImage(l))return this.fire(new n.ErrorEvent(new Error("No image with this name exists.")));this.imageManager.removeImage(l),this._afterImageUpdated(l)},d.prototype._afterImageUpdated=function(l){this._availableImages=this.imageManager.listImages(),this._changedImages[l]=!0,this._changed=!0,this.dispatcher.broadcast("setImages",this._availableImages),this.fire(new n.Event("data",{dataType:"style"}))},d.prototype.listImages=function(){return this._checkLoaded(),this.imageManager.listImages()},d.prototype.addSource=function(l,h,E){var A=this;if(E===void 0&&(E={}),this._checkLoaded(),this.sourceCaches[l]!==void 0)throw new Error("There is already a source with this ID");if(!h.type)throw new Error("The type property must be defined, but only the following properties were given: "+Object.keys(h).join(", ")+".");if(!(["vector","raster","geojson","video","image"].indexOf(h.type)>=0&&this._validate(n.validateStyle.source,"sources."+l,h,null,E))){this.map&&this.map._collectResourceTiming&&(h.collectResourceTiming=!0);var T=this.sourceCaches[l]=new be(l,h,this.dispatcher);T.style=this,T.setEventedParent(this,function(){return{isSourceLoaded:A.loaded(),source:T.serialize(),sourceId:l}}),T.onAdd(this.map),this._changed=!0}},d.prototype.removeSource=function(l){if(this._checkLoaded(),this.sourceCaches[l]===void 0)throw new Error("There is no source with this ID");for(var h in this._layers)if(this._layers[h].source===l)return this.fire(new n.ErrorEvent(new Error('Source "'+l+'" cannot be removed while layer "'+h+'" is using it.')));var E=this.sourceCaches[l];delete this.sourceCaches[l],delete this._updatedSources[l],E.fire(new n.Event("data",{sourceDataType:"metadata",dataType:"source",sourceId:l})),E.setEventedParent(null),E.clearTiles(),E.onRemove&&E.onRemove(this.map),this._changed=!0},d.prototype.setGeoJSONSourceData=function(l,h){this._checkLoaded(),this.sourceCaches[l].getSource().setData(h),this._changed=!0},d.prototype.getSource=function(l){return this.sourceCaches[l]&&this.sourceCaches[l].getSource()},d.prototype.addLayer=function(l,h,E){E===void 0&&(E={}),this._checkLoaded();var A=l.id;if(this.getLayer(A))this.fire(new n.ErrorEvent(new Error('Layer with id "'+A+'" already exists on this map')));else{var T;if(l.type==="custom"){if(vs(this,n.validateCustomStyleLayer(l)))return;T=n.createStyleLayer(l)}else{if(typeof l.source=="object"&&(this.addSource(A,l.source),l=n.clone$1(l),l=n.extend(l,{source:A})),this._validate(n.validateStyle.layer,"layers."+A,l,{arrayIndex:-1},E))return;T=n.createStyleLayer(l),this._validateLayer(T),T.setEventedParent(this,{layer:{id:A}}),this._serializedLayers[T.id]=T.serialize()}var w=h?this._order.indexOf(h):this._order.length;if(h&&w===-1)this.fire(new n.ErrorEvent(new Error('Layer with id "'+h+'" does not exist on this map.')));else{if(this._order.splice(w,0,A),this._layerOrderChanged=!0,this._layers[A]=T,this._removedLayers[A]&&T.source&&T.type!=="custom"){var D=this._removedLayers[A];delete this._removedLayers[A],D.type!==T.type?this._updatedSources[T.source]="clear":(this._updatedSources[T.source]="reload",this.sourceCaches[T.source].pause())}this._updateLayer(T),T.onAdd&&T.onAdd(this.map)}}},d.prototype.moveLayer=function(l,h){if(this._checkLoaded(),this._changed=!0,this._layers[l]){if(l!==h){var E=this._order.indexOf(l);this._order.splice(E,1);var A=h?this._order.indexOf(h):this._order.length;h&&A===-1?this.fire(new n.ErrorEvent(new Error('Layer with id "'+h+'" does not exist on this map.'))):(this._order.splice(A,0,l),this._layerOrderChanged=!0)}}else this.fire(new n.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be moved.")))},d.prototype.removeLayer=function(l){this._checkLoaded();var h=this._layers[l];if(h){h.setEventedParent(null);var E=this._order.indexOf(l);this._order.splice(E,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[l]=h,delete this._layers[l],delete this._serializedLayers[l],delete this._updatedLayers[l],delete this._updatedPaintProps[l],h.onRemove&&h.onRemove(this.map)}else this.fire(new n.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be removed.")))},d.prototype.getLayer=function(l){return this._layers[l]},d.prototype.hasLayer=function(l){return l in this._layers},d.prototype.setLayerZoomRange=function(l,h,E){this._checkLoaded();var A=this.getLayer(l);A?A.minzoom===h&&A.maxzoom===E||(h!=null&&(A.minzoom=h),E!=null&&(A.maxzoom=E),this._updateLayer(A)):this.fire(new n.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot have zoom extent.")))},d.prototype.setFilter=function(l,h,E){E===void 0&&(E={}),this._checkLoaded();var A=this.getLayer(l);if(A){if(!n.deepEqual(A.filter,h))return h==null?(A.filter=void 0,void this._updateLayer(A)):void(this._validate(n.validateStyle.filter,"layers."+A.id+".filter",h,null,E)||(A.filter=n.clone$1(h),this._updateLayer(A)))}else this.fire(new n.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be filtered.")))},d.prototype.getFilter=function(l){return n.clone$1(this.getLayer(l).filter)},d.prototype.setLayoutProperty=function(l,h,E,A){A===void 0&&(A={}),this._checkLoaded();var T=this.getLayer(l);T?n.deepEqual(T.getLayoutProperty(h),E)||(T.setLayoutProperty(h,E,A),this._updateLayer(T)):this.fire(new n.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},d.prototype.getLayoutProperty=function(l,h){var E=this.getLayer(l);if(E)return E.getLayoutProperty(h);this.fire(new n.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style.")))},d.prototype.setPaintProperty=function(l,h,E,A){A===void 0&&(A={}),this._checkLoaded();var T=this.getLayer(l);T?n.deepEqual(T.getPaintProperty(h),E)||(T.setPaintProperty(h,E,A)&&this._updateLayer(T),this._changed=!0,this._updatedPaintProps[l]=!0):this.fire(new n.ErrorEvent(new Error("The layer '"+l+"' does not exist in the map's style and cannot be styled.")))},d.prototype.getPaintProperty=function(l,h){return this.getLayer(l).getPaintProperty(h)},d.prototype.setFeatureState=function(l,h){this._checkLoaded();var E=l.source,A=l.sourceLayer,T=this.sourceCaches[E];if(T!==void 0){var w=T.getSource().type;w==="geojson"&&A?this.fire(new n.ErrorEvent(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):w!=="vector"||A?(l.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),T.setFeatureState(A,l.id,h)):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},d.prototype.removeFeatureState=function(l,h){this._checkLoaded();var E=l.source,A=this.sourceCaches[E];if(A!==void 0){var T=A.getSource().type,w=T==="vector"?l.sourceLayer:void 0;T!=="vector"||w?h&&typeof l.id!="string"&&typeof l.id!="number"?this.fire(new n.ErrorEvent(new Error("A feature id is required to remove its specific state property."))):A.removeFeatureState(w,l.id,h):this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+E+"' does not exist in the map's style.")))},d.prototype.getFeatureState=function(l){this._checkLoaded();var h=l.source,E=l.sourceLayer,A=this.sourceCaches[h];if(A!==void 0){if(A.getSource().type!=="vector"||E)return l.id===void 0&&this.fire(new n.ErrorEvent(new Error("The feature id parameter must be provided."))),A.getFeatureState(E,l.id);this.fire(new n.ErrorEvent(new Error("The sourceLayer parameter must be provided for vector source types.")))}else this.fire(new n.ErrorEvent(new Error("The source '"+h+"' does not exist in the map's style.")))},d.prototype.getTransition=function(){return n.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},d.prototype.serialize=function(){return n.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:n.mapObject(this.sourceCaches,function(l){return l.serialize()}),layers:this._serializeLayers(this._order)},function(l){return l!==void 0})},d.prototype._updateLayer=function(l){this._updatedLayers[l.id]=!0,l.source&&!this._updatedSources[l.source]&&this.sourceCaches[l.source].getSource().type!=="raster"&&(this._updatedSources[l.source]="reload",this.sourceCaches[l.source].pause()),this._changed=!0},d.prototype._flattenAndSortRenderedFeatures=function(l){for(var h=this,E=function(Qt){return h._layers[Qt].type==="fill-extrusion"},A={},T=[],w=this._order.length-1;w>=0;w--){var D=this._order[w];if(E(D)){A[D]=w;for(var H=0,Q=l;H<Q.length;H+=1){var te=Q[H][D];if(te)for(var ie=0,xe=te;ie<xe.length;ie+=1)T.push(xe[ie])}}}T.sort(function(Qt,Yt){return Yt.intersectionZ-Qt.intersectionZ});for(var me=[],Ne=this._order.length-1;Ne>=0;Ne--){var ye=this._order[Ne];if(E(ye))for(var Me=T.length-1;Me>=0;Me--){var He=T[Me].feature;if(A[He.layer.id]<Ne)break;me.push(He),T.pop()}else for(var Je=0,dt=l;Je<dt.length;Je+=1){var it=dt[Je][ye];if(it)for(var vt=0,Nt=it;vt<Nt.length;vt+=1)me.push(Nt[vt].feature)}}return me},d.prototype.queryRenderedFeatures=function(l,h,E){h&&h.filter&&this._validate(n.validateStyle.filter,"queryRenderedFeatures.filter",h.filter,null,h);var A={};if(h&&h.layers){if(!Array.isArray(h.layers))return this.fire(new n.ErrorEvent(new Error("parameters.layers must be an Array."))),[];for(var T=0,w=h.layers;T<w.length;T+=1){var D=w[T],H=this._layers[D];if(!H)return this.fire(new n.ErrorEvent(new Error("The layer '"+D+"' does not exist in the map's style and cannot be queried for features."))),[];A[H.source]=!0}}var Q=[];for(var te in h.availableImages=this._availableImages,this.sourceCaches)h.layers&&!A[te]||Q.push(hr(this.sourceCaches[te],this._layers,this._serializedLayers,l,h,E));return this.placement&&Q.push(function(ie,xe,me,Ne,ye,Me,He){for(var Je={},dt=Me.queryRenderedSymbols(Ne),it=[],vt=0,Nt=Object.keys(dt).map(Number);vt<Nt.length;vt+=1)it.push(He[Nt[vt]]);it.sort(Lr);for(var Qt=function(){var Hr=gr[Yt],Uo=Hr.featureIndex.lookupSymbolFeatures(dt[Hr.bucketInstanceId],xe,Hr.bucketIndex,Hr.sourceLayerIndex,ye.filter,ye.layers,ye.availableImages,ie);for(var Pr in Uo){var ao=Je[Pr]=Je[Pr]||[],mo=Uo[Pr];mo.sort(function(yo,eo){var $r=Hr.featureSortOrder;if($r){var $i=$r.indexOf(yo.featureIndex);return $r.indexOf(eo.featureIndex)-$i}return eo.featureIndex-yo.featureIndex});for(var ro=0,Jr=mo;ro<Jr.length;ro+=1)ao.push(Jr[ro])}},Yt=0,gr=it;Yt<gr.length;Yt+=1)Qt();var kr=function(Hr){Je[Hr].forEach(function(Uo){var Pr=Uo.feature,ao=me[ie[Hr].source].getFeatureState(Pr.layer["source-layer"],Pr.id);Pr.source=Pr.layer.source,Pr.layer["source-layer"]&&(Pr.sourceLayer=Pr.layer["source-layer"]),Pr.state=ao})};for(var jr in Je)kr(jr);return Je}(this._layers,this._serializedLayers,this.sourceCaches,l,h,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(Q)},d.prototype.querySourceFeatures=function(l,h){h&&h.filter&&this._validate(n.validateStyle.filter,"querySourceFeatures.filter",h.filter,null,h);var E=this.sourceCaches[l];return E?function(A,T){for(var w=A.getRenderableIds().map(function(xe){return A.getTileByID(xe)}),D=[],H={},Q=0;Q<w.length;Q++){var te=w[Q],ie=te.tileID.canonical.key;H[ie]||(H[ie]=!0,te.querySourceFeatures(D,T))}return D}(E,h):[]},d.prototype.addSourceType=function(l,h,E){return d.getSourceType(l)?E(new Error('A source type called "'+l+'" already exists.')):(d.setSourceType(l,h),h.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:l,url:h.workerSourceURL},E):E(null,null))},d.prototype.getLight=function(){return this.light.getLight()},d.prototype.setLight=function(l,h){h===void 0&&(h={}),this._checkLoaded();var E=this.light.getLight(),A=!1;for(var T in l)if(!n.deepEqual(l[T],E[T])){A=!0;break}if(A){var w={now:n.browser.now(),transition:n.extend({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(l,h),this.light.updateTransitions(w)}},d.prototype._validate=function(l,h,E,A,T){return T===void 0&&(T={}),(!T||T.validate!==!1)&&vs(this,l.call(n.validateStyle,n.extend({key:h,style:this.serialize(),value:E,styleSpec:n.styleSpec},A)))},d.prototype._remove=function(){for(var l in this._request&&(this._request.cancel(),this._request=null),this._spriteRequest&&(this._spriteRequest.cancel(),this._spriteRequest=null),n.evented.off("pluginStateChange",this._rtlTextPluginCallback),this._layers)this._layers[l].setEventedParent(null);for(var h in this.sourceCaches)this.sourceCaches[h].clearTiles(),this.sourceCaches[h].setEventedParent(null);this.imageManager.setEventedParent(null),this.setEventedParent(null),this.dispatcher.remove()},d.prototype._clearSource=function(l){this.sourceCaches[l].clearTiles()},d.prototype._reloadSource=function(l){this.sourceCaches[l].resume(),this.sourceCaches[l].reload()},d.prototype._updateSources=function(l){for(var h in this.sourceCaches)this.sourceCaches[h].update(l)},d.prototype._generateCollisionBoxes=function(){for(var l in this.sourceCaches)this._reloadSource(l)},d.prototype._updatePlacement=function(l,h,E,A,T){T===void 0&&(T=!1);for(var w=!1,D=!1,H={},Q=0,te=this._order;Q<te.length;Q+=1){var ie=this._layers[te[Q]];if(ie.type==="symbol"){if(!H[ie.source]){var xe=this.sourceCaches[ie.source];H[ie.source]=xe.getRenderableIds(!0).map(function(He){return xe.getTileByID(He)}).sort(function(He,Je){return Je.tileID.overscaledZ-He.tileID.overscaledZ||(He.tileID.isLessThan(Je.tileID)?-1:1)})}var me=this.crossTileSymbolIndex.addLayer(ie,H[ie.source],l.center.lng);w=w||me}}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((T=T||this._layerOrderChanged||E===0)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(n.browser.now(),l.zoom))&&(this.pauseablePlacement=new $p(l,this._order,T,h,E,A,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,H),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(n.browser.now()),D=!0),w&&this.pauseablePlacement.placement.setStale()),D||w)for(var Ne=0,ye=this._order;Ne<ye.length;Ne+=1){var Me=this._layers[ye[Ne]];Me.type==="symbol"&&this.placement.updateLayerOpacities(Me,H[Me.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(n.browser.now())},d.prototype._releaseSymbolFadeTiles=function(){for(var l in this.sourceCaches)this.sourceCaches[l].releaseSymbolFadeTiles()},d.prototype.getImages=function(l,h,E){this.imageManager.getImages(h.icons,E),this._updateTilesForChangedImages();var A=this.sourceCaches[h.source];A&&A.setDependencies(h.tileID.key,h.type,h.icons)},d.prototype.getGlyphs=function(l,h,E){this.glyphManager.getGlyphs(h.stacks,E)},d.prototype.getResource=function(l,h,E){return n.makeRequest(h,E)},d}(n.Evented);Pa.getSourceType=function(c){return Wt[c]},Pa.setSourceType=function(c,d){Wt[c]=d},Pa.registerForPluginStateChange=n.registerForPluginStateChange;var Li=n.createLayout([{name:"a_pos",type:"Int16",components:2}]),_u=ii(`#ifdef GL_ES
precision mediump float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif`,`#ifdef GL_ES
precision highp float;
#else
#if !defined(lowp)
#define lowp
#endif
#if !defined(mediump)
#define mediump
#endif
#if !defined(highp)
#define highp
#endif
#endif
vec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0
);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}`),Xs=ii(`uniform vec4 u_color;uniform float u_opacity;void main() {gl_FragColor=u_color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),Cc=ii(`uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_mix)*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),T1=ii(`varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=v_data.xy;float extrude_length=length(extrude);lowp float antialiasblur=v_data.z;float antialiased_blur=-max(blur,antialiasblur);float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));gl_FragColor=opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;attribute vec2 a_pos;varying vec3 v_data;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define mediump float radius
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define highp vec4 stroke_color
#pragma mapbox: define mediump float stroke_width
#pragma mapbox: define lowp float stroke_opacity
void main(void) {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize mediump float radius
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize highp vec4 stroke_color
#pragma mapbox: initialize mediump float stroke_width
#pragma mapbox: initialize lowp float stroke_opacity
vec2 extrude=vec2(mod(a_pos,2.0)*2.0-1.0);vec2 circle_center=floor(a_pos*0.5);if (u_pitch_with_map) {vec2 corner_position=circle_center;if (u_scale_with_map) {corner_position+=extrude*(radius+stroke_width)*u_extrude_scale;} else {vec4 projected_center=u_matrix*vec4(circle_center,0,1);corner_position+=extrude*(radius+stroke_width)*u_extrude_scale*(projected_center.w/u_camera_to_center_distance);}gl_Position=u_matrix*vec4(corner_position,0,1);} else {gl_Position=u_matrix*vec4(circle_center,0,1);if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}lowp float antialiasblur=1.0/u_device_pixel_ratio/(radius+stroke_width);v_data=vec3(extrude.x,extrude.y,antialiasblur);}`),Ic=ii("void main() {gl_FragColor=vec4(1.0);}","attribute vec2 a_pos;uniform mat4 u_matrix;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);}"),wl=ii(`uniform highp float u_intensity;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#define GAUSS_COEF 0.3989422804014327
void main() {
#pragma mapbox: initialize highp float weight
float d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);gl_FragColor=vec4(val,1.0,1.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;attribute vec2 a_pos;varying vec2 v_extrude;
#pragma mapbox: define highp float weight
#pragma mapbox: define mediump float radius
const highp float ZERO=1.0/255.0/16.0;
#define GAUSS_COEF 0.3989422804014327
void main(void) {
#pragma mapbox: initialize highp float weight
#pragma mapbox: initialize mediump float radius
vec2 unscaled_extrude=vec2(mod(a_pos,2.0)*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec4 pos=vec4(floor(a_pos*0.5)+extrude,0,1);gl_Position=u_matrix*pos;}`),Cl=ii(`uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;varying vec2 v_pos;void main() {float t=texture2D(u_image,v_pos).r;vec4 color=texture2D(u_color_ramp,vec2(t,0.5));gl_FragColor=color*u_opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(0.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_world;attribute vec2 a_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),Il=ii("varying float v_placed;varying float v_notUsed;void main() {float alpha=0.5;gl_FragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {gl_FragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {gl_FragColor*=.1;}}","attribute vec2 a_pos;attribute vec2 a_anchor_pos;attribute vec2 a_extrude;attribute vec2 a_placed;attribute vec2 a_shift;uniform mat4 u_matrix;uniform vec2 u_extrude_scale;uniform float u_camera_to_center_distance;varying float v_placed;varying float v_notUsed;void main() {vec4 projectedPoint=u_matrix*vec4(a_anchor_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);gl_Position=u_matrix*vec4(a_pos,0.0,1.0);gl_Position.xy+=(a_extrude+a_shift)*u_extrude_scale*gl_Position.w*collision_perspective_ratio;v_placed=a_placed.x;v_notUsed=a_placed.y;}"),S1=ii("varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;void main() {float alpha=0.5*min(v_perspective_ratio,1.0);float stroke_radius=0.9*max(v_perspective_ratio,1.0);float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);gl_FragColor=color*alpha*opacity_t;}","attribute vec2 a_pos;attribute float a_radius;attribute vec2 a_flags;uniform mat4 u_matrix;uniform mat4 u_inv_matrix;uniform vec2 u_viewport_size;uniform float u_camera_to_center_distance;varying float v_radius;varying vec2 v_extrude;varying float v_perspective_ratio;varying float v_collision;vec3 toTilePosition(vec2 screenPos) {vec4 rayStart=u_inv_matrix*vec4(screenPos,-1.0,1.0);vec4 rayEnd  =u_inv_matrix*vec4(screenPos, 1.0,1.0);rayStart.xyz/=rayStart.w;rayEnd.xyz  /=rayEnd.w;highp float t=(0.0-rayStart.z)/(rayEnd.z-rayStart.z);return mix(rayStart.xyz,rayEnd.xyz,t);}void main() {vec2 quadCenterPos=a_pos;float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;vec3 tilePos=toTilePosition(quadCenterPos);vec4 clipPos=u_matrix*vec4(tilePos,1.0);highp float camera_to_anchor_distance=clipPos.w;highp float collision_perspective_ratio=clamp(0.5+0.5*(u_camera_to_center_distance/camera_to_anchor_distance),0.0,4.0);float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_perspective_ratio=collision_perspective_ratio;v_collision=collision;gl_Position=vec4(clipPos.xyz/clipPos.w,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),R1=ii("uniform highp vec4 u_color;uniform sampler2D u_overlay;varying vec2 v_uv;void main() {vec4 overlay_color=texture2D(u_overlay,v_uv);gl_FragColor=mix(u_color,overlay_color,overlay_color.a);}","attribute vec2 a_pos;varying vec2 v_uv;uniform mat4 u_matrix;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=u_matrix*vec4(a_pos*u_overlay_scale,0,1);}"),U0=ii(`#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_FragColor=color*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);}`),Qp=ii(`varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=outline_color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`attribute vec2 a_pos;uniform mat4 u_matrix;uniform vec2 u_world;varying vec2 v_pos;
#pragma mapbox: define highp vec4 outline_color
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 outline_color
#pragma mapbox: initialize lowp float opacity
gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),xs=ii(`uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);gl_FragColor=mix(color1,color2,u_fade)*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec2 v_pos;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=u_matrix*vec4(a_pos,0,1);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;}`),w1=ii(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);gl_FragColor=mix(color1,color2,u_fade)*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;attribute vec2 a_pos;varying vec2 v_pos_a;varying vec2 v_pos_b;
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=u_matrix*vec4(a_pos,0,1);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}`),Ln=ii(`varying vec4 v_color;void main() {gl_FragColor=v_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec4 v_color;
#pragma mapbox: define highp float base
#pragma mapbox: define highp float height
#pragma mapbox: define highp vec4 color
void main() {
#pragma mapbox: initialize highp float base
#pragma mapbox: initialize highp float height
#pragma mapbox: initialize highp vec4 color
vec3 normal=a_normal_ed.xyz;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);gl_Position=u_matrix*vec4(a_pos,t > 0.0 ? height : base,1);float colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;float directional=clamp(dot(normal/16384.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}`),Yu=ii(`uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture2D(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture2D(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);gl_FragColor=mixedColor*v_lighting;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`uniform mat4 u_matrix;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp float u_lightintensity;attribute vec2 a_pos;attribute vec4 a_normal_ed;varying vec2 v_pos_a;varying vec2 v_pos_b;varying vec4 v_lighting;
#pragma mapbox: define lowp float base
#pragma mapbox: define lowp float height
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float base
#pragma mapbox: initialize lowp float height
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;base=max(0.0,base);height=max(0.0,height);float t=mod(normal.x,2.0);float z=t > 0.0 ? height : base;gl_Position=u_matrix*vec4(a_pos,z,1);vec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0
? a_pos
: vec2(edgedistance,z*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}`),gu=ii(`#ifdef GL_ES
precision highp float;
#endif
uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture2D(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack)/4.0;}void main() {vec2 epsilon=1.0/u_dimension;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))/pow(2.0,exaggeration+(19.2562-u_zoom));gl_FragColor=clamp(vec4(deriv.x/2.0+0.5,deriv.y/2.0+0.5,1.0,1.0),0.0,1.0);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_dimension;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),Na=ii(`uniform sampler2D u_image;varying vec2 v_pos;uniform vec2 u_latrange;uniform vec2 u_light;uniform vec4 u_shadow;uniform vec4 u_highlight;uniform vec4 u_accent;
#define PI 3.141592653589793
void main() {vec4 pixel=texture2D(u_image,v_pos);vec2 deriv=((pixel.rg*2.0)-1.0);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));float slope=atan(1.25*length(deriv)/scaleFactor);float aspect=deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);float intensity=u_light.x;float azimuth=u_light.y+PI;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadow,u_highlight,shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);gl_FragColor=accent_color*(1.0-shade_color.a)+shade_color;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos=a_texture_pos/8192.0;}"),vu=ii(`uniform lowp float u_device_pixel_ratio;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp float v_linesofar;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Xa=ii(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;varying vec2 v_width2;varying vec2 v_normal;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture2D(u_image,v_uv);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
attribute vec2 a_pos_normal;attribute vec4 a_data;attribute float a_uv_x;attribute float a_split_index;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;varying vec2 v_normal;varying vec2 v_width2;varying float v_gamma_scale;varying highp vec2 v_uv;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_width2=vec2(outset,inset);}`),Zs=ii(`uniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
vec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture2D(u_image,pos_a),texture2D(u_image,pos_b),u_fade);gl_FragColor=color*alpha*opacity;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;varying vec2 v_normal;varying vec2 v_width2;varying float v_linesofar;varying float v_gamma_scale;varying float v_width;
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
#pragma mapbox: define lowp vec4 pattern_from
#pragma mapbox: define lowp vec4 pattern_to
#pragma mapbox: define lowp float pixel_ratio_from
#pragma mapbox: define lowp float pixel_ratio_to
void main() {
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
#pragma mapbox: initialize mediump vec4 pattern_from
#pragma mapbox: initialize mediump vec4 pattern_to
#pragma mapbox: initialize lowp float pixel_ratio_from
#pragma mapbox: initialize lowp float pixel_ratio_to
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}`),Da=ii(`uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform float u_sdfgamma;uniform float u_mix;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture2D(u_image,v_tex_a).a;float sdfdist_b=texture2D(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);alpha*=smoothstep(0.5-u_sdfgamma/floorwidth,0.5+u_sdfgamma/floorwidth,sdfdist);gl_FragColor=color*(alpha*opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`
#define scale 0.015873016
#define LINE_DISTANCE_SCALE 2.0
attribute vec2 a_pos_normal;attribute vec4 a_data;uniform mat4 u_matrix;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_patternscale_a;uniform float u_tex_y_a;uniform vec2 u_patternscale_b;uniform float u_tex_y_b;uniform vec2 u_units_to_pixels;varying vec2 v_normal;varying vec2 v_width2;varying vec2 v_tex_a;varying vec2 v_tex_b;varying float v_gamma_scale;
#pragma mapbox: define highp vec4 color
#pragma mapbox: define lowp float blur
#pragma mapbox: define lowp float opacity
#pragma mapbox: define mediump float gapwidth
#pragma mapbox: define lowp float offset
#pragma mapbox: define mediump float width
#pragma mapbox: define lowp float floorwidth
void main() {
#pragma mapbox: initialize highp vec4 color
#pragma mapbox: initialize lowp float blur
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize mediump float gapwidth
#pragma mapbox: initialize lowp float offset
#pragma mapbox: initialize mediump float width
#pragma mapbox: initialize lowp float floorwidth
float ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);vec4 projected_extrude=u_matrix*vec4(dist/u_ratio,0.0,0.0);gl_Position=u_matrix*vec4(pos+offset2/u_ratio,0.0,1.0)+projected_extrude;float extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length(projected_extrude.xy/gl_Position.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;v_tex_a=vec2(a_linesofar*u_patternscale_a.x/floorwidth,normal.y*u_patternscale_a.y+u_tex_y_a);v_tex_b=vec2(a_linesofar*u_patternscale_b.x/floorwidth,normal.y*u_patternscale_b.y+u_tex_y_b);v_width2=vec2(outset,inset);}`),Ys=ii(`uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;varying vec2 v_pos0;varying vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture2D(u_image0,v_pos0);vec4 color1=texture2D(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);gl_FragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,"uniform mat4 u_matrix;uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;attribute vec2 a_pos;attribute vec2 a_texture_pos;varying vec2 v_pos0;varying vec2 v_pos1;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);v_pos0=(((a_texture_pos/8192.0)-0.5)/u_buffer_scale )+0.5;v_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),Eu=ii(`uniform sampler2D u_texture;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
lowp float alpha=opacity*v_fade_opacity;gl_FragColor=texture2D(u_texture,v_tex)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;varying vec2 v_tex;varying float v_fade_opacity;
#pragma mapbox: define lowp float opacity
void main() {
#pragma mapbox: initialize lowp float opacity
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0),0.0,1.0);v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;v_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));}`),C1=ii(`#define SDF_PX 8.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec4 a_pixeloffset;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;varying vec2 v_data0;varying vec3 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}`),I1=ii(`#define SDF_PX 8.0
#define SDF 1.0
#define ICON 0.0
uniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
float fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;gl_FragColor=texture2D(u_texture_icon,tex_icon)*alpha;
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
return;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture2D(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);gl_FragColor=color*(alpha*opacity*fade_opacity);
#ifdef OVERDRAW_INSPECTOR
gl_FragColor=vec4(1.0);
#endif
}`,`const float PI=3.141592653589793;attribute vec4 a_pos_offset;attribute vec4 a_data;attribute vec3 a_projected_pos;attribute float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_matrix;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;varying vec4 v_data0;varying vec4 v_data1;
#pragma mapbox: define highp vec4 fill_color
#pragma mapbox: define highp vec4 halo_color
#pragma mapbox: define lowp float opacity
#pragma mapbox: define lowp float halo_width
#pragma mapbox: define lowp float halo_blur
void main() {
#pragma mapbox: initialize highp vec4 fill_color
#pragma mapbox: initialize highp vec4 halo_color
#pragma mapbox: initialize lowp float opacity
#pragma mapbox: initialize lowp float halo_width
#pragma mapbox: initialize lowp float halo_blur
vec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec4 projectedPoint=u_matrix*vec4(a_pos,0,1);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?
camera_to_anchor_distance/u_camera_to_center_distance :
u_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=u_matrix*vec4(a_pos+vec2(1,0),0,1);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy,0.0,1.0);gl_Position=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale),0.0,1.0);float gamma_scale=gl_Position.w;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(1.0,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}`);function ii(c,d){var l=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,h=d.match(/attribute ([\w]+) ([\w]+)/g),E=c.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),A=d.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),T=A?A.concat(E):E,w={};return{fragmentSource:c=c.replace(l,function(D,H,Q,te,ie){return w[ie]=!0,H==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
varying `+Q+" "+te+" "+ie+`;
#else
uniform `+Q+" "+te+" u_"+ie+`;
#endif
`:`
#ifdef HAS_UNIFORM_u_`+ie+`
    `+Q+" "+te+" "+ie+" = u_"+ie+`;
#endif
`}),vertexSource:d=d.replace(l,function(D,H,Q,te,ie){var xe=te==="float"?"vec2":"vec4",me=ie.match(/color/)?"color":xe;return w[ie]?H==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
uniform lowp float u_`+ie+`_t;
attribute `+Q+" "+xe+" a_"+ie+`;
varying `+Q+" "+te+" "+ie+`;
#else
uniform `+Q+" "+te+" u_"+ie+`;
#endif
`:me==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+ie+" = a_"+ie+`;
#else
    `+Q+" "+te+" "+ie+" = u_"+ie+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+ie+" = unpack_mix_"+me+"(a_"+ie+", u_"+ie+`_t);
#else
    `+Q+" "+te+" "+ie+" = u_"+ie+`;
#endif
`:H==="define"?`
#ifndef HAS_UNIFORM_u_`+ie+`
uniform lowp float u_`+ie+`_t;
attribute `+Q+" "+xe+" a_"+ie+`;
#else
uniform `+Q+" "+te+" u_"+ie+`;
#endif
`:me==="vec4"?`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+Q+" "+te+" "+ie+" = a_"+ie+`;
#else
    `+Q+" "+te+" "+ie+" = u_"+ie+`;
#endif
`:`
#ifndef HAS_UNIFORM_u_`+ie+`
    `+Q+" "+te+" "+ie+" = unpack_mix_"+me+"(a_"+ie+", u_"+ie+`_t);
#else
    `+Q+" "+te+" "+ie+" = u_"+ie+`;
#endif
`}),staticAttributes:h,staticUniforms:T}}var k0=Object.freeze({__proto__:null,prelude:_u,background:Xs,backgroundPattern:Cc,circle:T1,clippingMask:Ic,heatmap:wl,heatmapTexture:Cl,collisionBox:Il,collisionCircle:S1,debug:R1,fill:U0,fillOutline:Qp,fillOutlinePattern:xs,fillPattern:w1,fillExtrusion:Ln,fillExtrusionPattern:Yu,hillshadePrepare:gu,hillshade:Na,line:vu,lineGradient:Xa,linePattern:Zs,lineSDF:Da,raster:Ys,symbolIcon:Eu,symbolSDF:C1,symbolTextAndIcon:I1}),Mc=function(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null};function Ml(c){for(var d=[],l=0;l<c.length;l++)if(c[l]!==null){var h=c[l].split(" ");d.push(h.pop())}return d}Mc.prototype.bind=function(c,d,l,h,E,A,T,w){this.context=c;for(var D=this.boundPaintVertexBuffers.length!==h.length,H=0;!D&&H<h.length;H++)this.boundPaintVertexBuffers[H]!==h[H]&&(D=!0);c.extVertexArrayObject&&this.vao&&this.boundProgram===d&&this.boundLayoutVertexBuffer===l&&!D&&this.boundIndexBuffer===E&&this.boundVertexOffset===A&&this.boundDynamicVertexBuffer===T&&this.boundDynamicVertexBuffer2===w?(c.bindVertexArrayOES.set(this.vao),T&&T.bind(),E&&E.dynamicDraw&&E.bind(),w&&w.bind()):this.freshBind(d,l,h,E,A,T,w)},Mc.prototype.freshBind=function(c,d,l,h,E,A,T){var w,D=c.numAttributes,H=this.context,Q=H.gl;if(H.extVertexArrayObject)this.vao&&this.destroy(),this.vao=H.extVertexArrayObject.createVertexArrayOES(),H.bindVertexArrayOES.set(this.vao),w=0,this.boundProgram=c,this.boundLayoutVertexBuffer=d,this.boundPaintVertexBuffers=l,this.boundIndexBuffer=h,this.boundVertexOffset=E,this.boundDynamicVertexBuffer=A,this.boundDynamicVertexBuffer2=T;else{w=H.currentNumAttributes||0;for(var te=D;te<w;te++)Q.disableVertexAttribArray(te)}d.enableAttributes(Q,c);for(var ie=0,xe=l;ie<xe.length;ie+=1)xe[ie].enableAttributes(Q,c);A&&A.enableAttributes(Q,c),T&&T.enableAttributes(Q,c),d.bind(),d.setVertexAttribPointers(Q,c,E);for(var me=0,Ne=l;me<Ne.length;me+=1){var ye=Ne[me];ye.bind(),ye.setVertexAttribPointers(Q,c,E)}A&&(A.bind(),A.setVertexAttribPointers(Q,c,E)),h&&h.bind(),T&&(T.bind(),T.setVertexAttribPointers(Q,c,E)),H.currentNumAttributes=D},Mc.prototype.destroy=function(){this.vao&&(this.context.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)};var Bi=function(c,d,l,h,E,A){var T=c.gl;this.program=T.createProgram();for(var w=Ml(l.staticAttributes),D=h?h.getBinderAttributes():[],H=w.concat(D),Q=l.staticUniforms?Ml(l.staticUniforms):[],te=h?h.getBinderUniforms():[],ie=[],xe=0,me=Q.concat(te);xe<me.length;xe+=1){var Ne=me[xe];ie.indexOf(Ne)<0&&ie.push(Ne)}var ye=h?h.defines():[];A&&ye.push("#define OVERDRAW_INSPECTOR;");var Me=ye.concat(_u.fragmentSource,l.fragmentSource).join(`
`),He=ye.concat(_u.vertexSource,l.vertexSource).join(`
`),Je=T.createShader(T.FRAGMENT_SHADER);if(T.isContextLost())this.failedToCreate=!0;else{T.shaderSource(Je,Me),T.compileShader(Je),T.attachShader(this.program,Je);var dt=T.createShader(T.VERTEX_SHADER);if(T.isContextLost())this.failedToCreate=!0;else{T.shaderSource(dt,He),T.compileShader(dt),T.attachShader(this.program,dt),this.attributes={};var it={};this.numAttributes=H.length;for(var vt=0;vt<this.numAttributes;vt++)H[vt]&&(T.bindAttribLocation(this.program,vt,H[vt]),this.attributes[H[vt]]=vt);T.linkProgram(this.program),T.deleteShader(dt),T.deleteShader(Je);for(var Nt=0;Nt<ie.length;Nt++){var Qt=ie[Nt];if(Qt&&!it[Qt]){var Yt=T.getUniformLocation(this.program,Qt);Yt&&(it[Qt]=Yt)}}this.fixedUniforms=E(c,it),this.binderUniforms=h?h.getUniforms(c,it):[]}}};function Nl(c,d,l){var h=1/pi(l,1,d.transform.tileZoom),E=Math.pow(2,l.tileID.overscaledZ),A=l.tileSize*Math.pow(2,d.transform.tileZoom)/E,T=A*(l.tileID.canonical.x+l.tileID.wrap*E),w=A*l.tileID.canonical.y;return{u_image:0,u_texsize:l.imageAtlasTexture.size,u_scale:[h,c.fromScale,c.toScale],u_fade:c.t,u_pixel_coord_upper:[T>>16,w>>16],u_pixel_coord_lower:[65535&T,65535&w]}}Bi.prototype.draw=function(c,d,l,h,E,A,T,w,D,H,Q,te,ie,xe,me,Ne){var ye,Me=c.gl;if(!this.failedToCreate){for(var He in c.program.set(this.program),c.setDepthMode(l),c.setStencilMode(h),c.setColorMode(E),c.setCullFace(A),this.fixedUniforms)this.fixedUniforms[He].set(T[He]);xe&&xe.setUniforms(c,this.binderUniforms,te,{zoom:ie});for(var Je=(ye={},ye[Me.LINES]=2,ye[Me.TRIANGLES]=3,ye[Me.LINE_STRIP]=1,ye)[d],dt=0,it=Q.get();dt<it.length;dt+=1){var vt=it[dt],Nt=vt.vaos||(vt.vaos={});(Nt[w]||(Nt[w]=new Mc)).bind(c,this,D,xe?xe.getPaintVertexBuffers():[],H,vt.vertexOffset,me,Ne),Me.drawElements(d,vt.primitiveLength*Je,Me.UNSIGNED_SHORT,vt.primitiveOffset*Je*2)}}};var M1=function(c,d,l,h){var E=d.style.light,A=E.properties.get("position"),T=[A.x,A.y,A.z],w=n.create$1();E.properties.get("anchor")==="viewport"&&n.fromRotation(w,-d.transform.angle),n.transformMat3(T,T,w);var D=E.properties.get("color");return{u_matrix:c,u_lightpos:T,u_lightintensity:E.properties.get("intensity"),u_lightcolor:[D.r,D.g,D.b],u_vertical_gradient:+l,u_opacity:h}},ua=function(c,d,l,h,E,A,T){return n.extend(M1(c,d,l,h),Nl(A,d,T),{u_height_factor:-Math.pow(2,E.overscaledZ)/T.tileSize/8})},qs=function(c){return{u_matrix:c}},Ps=function(c,d,l,h){return n.extend(qs(c),Nl(l,d,h))},xu=function(c,d){return{u_matrix:c,u_world:d}},Nc=function(c,d,l,h,E){return n.extend(Ps(c,d,l,h),{u_world:E})},Ep=function(c,d,l,h){var E,A,T=c.transform;if(h.paint.get("circle-pitch-alignment")==="map"){var w=pi(l,1,T.zoom);E=!0,A=[w,w]}else E=!1,A=T.pixelsToGLUnits;return{u_camera_to_center_distance:T.cameraToCenterDistance,u_scale_with_map:+(h.paint.get("circle-pitch-scale")==="map"),u_matrix:c.translatePosMatrix(d.posMatrix,l,h.paint.get("circle-translate"),h.paint.get("circle-translate-anchor")),u_pitch_with_map:+E,u_device_pixel_ratio:n.browser.devicePixelRatio,u_extrude_scale:A}},us=function(c,d,l){var h=pi(l,1,d.zoom),E=Math.pow(2,d.zoom-l.tileID.overscaledZ),A=l.tileID.overscaleFactor();return{u_matrix:c,u_camera_to_center_distance:d.cameraToCenterDistance,u_pixels_to_tile_units:h,u_extrude_scale:[d.pixelsToGLUnits[0]/(h*E),d.pixelsToGLUnits[1]/(h*E)],u_overscale_factor:A}},Jp=function(c,d,l){return{u_matrix:c,u_inv_matrix:d,u_camera_to_center_distance:l.cameraToCenterDistance,u_viewport_size:[l.width,l.height]}},Pu=function(c,d,l){return l===void 0&&(l=1),{u_matrix:c,u_color:d,u_overlay:0,u_overlay_scale:l}},$s=function(c){return{u_matrix:c}},Dl=function(c,d,l,h){return{u_matrix:c,u_extrude_scale:pi(d,1,l),u_intensity:h}},ec=function(c,d,l){var h=c.transform;return{u_matrix:tc(c,d,l),u_ratio:1/pi(d,1,h.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_units_to_pixels:[1/h.pixelsToGLUnits[0],1/h.pixelsToGLUnits[1]]}},li=function(c,d,l,h){return n.extend(ec(c,d,l),{u_image:0,u_image_height:h})},Dc=function(c,d,l,h){var E=c.transform,A=bu(d,E);return{u_matrix:tc(c,d,l),u_texsize:d.imageAtlasTexture.size,u_ratio:1/pi(d,1,E.zoom),u_device_pixel_ratio:n.browser.devicePixelRatio,u_image:0,u_scale:[A,h.fromScale,h.toScale],u_fade:h.t,u_units_to_pixels:[1/E.pixelsToGLUnits[0],1/E.pixelsToGLUnits[1]]}},z0=function(c,d,l,h,E){var A=c.lineAtlas,T=bu(d,c.transform),w=l.layout.get("line-cap")==="round",D=A.getDash(h.from,w),H=A.getDash(h.to,w),Q=D.width*E.fromScale,te=H.width*E.toScale;return n.extend(ec(c,d,l),{u_patternscale_a:[T/Q,-D.height/2],u_patternscale_b:[T/te,-H.height/2],u_sdfgamma:A.width/(256*Math.min(Q,te)*n.browser.devicePixelRatio)/2,u_image:0,u_tex_y_a:D.y,u_tex_y_b:H.y,u_mix:E.t})};function bu(c,d){return 1/pi(c,1,d.tileZoom)}function tc(c,d,l){return c.translatePosMatrix(d.tileID.posMatrix,d,l.paint.get("line-translate"),l.paint.get("line-translate-anchor"))}var Ol=function(c,d,l,h,E){return{u_matrix:c,u_tl_parent:d,u_scale_parent:l,u_buffer_scale:1,u_fade_t:h.mix,u_opacity:h.opacity*E.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:E.paint.get("raster-brightness-min"),u_brightness_high:E.paint.get("raster-brightness-max"),u_saturation_factor:(T=E.paint.get("raster-saturation"),T>0?1-1/(1.001-T):-T),u_contrast_factor:(A=E.paint.get("raster-contrast"),A>0?1/(1-A):1+A),u_spin_weights:Oc(E.paint.get("raster-hue-rotate"))};var A,T};function Oc(c){c*=Math.PI/180;var d=Math.sin(c),l=Math.cos(c);return[(2*l+1)/3,(-Math.sqrt(3)*d-l+1)/3,(Math.sqrt(3)*d-l+1)/3]}var Ks,Au=function(c,d,l,h,E,A,T,w,D,H){var Q=E.transform;return{u_is_size_zoom_constant:+(c==="constant"||c==="source"),u_is_size_feature_constant:+(c==="constant"||c==="camera"),u_size_t:d?d.uSizeT:0,u_size:d?d.uSize:0,u_camera_to_center_distance:Q.cameraToCenterDistance,u_pitch:Q.pitch/360*2*Math.PI,u_rotate_symbol:+l,u_aspect_ratio:Q.width/Q.height,u_fade_change:E.options.fadeDuration?E.symbolFadeChange:1,u_matrix:A,u_label_plane_matrix:T,u_coord_matrix:w,u_is_text:+D,u_pitch_with_map:+h,u_texsize:H,u_texture:0}},qu=function(c,d,l,h,E,A,T,w,D,H,Q){var te=E.transform;return n.extend(Au(c,d,l,h,E,A,T,w,D,H),{u_gamma_scale:h?Math.cos(te._pitch)*te.cameraToCenterDistance:1,u_device_pixel_ratio:n.browser.devicePixelRatio,u_is_halo:+Q})},xp=function(c,d,l,h,E,A,T,w,D,H){return n.extend(qu(c,d,l,h,E,A,T,w,!0,D,!0),{u_texsize_icon:H,u_texture_icon:1})},$u=function(c,d,l){return{u_matrix:c,u_opacity:d,u_color:l}},Ku=function(c,d,l,h,E,A){return n.extend(function(T,w,D,H){var Q=D.imageManager.getPattern(T.from.toString()),te=D.imageManager.getPattern(T.to.toString()),ie=D.imageManager.getPixelSize(),xe=ie.width,me=ie.height,Ne=Math.pow(2,H.tileID.overscaledZ),ye=H.tileSize*Math.pow(2,D.transform.tileZoom)/Ne,Me=ye*(H.tileID.canonical.x+H.tileID.wrap*Ne),He=ye*H.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:Q.tl,u_pattern_br_a:Q.br,u_pattern_tl_b:te.tl,u_pattern_br_b:te.br,u_texsize:[xe,me],u_mix:w.t,u_pattern_size_a:Q.displaySize,u_pattern_size_b:te.displaySize,u_scale_a:w.fromScale,u_scale_b:w.toScale,u_tile_units_to_pixels:1/pi(H,1,D.transform.tileZoom),u_pixel_coord_upper:[Me>>16,He>>16],u_pixel_coord_lower:[65535&Me,65535&He]}}(h,A,l,E),{u_matrix:c,u_opacity:d})},Ll={fillExtrusion:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_lightpos:new n.Uniform3f(c,d.u_lightpos),u_lightintensity:new n.Uniform1f(c,d.u_lightintensity),u_lightcolor:new n.Uniform3f(c,d.u_lightcolor),u_vertical_gradient:new n.Uniform1f(c,d.u_vertical_gradient),u_opacity:new n.Uniform1f(c,d.u_opacity)}},fillExtrusionPattern:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_lightpos:new n.Uniform3f(c,d.u_lightpos),u_lightintensity:new n.Uniform1f(c,d.u_lightintensity),u_lightcolor:new n.Uniform3f(c,d.u_lightcolor),u_vertical_gradient:new n.Uniform1f(c,d.u_vertical_gradient),u_height_factor:new n.Uniform1f(c,d.u_height_factor),u_image:new n.Uniform1i(c,d.u_image),u_texsize:new n.Uniform2f(c,d.u_texsize),u_pixel_coord_upper:new n.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(c,d.u_pixel_coord_lower),u_scale:new n.Uniform3f(c,d.u_scale),u_fade:new n.Uniform1f(c,d.u_fade),u_opacity:new n.Uniform1f(c,d.u_opacity)}},fill:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix)}},fillPattern:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_image:new n.Uniform1i(c,d.u_image),u_texsize:new n.Uniform2f(c,d.u_texsize),u_pixel_coord_upper:new n.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(c,d.u_pixel_coord_lower),u_scale:new n.Uniform3f(c,d.u_scale),u_fade:new n.Uniform1f(c,d.u_fade)}},fillOutline:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_world:new n.Uniform2f(c,d.u_world)}},fillOutlinePattern:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_world:new n.Uniform2f(c,d.u_world),u_image:new n.Uniform1i(c,d.u_image),u_texsize:new n.Uniform2f(c,d.u_texsize),u_pixel_coord_upper:new n.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(c,d.u_pixel_coord_lower),u_scale:new n.Uniform3f(c,d.u_scale),u_fade:new n.Uniform1f(c,d.u_fade)}},circle:function(c,d){return{u_camera_to_center_distance:new n.Uniform1f(c,d.u_camera_to_center_distance),u_scale_with_map:new n.Uniform1i(c,d.u_scale_with_map),u_pitch_with_map:new n.Uniform1i(c,d.u_pitch_with_map),u_extrude_scale:new n.Uniform2f(c,d.u_extrude_scale),u_device_pixel_ratio:new n.Uniform1f(c,d.u_device_pixel_ratio),u_matrix:new n.UniformMatrix4f(c,d.u_matrix)}},collisionBox:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_camera_to_center_distance:new n.Uniform1f(c,d.u_camera_to_center_distance),u_pixels_to_tile_units:new n.Uniform1f(c,d.u_pixels_to_tile_units),u_extrude_scale:new n.Uniform2f(c,d.u_extrude_scale),u_overscale_factor:new n.Uniform1f(c,d.u_overscale_factor)}},collisionCircle:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_inv_matrix:new n.UniformMatrix4f(c,d.u_inv_matrix),u_camera_to_center_distance:new n.Uniform1f(c,d.u_camera_to_center_distance),u_viewport_size:new n.Uniform2f(c,d.u_viewport_size)}},debug:function(c,d){return{u_color:new n.UniformColor(c,d.u_color),u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_overlay:new n.Uniform1i(c,d.u_overlay),u_overlay_scale:new n.Uniform1f(c,d.u_overlay_scale)}},clippingMask:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix)}},heatmap:function(c,d){return{u_extrude_scale:new n.Uniform1f(c,d.u_extrude_scale),u_intensity:new n.Uniform1f(c,d.u_intensity),u_matrix:new n.UniformMatrix4f(c,d.u_matrix)}},heatmapTexture:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_world:new n.Uniform2f(c,d.u_world),u_image:new n.Uniform1i(c,d.u_image),u_color_ramp:new n.Uniform1i(c,d.u_color_ramp),u_opacity:new n.Uniform1f(c,d.u_opacity)}},hillshade:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_image:new n.Uniform1i(c,d.u_image),u_latrange:new n.Uniform2f(c,d.u_latrange),u_light:new n.Uniform2f(c,d.u_light),u_shadow:new n.UniformColor(c,d.u_shadow),u_highlight:new n.UniformColor(c,d.u_highlight),u_accent:new n.UniformColor(c,d.u_accent)}},hillshadePrepare:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_image:new n.Uniform1i(c,d.u_image),u_dimension:new n.Uniform2f(c,d.u_dimension),u_zoom:new n.Uniform1f(c,d.u_zoom),u_unpack:new n.Uniform4f(c,d.u_unpack)}},line:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_ratio:new n.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new n.Uniform1f(c,d.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(c,d.u_units_to_pixels)}},lineGradient:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_ratio:new n.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new n.Uniform1f(c,d.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(c,d.u_units_to_pixels),u_image:new n.Uniform1i(c,d.u_image),u_image_height:new n.Uniform1f(c,d.u_image_height)}},linePattern:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_texsize:new n.Uniform2f(c,d.u_texsize),u_ratio:new n.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new n.Uniform1f(c,d.u_device_pixel_ratio),u_image:new n.Uniform1i(c,d.u_image),u_units_to_pixels:new n.Uniform2f(c,d.u_units_to_pixels),u_scale:new n.Uniform3f(c,d.u_scale),u_fade:new n.Uniform1f(c,d.u_fade)}},lineSDF:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_ratio:new n.Uniform1f(c,d.u_ratio),u_device_pixel_ratio:new n.Uniform1f(c,d.u_device_pixel_ratio),u_units_to_pixels:new n.Uniform2f(c,d.u_units_to_pixels),u_patternscale_a:new n.Uniform2f(c,d.u_patternscale_a),u_patternscale_b:new n.Uniform2f(c,d.u_patternscale_b),u_sdfgamma:new n.Uniform1f(c,d.u_sdfgamma),u_image:new n.Uniform1i(c,d.u_image),u_tex_y_a:new n.Uniform1f(c,d.u_tex_y_a),u_tex_y_b:new n.Uniform1f(c,d.u_tex_y_b),u_mix:new n.Uniform1f(c,d.u_mix)}},raster:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_tl_parent:new n.Uniform2f(c,d.u_tl_parent),u_scale_parent:new n.Uniform1f(c,d.u_scale_parent),u_buffer_scale:new n.Uniform1f(c,d.u_buffer_scale),u_fade_t:new n.Uniform1f(c,d.u_fade_t),u_opacity:new n.Uniform1f(c,d.u_opacity),u_image0:new n.Uniform1i(c,d.u_image0),u_image1:new n.Uniform1i(c,d.u_image1),u_brightness_low:new n.Uniform1f(c,d.u_brightness_low),u_brightness_high:new n.Uniform1f(c,d.u_brightness_high),u_saturation_factor:new n.Uniform1f(c,d.u_saturation_factor),u_contrast_factor:new n.Uniform1f(c,d.u_contrast_factor),u_spin_weights:new n.Uniform3f(c,d.u_spin_weights)}},symbolIcon:function(c,d){return{u_is_size_zoom_constant:new n.Uniform1i(c,d.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(c,d.u_is_size_feature_constant),u_size_t:new n.Uniform1f(c,d.u_size_t),u_size:new n.Uniform1f(c,d.u_size),u_camera_to_center_distance:new n.Uniform1f(c,d.u_camera_to_center_distance),u_pitch:new n.Uniform1f(c,d.u_pitch),u_rotate_symbol:new n.Uniform1i(c,d.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(c,d.u_aspect_ratio),u_fade_change:new n.Uniform1f(c,d.u_fade_change),u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(c,d.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(c,d.u_coord_matrix),u_is_text:new n.Uniform1i(c,d.u_is_text),u_pitch_with_map:new n.Uniform1i(c,d.u_pitch_with_map),u_texsize:new n.Uniform2f(c,d.u_texsize),u_texture:new n.Uniform1i(c,d.u_texture)}},symbolSDF:function(c,d){return{u_is_size_zoom_constant:new n.Uniform1i(c,d.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(c,d.u_is_size_feature_constant),u_size_t:new n.Uniform1f(c,d.u_size_t),u_size:new n.Uniform1f(c,d.u_size),u_camera_to_center_distance:new n.Uniform1f(c,d.u_camera_to_center_distance),u_pitch:new n.Uniform1f(c,d.u_pitch),u_rotate_symbol:new n.Uniform1i(c,d.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(c,d.u_aspect_ratio),u_fade_change:new n.Uniform1f(c,d.u_fade_change),u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(c,d.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(c,d.u_coord_matrix),u_is_text:new n.Uniform1i(c,d.u_is_text),u_pitch_with_map:new n.Uniform1i(c,d.u_pitch_with_map),u_texsize:new n.Uniform2f(c,d.u_texsize),u_texture:new n.Uniform1i(c,d.u_texture),u_gamma_scale:new n.Uniform1f(c,d.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(c,d.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(c,d.u_is_halo)}},symbolTextAndIcon:function(c,d){return{u_is_size_zoom_constant:new n.Uniform1i(c,d.u_is_size_zoom_constant),u_is_size_feature_constant:new n.Uniform1i(c,d.u_is_size_feature_constant),u_size_t:new n.Uniform1f(c,d.u_size_t),u_size:new n.Uniform1f(c,d.u_size),u_camera_to_center_distance:new n.Uniform1f(c,d.u_camera_to_center_distance),u_pitch:new n.Uniform1f(c,d.u_pitch),u_rotate_symbol:new n.Uniform1i(c,d.u_rotate_symbol),u_aspect_ratio:new n.Uniform1f(c,d.u_aspect_ratio),u_fade_change:new n.Uniform1f(c,d.u_fade_change),u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_label_plane_matrix:new n.UniformMatrix4f(c,d.u_label_plane_matrix),u_coord_matrix:new n.UniformMatrix4f(c,d.u_coord_matrix),u_is_text:new n.Uniform1i(c,d.u_is_text),u_pitch_with_map:new n.Uniform1i(c,d.u_pitch_with_map),u_texsize:new n.Uniform2f(c,d.u_texsize),u_texsize_icon:new n.Uniform2f(c,d.u_texsize_icon),u_texture:new n.Uniform1i(c,d.u_texture),u_texture_icon:new n.Uniform1i(c,d.u_texture_icon),u_gamma_scale:new n.Uniform1f(c,d.u_gamma_scale),u_device_pixel_ratio:new n.Uniform1f(c,d.u_device_pixel_ratio),u_is_halo:new n.Uniform1i(c,d.u_is_halo)}},background:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_opacity:new n.Uniform1f(c,d.u_opacity),u_color:new n.UniformColor(c,d.u_color)}},backgroundPattern:function(c,d){return{u_matrix:new n.UniformMatrix4f(c,d.u_matrix),u_opacity:new n.Uniform1f(c,d.u_opacity),u_image:new n.Uniform1i(c,d.u_image),u_pattern_tl_a:new n.Uniform2f(c,d.u_pattern_tl_a),u_pattern_br_a:new n.Uniform2f(c,d.u_pattern_br_a),u_pattern_tl_b:new n.Uniform2f(c,d.u_pattern_tl_b),u_pattern_br_b:new n.Uniform2f(c,d.u_pattern_br_b),u_texsize:new n.Uniform2f(c,d.u_texsize),u_mix:new n.Uniform1f(c,d.u_mix),u_pattern_size_a:new n.Uniform2f(c,d.u_pattern_size_a),u_pattern_size_b:new n.Uniform2f(c,d.u_pattern_size_b),u_scale_a:new n.Uniform1f(c,d.u_scale_a),u_scale_b:new n.Uniform1f(c,d.u_scale_b),u_pixel_coord_upper:new n.Uniform2f(c,d.u_pixel_coord_upper),u_pixel_coord_lower:new n.Uniform2f(c,d.u_pixel_coord_lower),u_tile_units_to_pixels:new n.Uniform1f(c,d.u_tile_units_to_pixels)}}};function Qu(c,d,l,h,E,A,T){for(var w=c.context,D=w.gl,H=c.useProgram("collisionBox"),Q=[],te=0,ie=0,xe=0;xe<h.length;xe++){var me=h[xe],Ne=d.getTile(me),ye=Ne.getBucket(l);if(ye){var Me=me.posMatrix;E[0]===0&&E[1]===0||(Me=c.translatePosMatrix(me.posMatrix,Ne,E,A));var He=T?ye.textCollisionBox:ye.iconCollisionBox,Je=ye.collisionCircleArray;if(Je.length>0){var dt=n.create(),it=Me;n.mul(dt,ye.placementInvProjMatrix,c.transform.glCoordMatrix),n.mul(dt,dt,ye.placementViewportMatrix),Q.push({circleArray:Je,circleOffset:ie,transform:it,invTransform:dt}),ie=te+=Je.length/4}He&&H.draw(w,D.LINES,se.disabled,ge.disabled,c.colorModeForRenderPass(),Ge.disabled,us(Me,c.transform,Ne),l.id,He.layoutVertexBuffer,He.indexBuffer,He.segments,null,c.transform.zoom,null,null,He.collisionVertexBuffer)}}if(T&&Q.length){var vt=c.useProgram("collisionCircle"),Nt=new n.StructArrayLayout2f1f2i16;Nt.resize(4*te),Nt._trim();for(var Qt=0,Yt=0,gr=Q;Yt<gr.length;Yt+=1)for(var kr=gr[Yt],jr=0;jr<kr.circleArray.length/4;jr++){var Hr=4*jr,Uo=kr.circleArray[Hr+0],Pr=kr.circleArray[Hr+1],ao=kr.circleArray[Hr+2],mo=kr.circleArray[Hr+3];Nt.emplace(Qt++,Uo,Pr,ao,mo,0),Nt.emplace(Qt++,Uo,Pr,ao,mo,1),Nt.emplace(Qt++,Uo,Pr,ao,mo,2),Nt.emplace(Qt++,Uo,Pr,ao,mo,3)}(!Ks||Ks.length<2*te)&&(Ks=function(wi){var Fn=2*wi,mn=new n.StructArrayLayout3ui6;mn.resize(Fn),mn._trim();for(var Ti=0;Ti<Fn;Ti++){var Ci=6*Ti;mn.uint16[Ci+0]=4*Ti+0,mn.uint16[Ci+1]=4*Ti+1,mn.uint16[Ci+2]=4*Ti+2,mn.uint16[Ci+3]=4*Ti+2,mn.uint16[Ci+4]=4*Ti+3,mn.uint16[Ci+5]=4*Ti+0}return mn}(te));for(var ro=w.createIndexBuffer(Ks,!0),Jr=w.createVertexBuffer(Nt,n.collisionCircleLayout.members,!0),yo=0,eo=Q;yo<eo.length;yo+=1){var $r=eo[yo],$i=Jp($r.transform,$r.invTransform,c.transform);vt.draw(w,D.TRIANGLES,se.disabled,ge.disabled,c.colorModeForRenderPass(),Ge.disabled,$i,l.id,Jr,ro,n.SegmentVector.simpleSegment(0,2*$r.circleOffset,$r.circleArray.length,$r.circleArray.length/2),null,c.transform.zoom,null,null,null)}Jr.destroy(),ro.destroy()}}var Za=n.identity(new Float32Array(16));function Bl(c,d,l,h,E,A){var T=n.getAnchorAlignment(c),w=-(T.horizontalAlign-.5)*d,D=-(T.verticalAlign-.5)*l,H=n.evaluateVariableOffset(c,h);return new n.Point((w/E+H[0])*A,(D/E+H[1])*A)}function Ul(c,d,l,h,E,A,T,w,D,H,Q){var te=c.text.placedSymbolArray,ie=c.text.dynamicLayoutVertexArray,xe=c.icon.dynamicLayoutVertexArray,me={};ie.clear();for(var Ne=0;Ne<te.length;Ne++){var ye=te.get(Ne),Me=ye.hidden||!ye.crossTileID||c.allowVerticalPlacement&&!ye.placedOrientation?null:h[ye.crossTileID];if(Me){var He=new n.Point(ye.anchorX,ye.anchorY),Je=lo(He,l?w:T),dt=Fo(A.cameraToCenterDistance,Je.signedDistanceFromCamera),it=E.evaluateSizeForFeature(c.textSizeData,H,ye)*dt/n.ONE_EM;l&&(it*=c.tilePixelRatio/D);for(var vt=Bl(Me.anchor,Me.width,Me.height,Me.textOffset,Me.textBoxScale,it),Nt=l?lo(He.add(vt),T).point:Je.point.add(d?vt.rotate(-A.angle):vt),Qt=c.allowVerticalPlacement&&ye.placedOrientation===n.WritingMode.vertical?Math.PI/2:0,Yt=0;Yt<ye.numGlyphs;Yt++)n.addDynamicAttributes(ie,Nt,Qt);Q&&ye.associatedIconIndex>=0&&(me[ye.associatedIconIndex]={shiftedAnchor:Nt,angle:Qt})}else dn(ye.numGlyphs,ie)}if(Q){xe.clear();for(var gr=c.icon.placedSymbolArray,kr=0;kr<gr.length;kr++){var jr=gr.get(kr);if(jr.hidden)dn(jr.numGlyphs,xe);else{var Hr=me[kr];if(Hr)for(var Uo=0;Uo<jr.numGlyphs;Uo++)n.addDynamicAttributes(xe,Hr.shiftedAnchor,Hr.angle);else dn(jr.numGlyphs,xe)}}c.icon.dynamicLayoutVertexBuffer.updateData(xe)}c.text.dynamicLayoutVertexBuffer.updateData(ie)}function kl(c,d,l){return l.iconsInText&&d?"symbolTextAndIcon":c?"symbolSDF":"symbolIcon"}function Fu(c,d,l,h,E,A,T,w,D,H,Q,te){for(var ie=c.context,xe=ie.gl,me=c.transform,Ne=w==="map",ye=D==="map",Me=Ne&&l.layout.get("symbol-placement")!=="point",He=Ne&&!ye&&!Me,Je=l.layout.get("symbol-sort-key").constantOr(1)!==void 0,dt=!1,it=c.depthModeForSublayer(0,se.ReadOnly),vt=l.layout.get("text-variable-anchor"),Nt=[],Qt=0,Yt=h;Qt<Yt.length;Qt+=1){var gr=Yt[Qt],kr=d.getTile(gr),jr=kr.getBucket(l);if(jr){var Hr=E?jr.text:jr.icon;if(Hr&&Hr.segments.get().length){var Uo=Hr.programConfigurations.get(l.id),Pr=E||jr.sdfIcons,ao=E?jr.textSizeData:jr.iconSizeData,mo=ye||me.pitch!==0,ro=c.useProgram(kl(Pr,E,jr),Uo),Jr=n.evaluateSizeForZoom(ao,me.zoom),yo=void 0,eo=[0,0],$r=void 0,$i=void 0,wi=null,Fn=void 0;if(E)$r=kr.glyphAtlasTexture,$i=xe.LINEAR,yo=kr.glyphAtlasTexture.size,jr.iconsInText&&(eo=kr.imageAtlasTexture.size,wi=kr.imageAtlasTexture,Fn=mo||c.options.rotating||c.options.zooming||ao.kind==="composite"||ao.kind==="camera"?xe.LINEAR:xe.NEAREST);else{var mn=l.layout.get("icon-size").constantOr(0)!==1||jr.iconsNeedLinear;$r=kr.imageAtlasTexture,$i=Pr||c.options.rotating||c.options.zooming||mn||mo?xe.LINEAR:xe.NEAREST,yo=kr.imageAtlasTexture.size}var Ti=pi(kr,1,c.transform.zoom),Ci=ti(gr.posMatrix,ye,Ne,c.transform,Ti),ra=Vo(gr.posMatrix,ye,Ne,c.transform,Ti),Xn=vt&&jr.hasTextData(),Rs=l.layout.get("icon-text-fit")!=="none"&&Xn&&jr.hasIconData();Me&&yu(jr,gr.posMatrix,c,E,Ci,ra,ye,H);var oa=c.translatePosMatrix(gr.posMatrix,kr,A,T),Qa=Me||E&&vt||Rs?Za:Ci,Sa=c.translatePosMatrix(ra,kr,A,T,!0),Cp=Pr&&l.paint.get(E?"text-halo-width":"icon-halo-width").constantOr(1)!==0,op={program:ro,buffers:Hr,uniformValues:Pr?jr.iconsInText?xp(ao.kind,Jr,He,ye,c,oa,Qa,Sa,yo,eo):qu(ao.kind,Jr,He,ye,c,oa,Qa,Sa,E,yo,!0):Au(ao.kind,Jr,He,ye,c,oa,Qa,Sa,E,yo),atlasTexture:$r,atlasTextureIcon:wi,atlasInterpolation:$i,atlasInterpolationIcon:Fn,isSDF:Pr,hasHalo:Cp};if(Je&&jr.canOverlap){dt=!0;for(var ws=0,Nu=Hr.segments.get();ws<Nu.length;ws+=1){var ru=Nu[ws];Nt.push({segments:new n.SegmentVector([ru]),sortKey:ru.sortKey,state:op})}}else Nt.push({segments:Hr.segments,sortKey:0,state:op})}}}dt&&Nt.sort(function(Ja,ds){return Ja.sortKey-ds.sortKey});for(var ls=0,Du=Nt;ls<Du.length;ls+=1){var Bn=Du[ls],Ui=Bn.state;if(ie.activeTexture.set(xe.TEXTURE0),Ui.atlasTexture.bind(Ui.atlasInterpolation,xe.CLAMP_TO_EDGE),Ui.atlasTextureIcon&&(ie.activeTexture.set(xe.TEXTURE1),Ui.atlasTextureIcon&&Ui.atlasTextureIcon.bind(Ui.atlasInterpolationIcon,xe.CLAMP_TO_EDGE)),Ui.isSDF){var ca=Ui.uniformValues;Ui.hasHalo&&(ca.u_is_halo=1,bs(Ui.buffers,Bn.segments,l,c,Ui.program,it,Q,te,ca)),ca.u_is_halo=0}bs(Ui.buffers,Bn.segments,l,c,Ui.program,it,Q,te,Ui.uniformValues)}}function bs(c,d,l,h,E,A,T,w,D){var H=h.context;E.draw(H,H.gl.TRIANGLES,A,T,w,Ge.disabled,D,l.id,c.layoutVertexBuffer,c.indexBuffer,d,l.paint,h.transform.zoom,c.programConfigurations.get(l.id),c.dynamicLayoutVertexBuffer,c.opacityVertexBuffer)}function Pp(c,d,l,h,E,A,T){var w,D,H,Q,te,ie=c.context.gl,xe=l.paint.get("fill-pattern"),me=xe&&xe.constantOr(1),Ne=l.getCrossfadeParameters();T?(D=me&&!l.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",w=ie.LINES):(D=me?"fillPattern":"fill",w=ie.TRIANGLES);for(var ye=0,Me=h;ye<Me.length;ye+=1){var He=Me[ye],Je=d.getTile(He);if(!me||Je.patternsLoaded()){var dt=Je.getBucket(l);if(dt){var it=dt.programConfigurations.get(l.id),vt=c.useProgram(D,it);me&&(c.context.activeTexture.set(ie.TEXTURE0),Je.imageAtlasTexture.bind(ie.LINEAR,ie.CLAMP_TO_EDGE),it.updatePaintBuffers(Ne));var Nt=xe.constantOr(null);if(Nt&&Je.imageAtlas){var Qt=Je.imageAtlas,Yt=Qt.patternPositions[Nt.to.toString()],gr=Qt.patternPositions[Nt.from.toString()];Yt&&gr&&it.setConstantPatternPositions(Yt,gr)}var kr=c.translatePosMatrix(He.posMatrix,Je,l.paint.get("fill-translate"),l.paint.get("fill-translate-anchor"));if(T){Q=dt.indexBuffer2,te=dt.segments2;var jr=[ie.drawingBufferWidth,ie.drawingBufferHeight];H=D==="fillOutlinePattern"&&me?Nc(kr,c,Ne,Je,jr):xu(kr,jr)}else Q=dt.indexBuffer,te=dt.segments,H=me?Ps(kr,c,Ne,Je):qs(kr);vt.draw(c.context,w,E,c.stencilModeForClipping(He),A,Ge.disabled,H,l.id,dt.layoutVertexBuffer,Q,te,l.paint,c.transform.zoom,it)}}}}function rc(c,d,l,h,E,A,T){for(var w=c.context,D=w.gl,H=l.paint.get("fill-extrusion-pattern"),Q=H.constantOr(1),te=l.getCrossfadeParameters(),ie=l.paint.get("fill-extrusion-opacity"),xe=0,me=h;xe<me.length;xe+=1){var Ne=me[xe],ye=d.getTile(Ne),Me=ye.getBucket(l);if(Me){var He=Me.programConfigurations.get(l.id),Je=c.useProgram(Q?"fillExtrusionPattern":"fillExtrusion",He);Q&&(c.context.activeTexture.set(D.TEXTURE0),ye.imageAtlasTexture.bind(D.LINEAR,D.CLAMP_TO_EDGE),He.updatePaintBuffers(te));var dt=H.constantOr(null);if(dt&&ye.imageAtlas){var it=ye.imageAtlas,vt=it.patternPositions[dt.to.toString()],Nt=it.patternPositions[dt.from.toString()];vt&&Nt&&He.setConstantPatternPositions(vt,Nt)}var Qt=c.translatePosMatrix(Ne.posMatrix,ye,l.paint.get("fill-extrusion-translate"),l.paint.get("fill-extrusion-translate-anchor")),Yt=l.paint.get("fill-extrusion-vertical-gradient"),gr=Q?ua(Qt,c,Yt,ie,Ne,te,ye):M1(Qt,c,Yt,ie);Je.draw(w,w.gl.TRIANGLES,E,A,T,Ge.backCCW,gr,l.id,Me.layoutVertexBuffer,Me.indexBuffer,Me.segments,l.paint,c.transform.zoom,He)}}}function Tu(c,d,l,h,E,A){var T=c.context,w=T.gl,D=d.fbo;if(D){var H=c.useProgram("hillshade");T.activeTexture.set(w.TEXTURE0),w.bindTexture(w.TEXTURE_2D,D.colorAttachment.get());var Q=function(te,ie,xe){var me=xe.paint.get("hillshade-shadow-color"),Ne=xe.paint.get("hillshade-highlight-color"),ye=xe.paint.get("hillshade-accent-color"),Me=xe.paint.get("hillshade-illumination-direction")*(Math.PI/180);xe.paint.get("hillshade-illumination-anchor")==="viewport"&&(Me-=te.transform.angle);var He,Je,dt,it=!te.options.moving;return{u_matrix:te.transform.calculatePosMatrix(ie.tileID.toUnwrapped(),it),u_image:0,u_latrange:(He=ie.tileID,Je=Math.pow(2,He.canonical.z),dt=He.canonical.y,[new n.MercatorCoordinate(0,dt/Je).toLngLat().lat,new n.MercatorCoordinate(0,(dt+1)/Je).toLngLat().lat]),u_light:[xe.paint.get("hillshade-exaggeration"),Me],u_shadow:me,u_highlight:Ne,u_accent:ye}}(c,d,l);H.draw(T,w.TRIANGLES,h,E,A,Ge.disabled,Q,l.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}}function V0(c,d,l,h,E,A){var T=c.context,w=T.gl,D=d.dem;if(D&&D.data){var H=D.dim,Q=D.stride,te=D.getPixels();if(T.activeTexture.set(w.TEXTURE1),T.pixelStoreUnpackPremultiplyAlpha.set(!1),d.demTexture=d.demTexture||c.getTileTexture(Q),d.demTexture){var ie=d.demTexture;ie.update(te,{premultiply:!1}),ie.bind(w.NEAREST,w.CLAMP_TO_EDGE)}else d.demTexture=new n.Texture(T,te,w.RGBA,{premultiply:!1}),d.demTexture.bind(w.NEAREST,w.CLAMP_TO_EDGE);T.activeTexture.set(w.TEXTURE0);var xe=d.fbo;if(!xe){var me=new n.Texture(T,{width:H,height:H,data:null},w.RGBA);me.bind(w.LINEAR,w.CLAMP_TO_EDGE),(xe=d.fbo=T.createFramebuffer(H,H,!0)).colorAttachment.set(me.texture)}T.bindFramebuffer.set(xe.framebuffer),T.viewport.set([0,0,H,H]),c.useProgram("hillshadePrepare").draw(T,w.TRIANGLES,h,E,A,Ge.disabled,function(Ne,ye){var Me=ye.stride,He=n.create();return n.ortho(He,0,n.EXTENT,-n.EXTENT,0,0,1),n.translate(He,He,[0,-n.EXTENT,0]),{u_matrix:He,u_image:1,u_dimension:[Me,Me],u_zoom:Ne.overscaledZ,u_unpack:ye.getUnpackVector()}}(d.tileID,D),l.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments),d.needsHillshadePrepare=!1}}function Lc(c,d,l,h,E){var A=h.paint.get("raster-fade-duration");if(A>0){var T=n.browser.now(),w=(T-c.timeAdded)/A,D=d?(T-d.timeAdded)/A:-1,H=l.getSource(),Q=E.coveringZoomLevel({tileSize:H.tileSize,roundZoom:H.roundZoom}),te=!d||Math.abs(d.tileID.overscaledZ-Q)>Math.abs(c.tileID.overscaledZ-Q),ie=te&&c.refreshedUponExpiration?1:n.clamp(te?w:1-D,0,1);return c.refreshedUponExpiration&&w>=1&&(c.refreshedUponExpiration=!1),d?{opacity:1,mix:1-ie}:{opacity:ie,mix:0}}return{opacity:1,mix:0}}var zl=new n.Color(1,0,0,1),Bc=new n.Color(0,1,0,1),N1=new n.Color(0,0,1,1),Uc=new n.Color(1,0,1,1),Vl=new n.Color(0,1,1,1);function oc(c,d,l,h){Ju(c,0,d+l/2,c.transform.width,l,h)}function Hl(c,d,l,h){Ju(c,d-l/2,0,l,c.transform.height,h)}function Ju(c,d,l,h,E,A){var T=c.context,w=T.gl;w.enable(w.SCISSOR_TEST),w.scissor(d*n.browser.devicePixelRatio,l*n.browser.devicePixelRatio,h*n.browser.devicePixelRatio,E*n.browser.devicePixelRatio),T.clear({color:A}),w.disable(w.SCISSOR_TEST)}function Gl(c,d,l){var h=c.context,E=h.gl,A=l.posMatrix,T=c.useProgram("debug"),w=se.disabled,D=ge.disabled,H=c.colorModeForRenderPass();h.activeTexture.set(E.TEXTURE0),c.emptyTexture.bind(E.LINEAR,E.CLAMP_TO_EDGE),T.draw(h,E.LINE_STRIP,w,D,H,Ge.disabled,Pu(A,n.Color.red),"$debug",c.debugBuffer,c.tileBorderIndexBuffer,c.debugSegments);var Q=d.getTileByID(l.key).latestRawTileData,te=Math.floor((Q&&Q.byteLength||0)/1024),ie=d.getTile(l).tileSize,xe=512/Math.min(ie,512)*(l.overscaledZ/c.transform.zoom)*.5,me=l.canonical.toString();l.overscaledZ!==l.canonical.z&&(me+=" => "+l.overscaledZ),function(Ne,ye){Ne.initDebugOverlayCanvas();var Me=Ne.debugOverlayCanvas,He=Ne.context.gl,Je=Ne.debugOverlayCanvas.getContext("2d");Je.clearRect(0,0,Me.width,Me.height),Je.shadowColor="white",Je.shadowBlur=2,Je.lineWidth=1.5,Je.strokeStyle="white",Je.textBaseline="top",Je.font="bold 36px Open Sans, sans-serif",Je.fillText(ye,5,5),Je.strokeText(ye,5,5),Ne.debugOverlayTexture.update(Me),Ne.debugOverlayTexture.bind(He.LINEAR,He.CLAMP_TO_EDGE)}(c,me+" "+te+"kb"),T.draw(h,E.TRIANGLES,w,D,ke.alphaBlended,Ge.disabled,Pu(A,n.Color.transparent,xe),"$debug",c.debugBuffer,c.quadTriangleIndexBuffer,c.debugSegments)}var Su={symbol:function(c,d,l,h,E){if(c.renderPass==="translucent"){var A=ge.disabled,T=c.colorModeForRenderPass();l.layout.get("text-variable-anchor")&&function(w,D,H,Q,te,ie,xe){for(var me=D.transform,Ne=te==="map",ye=ie==="map",Me=0,He=w;Me<He.length;Me+=1){var Je=He[Me],dt=Q.getTile(Je),it=dt.getBucket(H);if(it&&it.text&&it.text.segments.get().length){var vt=n.evaluateSizeForZoom(it.textSizeData,me.zoom),Nt=pi(dt,1,D.transform.zoom),Qt=ti(Je.posMatrix,ye,Ne,D.transform,Nt),Yt=H.layout.get("icon-text-fit")!=="none"&&it.hasIconData();if(vt){var gr=Math.pow(2,me.zoom-dt.tileID.overscaledZ);Ul(it,Ne,ye,xe,n.symbolSize,me,Qt,Je.posMatrix,gr,vt,Yt)}}}}(h,c,l,d,l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),E),l.paint.get("icon-opacity").constantOr(1)!==0&&Fu(c,d,l,h,!1,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),l.layout.get("icon-rotation-alignment"),l.layout.get("icon-pitch-alignment"),l.layout.get("icon-keep-upright"),A,T),l.paint.get("text-opacity").constantOr(1)!==0&&Fu(c,d,l,h,!0,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),l.layout.get("text-rotation-alignment"),l.layout.get("text-pitch-alignment"),l.layout.get("text-keep-upright"),A,T),d.map.showCollisionBoxes&&(Qu(c,d,l,h,l.paint.get("text-translate"),l.paint.get("text-translate-anchor"),!0),Qu(c,d,l,h,l.paint.get("icon-translate"),l.paint.get("icon-translate-anchor"),!1))}},circle:function(c,d,l,h){if(c.renderPass==="translucent"){var E=l.paint.get("circle-opacity"),A=l.paint.get("circle-stroke-width"),T=l.paint.get("circle-stroke-opacity"),w=l.layout.get("circle-sort-key").constantOr(1)!==void 0;if(E.constantOr(1)!==0||A.constantOr(1)!==0&&T.constantOr(1)!==0){for(var D=c.context,H=D.gl,Q=c.depthModeForSublayer(0,se.ReadOnly),te=ge.disabled,ie=c.colorModeForRenderPass(),xe=[],me=0;me<h.length;me++){var Ne=h[me],ye=d.getTile(Ne),Me=ye.getBucket(l);if(Me){var He=Me.programConfigurations.get(l.id),Je={programConfiguration:He,program:c.useProgram("circle",He),layoutVertexBuffer:Me.layoutVertexBuffer,indexBuffer:Me.indexBuffer,uniformValues:Ep(c,Ne,ye,l)};if(w)for(var dt=0,it=Me.segments.get();dt<it.length;dt+=1){var vt=it[dt];xe.push({segments:new n.SegmentVector([vt]),sortKey:vt.sortKey,state:Je})}else xe.push({segments:Me.segments,sortKey:0,state:Je})}}w&&xe.sort(function(kr,jr){return kr.sortKey-jr.sortKey});for(var Nt=0,Qt=xe;Nt<Qt.length;Nt+=1){var Yt=Qt[Nt],gr=Yt.state;gr.program.draw(D,H.TRIANGLES,Q,te,ie,Ge.disabled,gr.uniformValues,l.id,gr.layoutVertexBuffer,gr.indexBuffer,Yt.segments,l.paint,c.transform.zoom,gr.programConfiguration)}}}},heatmap:function(c,d,l,h){if(l.paint.get("heatmap-opacity")!==0)if(c.renderPass==="offscreen"){var E=c.context,A=E.gl,T=ge.disabled,w=new ke([A.ONE,A.ONE],n.Color.transparent,[!0,!0,!0,!0]);(function(xe,me,Ne){var ye=xe.gl;xe.activeTexture.set(ye.TEXTURE1),xe.viewport.set([0,0,me.width/4,me.height/4]);var Me=Ne.heatmapFbo;if(Me)ye.bindTexture(ye.TEXTURE_2D,Me.colorAttachment.get()),xe.bindFramebuffer.set(Me.framebuffer);else{var He=ye.createTexture();ye.bindTexture(ye.TEXTURE_2D,He),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_WRAP_S,ye.CLAMP_TO_EDGE),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_WRAP_T,ye.CLAMP_TO_EDGE),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_MIN_FILTER,ye.LINEAR),ye.texParameteri(ye.TEXTURE_2D,ye.TEXTURE_MAG_FILTER,ye.LINEAR),Me=Ne.heatmapFbo=xe.createFramebuffer(me.width/4,me.height/4,!1),function(Je,dt,it,vt){var Nt=Je.gl;Nt.texImage2D(Nt.TEXTURE_2D,0,Nt.RGBA,dt.width/4,dt.height/4,0,Nt.RGBA,Je.extRenderToTextureHalfFloat?Je.extTextureHalfFloat.HALF_FLOAT_OES:Nt.UNSIGNED_BYTE,null),vt.colorAttachment.set(it)}(xe,me,He,Me)}})(E,c,l),E.clear({color:n.Color.transparent});for(var D=0;D<h.length;D++){var H=h[D];if(!d.hasRenderableParent(H)){var Q=d.getTile(H),te=Q.getBucket(l);if(te){var ie=te.programConfigurations.get(l.id);c.useProgram("heatmap",ie).draw(E,A.TRIANGLES,se.disabled,T,w,Ge.disabled,Dl(H.posMatrix,Q,c.transform.zoom,l.paint.get("heatmap-intensity")),l.id,te.layoutVertexBuffer,te.indexBuffer,te.segments,l.paint,c.transform.zoom,ie)}}}E.viewport.set([0,0,c.width,c.height])}else c.renderPass==="translucent"&&(c.context.setColorMode(c.colorModeForRenderPass()),function(xe,me){var Ne=xe.context,ye=Ne.gl,Me=me.heatmapFbo;if(Me){Ne.activeTexture.set(ye.TEXTURE0),ye.bindTexture(ye.TEXTURE_2D,Me.colorAttachment.get()),Ne.activeTexture.set(ye.TEXTURE1);var He=me.colorRampTexture;He||(He=me.colorRampTexture=new n.Texture(Ne,me.colorRamp,ye.RGBA)),He.bind(ye.LINEAR,ye.CLAMP_TO_EDGE),xe.useProgram("heatmapTexture").draw(Ne,ye.TRIANGLES,se.disabled,ge.disabled,xe.colorModeForRenderPass(),Ge.disabled,function(Je,dt,it,vt){var Nt=n.create();n.ortho(Nt,0,Je.width,Je.height,0,0,1);var Qt=Je.context.gl;return{u_matrix:Nt,u_world:[Qt.drawingBufferWidth,Qt.drawingBufferHeight],u_image:0,u_color_ramp:1,u_opacity:dt.paint.get("heatmap-opacity")}}(xe,me),me.id,xe.viewportBuffer,xe.quadTriangleIndexBuffer,xe.viewportSegments,me.paint,xe.transform.zoom)}}(c,l))},line:function(c,d,l,h){if(c.renderPass==="translucent"){var E=l.paint.get("line-opacity"),A=l.paint.get("line-width");if(E.constantOr(1)!==0&&A.constantOr(1)!==0)for(var T=c.depthModeForSublayer(0,se.ReadOnly),w=c.colorModeForRenderPass(),D=l.paint.get("line-dasharray"),H=l.paint.get("line-pattern"),Q=H.constantOr(1),te=l.paint.get("line-gradient"),ie=l.getCrossfadeParameters(),xe=Q?"linePattern":D?"lineSDF":te?"lineGradient":"line",me=c.context,Ne=me.gl,ye=!0,Me=0,He=h;Me<He.length;Me+=1){var Je=He[Me],dt=d.getTile(Je);if(!Q||dt.patternsLoaded()){var it=dt.getBucket(l);if(it){var vt=it.programConfigurations.get(l.id),Nt=c.context.program.get(),Qt=c.useProgram(xe,vt),Yt=ye||Qt.program!==Nt,gr=H.constantOr(null);if(gr&&dt.imageAtlas){var kr=dt.imageAtlas,jr=kr.patternPositions[gr.to.toString()],Hr=kr.patternPositions[gr.from.toString()];jr&&Hr&&vt.setConstantPatternPositions(jr,Hr)}var Uo=Q?Dc(c,dt,l,ie):D?z0(c,dt,l,D,ie):te?li(c,dt,l,it.lineClipsArray.length):ec(c,dt,l);if(Q)me.activeTexture.set(Ne.TEXTURE0),dt.imageAtlasTexture.bind(Ne.LINEAR,Ne.CLAMP_TO_EDGE),vt.updatePaintBuffers(ie);else if(D&&(Yt||c.lineAtlas.dirty))me.activeTexture.set(Ne.TEXTURE0),c.lineAtlas.bind(me);else if(te){var Pr=it.gradients[l.id],ao=Pr.texture;if(l.gradientVersion!==Pr.version){var mo=256;if(l.stepInterpolant){var ro=d.getSource().maxzoom,Jr=Je.canonical.z===ro?Math.ceil(1<<c.transform.maxZoom-Je.canonical.z):1;mo=n.clamp(n.nextPowerOfTwo(it.maxLineLength/n.EXTENT*1024*Jr),256,me.maxTextureSize)}Pr.gradient=n.renderColorRamp({expression:l.gradientExpression(),evaluationKey:"lineProgress",resolution:mo,image:Pr.gradient||void 0,clips:it.lineClipsArray}),Pr.texture?Pr.texture.update(Pr.gradient):Pr.texture=new n.Texture(me,Pr.gradient,Ne.RGBA),Pr.version=l.gradientVersion,ao=Pr.texture}me.activeTexture.set(Ne.TEXTURE0),ao.bind(l.stepInterpolant?Ne.NEAREST:Ne.LINEAR,Ne.CLAMP_TO_EDGE)}Qt.draw(me,Ne.TRIANGLES,T,c.stencilModeForClipping(Je),w,Ge.disabled,Uo,l.id,it.layoutVertexBuffer,it.indexBuffer,it.segments,l.paint,c.transform.zoom,vt,it.layoutVertexBuffer2),ye=!1}}}}},fill:function(c,d,l,h){var E=l.paint.get("fill-color"),A=l.paint.get("fill-opacity");if(A.constantOr(1)!==0){var T=c.colorModeForRenderPass(),w=l.paint.get("fill-pattern"),D=c.opaquePassEnabledForLayer()&&!w.constantOr(1)&&E.constantOr(n.Color.transparent).a===1&&A.constantOr(0)===1?"opaque":"translucent";if(c.renderPass===D){var H=c.depthModeForSublayer(1,c.renderPass==="opaque"?se.ReadWrite:se.ReadOnly);Pp(c,d,l,h,H,T,!1)}if(c.renderPass==="translucent"&&l.paint.get("fill-antialias")){var Q=c.depthModeForSublayer(l.getPaintProperty("fill-outline-color")?2:0,se.ReadOnly);Pp(c,d,l,h,Q,T,!0)}}},"fill-extrusion":function(c,d,l,h){var E=l.paint.get("fill-extrusion-opacity");if(E!==0&&c.renderPass==="translucent"){var A=new se(c.context.gl.LEQUAL,se.ReadWrite,c.depthRangeFor3D);if(E!==1||l.paint.get("fill-extrusion-pattern").constantOr(1))rc(c,d,l,h,A,ge.disabled,ke.disabled),rc(c,d,l,h,A,c.stencilModeFor3D(),c.colorModeForRenderPass());else{var T=c.colorModeForRenderPass();rc(c,d,l,h,A,ge.disabled,T)}}},hillshade:function(c,d,l,h){if(c.renderPass==="offscreen"||c.renderPass==="translucent"){for(var E=c.context,A=c.depthModeForSublayer(0,se.ReadOnly),T=c.colorModeForRenderPass(),w=c.renderPass==="translucent"?c.stencilConfigForOverlap(h):[{},h],D=w[0],H=0,Q=w[1];H<Q.length;H+=1){var te=Q[H],ie=d.getTile(te);ie.needsHillshadePrepare&&c.renderPass==="offscreen"?V0(c,ie,l,A,ge.disabled,T):c.renderPass==="translucent"&&Tu(c,ie,l,A,D[te.overscaledZ],T)}E.viewport.set([0,0,c.width,c.height])}},raster:function(c,d,l,h){if(c.renderPass==="translucent"&&l.paint.get("raster-opacity")!==0&&h.length)for(var E=c.context,A=E.gl,T=d.getSource(),w=c.useProgram("raster"),D=c.colorModeForRenderPass(),H=T instanceof ct?[{},h]:c.stencilConfigForOverlap(h),Q=H[0],te=H[1],ie=te[te.length-1].overscaledZ,xe=!c.options.moving,me=0,Ne=te;me<Ne.length;me+=1){var ye=Ne[me],Me=c.depthModeForSublayer(ye.overscaledZ-ie,l.paint.get("raster-opacity")===1?se.ReadWrite:se.ReadOnly,A.LESS),He=d.getTile(ye),Je=c.transform.calculatePosMatrix(ye.toUnwrapped(),xe);He.registerFadeDuration(l.paint.get("raster-fade-duration"));var dt=d.findLoadedParent(ye,0),it=Lc(He,dt,d,l,c.transform),vt=void 0,Nt=void 0,Qt=l.paint.get("raster-resampling")==="nearest"?A.NEAREST:A.LINEAR;E.activeTexture.set(A.TEXTURE0),He.texture.bind(Qt,A.CLAMP_TO_EDGE,A.LINEAR_MIPMAP_NEAREST),E.activeTexture.set(A.TEXTURE1),dt?(dt.texture.bind(Qt,A.CLAMP_TO_EDGE,A.LINEAR_MIPMAP_NEAREST),vt=Math.pow(2,dt.tileID.overscaledZ-He.tileID.overscaledZ),Nt=[He.tileID.canonical.x*vt%1,He.tileID.canonical.y*vt%1]):He.texture.bind(Qt,A.CLAMP_TO_EDGE,A.LINEAR_MIPMAP_NEAREST);var Yt=Ol(Je,Nt||[0,0],vt||1,it,l);T instanceof ct?w.draw(E,A.TRIANGLES,Me,ge.disabled,D,Ge.disabled,Yt,l.id,T.boundsBuffer,c.quadTriangleIndexBuffer,T.boundsSegments):w.draw(E,A.TRIANGLES,Me,Q[ye.overscaledZ],D,Ge.disabled,Yt,l.id,c.rasterBoundsBuffer,c.quadTriangleIndexBuffer,c.rasterBoundsSegments)}},background:function(c,d,l){var h=l.paint.get("background-color"),E=l.paint.get("background-opacity");if(E!==0){var A=c.context,T=A.gl,w=c.transform,D=w.tileSize,H=l.paint.get("background-pattern");if(!c.isPatternMissing(H)){var Q=!H&&h.a===1&&E===1&&c.opaquePassEnabledForLayer()?"opaque":"translucent";if(c.renderPass===Q){var te=ge.disabled,ie=c.depthModeForSublayer(0,Q==="opaque"?se.ReadWrite:se.ReadOnly),xe=c.colorModeForRenderPass(),me=c.useProgram(H?"backgroundPattern":"background"),Ne=w.coveringTiles({tileSize:D});H&&(A.activeTexture.set(T.TEXTURE0),c.imageManager.bind(c.context));for(var ye=l.getCrossfadeParameters(),Me=0,He=Ne;Me<He.length;Me+=1){var Je=He[Me],dt=c.transform.calculatePosMatrix(Je.toUnwrapped()),it=H?Ku(dt,E,c,H,{tileID:Je,tileSize:D},ye):$u(dt,E,h);me.draw(A,T.TRIANGLES,ie,te,xe,Ge.disabled,it,l.id,c.tileExtentBuffer,c.quadTriangleIndexBuffer,c.tileExtentSegments)}}}}},debug:function(c,d,l){for(var h=0;h<l.length;h++)Gl(c,d,l[h])},custom:function(c,d,l){var h=c.context,E=l.implementation;if(c.renderPass==="offscreen"){var A=E.prerender;A&&(c.setCustomLayerDefaults(),h.setColorMode(c.colorModeForRenderPass()),A.call(E,h.gl,c.transform.customLayerMatrix()),h.setDirty(),c.setBaseState())}else if(c.renderPass==="translucent"){c.setCustomLayerDefaults(),h.setColorMode(c.colorModeForRenderPass()),h.setStencilMode(ge.disabled);var T=E.renderingMode==="3d"?new se(c.context.gl.LEQUAL,se.ReadWrite,c.depthRangeFor3D):c.depthModeForSublayer(0,se.ReadOnly);h.setDepthMode(T),E.render(h.gl,c.transform.customLayerMatrix()),h.setDirty(),c.setBaseState(),h.bindFramebuffer.set(null)}}},di=function(c,d){this.context=new J(c),this.transform=d,this._tileTextures={},this.setup(),this.numSublayers=be.maxUnderzooming+be.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new mu,this.gpuTimers={}};di.prototype.resize=function(c,d){if(this.width=c*n.browser.devicePixelRatio,this.height=d*n.browser.devicePixelRatio,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(var l=0,h=this.style._order;l<h.length;l+=1)this.style._layers[h[l]].resize()},di.prototype.setup=function(){var c=this.context,d=new n.StructArrayLayout2i4;d.emplaceBack(0,0),d.emplaceBack(n.EXTENT,0),d.emplaceBack(0,n.EXTENT),d.emplaceBack(n.EXTENT,n.EXTENT),this.tileExtentBuffer=c.createVertexBuffer(d,Li.members),this.tileExtentSegments=n.SegmentVector.simpleSegment(0,0,4,2);var l=new n.StructArrayLayout2i4;l.emplaceBack(0,0),l.emplaceBack(n.EXTENT,0),l.emplaceBack(0,n.EXTENT),l.emplaceBack(n.EXTENT,n.EXTENT),this.debugBuffer=c.createVertexBuffer(l,Li.members),this.debugSegments=n.SegmentVector.simpleSegment(0,0,4,5);var h=new n.StructArrayLayout4i8;h.emplaceBack(0,0,0,0),h.emplaceBack(n.EXTENT,0,n.EXTENT,0),h.emplaceBack(0,n.EXTENT,0,n.EXTENT),h.emplaceBack(n.EXTENT,n.EXTENT,n.EXTENT,n.EXTENT),this.rasterBoundsBuffer=c.createVertexBuffer(h,at.members),this.rasterBoundsSegments=n.SegmentVector.simpleSegment(0,0,4,2);var E=new n.StructArrayLayout2i4;E.emplaceBack(0,0),E.emplaceBack(1,0),E.emplaceBack(0,1),E.emplaceBack(1,1),this.viewportBuffer=c.createVertexBuffer(E,Li.members),this.viewportSegments=n.SegmentVector.simpleSegment(0,0,4,2);var A=new n.StructArrayLayout1ui2;A.emplaceBack(0),A.emplaceBack(1),A.emplaceBack(3),A.emplaceBack(2),A.emplaceBack(0),this.tileBorderIndexBuffer=c.createIndexBuffer(A);var T=new n.StructArrayLayout3ui6;T.emplaceBack(0,1,2),T.emplaceBack(2,1,3),this.quadTriangleIndexBuffer=c.createIndexBuffer(T),this.emptyTexture=new n.Texture(c,{width:1,height:1,data:new Uint8Array([0,0,0,0])},c.gl.RGBA);var w=this.context.gl;this.stencilClearMode=new ge({func:w.ALWAYS,mask:0},0,255,w.ZERO,w.ZERO,w.ZERO)},di.prototype.clearStencil=function(){var c=this.context,d=c.gl;this.nextStencilID=1,this.currentStencilSource=void 0;var l=n.create();n.ortho(l,0,this.width,this.height,0,0,1),n.scale(l,l,[d.drawingBufferWidth,d.drawingBufferHeight,0]),this.useProgram("clippingMask").draw(c,d.TRIANGLES,se.disabled,this.stencilClearMode,ke.disabled,Ge.disabled,$s(l),"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)},di.prototype._renderTileClippingMasks=function(c,d){if(this.currentStencilSource!==c.source&&c.isTileClipped()&&d&&d.length){this.currentStencilSource=c.source;var l=this.context,h=l.gl;this.nextStencilID+d.length>256&&this.clearStencil(),l.setColorMode(ke.disabled),l.setDepthMode(se.disabled);var E=this.useProgram("clippingMask");this._tileClippingMaskIDs={};for(var A=0,T=d;A<T.length;A+=1){var w=T[A],D=this._tileClippingMaskIDs[w.key]=this.nextStencilID++;E.draw(l,h.TRIANGLES,se.disabled,new ge({func:h.ALWAYS,mask:0},D,255,h.KEEP,h.KEEP,h.REPLACE),ke.disabled,Ge.disabled,$s(w.posMatrix),"$clipping",this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}}},di.prototype.stencilModeFor3D=function(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();var c=this.nextStencilID++,d=this.context.gl;return new ge({func:d.NOTEQUAL,mask:255},c,255,d.KEEP,d.KEEP,d.REPLACE)},di.prototype.stencilModeForClipping=function(c){var d=this.context.gl;return new ge({func:d.EQUAL,mask:255},this._tileClippingMaskIDs[c.key],0,d.KEEP,d.KEEP,d.REPLACE)},di.prototype.stencilConfigForOverlap=function(c){var d,l=this.context.gl,h=c.sort(function(D,H){return H.overscaledZ-D.overscaledZ}),E=h[h.length-1].overscaledZ,A=h[0].overscaledZ-E+1;if(A>1){this.currentStencilSource=void 0,this.nextStencilID+A>256&&this.clearStencil();for(var T={},w=0;w<A;w++)T[w+E]=new ge({func:l.GEQUAL,mask:255},w+this.nextStencilID,255,l.KEEP,l.KEEP,l.REPLACE);return this.nextStencilID+=A,[T,h]}return[(d={},d[E]=ge.disabled,d),h]},di.prototype.colorModeForRenderPass=function(){var c=this.context.gl;return this._showOverdrawInspector?new ke([c.CONSTANT_COLOR,c.ONE],new n.Color(1/8,1/8,1/8,0),[!0,!0,!0,!0]):this.renderPass==="opaque"?ke.unblended:ke.alphaBlended},di.prototype.depthModeForSublayer=function(c,d,l){if(!this.opaquePassEnabledForLayer())return se.disabled;var h=1-((1+this.currentLayer)*this.numSublayers+c)*this.depthEpsilon;return new se(l||this.context.gl.LEQUAL,d,[h,h])},di.prototype.opaquePassEnabledForLayer=function(){return this.currentLayer<this.opaquePassCutoff},di.prototype.render=function(c,d){var l=this;this.style=c,this.options=d,this.lineAtlas=c.lineAtlas,this.imageManager=c.imageManager,this.glyphManager=c.glyphManager,this.symbolFadeChange=c.placement.symbolFadeChange(n.browser.now()),this.imageManager.beginFrame();var h=this.style._order,E=this.style.sourceCaches;for(var A in E){var T=E[A];T.used&&T.prepare(this.context)}var w,D,H={},Q={},te={};for(var ie in E){var xe=E[ie];H[ie]=xe.getVisibleCoordinates(),Q[ie]=H[ie].slice().reverse(),te[ie]=xe.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(var me=0;me<h.length;me++)if(this.style._layers[h[me]].is3D()){this.opaquePassCutoff=me;break}this.renderPass="offscreen";for(var Ne=0,ye=h;Ne<ye.length;Ne+=1){var Me=this.style._layers[ye[Ne]];if(Me.hasOffscreenPass()&&!Me.isHidden(this.transform.zoom)){var He=Q[Me.source];(Me.type==="custom"||He.length)&&this.renderLayer(this,E[Me.source],Me,He)}}for(this.context.bindFramebuffer.set(null),this.context.clear({color:d.showOverdrawInspector?n.Color.black:n.Color.transparent,depth:1}),this.clearStencil(),this._showOverdrawInspector=d.showOverdrawInspector,this.depthRangeFor3D=[0,1-(c._order.length+2)*this.numSublayers*this.depthEpsilon],this.renderPass="opaque",this.currentLayer=h.length-1;this.currentLayer>=0;this.currentLayer--){var Je=this.style._layers[h[this.currentLayer]],dt=E[Je.source],it=H[Je.source];this._renderTileClippingMasks(Je,it),this.renderLayer(this,dt,Je,it)}for(this.renderPass="translucent",this.currentLayer=0;this.currentLayer<h.length;this.currentLayer++){var vt=this.style._layers[h[this.currentLayer]],Nt=E[vt.source],Qt=(vt.type==="symbol"?te:Q)[vt.source];this._renderTileClippingMasks(vt,H[vt.source]),this.renderLayer(this,Nt,vt,Qt)}this.options.showTileBoundaries&&(n.values(this.style._layers).forEach(function(Yt){Yt.source&&!Yt.isHidden(l.transform.zoom)&&(Yt.source!==(D&&D.id)&&(D=l.style.sourceCaches[Yt.source]),(!w||w.getSource().maxzoom<D.getSource().maxzoom)&&(w=D))}),w&&Su.debug(this,w,w.getVisibleCoordinates())),this.options.showPadding&&function(Yt){var gr=Yt.transform.padding;oc(Yt,Yt.transform.height-(gr.top||0),3,zl),oc(Yt,gr.bottom||0,3,Bc),Hl(Yt,gr.left||0,3,N1),Hl(Yt,Yt.transform.width-(gr.right||0),3,Uc);var kr=Yt.transform.centerPoint;(function(jr,Hr,Uo,Pr){Ju(jr,Hr-1,Uo-10,2,20,Pr),Ju(jr,Hr-10,Uo-1,20,2,Pr)})(Yt,kr.x,Yt.transform.height-kr.y,Vl)}(this),this.context.setDefault()},di.prototype.renderLayer=function(c,d,l,h){l.isHidden(this.transform.zoom)||(l.type==="background"||l.type==="custom"||h.length)&&(this.id=l.id,this.gpuTimingStart(l),Su[l.type](c,d,l,h,this.style.placement.variableOffsets),this.gpuTimingEnd())},di.prototype.gpuTimingStart=function(c){if(this.options.gpuTiming){var d=this.context.extTimerQuery,l=this.gpuTimers[c.id];l||(l=this.gpuTimers[c.id]={calls:0,cpuTime:0,query:d.createQueryEXT()}),l.calls++,d.beginQueryEXT(d.TIME_ELAPSED_EXT,l.query)}},di.prototype.gpuTimingEnd=function(){if(this.options.gpuTiming){var c=this.context.extTimerQuery;c.endQueryEXT(c.TIME_ELAPSED_EXT)}},di.prototype.collectGpuTimers=function(){var c=this.gpuTimers;return this.gpuTimers={},c},di.prototype.queryGpuTimers=function(c){var d={};for(var l in c){var h=c[l],E=this.context.extTimerQuery,A=E.getQueryObjectEXT(h.query,E.QUERY_RESULT_EXT)/1e6;E.deleteQueryEXT(h.query),d[l]=A}return d},di.prototype.translatePosMatrix=function(c,d,l,h,E){if(!l[0]&&!l[1])return c;var A=E?h==="map"?this.transform.angle:0:h==="viewport"?-this.transform.angle:0;if(A){var T=Math.sin(A),w=Math.cos(A);l=[l[0]*w-l[1]*T,l[0]*T+l[1]*w]}var D=[E?l[0]:pi(d,l[0],this.transform.zoom),E?l[1]:pi(d,l[1],this.transform.zoom),0],H=new Float32Array(16);return n.translate(H,c,D),H},di.prototype.saveTileTexture=function(c){var d=this._tileTextures[c.size[0]];d?d.push(c):this._tileTextures[c.size[0]]=[c]},di.prototype.getTileTexture=function(c){var d=this._tileTextures[c];return d&&d.length>0?d.pop():null},di.prototype.isPatternMissing=function(c){if(!c)return!1;if(!c.from||!c.to)return!0;var d=this.imageManager.getPattern(c.from.toString()),l=this.imageManager.getPattern(c.to.toString());return!d||!l},di.prototype.useProgram=function(c,d){this.cache=this.cache||{};var l=""+c+(d?d.cacheKey:"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[l]||(this.cache[l]=new Bi(this.context,c,k0[c],d,Ll[c],this._showOverdrawInspector)),this.cache[l]},di.prototype.setCustomLayerDefaults=function(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()},di.prototype.setBaseState=function(){var c=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(c.FUNC_ADD)},di.prototype.initDebugOverlayCanvas=function(){this.debugOverlayCanvas==null&&(this.debugOverlayCanvas=n.window.document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new n.Texture(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))},di.prototype.destroy=function(){this.emptyTexture.destroy(),this.debugOverlayTexture&&this.debugOverlayTexture.destroy()};var kc=function(c,d){this.points=c,this.planes=d};kc.fromInvProjectionMatrix=function(c,d,l){var h=Math.pow(2,l),E=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(function(T){return n.transformMat4([],T,c)}).map(function(T){return n.scale$1([],T,1/T[3]/d*h)}),A=[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]].map(function(T){var w=n.sub([],E[T[0]],E[T[1]]),D=n.sub([],E[T[2]],E[T[1]]),H=n.normalize([],n.cross([],w,D)),Q=-n.dot(H,E[T[1]]);return H.concat(Q)});return new kc(E,A)};var As=function(c,d){this.min=c,this.max=d,this.center=n.scale$2([],n.add([],this.min,this.max),.5)};As.prototype.quadrant=function(c){for(var d=[c%2==0,c<2],l=n.clone$2(this.min),h=n.clone$2(this.max),E=0;E<d.length;E++)l[E]=d[E]?this.min[E]:this.center[E],h[E]=d[E]?this.center[E]:this.max[E];return h[2]=this.max[2],new As(l,h)},As.prototype.distanceX=function(c){return Math.max(Math.min(this.max[0],c[0]),this.min[0])-c[0]},As.prototype.distanceY=function(c){return Math.max(Math.min(this.max[1],c[1]),this.min[1])-c[1]},As.prototype.intersects=function(c){for(var d=[[this.min[0],this.min[1],0,1],[this.max[0],this.min[1],0,1],[this.max[0],this.max[1],0,1],[this.min[0],this.max[1],0,1]],l=!0,h=0;h<c.planes.length;h++){for(var E=c.planes[h],A=0,T=0;T<d.length;T++)A+=n.dot$1(E,d[T])>=0;if(A===0)return 0;A!==d.length&&(l=!1)}if(l)return 2;for(var w=0;w<3;w++){for(var D=Number.MAX_VALUE,H=-Number.MAX_VALUE,Q=0;Q<c.points.length;Q++){var te=c.points[Q][w]-this.min[w];D=Math.min(D,te),H=Math.max(H,te)}if(H<0||D>this.max[w]-this.min[w])return 0}return 1};var Ru=function(c,d,l,h){if(c===void 0&&(c=0),d===void 0&&(d=0),l===void 0&&(l=0),h===void 0&&(h=0),isNaN(c)||c<0||isNaN(d)||d<0||isNaN(l)||l<0||isNaN(h)||h<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=c,this.bottom=d,this.left=l,this.right=h};Ru.prototype.interpolate=function(c,d,l){return d.top!=null&&c.top!=null&&(this.top=n.number(c.top,d.top,l)),d.bottom!=null&&c.bottom!=null&&(this.bottom=n.number(c.bottom,d.bottom,l)),d.left!=null&&c.left!=null&&(this.left=n.number(c.left,d.left,l)),d.right!=null&&c.right!=null&&(this.right=n.number(c.right,d.right,l)),this},Ru.prototype.getCenter=function(c,d){var l=n.clamp((this.left+c-this.right)/2,0,c),h=n.clamp((this.top+d-this.bottom)/2,0,d);return new n.Point(l,h)},Ru.prototype.equals=function(c){return this.top===c.top&&this.bottom===c.bottom&&this.left===c.left&&this.right===c.right},Ru.prototype.clone=function(){return new Ru(this.top,this.bottom,this.left,this.right)},Ru.prototype.toJSON=function(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}};var Oo=function(c,d,l,h,E){this.tileSize=512,this.maxValidLatitude=85.051129,this._renderWorldCopies=E===void 0||E,this._minZoom=c||0,this._maxZoom=d||22,this._minPitch=l??0,this._maxPitch=h??60,this.setMaxBounds(),this.width=0,this.height=0,this._center=new n.LngLat(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0,this._edgeInsets=new Ru,this._posMatrixCache={},this._alignedPosMatrixCache={}},yi={minZoom:{configurable:!0},maxZoom:{configurable:!0},minPitch:{configurable:!0},maxPitch:{configurable:!0},renderWorldCopies:{configurable:!0},worldSize:{configurable:!0},centerOffset:{configurable:!0},size:{configurable:!0},bearing:{configurable:!0},pitch:{configurable:!0},fov:{configurable:!0},zoom:{configurable:!0},center:{configurable:!0},padding:{configurable:!0},centerPoint:{configurable:!0},unmodified:{configurable:!0},point:{configurable:!0}};Oo.prototype.clone=function(){var c=new Oo(this._minZoom,this._maxZoom,this._minPitch,this.maxPitch,this._renderWorldCopies);return c.tileSize=this.tileSize,c.latRange=this.latRange,c.width=this.width,c.height=this.height,c._center=this._center,c.zoom=this.zoom,c.angle=this.angle,c._fov=this._fov,c._pitch=this._pitch,c._unmodified=this._unmodified,c._edgeInsets=this._edgeInsets.clone(),c._calcMatrices(),c},yi.minZoom.get=function(){return this._minZoom},yi.minZoom.set=function(c){this._minZoom!==c&&(this._minZoom=c,this.zoom=Math.max(this.zoom,c))},yi.maxZoom.get=function(){return this._maxZoom},yi.maxZoom.set=function(c){this._maxZoom!==c&&(this._maxZoom=c,this.zoom=Math.min(this.zoom,c))},yi.minPitch.get=function(){return this._minPitch},yi.minPitch.set=function(c){this._minPitch!==c&&(this._minPitch=c,this.pitch=Math.max(this.pitch,c))},yi.maxPitch.get=function(){return this._maxPitch},yi.maxPitch.set=function(c){this._maxPitch!==c&&(this._maxPitch=c,this.pitch=Math.min(this.pitch,c))},yi.renderWorldCopies.get=function(){return this._renderWorldCopies},yi.renderWorldCopies.set=function(c){c===void 0?c=!0:c===null&&(c=!1),this._renderWorldCopies=c},yi.worldSize.get=function(){return this.tileSize*this.scale},yi.centerOffset.get=function(){return this.centerPoint._sub(this.size._div(2))},yi.size.get=function(){return new n.Point(this.width,this.height)},yi.bearing.get=function(){return-this.angle/Math.PI*180},yi.bearing.set=function(c){var d=-n.wrap(c,-180,180)*Math.PI/180;this.angle!==d&&(this._unmodified=!1,this.angle=d,this._calcMatrices(),this.rotationMatrix=n.create$2(),n.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},yi.pitch.get=function(){return this._pitch/Math.PI*180},yi.pitch.set=function(c){var d=n.clamp(c,this.minPitch,this.maxPitch)/180*Math.PI;this._pitch!==d&&(this._unmodified=!1,this._pitch=d,this._calcMatrices())},yi.fov.get=function(){return this._fov/Math.PI*180},yi.fov.set=function(c){c=Math.max(.01,Math.min(60,c)),this._fov!==c&&(this._unmodified=!1,this._fov=c/180*Math.PI,this._calcMatrices())},yi.zoom.get=function(){return this._zoom},yi.zoom.set=function(c){var d=Math.min(Math.max(c,this.minZoom),this.maxZoom);this._zoom!==d&&(this._unmodified=!1,this._zoom=d,this.scale=this.zoomScale(d),this.tileZoom=Math.floor(d),this.zoomFraction=d-this.tileZoom,this._constrain(),this._calcMatrices())},yi.center.get=function(){return this._center},yi.center.set=function(c){c.lat===this._center.lat&&c.lng===this._center.lng||(this._unmodified=!1,this._center=c,this._constrain(),this._calcMatrices())},yi.padding.get=function(){return this._edgeInsets.toJSON()},yi.padding.set=function(c){this._edgeInsets.equals(c)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,c,1),this._calcMatrices())},yi.centerPoint.get=function(){return this._edgeInsets.getCenter(this.width,this.height)},Oo.prototype.isPaddingEqual=function(c){return this._edgeInsets.equals(c)},Oo.prototype.interpolatePadding=function(c,d,l){this._unmodified=!1,this._edgeInsets.interpolate(c,d,l),this._constrain(),this._calcMatrices()},Oo.prototype.coveringZoomLevel=function(c){var d=(c.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/c.tileSize));return Math.max(0,d)},Oo.prototype.getVisibleUnwrappedCoordinates=function(c){var d=[new n.UnwrappedTileID(0,c)];if(this._renderWorldCopies)for(var l=this.pointCoordinate(new n.Point(0,0)),h=this.pointCoordinate(new n.Point(this.width,0)),E=this.pointCoordinate(new n.Point(this.width,this.height)),A=this.pointCoordinate(new n.Point(0,this.height)),T=Math.floor(Math.min(l.x,h.x,E.x,A.x)),w=Math.floor(Math.max(l.x,h.x,E.x,A.x)),D=T-1;D<=w+1;D++)D!==0&&d.push(new n.UnwrappedTileID(D,c));return d},Oo.prototype.coveringTiles=function(c){var d=this.coveringZoomLevel(c),l=d;if(c.minzoom!==void 0&&d<c.minzoom)return[];c.maxzoom!==void 0&&d>c.maxzoom&&(d=c.maxzoom);var h=n.MercatorCoordinate.fromLngLat(this.center),E=Math.pow(2,d),A=[E*h.x,E*h.y,0],T=kc.fromInvProjectionMatrix(this.invProjMatrix,this.worldSize,d),w=c.minzoom||0;this.pitch<=60&&this._edgeInsets.top<.1&&(w=d);var D=function(Yt){return{aabb:new As([Yt*E,0,0],[(Yt+1)*E,E,0]),zoom:0,x:0,y:0,wrap:Yt,fullyVisible:!1}},H=[],Q=[],te=d,ie=c.reparseOverscaled?l:d;if(this._renderWorldCopies)for(var xe=1;xe<=3;xe++)H.push(D(-xe)),H.push(D(xe));for(H.push(D(0));H.length>0;){var me=H.pop(),Ne=me.x,ye=me.y,Me=me.fullyVisible;if(!Me){var He=me.aabb.intersects(T);if(He===0)continue;Me=He===2}var Je=me.aabb.distanceX(A),dt=me.aabb.distanceY(A),it=Math.max(Math.abs(Je),Math.abs(dt));if(me.zoom===te||it>3+(1<<te-me.zoom)-2&&me.zoom>=w)Q.push({tileID:new n.OverscaledTileID(me.zoom===te?ie:me.zoom,me.wrap,me.zoom,Ne,ye),distanceSq:n.sqrLen([A[0]-.5-Ne,A[1]-.5-ye])});else for(var vt=0;vt<4;vt++){var Nt=(Ne<<1)+vt%2,Qt=(ye<<1)+(vt>>1);H.push({aabb:me.aabb.quadrant(vt),zoom:me.zoom+1,x:Nt,y:Qt,wrap:me.wrap,fullyVisible:Me})}}return Q.sort(function(Yt,gr){return Yt.distanceSq-gr.distanceSq}).map(function(Yt){return Yt.tileID})},Oo.prototype.resize=function(c,d){this.width=c,this.height=d,this.pixelsToGLUnits=[2/c,-2/d],this._constrain(),this._calcMatrices()},yi.unmodified.get=function(){return this._unmodified},Oo.prototype.zoomScale=function(c){return Math.pow(2,c)},Oo.prototype.scaleZoom=function(c){return Math.log(c)/Math.LN2},Oo.prototype.project=function(c){var d=n.clamp(c.lat,-this.maxValidLatitude,this.maxValidLatitude);return new n.Point(n.mercatorXfromLng(c.lng)*this.worldSize,n.mercatorYfromLat(d)*this.worldSize)},Oo.prototype.unproject=function(c){return new n.MercatorCoordinate(c.x/this.worldSize,c.y/this.worldSize).toLngLat()},yi.point.get=function(){return this.project(this.center)},Oo.prototype.setLocationAtPoint=function(c,d){var l=this.pointCoordinate(d),h=this.pointCoordinate(this.centerPoint),E=this.locationCoordinate(c),A=new n.MercatorCoordinate(E.x-(l.x-h.x),E.y-(l.y-h.y));this.center=this.coordinateLocation(A),this._renderWorldCopies&&(this.center=this.center.wrap())},Oo.prototype.locationPoint=function(c){return this.coordinatePoint(this.locationCoordinate(c))},Oo.prototype.pointLocation=function(c){return this.coordinateLocation(this.pointCoordinate(c))},Oo.prototype.locationCoordinate=function(c){return n.MercatorCoordinate.fromLngLat(c)},Oo.prototype.coordinateLocation=function(c){return c.toLngLat()},Oo.prototype.pointCoordinate=function(c){var d=[c.x,c.y,0,1],l=[c.x,c.y,1,1];n.transformMat4(d,d,this.pixelMatrixInverse),n.transformMat4(l,l,this.pixelMatrixInverse);var h=d[3],E=l[3],A=d[1]/h,T=l[1]/E,w=d[2]/h,D=l[2]/E,H=w===D?0:(0-w)/(D-w);return new n.MercatorCoordinate(n.number(d[0]/h,l[0]/E,H)/this.worldSize,n.number(A,T,H)/this.worldSize)},Oo.prototype.coordinatePoint=function(c){var d=[c.x*this.worldSize,c.y*this.worldSize,0,1];return n.transformMat4(d,d,this.pixelMatrix),new n.Point(d[0]/d[3],d[1]/d[3])},Oo.prototype.getBounds=function(){return new n.LngLatBounds().extend(this.pointLocation(new n.Point(0,0))).extend(this.pointLocation(new n.Point(this.width,0))).extend(this.pointLocation(new n.Point(this.width,this.height))).extend(this.pointLocation(new n.Point(0,this.height)))},Oo.prototype.getMaxBounds=function(){return this.latRange&&this.latRange.length===2&&this.lngRange&&this.lngRange.length===2?new n.LngLatBounds([this.lngRange[0],this.latRange[0]],[this.lngRange[1],this.latRange[1]]):null},Oo.prototype.setMaxBounds=function(c){c?(this.lngRange=[c.getWest(),c.getEast()],this.latRange=[c.getSouth(),c.getNorth()],this._constrain()):(this.lngRange=null,this.latRange=[-this.maxValidLatitude,this.maxValidLatitude])},Oo.prototype.calculatePosMatrix=function(c,d){d===void 0&&(d=!1);var l=c.key,h=d?this._alignedPosMatrixCache:this._posMatrixCache;if(h[l])return h[l];var E=c.canonical,A=this.worldSize/this.zoomScale(E.z),T=E.x+Math.pow(2,E.z)*c.wrap,w=n.identity(new Float64Array(16));return n.translate(w,w,[T*A,E.y*A,0]),n.scale(w,w,[A/n.EXTENT,A/n.EXTENT,1]),n.multiply(w,d?this.alignedProjMatrix:this.projMatrix,w),h[l]=new Float32Array(w),h[l]},Oo.prototype.customLayerMatrix=function(){return this.mercatorMatrix.slice()},Oo.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var c,d,l,h,E=-90,A=90,T=-180,w=180,D=this.size,H=this._unmodified;if(this.latRange){var Q=this.latRange;E=n.mercatorYfromLat(Q[1])*this.worldSize,c=(A=n.mercatorYfromLat(Q[0])*this.worldSize)-E<D.y?D.y/(A-E):0}if(this.lngRange){var te=this.lngRange;T=n.mercatorXfromLng(te[0])*this.worldSize,d=(w=n.mercatorXfromLng(te[1])*this.worldSize)-T<D.x?D.x/(w-T):0}var ie=this.point,xe=Math.max(d||0,c||0);if(xe)return this.center=this.unproject(new n.Point(d?(w+T)/2:ie.x,c?(A+E)/2:ie.y)),this.zoom+=this.scaleZoom(xe),this._unmodified=H,void(this._constraining=!1);if(this.latRange){var me=ie.y,Ne=D.y/2;me-Ne<E&&(h=E+Ne),me+Ne>A&&(h=A-Ne)}if(this.lngRange){var ye=ie.x,Me=D.x/2;ye-Me<T&&(l=T+Me),ye+Me>w&&(l=w-Me)}l===void 0&&h===void 0||(this.center=this.unproject(new n.Point(l!==void 0?l:ie.x,h!==void 0?h:ie.y))),this._unmodified=H,this._constraining=!1}},Oo.prototype._calcMatrices=function(){if(this.height){var c=this.centerOffset;this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var d=Math.PI/2+this._pitch,l=this._fov*(.5+c.y/this.height),h=Math.sin(l)*this.cameraToCenterDistance/Math.sin(n.clamp(Math.PI-d-l,.01,Math.PI-.01)),E=this.point,A=E.x,T=E.y,w=1.01*(Math.cos(Math.PI/2-this._pitch)*h+this.cameraToCenterDistance),D=this.height/50,H=new Float64Array(16);n.perspective(H,this._fov,this.width/this.height,D,w),H[8]=2*-c.x/this.width,H[9]=2*c.y/this.height,n.scale(H,H,[1,-1,1]),n.translate(H,H,[0,0,-this.cameraToCenterDistance]),n.rotateX(H,H,this._pitch),n.rotateZ(H,H,this.angle),n.translate(H,H,[-A,-T,0]),this.mercatorMatrix=n.scale([],H,[this.worldSize,this.worldSize,this.worldSize]),n.scale(H,H,[1,1,n.mercatorZfromAltitude(1,this.center.lat)*this.worldSize,1]),this.projMatrix=H,this.invProjMatrix=n.invert([],this.projMatrix);var Q=this.width%2/2,te=this.height%2/2,ie=Math.cos(this.angle),xe=Math.sin(this.angle),me=A-Math.round(A)+ie*Q+xe*te,Ne=T-Math.round(T)+ie*te+xe*Q,ye=new Float64Array(H);if(n.translate(ye,ye,[me>.5?me-1:me,Ne>.5?Ne-1:Ne,0]),this.alignedProjMatrix=ye,H=n.create(),n.scale(H,H,[this.width/2,-this.height/2,1]),n.translate(H,H,[1,-1,0]),this.labelPlaneMatrix=H,H=n.create(),n.scale(H,H,[1,-1,1]),n.translate(H,H,[-1,-1,0]),n.scale(H,H,[2/this.width,2/this.height,1]),this.glCoordMatrix=H,this.pixelMatrix=n.multiply(new Float64Array(16),this.labelPlaneMatrix,this.projMatrix),!(H=n.invert(new Float64Array(16),this.pixelMatrix)))throw new Error("failed to invert matrix");this.pixelMatrixInverse=H,this._posMatrixCache={},this._alignedPosMatrixCache={}}},Oo.prototype.maxPitchScaleFactor=function(){if(!this.pixelMatrixInverse)return 1;var c=this.pointCoordinate(new n.Point(0,0)),d=[c.x*this.worldSize,c.y*this.worldSize,0,1];return n.transformMat4(d,d,this.pixelMatrix)[3]/this.cameraToCenterDistance},Oo.prototype.getCameraPoint=function(){var c=Math.tan(this._pitch)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new n.Point(0,c))},Oo.prototype.getCameraQueryGeometry=function(c){var d=this.getCameraPoint();if(c.length===1)return[c[0],d];for(var l=d.x,h=d.y,E=d.x,A=d.y,T=0,w=c;T<w.length;T+=1){var D=w[T];l=Math.min(l,D.x),h=Math.min(h,D.y),E=Math.max(E,D.x),A=Math.max(A,D.y)}return[new n.Point(l,h),new n.Point(E,h),new n.Point(E,A),new n.Point(l,A),new n.Point(l,h)]},Object.defineProperties(Oo.prototype,yi);var Oa=function(c){var d,l,h,E;this._hashName=c&&encodeURIComponent(c),n.bindAll(["_getCurrentHash","_onHashChange","_updateHash"],this),this._updateHash=(d=this._updateHashUnthrottled.bind(this),l=!1,h=null,E=function(){h=null,l&&(d(),h=setTimeout(E,300),l=!1)},function(){return l=!0,h||E(),h})};Oa.prototype.addTo=function(c){return this._map=c,n.window.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},Oa.prototype.remove=function(){return n.window.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),delete this._map,this},Oa.prototype.getHashString=function(c){var d=this._map.getCenter(),l=Math.round(100*this._map.getZoom())/100,h=Math.ceil((l*Math.LN2+Math.log(512/360/.5))/Math.LN10),E=Math.pow(10,h),A=Math.round(d.lng*E)/E,T=Math.round(d.lat*E)/E,w=this._map.getBearing(),D=this._map.getPitch(),H="";if(H+=c?"/"+A+"/"+T+"/"+l:l+"/"+T+"/"+A,(w||D)&&(H+="/"+Math.round(10*w)/10),D&&(H+="/"+Math.round(D)),this._hashName){var Q=this._hashName,te=!1,ie=n.window.location.hash.slice(1).split("&").map(function(xe){var me=xe.split("=")[0];return me===Q?(te=!0,me+"="+H):xe}).filter(function(xe){return xe});return te||ie.push(Q+"="+H),"#"+ie.join("&")}return"#"+H},Oa.prototype._getCurrentHash=function(){var c,d=this,l=n.window.location.hash.replace("#","");return this._hashName?(l.split("&").map(function(h){return h.split("=")}).forEach(function(h){h[0]===d._hashName&&(c=h)}),(c&&c[1]||"").split("/")):l.split("/")},Oa.prototype._onHashChange=function(){var c=this._getCurrentHash();if(c.length>=3&&!c.some(function(l){return isNaN(l)})){var d=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(c[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+c[2],+c[1]],zoom:+c[0],bearing:d,pitch:+(c[4]||0)}),!0}return!1},Oa.prototype._updateHashUnthrottled=function(){var c=n.window.location.href.replace(/(#.+)?$/,this.getHashString());try{n.window.history.replaceState(n.window.history.state,null,c)}catch{}};var ic={linearity:.3,easing:n.bezier(0,0,.3,1)},bp=n.extend({deceleration:2500,maxSpeed:1400},ic),nc=n.extend({deceleration:20,maxSpeed:1400},ic),D1=n.extend({deceleration:1e3,maxSpeed:360},ic),zc=n.extend({deceleration:1e3,maxSpeed:90},ic),ac=function(c){this._map=c,this.clear()};function wu(c,d){(!c.duration||c.duration<d.duration)&&(c.duration=d.duration,c.easing=d.easing)}function hn(c,d,l){var h=l.maxSpeed,E=l.linearity,A=l.deceleration,T=n.clamp(c*E/(d/1e3),-h,h),w=Math.abs(T)/(A*E);return{easing:l.easing,duration:1e3*w,amount:T*(w/2)}}ac.prototype.clear=function(){this._inertiaBuffer=[]},ac.prototype.record=function(c){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:n.browser.now(),settings:c})},ac.prototype._drainInertiaBuffer=function(){for(var c=this._inertiaBuffer,d=n.browser.now();c.length>0&&d-c[0].time>160;)c.shift()},ac.prototype._onMoveEnd=function(c){if(this._drainInertiaBuffer(),!(this._inertiaBuffer.length<2)){for(var d={zoom:0,bearing:0,pitch:0,pan:new n.Point(0,0),pinchAround:void 0,around:void 0},l=0,h=this._inertiaBuffer;l<h.length;l+=1){var E=h[l].settings;d.zoom+=E.zoomDelta||0,d.bearing+=E.bearingDelta||0,d.pitch+=E.pitchDelta||0,E.panDelta&&d.pan._add(E.panDelta),E.around&&(d.around=E.around),E.pinchAround&&(d.pinchAround=E.pinchAround)}var A=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,T={};if(d.pan.mag()){var w=hn(d.pan.mag(),A,n.extend({},bp,c||{}));T.offset=d.pan.mult(w.amount/d.pan.mag()),T.center=this._map.transform.center,wu(T,w)}if(d.zoom){var D=hn(d.zoom,A,nc);T.zoom=this._map.transform.zoom+D.amount,wu(T,D)}if(d.bearing){var H=hn(d.bearing,A,D1);T.bearing=this._map.transform.bearing+n.clamp(H.amount,-179,179),wu(T,H)}if(d.pitch){var Q=hn(d.pitch,A,zc);T.pitch=this._map.transform.pitch+Q.amount,wu(T,Q)}if(T.zoom||T.bearing){var te=d.pinchAround===void 0?d.around:d.pinchAround;T.around=te?this._map.unproject(te):this._map.getCenter()}return this.clear(),n.extend(T,{noMoveStart:!0})}};var Ai=function(c){function d(h,E,A,T){T===void 0&&(T={});var w=m.mousePos(E.getCanvasContainer(),A),D=E.unproject(w);c.call(this,h,n.extend({point:w,lngLat:D,originalEvent:A},T)),this._defaultPrevented=!1,this.target=E}c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d;var l={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,l),d}(n.Event),Ap=function(c){function d(h,E,A){var T=h==="touchend"?A.changedTouches:A.touches,w=m.touchPos(E.getCanvasContainer(),T),D=w.map(function(te){return E.unproject(te)}),H=w.reduce(function(te,ie,xe,me){return te.add(ie.div(me.length))},new n.Point(0,0)),Q=E.unproject(H);c.call(this,h,{points:w,point:H,lngLats:D,lngLat:Q,originalEvent:A}),this._defaultPrevented=!1}c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d;var l={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,l),d}(n.Event),jl=function(c){function d(h,E,A){c.call(this,h,{originalEvent:A}),this._defaultPrevented=!1}c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d;var l={defaultPrevented:{configurable:!0}};return d.prototype.preventDefault=function(){this._defaultPrevented=!0},l.defaultPrevented.get=function(){return this._defaultPrevented},Object.defineProperties(d.prototype,l),d}(n.Event),Gi=function(c,d){this._map=c,this._clickTolerance=d.clickTolerance};Gi.prototype.reset=function(){delete this._mousedownPos},Gi.prototype.wheel=function(c){return this._firePreventable(new jl(c.type,this._map,c))},Gi.prototype.mousedown=function(c,d){return this._mousedownPos=d,this._firePreventable(new Ai(c.type,this._map,c))},Gi.prototype.mouseup=function(c){this._map.fire(new Ai(c.type,this._map,c))},Gi.prototype.click=function(c,d){this._mousedownPos&&this._mousedownPos.dist(d)>=this._clickTolerance||this._map.fire(new Ai(c.type,this._map,c))},Gi.prototype.dblclick=function(c){return this._firePreventable(new Ai(c.type,this._map,c))},Gi.prototype.mouseover=function(c){this._map.fire(new Ai(c.type,this._map,c))},Gi.prototype.mouseout=function(c){this._map.fire(new Ai(c.type,this._map,c))},Gi.prototype.touchstart=function(c){return this._firePreventable(new Ap(c.type,this._map,c))},Gi.prototype.touchmove=function(c){this._map.fire(new Ap(c.type,this._map,c))},Gi.prototype.touchend=function(c){this._map.fire(new Ap(c.type,this._map,c))},Gi.prototype.touchcancel=function(c){this._map.fire(new Ap(c.type,this._map,c))},Gi.prototype._firePreventable=function(c){if(this._map.fire(c),c.defaultPrevented)return{}},Gi.prototype.isEnabled=function(){return!0},Gi.prototype.isActive=function(){return!1},Gi.prototype.enable=function(){},Gi.prototype.disable=function(){};var Tr=function(c){this._map=c};Tr.prototype.reset=function(){this._delayContextMenu=!1,delete this._contextMenuEvent},Tr.prototype.mousemove=function(c){this._map.fire(new Ai(c.type,this._map,c))},Tr.prototype.mousedown=function(){this._delayContextMenu=!0},Tr.prototype.mouseup=function(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new Ai("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)},Tr.prototype.contextmenu=function(c){this._delayContextMenu?this._contextMenuEvent=c:this._map.fire(new Ai(c.type,this._map,c)),this._map.listens("contextmenu")&&c.preventDefault()},Tr.prototype.isEnabled=function(){return!0},Tr.prototype.isActive=function(){return!1},Tr.prototype.enable=function(){},Tr.prototype.disable=function(){};var pa=function(c,d){this._map=c,this._el=c.getCanvasContainer(),this._container=c.getContainer(),this._clickTolerance=d.clickTolerance||1};function sc(c,d){for(var l={},h=0;h<c.length;h++)l[c[h].identifier]=d[h];return l}pa.prototype.isEnabled=function(){return!!this._enabled},pa.prototype.isActive=function(){return!!this._active},pa.prototype.enable=function(){this.isEnabled()||(this._enabled=!0)},pa.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},pa.prototype.mousedown=function(c,d){this.isEnabled()&&c.shiftKey&&c.button===0&&(m.disableDrag(),this._startPos=this._lastPos=d,this._active=!0)},pa.prototype.mousemoveWindow=function(c,d){if(this._active){var l=d;if(!(this._lastPos.equals(l)||!this._box&&l.dist(this._startPos)<this._clickTolerance)){var h=this._startPos;this._lastPos=l,this._box||(this._box=m.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",c));var E=Math.min(h.x,l.x),A=Math.max(h.x,l.x),T=Math.min(h.y,l.y),w=Math.max(h.y,l.y);m.setTransform(this._box,"translate("+E+"px,"+T+"px)"),this._box.style.width=A-E+"px",this._box.style.height=w-T+"px"}}},pa.prototype.mouseupWindow=function(c,d){var l=this;if(this._active&&c.button===0){var h=this._startPos,E=d;if(this.reset(),m.suppressClick(),h.x!==E.x||h.y!==E.y)return this._map.fire(new n.Event("boxzoomend",{originalEvent:c})),{cameraAnimation:function(A){return A.fitScreenCoordinates(h,E,l._map.getBearing(),{linear:!0})}};this._fireEvent("boxzoomcancel",c)}},pa.prototype.keydown=function(c){this._active&&c.keyCode===27&&(this.reset(),this._fireEvent("boxzoomcancel",c))},pa.prototype.blur=function(){this.reset()},pa.prototype.reset=function(){this._active=!1,this._container.classList.remove("mapboxgl-crosshair"),this._box&&(m.remove(this._box),this._box=null),m.enableDrag(),delete this._startPos,delete this._lastPos},pa.prototype._fireEvent=function(c,d){return this._map.fire(new n.Event(c,{originalEvent:d}))};var Fp=function(c){this.reset(),this.numTouches=c.numTouches};Fp.prototype.reset=function(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1},Fp.prototype.touchstart=function(c,d,l){(this.centroid||l.length>this.numTouches)&&(this.aborted=!0),this.aborted||(this.startTime===void 0&&(this.startTime=c.timeStamp),l.length===this.numTouches&&(this.centroid=function(h){for(var E=new n.Point(0,0),A=0,T=h;A<T.length;A+=1)E._add(T[A]);return E.div(h.length)}(d),this.touches=sc(l,d)))},Fp.prototype.touchmove=function(c,d,l){if(!this.aborted&&this.centroid){var h=sc(l,d);for(var E in this.touches){var A=h[E];(!A||A.dist(this.touches[E])>30)&&(this.aborted=!0)}}},Fp.prototype.touchend=function(c,d,l){if((!this.centroid||c.timeStamp-this.startTime>500)&&(this.aborted=!0),l.length===0){var h=!this.aborted&&this.centroid;if(this.reset(),h)return h}};var ea=function(c){this.singleTap=new Fp(c),this.numTaps=c.numTaps,this.reset()};ea.prototype.reset=function(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()},ea.prototype.touchstart=function(c,d,l){this.singleTap.touchstart(c,d,l)},ea.prototype.touchmove=function(c,d,l){this.singleTap.touchmove(c,d,l)},ea.prototype.touchend=function(c,d,l){var h=this.singleTap.touchend(c,d,l);if(h){var E=c.timeStamp-this.lastTime<500,A=!this.lastTap||this.lastTap.dist(h)<30;if(E&&A||this.reset(),this.count++,this.lastTime=c.timeStamp,this.lastTap=h,this.count===this.numTaps)return this.reset(),h}};var ai=function(){this._zoomIn=new ea({numTouches:1,numTaps:2}),this._zoomOut=new ea({numTouches:2,numTaps:1}),this.reset()};ai.prototype.reset=function(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()},ai.prototype.touchstart=function(c,d,l){this._zoomIn.touchstart(c,d,l),this._zoomOut.touchstart(c,d,l)},ai.prototype.touchmove=function(c,d,l){this._zoomIn.touchmove(c,d,l),this._zoomOut.touchmove(c,d,l)},ai.prototype.touchend=function(c,d,l){var h=this,E=this._zoomIn.touchend(c,d,l),A=this._zoomOut.touchend(c,d,l);return E?(this._active=!0,c.preventDefault(),setTimeout(function(){return h.reset()},0),{cameraAnimation:function(T){return T.easeTo({duration:300,zoom:T.getZoom()+1,around:T.unproject(E)},{originalEvent:c})}}):A?(this._active=!0,c.preventDefault(),setTimeout(function(){return h.reset()},0),{cameraAnimation:function(T){return T.easeTo({duration:300,zoom:T.getZoom()-1,around:T.unproject(A)},{originalEvent:c})}}):void 0},ai.prototype.touchcancel=function(){this.reset()},ai.prototype.enable=function(){this._enabled=!0},ai.prototype.disable=function(){this._enabled=!1,this.reset()},ai.prototype.isEnabled=function(){return this._enabled},ai.prototype.isActive=function(){return this._active};var Vc={0:1,2:2},sr=function(c){this.reset(),this._clickTolerance=c.clickTolerance||1};sr.prototype.blur=function(){this.reset()},sr.prototype.reset=function(){this._active=!1,this._moved=!1,delete this._lastPoint,delete this._eventButton},sr.prototype._correctButton=function(c,d){return!1},sr.prototype._move=function(c,d){return{}},sr.prototype.mousedown=function(c,d){if(!this._lastPoint){var l=m.mouseButton(c);this._correctButton(c,l)&&(this._lastPoint=d,this._eventButton=l)}},sr.prototype.mousemoveWindow=function(c,d){var l=this._lastPoint;if(l){if(c.preventDefault(),function(h,E){var A=Vc[E];return h.buttons===void 0||(h.buttons&A)!==A}(c,this._eventButton))this.reset();else if(this._moved||!(d.dist(l)<this._clickTolerance))return this._moved=!0,this._lastPoint=d,this._move(l,d)}},sr.prototype.mouseupWindow=function(c){this._lastPoint&&m.mouseButton(c)===this._eventButton&&(this._moved&&m.suppressClick(),this.reset())},sr.prototype.enable=function(){this._enabled=!0},sr.prototype.disable=function(){this._enabled=!1,this.reset()},sr.prototype.isEnabled=function(){return this._enabled},sr.prototype.isActive=function(){return this._active};var Qs=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.mousedown=function(l,h){c.prototype.mousedown.call(this,l,h),this._lastPoint&&(this._active=!0)},d.prototype._correctButton=function(l,h){return h===0&&!l.ctrlKey},d.prototype._move=function(l,h){return{around:h,panDelta:h.sub(l)}},d}(sr),uc=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype._correctButton=function(l,h){return h===0&&l.ctrlKey||h===2},d.prototype._move=function(l,h){var E=.8*(h.x-l.x);if(E)return this._active=!0,{bearingDelta:E}},d.prototype.contextmenu=function(l){l.preventDefault()},d}(sr),Hc=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype._correctButton=function(l,h){return h===0&&l.ctrlKey||h===2},d.prototype._move=function(l,h){var E=-.5*(h.y-l.y);if(E)return this._active=!0,{pitchDelta:E}},d.prototype.contextmenu=function(l){l.preventDefault()},d}(sr),Ya=function(c){this._minTouches=1,this._clickTolerance=c.clickTolerance||1,this.reset()};Ya.prototype.reset=function(){this._active=!1,this._touches={},this._sum=new n.Point(0,0)},Ya.prototype.touchstart=function(c,d,l){return this._calculateTransform(c,d,l)},Ya.prototype.touchmove=function(c,d,l){if(this._active&&!(l.length<this._minTouches))return c.preventDefault(),this._calculateTransform(c,d,l)},Ya.prototype.touchend=function(c,d,l){this._calculateTransform(c,d,l),this._active&&l.length<this._minTouches&&this.reset()},Ya.prototype.touchcancel=function(){this.reset()},Ya.prototype._calculateTransform=function(c,d,l){l.length>0&&(this._active=!0);var h=sc(l,d),E=new n.Point(0,0),A=new n.Point(0,0),T=0;for(var w in h){var D=h[w],H=this._touches[w];H&&(E._add(D),A._add(D.sub(H)),T++,h[w]=D)}if(this._touches=h,!(T<this._minTouches)&&A.mag()){var Q=A.div(T);if(this._sum._add(Q),!(this._sum.mag()<this._clickTolerance))return{around:E.div(T),panDelta:Q}}},Ya.prototype.enable=function(){this._enabled=!0},Ya.prototype.disable=function(){this._enabled=!1,this.reset()},Ya.prototype.isEnabled=function(){return this._enabled},Ya.prototype.isActive=function(){return this._active};var ba=function(){this.reset()};function Gc(c,d,l){for(var h=0;h<c.length;h++)if(c[h].identifier===l)return d[h]}function jc(c,d){return Math.log(c/d)/Math.LN2}ba.prototype.reset=function(){this._active=!1,delete this._firstTwoTouches},ba.prototype._start=function(c){},ba.prototype._move=function(c,d,l){return{}},ba.prototype.touchstart=function(c,d,l){this._firstTwoTouches||l.length<2||(this._firstTwoTouches=[l[0].identifier,l[1].identifier],this._start([d[0],d[1]]))},ba.prototype.touchmove=function(c,d,l){if(this._firstTwoTouches){c.preventDefault();var h=this._firstTwoTouches,E=h[1],A=Gc(l,d,h[0]),T=Gc(l,d,E);if(A&&T){var w=this._aroundCenter?null:A.add(T).div(2);return this._move([A,T],w,c)}}},ba.prototype.touchend=function(c,d,l){if(this._firstTwoTouches){var h=this._firstTwoTouches,E=h[1],A=Gc(l,d,h[0]),T=Gc(l,d,E);A&&T||(this._active&&m.suppressClick(),this.reset())}},ba.prototype.touchcancel=function(){this.reset()},ba.prototype.enable=function(c){this._enabled=!0,this._aroundCenter=!!c&&c.around==="center"},ba.prototype.disable=function(){this._enabled=!1,this.reset()},ba.prototype.isEnabled=function(){return this._enabled},ba.prototype.isActive=function(){return this._active};var ta=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.reset=function(){c.prototype.reset.call(this),delete this._distance,delete this._startDistance},d.prototype._start=function(l){this._startDistance=this._distance=l[0].dist(l[1])},d.prototype._move=function(l,h){var E=this._distance;if(this._distance=l[0].dist(l[1]),this._active||!(Math.abs(jc(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:jc(this._distance,E),pinchAround:h}},d}(ba);function Fs(c,d){return 180*c.angleWith(d)/Math.PI}var O1=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.reset=function(){c.prototype.reset.call(this),delete this._minDiameter,delete this._startVector,delete this._vector},d.prototype._start=function(l){this._startVector=this._vector=l[0].sub(l[1]),this._minDiameter=l[0].dist(l[1])},d.prototype._move=function(l,h){var E=this._vector;if(this._vector=l[0].sub(l[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:Fs(this._vector,E),pinchAround:h}},d.prototype._isBelowThreshold=function(l){this._minDiameter=Math.min(this._minDiameter,l.mag());var h=25/(Math.PI*this._minDiameter)*360,E=Fs(l,this._startVector);return Math.abs(E)<h},d}(ba);function Tp(c){return Math.abs(c.y)>Math.abs(c.x)}var Wc=function(c){function d(){c.apply(this,arguments)}return d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d,d.prototype.reset=function(){c.prototype.reset.call(this),this._valid=void 0,delete this._firstMove,delete this._lastPoints},d.prototype._start=function(l){this._lastPoints=l,Tp(l[0].sub(l[1]))&&(this._valid=!1)},d.prototype._move=function(l,h,E){var A=l[0].sub(this._lastPoints[0]),T=l[1].sub(this._lastPoints[1]);if(this._valid=this.gestureBeginsVertically(A,T,E.timeStamp),this._valid)return this._lastPoints=l,this._active=!0,{pitchDelta:(A.y+T.y)/2*-.5}},d.prototype.gestureBeginsVertically=function(l,h,E){if(this._valid!==void 0)return this._valid;var A=l.mag()>=2,T=h.mag()>=2;if(A||T){if(!A||!T)return this._firstMove===void 0&&(this._firstMove=E),E-this._firstMove<100&&void 0;var w=l.y>0==h.y>0;return Tp(l)&&Tp(h)&&w}},d}(ba),Wl={panStep:100,bearingStep:15,pitchStep:10},Aa=function(){var c=Wl;this._panStep=c.panStep,this._bearingStep=c.bearingStep,this._pitchStep=c.pitchStep,this._rotationDisabled=!1};function La(c){return c*(2-c)}Aa.prototype.blur=function(){this.reset()},Aa.prototype.reset=function(){this._active=!1},Aa.prototype.keydown=function(c){var d=this;if(!(c.altKey||c.ctrlKey||c.metaKey)){var l=0,h=0,E=0,A=0,T=0;switch(c.keyCode){case 61:case 107:case 171:case 187:l=1;break;case 189:case 109:case 173:l=-1;break;case 37:c.shiftKey?h=-1:(c.preventDefault(),A=-1);break;case 39:c.shiftKey?h=1:(c.preventDefault(),A=1);break;case 38:c.shiftKey?E=1:(c.preventDefault(),T=-1);break;case 40:c.shiftKey?E=-1:(c.preventDefault(),T=1);break;default:return}return this._rotationDisabled&&(h=0,E=0),{cameraAnimation:function(w){var D=w.getZoom();w.easeTo({duration:300,easeId:"keyboardHandler",easing:La,zoom:l?Math.round(D)+l*(c.shiftKey?2:1):D,bearing:w.getBearing()+h*d._bearingStep,pitch:w.getPitch()+E*d._pitchStep,offset:[-A*d._panStep,-T*d._panStep],center:w.getCenter()},{originalEvent:c})}}}},Aa.prototype.enable=function(){this._enabled=!0},Aa.prototype.disable=function(){this._enabled=!1,this.reset()},Aa.prototype.isEnabled=function(){return this._enabled},Aa.prototype.isActive=function(){return this._active},Aa.prototype.disableRotation=function(){this._rotationDisabled=!0},Aa.prototype.enableRotation=function(){this._rotationDisabled=!1};var ho=function(c,d){this._map=c,this._el=c.getCanvasContainer(),this._handler=d,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=1/450,n.bindAll(["_onTimeout"],this)};ho.prototype.setZoomRate=function(c){this._defaultZoomRate=c},ho.prototype.setWheelZoomRate=function(c){this._wheelZoomRate=c},ho.prototype.isEnabled=function(){return!!this._enabled},ho.prototype.isActive=function(){return!!this._active||this._finishTimeout!==void 0},ho.prototype.isZooming=function(){return!!this._zooming},ho.prototype.enable=function(c){this.isEnabled()||(this._enabled=!0,this._aroundCenter=c&&c.around==="center")},ho.prototype.disable=function(){this.isEnabled()&&(this._enabled=!1)},ho.prototype.wheel=function(c){if(this.isEnabled()){var d=c.deltaMode===n.window.WheelEvent.DOM_DELTA_LINE?40*c.deltaY:c.deltaY,l=n.browser.now(),h=l-(this._lastWheelEventTime||0);this._lastWheelEventTime=l,d!==0&&d%4.000244140625==0?this._type="wheel":d!==0&&Math.abs(d)<4?this._type="trackpad":h>400?(this._type=null,this._lastValue=d,this._timeout=setTimeout(this._onTimeout,40,c)):this._type||(this._type=Math.abs(h*d)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,d+=this._lastValue)),c.shiftKey&&d&&(d/=4),this._type&&(this._lastWheelEvent=c,this._delta-=d,this._active||this._start(c)),c.preventDefault()}},ho.prototype._onTimeout=function(c){this._type="wheel",this._delta-=this._lastValue,this._active||this._start(c)},ho.prototype._start=function(c){if(this._delta){this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);var d=m.mousePos(this._el,c);this._around=n.LngLat.convert(this._aroundCenter?this._map.getCenter():this._map.unproject(d)),this._aroundPoint=this._map.transform.locationPoint(this._around),this._frameId||(this._frameId=!0,this._handler._triggerRenderFrame())}},ho.prototype.renderFrame=function(){var c=this;if(this._frameId&&(this._frameId=null,this.isActive())){var d=this._map.transform;if(this._delta!==0){var l=this._type==="wheel"&&Math.abs(this._delta)>4.000244140625?this._wheelZoomRate:this._defaultZoomRate,h=2/(1+Math.exp(-Math.abs(this._delta*l)));this._delta<0&&h!==0&&(h=1/h);var E=typeof this._targetZoom=="number"?d.zoomScale(this._targetZoom):d.scale;this._targetZoom=Math.min(d.maxZoom,Math.max(d.minZoom,d.scaleZoom(E*h))),this._type==="wheel"&&(this._startZoom=d.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}var A,T=typeof this._targetZoom=="number"?this._targetZoom:d.zoom,w=this._startZoom,D=this._easing,H=!1;if(this._type==="wheel"&&w&&D){var Q=Math.min((n.browser.now()-this._lastWheelEventTime)/200,1),te=D(Q);A=n.number(w,T,te),Q<1?this._frameId||(this._frameId=!0):H=!0}else A=T,H=!0;return this._active=!0,H&&(this._active=!1,this._finishTimeout=setTimeout(function(){c._zooming=!1,c._handler._triggerRenderFrame(),delete c._targetZoom,delete c._finishTimeout},200)),{noInertia:!0,needsRenderFrame:!H,zoomDelta:A-d.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}},ho.prototype._smoothOutEasing=function(c){var d=n.ease;if(this._prevEase){var l=this._prevEase,h=(n.browser.now()-l.start)/l.duration,E=l.easing(h+.01)-l.easing(h),A=.27/Math.sqrt(E*E+1e-4)*.01,T=Math.sqrt(.0729-A*A);d=n.bezier(A,T,.25,1)}return this._prevEase={start:n.browser.now(),duration:c,easing:d},d},ho.prototype.blur=function(){this.reset()},ho.prototype.reset=function(){this._active=!1};var Ba=function(c,d){this._clickZoom=c,this._tapZoom=d};Ba.prototype.enable=function(){this._clickZoom.enable(),this._tapZoom.enable()},Ba.prototype.disable=function(){this._clickZoom.disable(),this._tapZoom.disable()},Ba.prototype.isEnabled=function(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()},Ba.prototype.isActive=function(){return this._clickZoom.isActive()||this._tapZoom.isActive()};var Ua=function(){this.reset()};Ua.prototype.reset=function(){this._active=!1},Ua.prototype.blur=function(){this.reset()},Ua.prototype.dblclick=function(c,d){return c.preventDefault(),{cameraAnimation:function(l){l.easeTo({duration:300,zoom:l.getZoom()+(c.shiftKey?-1:1),around:l.unproject(d)},{originalEvent:c})}}},Ua.prototype.enable=function(){this._enabled=!0},Ua.prototype.disable=function(){this._enabled=!1,this.reset()},Ua.prototype.isEnabled=function(){return this._enabled},Ua.prototype.isActive=function(){return this._active};var An=function(){this._tap=new ea({numTouches:1,numTaps:1}),this.reset()};An.prototype.reset=function(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,this._tap.reset()},An.prototype.touchstart=function(c,d,l){this._swipePoint||(this._tapTime&&c.timeStamp-this._tapTime>500&&this.reset(),this._tapTime?l.length>0&&(this._swipePoint=d[0],this._swipeTouch=l[0].identifier):this._tap.touchstart(c,d,l))},An.prototype.touchmove=function(c,d,l){if(this._tapTime){if(this._swipePoint){if(l[0].identifier!==this._swipeTouch)return;var h=d[0],E=h.y-this._swipePoint.y;return this._swipePoint=h,c.preventDefault(),this._active=!0,{zoomDelta:E/128}}}else this._tap.touchmove(c,d,l)},An.prototype.touchend=function(c,d,l){this._tapTime?this._swipePoint&&l.length===0&&this.reset():this._tap.touchend(c,d,l)&&(this._tapTime=c.timeStamp)},An.prototype.touchcancel=function(){this.reset()},An.prototype.enable=function(){this._enabled=!0},An.prototype.disable=function(){this._enabled=!1,this.reset()},An.prototype.isEnabled=function(){return this._enabled},An.prototype.isActive=function(){return this._active};var Cu=function(c,d,l){this._el=c,this._mousePan=d,this._touchPan=l};Cu.prototype.enable=function(c){this._inertiaOptions=c||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("mapboxgl-touch-drag-pan")},Cu.prototype.disable=function(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("mapboxgl-touch-drag-pan")},Cu.prototype.isEnabled=function(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()},Cu.prototype.isActive=function(){return this._mousePan.isActive()||this._touchPan.isActive()};var Js=function(c,d,l){this._pitchWithRotate=c.pitchWithRotate,this._mouseRotate=d,this._mousePitch=l};Js.prototype.enable=function(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable()},Js.prototype.disable=function(){this._mouseRotate.disable(),this._mousePitch.disable()},Js.prototype.isEnabled=function(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())},Js.prototype.isActive=function(){return this._mouseRotate.isActive()||this._mousePitch.isActive()};var qa=function(c,d,l,h){this._el=c,this._touchZoom=d,this._touchRotate=l,this._tapDragZoom=h,this._rotationDisabled=!1,this._enabled=!0};qa.prototype.enable=function(c){this._touchZoom.enable(c),this._rotationDisabled||this._touchRotate.enable(c),this._tapDragZoom.enable(),this._el.classList.add("mapboxgl-touch-zoom-rotate")},qa.prototype.disable=function(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("mapboxgl-touch-zoom-rotate")},qa.prototype.isEnabled=function(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()},qa.prototype.isActive=function(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()},qa.prototype.disableRotation=function(){this._rotationDisabled=!0,this._touchRotate.disable()},qa.prototype.enableRotation=function(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()};var jn=function(c){return c.zoom||c.drag||c.pitch||c.rotate},Sp=function(c){function d(){c.apply(this,arguments)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d}(n.Event);function Ur(c){return c.panDelta&&c.panDelta.mag()||c.zoomDelta||c.bearingDelta||c.pitchDelta}var Cr=function(c,d){this._map=c,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new ac(c),this._bearingSnap=d.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(d),n.bindAll(["handleEvent","handleWindowEvent"],this);var l=this._el;this._listeners=[[l,"touchstart",{passive:!0}],[l,"touchmove",{passive:!1}],[l,"touchend",void 0],[l,"touchcancel",void 0],[l,"mousedown",void 0],[l,"mousemove",void 0],[l,"mouseup",void 0],[n.window.document,"mousemove",{capture:!0}],[n.window.document,"mouseup",void 0],[l,"mouseover",void 0],[l,"mouseout",void 0],[l,"dblclick",void 0],[l,"click",void 0],[l,"keydown",{capture:!1}],[l,"keyup",void 0],[l,"wheel",{passive:!1}],[l,"contextmenu",void 0],[n.window,"blur",void 0]];for(var h=0,E=this._listeners;h<E.length;h+=1){var A=E[h],T=A[0];m.addEventListener(T,A[1],T===n.window.document?this.handleWindowEvent:this.handleEvent,A[2])}};Cr.prototype.destroy=function(){for(var c=0,d=this._listeners;c<d.length;c+=1){var l=d[c],h=l[0];m.removeEventListener(h,l[1],h===n.window.document?this.handleWindowEvent:this.handleEvent,l[2])}},Cr.prototype._addDefaultHandlers=function(c){var d=this._map,l=d.getCanvasContainer();this._add("mapEvent",new Gi(d,c));var h=d.boxZoom=new pa(d,c);this._add("boxZoom",h);var E=new ai,A=new Ua;d.doubleClickZoom=new Ba(A,E),this._add("tapZoom",E),this._add("clickZoom",A);var T=new An;this._add("tapDragZoom",T);var w=d.touchPitch=new Wc;this._add("touchPitch",w);var D=new uc(c),H=new Hc(c);d.dragRotate=new Js(c,D,H),this._add("mouseRotate",D,["mousePitch"]),this._add("mousePitch",H,["mouseRotate"]);var Q=new Qs(c),te=new Ya(c);d.dragPan=new Cu(l,Q,te),this._add("mousePan",Q),this._add("touchPan",te,["touchZoom","touchRotate"]);var ie=new O1,xe=new ta;d.touchZoomRotate=new qa(l,xe,ie,T),this._add("touchRotate",ie,["touchPan","touchZoom"]),this._add("touchZoom",xe,["touchPan","touchRotate"]);var me=d.scrollZoom=new ho(d,this);this._add("scrollZoom",me,["mousePan"]);var Ne=d.keyboard=new Aa;this._add("keyboard",Ne),this._add("blockableMapEvent",new Tr(d));for(var ye=0,Me=["boxZoom","doubleClickZoom","tapDragZoom","touchPitch","dragRotate","dragPan","touchZoomRotate","scrollZoom","keyboard"];ye<Me.length;ye+=1){var He=Me[ye];c.interactive&&c[He]&&d[He].enable(c[He])}},Cr.prototype._add=function(c,d,l){this._handlers.push({handlerName:c,handler:d,allowed:l}),this._handlersById[c]=d},Cr.prototype.stop=function(c){if(!this._updatingCamera){for(var d=0,l=this._handlers;d<l.length;d+=1)l[d].handler.reset();this._inertia.clear(),this._fireEvents({},{},c),this._changes=[]}},Cr.prototype.isActive=function(){for(var c=0,d=this._handlers;c<d.length;c+=1)if(d[c].handler.isActive())return!0;return!1},Cr.prototype.isZooming=function(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()},Cr.prototype.isRotating=function(){return!!this._eventsInProgress.rotate},Cr.prototype.isMoving=function(){return!!jn(this._eventsInProgress)||this.isZooming()},Cr.prototype._blockedByActive=function(c,d,l){for(var h in c)if(h!==l&&(!d||d.indexOf(h)<0))return!0;return!1},Cr.prototype.handleWindowEvent=function(c){this.handleEvent(c,c.type+"Window")},Cr.prototype._getMapTouches=function(c){for(var d=[],l=0,h=c;l<h.length;l+=1){var E=h[l];this._el.contains(E.target)&&d.push(E)}return d},Cr.prototype.handleEvent=function(c,d){this._updatingCamera=!0;for(var l=c.type==="renderFrame"?void 0:c,h={needsRenderFrame:!1},E={},A={},T=c.touches?this._getMapTouches(c.touches):void 0,w=T?m.touchPos(this._el,T):m.mousePos(this._el,c),D=0,H=this._handlers;D<H.length;D+=1){var Q=H[D],te=Q.handlerName,ie=Q.handler,xe=Q.allowed;if(ie.isEnabled()){var me=void 0;this._blockedByActive(A,xe,te)?ie.reset():ie[d||c.type]&&(me=ie[d||c.type](c,w,T),this.mergeHandlerResult(h,E,me,te,l),me&&me.needsRenderFrame&&this._triggerRenderFrame()),(me||ie.isActive())&&(A[te]=ie)}}var Ne={};for(var ye in this._previousActiveHandlers)A[ye]||(Ne[ye]=l);this._previousActiveHandlers=A,(Object.keys(Ne).length||Ur(h))&&(this._changes.push([h,E,Ne]),this._triggerRenderFrame()),(Object.keys(A).length||Ur(h))&&this._map._stop(!0),this._updatingCamera=!1;var Me=h.cameraAnimation;Me&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],Me(this._map))},Cr.prototype.mergeHandlerResult=function(c,d,l,h,E){if(l){n.extend(c,l);var A={handlerName:h,originalEvent:l.originalEvent||E};l.zoomDelta!==void 0&&(d.zoom=A),l.panDelta!==void 0&&(d.drag=A),l.pitchDelta!==void 0&&(d.pitch=A),l.bearingDelta!==void 0&&(d.rotate=A)}},Cr.prototype._applyChanges=function(){for(var c={},d={},l={},h=0,E=this._changes;h<E.length;h+=1){var A=E[h],T=A[0],w=A[1],D=A[2];T.panDelta&&(c.panDelta=(c.panDelta||new n.Point(0,0))._add(T.panDelta)),T.zoomDelta&&(c.zoomDelta=(c.zoomDelta||0)+T.zoomDelta),T.bearingDelta&&(c.bearingDelta=(c.bearingDelta||0)+T.bearingDelta),T.pitchDelta&&(c.pitchDelta=(c.pitchDelta||0)+T.pitchDelta),T.around!==void 0&&(c.around=T.around),T.pinchAround!==void 0&&(c.pinchAround=T.pinchAround),T.noInertia&&(c.noInertia=T.noInertia),n.extend(d,w),n.extend(l,D)}this._updateMapTransform(c,d,l),this._changes=[]},Cr.prototype._updateMapTransform=function(c,d,l){var h=this._map,E=h.transform;if(!Ur(c))return this._fireEvents(d,l,!0);var A=c.panDelta,T=c.zoomDelta,w=c.bearingDelta,D=c.pitchDelta,H=c.around,Q=c.pinchAround;Q!==void 0&&(H=Q),h._stop(!0),H=H||h.transform.centerPoint;var te=E.pointLocation(A?H.sub(A):H);w&&(E.bearing+=w),D&&(E.pitch+=D),T&&(E.zoom+=T),E.setLocationAtPoint(te,H),this._map._update(),c.noInertia||this._inertia.record(c),this._fireEvents(d,l,!0)},Cr.prototype._fireEvents=function(c,d,l){var h=this,E=jn(this._eventsInProgress),A=jn(c),T={};for(var w in c)this._eventsInProgress[w]||(T[w+"start"]=c[w].originalEvent),this._eventsInProgress[w]=c[w];for(var D in!E&&A&&this._fireEvent("movestart",A.originalEvent),T)this._fireEvent(D,T[D]);for(var H in A&&this._fireEvent("move",A.originalEvent),c)this._fireEvent(H,c[H].originalEvent);var Q,te={};for(var ie in this._eventsInProgress){var xe=this._eventsInProgress[ie],me=xe.handlerName,Ne=xe.originalEvent;this._handlersById[me].isActive()||(delete this._eventsInProgress[ie],te[ie+"end"]=Q=d[me]||Ne)}for(var ye in te)this._fireEvent(ye,te[ye]);var Me=jn(this._eventsInProgress);if(l&&(E||A)&&!Me){this._updatingCamera=!0;var He=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),Je=function(dt){return dt!==0&&-h._bearingSnap<dt&&dt<h._bearingSnap};He?(Je(He.bearing||this._map.getBearing())&&(He.bearing=0),this._map.easeTo(He,{originalEvent:Q})):(this._map.fire(new n.Event("moveend",{originalEvent:Q})),Je(this._map.getBearing())&&this._map.resetNorth()),this._updatingCamera=!1}},Cr.prototype._fireEvent=function(c,d){this._map.fire(new n.Event(c,d?{originalEvent:d}:{}))},Cr.prototype._requestFrame=function(){var c=this;return this._map.triggerRepaint(),this._map._renderTaskQueue.add(function(d){delete c._frameId,c.handleEvent(new Sp("renderFrame",{timeStamp:d})),c._applyChanges()})},Cr.prototype._triggerRenderFrame=function(){this._frameId===void 0&&(this._frameId=this._requestFrame())};var Fa=function(c){function d(l,h){c.call(this),this._moving=!1,this._zooming=!1,this.transform=l,this._bearingSnap=h.bearingSnap,n.bindAll(["_renderFrameCallback"],this)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.getCenter=function(){return new n.LngLat(this.transform.center.lng,this.transform.center.lat)},d.prototype.setCenter=function(l,h){return this.jumpTo({center:l},h)},d.prototype.panBy=function(l,h,E){return l=n.Point.convert(l).mult(-1),this.panTo(this.transform.center,n.extend({offset:l},h),E)},d.prototype.panTo=function(l,h,E){return this.easeTo(n.extend({center:l},h),E)},d.prototype.getZoom=function(){return this.transform.zoom},d.prototype.setZoom=function(l,h){return this.jumpTo({zoom:l},h),this},d.prototype.zoomTo=function(l,h,E){return this.easeTo(n.extend({zoom:l},h),E)},d.prototype.zoomIn=function(l,h){return this.zoomTo(this.getZoom()+1,l,h),this},d.prototype.zoomOut=function(l,h){return this.zoomTo(this.getZoom()-1,l,h),this},d.prototype.getBearing=function(){return this.transform.bearing},d.prototype.setBearing=function(l,h){return this.jumpTo({bearing:l},h),this},d.prototype.getPadding=function(){return this.transform.padding},d.prototype.setPadding=function(l,h){return this.jumpTo({padding:l},h),this},d.prototype.rotateTo=function(l,h,E){return this.easeTo(n.extend({bearing:l},h),E)},d.prototype.resetNorth=function(l,h){return this.rotateTo(0,n.extend({duration:1e3},l),h),this},d.prototype.resetNorthPitch=function(l,h){return this.easeTo(n.extend({bearing:0,pitch:0,duration:1e3},l),h),this},d.prototype.snapToNorth=function(l,h){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(l,h):this},d.prototype.getPitch=function(){return this.transform.pitch},d.prototype.setPitch=function(l,h){return this.jumpTo({pitch:l},h),this},d.prototype.cameraForBounds=function(l,h){l=n.LngLatBounds.convert(l);var E=h&&h.bearing||0;return this._cameraForBoxAndBearing(l.getNorthWest(),l.getSouthEast(),E,h)},d.prototype._cameraForBoxAndBearing=function(l,h,E,A){var T={top:0,bottom:0,right:0,left:0};if(typeof(A=n.extend({padding:T,offset:[0,0],maxZoom:this.transform.maxZoom},A)).padding=="number"){var w=A.padding;A.padding={top:w,bottom:w,right:w,left:w}}A.padding=n.extend(T,A.padding);var D=this.transform,H=D.padding,Q=D.project(n.LngLat.convert(l)),te=D.project(n.LngLat.convert(h)),ie=Q.rotate(-E*Math.PI/180),xe=te.rotate(-E*Math.PI/180),me=new n.Point(Math.max(ie.x,xe.x),Math.max(ie.y,xe.y)),Ne=new n.Point(Math.min(ie.x,xe.x),Math.min(ie.y,xe.y)),ye=me.sub(Ne),Me=(D.width-(H.left+H.right+A.padding.left+A.padding.right))/ye.x,He=(D.height-(H.top+H.bottom+A.padding.top+A.padding.bottom))/ye.y;if(!(He<0||Me<0)){var Je=Math.min(D.scaleZoom(D.scale*Math.min(Me,He)),A.maxZoom),dt=typeof A.offset.x=="number"?new n.Point(A.offset.x,A.offset.y):n.Point.convert(A.offset),it=new n.Point((A.padding.left-A.padding.right)/2,(A.padding.top-A.padding.bottom)/2).rotate(E*Math.PI/180),vt=dt.add(it).mult(D.scale/D.zoomScale(Je));return{center:D.unproject(Q.add(te).div(2).sub(vt)),zoom:Je,bearing:E}}n.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset.")},d.prototype.fitBounds=function(l,h,E){return this._fitInternal(this.cameraForBounds(l,h),h,E)},d.prototype.fitScreenCoordinates=function(l,h,E,A,T){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.pointLocation(n.Point.convert(l)),this.transform.pointLocation(n.Point.convert(h)),E,A),A,T)},d.prototype._fitInternal=function(l,h,E){return l?(delete(h=n.extend(l,h)).padding,h.linear?this.easeTo(h,E):this.flyTo(h,E)):this},d.prototype.jumpTo=function(l,h){this.stop();var E=this.transform,A=!1,T=!1,w=!1;return"zoom"in l&&E.zoom!==+l.zoom&&(A=!0,E.zoom=+l.zoom),l.center!==void 0&&(E.center=n.LngLat.convert(l.center)),"bearing"in l&&E.bearing!==+l.bearing&&(T=!0,E.bearing=+l.bearing),"pitch"in l&&E.pitch!==+l.pitch&&(w=!0,E.pitch=+l.pitch),l.padding==null||E.isPaddingEqual(l.padding)||(E.padding=l.padding),this.fire(new n.Event("movestart",h)).fire(new n.Event("move",h)),A&&this.fire(new n.Event("zoomstart",h)).fire(new n.Event("zoom",h)).fire(new n.Event("zoomend",h)),T&&this.fire(new n.Event("rotatestart",h)).fire(new n.Event("rotate",h)).fire(new n.Event("rotateend",h)),w&&this.fire(new n.Event("pitchstart",h)).fire(new n.Event("pitch",h)).fire(new n.Event("pitchend",h)),this.fire(new n.Event("moveend",h))},d.prototype.easeTo=function(l,h){var E=this;this._stop(!1,l.easeId),((l=n.extend({offset:[0,0],duration:500,easing:n.ease},l)).animate===!1||!l.essential&&n.browser.prefersReducedMotion)&&(l.duration=0);var A=this.transform,T=this.getZoom(),w=this.getBearing(),D=this.getPitch(),H=this.getPadding(),Q="zoom"in l?+l.zoom:T,te="bearing"in l?this._normalizeBearing(l.bearing,w):w,ie="pitch"in l?+l.pitch:D,xe="padding"in l?l.padding:A.padding,me=n.Point.convert(l.offset),Ne=A.centerPoint.add(me),ye=A.pointLocation(Ne),Me=n.LngLat.convert(l.center||ye);this._normalizeCenter(Me);var He,Je,dt=A.project(ye),it=A.project(Me).sub(dt),vt=A.zoomScale(Q-T);l.around&&(He=n.LngLat.convert(l.around),Je=A.locationPoint(He));var Nt={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching};return this._zooming=this._zooming||Q!==T,this._rotating=this._rotating||w!==te,this._pitching=this._pitching||ie!==D,this._padding=!A.isPaddingEqual(xe),this._easeId=l.easeId,this._prepareEase(h,l.noMoveStart,Nt),this._ease(function(Qt){if(E._zooming&&(A.zoom=n.number(T,Q,Qt)),E._rotating&&(A.bearing=n.number(w,te,Qt)),E._pitching&&(A.pitch=n.number(D,ie,Qt)),E._padding&&(A.interpolatePadding(H,xe,Qt),Ne=A.centerPoint.add(me)),He)A.setLocationAtPoint(He,Je);else{var Yt=A.zoomScale(A.zoom-T),gr=Q>T?Math.min(2,vt):Math.max(.5,vt),kr=Math.pow(gr,1-Qt),jr=A.unproject(dt.add(it.mult(Qt*kr)).mult(Yt));A.setLocationAtPoint(A.renderWorldCopies?jr.wrap():jr,Ne)}E._fireMoveEvents(h)},function(Qt){E._afterEase(h,Qt)},l),this},d.prototype._prepareEase=function(l,h,E){E===void 0&&(E={}),this._moving=!0,h||E.moving||this.fire(new n.Event("movestart",l)),this._zooming&&!E.zooming&&this.fire(new n.Event("zoomstart",l)),this._rotating&&!E.rotating&&this.fire(new n.Event("rotatestart",l)),this._pitching&&!E.pitching&&this.fire(new n.Event("pitchstart",l))},d.prototype._fireMoveEvents=function(l){this.fire(new n.Event("move",l)),this._zooming&&this.fire(new n.Event("zoom",l)),this._rotating&&this.fire(new n.Event("rotate",l)),this._pitching&&this.fire(new n.Event("pitch",l))},d.prototype._afterEase=function(l,h){if(!this._easeId||!h||this._easeId!==h){delete this._easeId;var E=this._zooming,A=this._rotating,T=this._pitching;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._padding=!1,E&&this.fire(new n.Event("zoomend",l)),A&&this.fire(new n.Event("rotateend",l)),T&&this.fire(new n.Event("pitchend",l)),this.fire(new n.Event("moveend",l))}},d.prototype.flyTo=function(l,h){var E=this;if(!l.essential&&n.browser.prefersReducedMotion){var A=n.pick(l,["center","zoom","bearing","pitch","around"]);return this.jumpTo(A,h)}this.stop(),l=n.extend({offset:[0,0],speed:1.2,curve:1.42,easing:n.ease},l);var T=this.transform,w=this.getZoom(),D=this.getBearing(),H=this.getPitch(),Q=this.getPadding(),te="zoom"in l?n.clamp(+l.zoom,T.minZoom,T.maxZoom):w,ie="bearing"in l?this._normalizeBearing(l.bearing,D):D,xe="pitch"in l?+l.pitch:H,me="padding"in l?l.padding:T.padding,Ne=T.zoomScale(te-w),ye=n.Point.convert(l.offset),Me=T.centerPoint.add(ye),He=T.pointLocation(Me),Je=n.LngLat.convert(l.center||He);this._normalizeCenter(Je);var dt=T.project(He),it=T.project(Je).sub(dt),vt=l.curve,Nt=Math.max(T.width,T.height),Qt=Nt/Ne,Yt=it.mag();if("minZoom"in l){var gr=n.clamp(Math.min(l.minZoom,w,te),T.minZoom,T.maxZoom),kr=Nt/T.zoomScale(gr-w);vt=Math.sqrt(kr/Yt*2)}var jr=vt*vt;function Hr(eo){var $r=(Qt*Qt-Nt*Nt+(eo?-1:1)*jr*jr*Yt*Yt)/(2*(eo?Qt:Nt)*jr*Yt);return Math.log(Math.sqrt($r*$r+1)-$r)}function Uo(eo){return(Math.exp(eo)-Math.exp(-eo))/2}function Pr(eo){return(Math.exp(eo)+Math.exp(-eo))/2}var ao=Hr(0),mo=function(eo){return Pr(ao)/Pr(ao+vt*eo)},ro=function(eo){return Nt*((Pr(ao)*(Uo($r=ao+vt*eo)/Pr($r))-Uo(ao))/jr)/Yt;var $r},Jr=(Hr(1)-ao)/vt;if(Math.abs(Yt)<1e-6||!isFinite(Jr)){if(Math.abs(Nt-Qt)<1e-6)return this.easeTo(l,h);var yo=Qt<Nt?-1:1;Jr=Math.abs(Math.log(Qt/Nt))/vt,ro=function(){return 0},mo=function(eo){return Math.exp(yo*vt*eo)}}return l.duration="duration"in l?+l.duration:1e3*Jr/("screenSpeed"in l?+l.screenSpeed/vt:+l.speed),l.maxDuration&&l.duration>l.maxDuration&&(l.duration=0),this._zooming=!0,this._rotating=D!==ie,this._pitching=xe!==H,this._padding=!T.isPaddingEqual(me),this._prepareEase(h,!1),this._ease(function(eo){var $r=eo*Jr,$i=1/mo($r);T.zoom=eo===1?te:w+T.scaleZoom($i),E._rotating&&(T.bearing=n.number(D,ie,eo)),E._pitching&&(T.pitch=n.number(H,xe,eo)),E._padding&&(T.interpolatePadding(Q,me,eo),Me=T.centerPoint.add(ye));var wi=eo===1?Je:T.unproject(dt.add(it.mult(ro($r))).mult($i));T.setLocationAtPoint(T.renderWorldCopies?wi.wrap():wi,Me),E._fireMoveEvents(h)},function(){return E._afterEase(h)},l),this},d.prototype.isEasing=function(){return!!this._easeFrameId},d.prototype.stop=function(){return this._stop()},d.prototype._stop=function(l,h){if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){var E=this._onEaseEnd;delete this._onEaseEnd,E.call(this,h)}if(!l){var A=this.handlers;A&&A.stop(!1)}return this},d.prototype._ease=function(l,h,E){E.animate===!1||E.duration===0?(l(1),h()):(this._easeStart=n.browser.now(),this._easeOptions=E,this._onEaseFrame=l,this._onEaseEnd=h,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))},d.prototype._renderFrameCallback=function(){var l=Math.min((n.browser.now()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(l)),l<1?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},d.prototype._normalizeBearing=function(l,h){l=n.wrap(l,-180,180);var E=Math.abs(l-h);return Math.abs(l-360-h)<E&&(l-=360),Math.abs(l+360-h)<E&&(l+=360),l},d.prototype._normalizeCenter=function(l){var h=this.transform;if(h.renderWorldCopies&&!h.lngRange){var E=l.lng-h.center.lng;l.lng+=E>180?-360:E<-180?360:0}},d}(n.Evented),Wn=function(c){c===void 0&&(c={}),this.options=c,n.bindAll(["_toggleAttribution","_updateEditLink","_updateData","_updateCompact"],this)};Wn.prototype.getDefaultPosition=function(){return"bottom-right"},Wn.prototype.onAdd=function(c){var d=this.options&&this.options.compact;return this._map=c,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),this._compactButton=m.create("button","mapboxgl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=m.create("div","mapboxgl-ctrl-attrib-inner",this._container),this._innerContainer.setAttribute("role","list"),d&&this._container.classList.add("mapboxgl-compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),d===void 0&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},Wn.prototype.onRemove=function(){m.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0,this._attribHTML=void 0},Wn.prototype._setElementTitle=function(c,d){var l=this._map._getUIString("AttributionControl."+d);c.title=l,c.setAttribute("aria-label",l)},Wn.prototype._toggleAttribution=function(){this._container.classList.contains("mapboxgl-compact-show")?(this._container.classList.remove("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","false")):(this._container.classList.add("mapboxgl-compact-show"),this._compactButton.setAttribute("aria-pressed","true"))},Wn.prototype._updateEditLink=function(){var c=this._editLink;c||(c=this._editLink=this._container.querySelector(".mapbox-improve-map"));var d=[{key:"owner",value:this.styleOwner},{key:"id",value:this.styleId},{key:"access_token",value:this._map._requestManager._customAccessToken||n.config.ACCESS_TOKEN}];if(c){var l=d.reduce(function(h,E,A){return E.value&&(h+=E.key+"="+E.value+(A<d.length-1?"&":"")),h},"?");c.href=n.config.FEEDBACK_URL+"/"+l+(this._map._hash?this._map._hash.getHashString(!0):""),c.rel="noopener nofollow",this._setElementTitle(c,"MapFeedback")}},Wn.prototype._updateData=function(c){!c||c.sourceDataType!=="metadata"&&c.sourceDataType!=="visibility"&&c.dataType!=="style"||(this._updateAttributions(),this._updateEditLink())},Wn.prototype._updateAttributions=function(){if(this._map.style){var c=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?c=c.concat(this.options.customAttribution.map(function(w){return typeof w!="string"?"":w})):typeof this.options.customAttribution=="string"&&c.push(this.options.customAttribution)),this._map.style.stylesheet){var d=this._map.style.stylesheet;this.styleOwner=d.owner,this.styleId=d.id}var l=this._map.style.sourceCaches;for(var h in l){var E=l[h];if(E.used){var A=E.getSource();A.attribution&&c.indexOf(A.attribution)<0&&c.push(A.attribution)}}c.sort(function(w,D){return w.length-D.length});var T=(c=c.filter(function(w,D){for(var H=D+1;H<c.length;H++)if(c[H].indexOf(w)>=0)return!1;return!0})).join(" | ");T!==this._attribHTML&&(this._attribHTML=T,c.length?(this._innerContainer.innerHTML=T,this._container.classList.remove("mapboxgl-attrib-empty")):this._container.classList.add("mapboxgl-attrib-empty"),this._editLink=null)}},Wn.prototype._updateCompact=function(){this._map.getCanvasContainer().offsetWidth<=640?this._container.classList.add("mapboxgl-compact"):this._container.classList.remove("mapboxgl-compact","mapboxgl-compact-show")};var ps=function(){n.bindAll(["_updateLogo"],this),n.bindAll(["_updateCompact"],this)};ps.prototype.onAdd=function(c){this._map=c,this._container=m.create("div","mapboxgl-ctrl");var d=m.create("a","mapboxgl-ctrl-logo");return d.target="_blank",d.rel="noopener nofollow",d.href="https://www.mapbox.com/",d.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),d.setAttribute("rel","noopener nofollow"),this._container.appendChild(d),this._container.style.display="none",this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._map.on("resize",this._updateCompact),this._updateCompact(),this._container},ps.prototype.onRemove=function(){m.remove(this._container),this._map.off("sourcedata",this._updateLogo),this._map.off("resize",this._updateCompact)},ps.prototype.getDefaultPosition=function(){return"bottom-left"},ps.prototype._updateLogo=function(c){c&&c.sourceDataType!=="metadata"||(this._container.style.display=this._logoRequired()?"block":"none")},ps.prototype._logoRequired=function(){if(this._map.style){var c=this._map.style.sourceCaches;for(var d in c)if(c[d].getSource().mapbox_logo)return!0;return!1}},ps.prototype._updateCompact=function(){var c=this._container.children;if(c.length){var d=c[0];this._map.getCanvasContainer().offsetWidth<250?d.classList.add("mapboxgl-compact"):d.classList.remove("mapboxgl-compact")}};var Fi=function(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1};Fi.prototype.add=function(c){var d=++this._id;return this._queue.push({callback:c,id:d,cancelled:!1}),d},Fi.prototype.remove=function(c){for(var d=this._currentlyRunning,l=0,h=d?this._queue.concat(d):this._queue;l<h.length;l+=1){var E=h[l];if(E.id===c)return void(E.cancelled=!0)}},Fi.prototype.run=function(c){c===void 0&&(c=0);var d=this._currentlyRunning=this._queue;this._queue=[];for(var l=0,h=d;l<h.length;l+=1){var E=h[l];if(!E.cancelled&&(E.callback(c),this._cleared))break}this._cleared=!1,this._currentlyRunning=!1},Fi.prototype.clear=function(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]};var $a={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"Mapbox logo","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm"},eu=n.window.HTMLImageElement,ep=n.window.HTMLElement,Yo=n.window.ImageBitmap,fn={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,bearingSnap:7,clickTolerance:3,pitchWithRotate:!0,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0,maxTileCacheSize:null,localIdeographFontFamily:"sans-serif",transformRequest:null,accessToken:null,fadeDuration:300,crossSourceCollisions:!0},Xl=function(c){function d(h){var E=this;if((h=n.extend({},fn,h)).minZoom!=null&&h.maxZoom!=null&&h.minZoom>h.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(h.minPitch!=null&&h.maxPitch!=null&&h.minPitch>h.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(h.minPitch!=null&&h.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(h.maxPitch!=null&&h.maxPitch>60)throw new Error("maxPitch must be less than or equal to 60");var A=new Oo(h.minZoom,h.maxZoom,h.minPitch,h.maxPitch,h.renderWorldCopies);if(c.call(this,A,h),this._interactive=h.interactive,this._maxTileCacheSize=h.maxTileCacheSize,this._failIfMajorPerformanceCaveat=h.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=h.preserveDrawingBuffer,this._antialias=h.antialias,this._trackResize=h.trackResize,this._bearingSnap=h.bearingSnap,this._refreshExpiredTiles=h.refreshExpiredTiles,this._fadeDuration=h.fadeDuration,this._crossSourceCollisions=h.crossSourceCollisions,this._crossFadingFactor=1,this._collectResourceTiming=h.collectResourceTiming,this._renderTaskQueue=new Fi,this._controls=[],this._mapId=n.uniqueId(),this._locale=n.extend({},$a,h.locale),this._clickTolerance=h.clickTolerance,this._requestManager=new n.RequestManager(h.transformRequest,h.accessToken),typeof h.container=="string"){if(this._container=n.window.document.getElementById(h.container),!this._container)throw new Error("Container '"+h.container+"' not found.")}else{if(!(h.container instanceof ep))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=h.container}if(h.maxBounds&&this.setMaxBounds(h.maxBounds),n.bindAll(["_onWindowOnline","_onWindowResize","_onMapScroll","_contextLost","_contextRestored"],this),this._setupContainer(),this._setupPainter(),this.painter===void 0)throw new Error("Failed to initialize WebGL.");this.on("move",function(){return E._update(!1)}),this.on("moveend",function(){return E._update(!1)}),this.on("zoom",function(){return E._update(!0)}),n.window!==void 0&&(n.window.addEventListener("online",this._onWindowOnline,!1),n.window.addEventListener("resize",this._onWindowResize,!1),n.window.addEventListener("orientationchange",this._onWindowResize,!1)),this.handlers=new Cr(this,h),this._hash=h.hash&&new Oa(typeof h.hash=="string"&&h.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:h.center,zoom:h.zoom,bearing:h.bearing,pitch:h.pitch}),h.bounds&&(this.resize(),this.fitBounds(h.bounds,n.extend({},h.fitBoundsOptions,{duration:0})))),this.resize(),this._localIdeographFontFamily=h.localIdeographFontFamily,h.style&&this.setStyle(h.style,{localIdeographFontFamily:h.localIdeographFontFamily}),h.attributionControl&&this.addControl(new Wn({customAttribution:h.customAttribution})),this.addControl(new ps,h.logoPosition),this.on("style.load",function(){E.transform.unmodified&&E.jumpTo(E.style.stylesheet)}),this.on("data",function(T){E._update(T.dataType==="style"),E.fire(new n.Event(T.dataType+"data",T))}),this.on("dataloading",function(T){E.fire(new n.Event(T.dataType+"dataloading",T))})}d.__proto__=c,(d.prototype=Object.create(c.prototype)).constructor=d;var l={showTileBoundaries:{configurable:!0},showPadding:{configurable:!0},showCollisionBoxes:{configurable:!0},showOverdrawInspector:{configurable:!0},repaint:{configurable:!0},vertices:{configurable:!0},version:{configurable:!0}};return d.prototype._getMapId=function(){return this._mapId},d.prototype.addControl=function(h,E){if(E===void 0&&(E=h.getDefaultPosition?h.getDefaultPosition():"top-right"),!h||!h.onAdd)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));var A=h.onAdd(this);this._controls.push(h);var T=this._controlPositions[E];return E.indexOf("bottom")!==-1?T.insertBefore(A,T.firstChild):T.appendChild(A),this},d.prototype.removeControl=function(h){if(!h||!h.onRemove)return this.fire(new n.ErrorEvent(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));var E=this._controls.indexOf(h);return E>-1&&this._controls.splice(E,1),h.onRemove(this),this},d.prototype.hasControl=function(h){return this._controls.indexOf(h)>-1},d.prototype.resize=function(h){var E=this._containerDimensions(),A=E[0],T=E[1];if(A===this.transform.width&&T===this.transform.height)return this;this._resizeCanvas(A,T),this.transform.resize(A,T),this.painter.resize(A,T);var w=!this._moving;return w&&this.fire(new n.Event("movestart",h)).fire(new n.Event("move",h)),this.fire(new n.Event("resize",h)),w&&this.fire(new n.Event("moveend",h)),this},d.prototype.getBounds=function(){return this.transform.getBounds()},d.prototype.getMaxBounds=function(){return this.transform.getMaxBounds()},d.prototype.setMaxBounds=function(h){return this.transform.setMaxBounds(n.LngLatBounds.convert(h)),this._update()},d.prototype.setMinZoom=function(h){if((h=h??-2)>=-2&&h<=this.transform.maxZoom)return this.transform.minZoom=h,this._update(),this.getZoom()<h&&this.setZoom(h),this;throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")},d.prototype.getMinZoom=function(){return this.transform.minZoom},d.prototype.setMaxZoom=function(h){if((h=h??22)>=this.transform.minZoom)return this.transform.maxZoom=h,this._update(),this.getZoom()>h&&this.setZoom(h),this;throw new Error("maxZoom must be greater than the current minZoom")},d.prototype.getMaxZoom=function(){return this.transform.maxZoom},d.prototype.setMinPitch=function(h){if((h=h??0)<0)throw new Error("minPitch must be greater than or equal to 0");if(h>=0&&h<=this.transform.maxPitch)return this.transform.minPitch=h,this._update(),this.getPitch()<h&&this.setPitch(h),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")},d.prototype.getMinPitch=function(){return this.transform.minPitch},d.prototype.setMaxPitch=function(h){if((h=h??60)>60)throw new Error("maxPitch must be less than or equal to 60");if(h>=this.transform.minPitch)return this.transform.maxPitch=h,this._update(),this.getPitch()>h&&this.setPitch(h),this;throw new Error("maxPitch must be greater than the current minPitch")},d.prototype.getMaxPitch=function(){return this.transform.maxPitch},d.prototype.getRenderWorldCopies=function(){return this.transform.renderWorldCopies},d.prototype.setRenderWorldCopies=function(h){return this.transform.renderWorldCopies=h,this._update()},d.prototype.project=function(h){return this.transform.locationPoint(n.LngLat.convert(h))},d.prototype.unproject=function(h){return this.transform.pointLocation(n.Point.convert(h))},d.prototype.isMoving=function(){return this._moving||this.handlers.isMoving()},d.prototype.isZooming=function(){return this._zooming||this.handlers.isZooming()},d.prototype.isRotating=function(){return this._rotating||this.handlers.isRotating()},d.prototype._createDelegatedListener=function(h,E,A){var T,w=this;if(h==="mouseenter"||h==="mouseover"){var D=!1;return{layer:E,listener:A,delegates:{mousemove:function(Q){var te=w.getLayer(E)?w.queryRenderedFeatures(Q.point,{layers:[E]}):[];te.length?D||(D=!0,A.call(w,new Ai(h,w,Q.originalEvent,{features:te}))):D=!1},mouseout:function(){D=!1}}}}if(h==="mouseleave"||h==="mouseout"){var H=!1;return{layer:E,listener:A,delegates:{mousemove:function(Q){(w.getLayer(E)?w.queryRenderedFeatures(Q.point,{layers:[E]}):[]).length?H=!0:H&&(H=!1,A.call(w,new Ai(h,w,Q.originalEvent)))},mouseout:function(Q){H&&(H=!1,A.call(w,new Ai(h,w,Q.originalEvent)))}}}}return{layer:E,listener:A,delegates:(T={},T[h]=function(Q){var te=w.getLayer(E)?w.queryRenderedFeatures(Q.point,{layers:[E]}):[];te.length&&(Q.features=te,A.call(w,Q),delete Q.features)},T)}},d.prototype.on=function(h,E,A){if(A===void 0)return c.prototype.on.call(this,h,E);var T=this._createDelegatedListener(h,E,A);for(var w in this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[h]=this._delegatedListeners[h]||[],this._delegatedListeners[h].push(T),T.delegates)this.on(w,T.delegates[w]);return this},d.prototype.once=function(h,E,A){if(A===void 0)return c.prototype.once.call(this,h,E);var T=this._createDelegatedListener(h,E,A);for(var w in T.delegates)this.once(w,T.delegates[w]);return this},d.prototype.off=function(h,E,A){var T=this;return A===void 0?c.prototype.off.call(this,h,E):(this._delegatedListeners&&this._delegatedListeners[h]&&function(w){for(var D=w[h],H=0;H<D.length;H++){var Q=D[H];if(Q.layer===E&&Q.listener===A){for(var te in Q.delegates)T.off(te,Q.delegates[te]);return D.splice(H,1),T}}}(this._delegatedListeners),this)},d.prototype.queryRenderedFeatures=function(h,E){if(!this.style)return[];var A;if(E!==void 0||h===void 0||h instanceof n.Point||Array.isArray(h)||(E=h,h=void 0),E=E||{},(h=h||[[0,0],[this.transform.width,this.transform.height]])instanceof n.Point||typeof h[0]=="number")A=[n.Point.convert(h)];else{var T=n.Point.convert(h[0]),w=n.Point.convert(h[1]);A=[T,new n.Point(w.x,T.y),w,new n.Point(T.x,w.y),T]}return this.style.queryRenderedFeatures(A,E,this.transform)},d.prototype.querySourceFeatures=function(h,E){return this.style.querySourceFeatures(h,E)},d.prototype.setStyle=function(h,E){return(E=n.extend({},{localIdeographFontFamily:this._localIdeographFontFamily},E)).diff!==!1&&E.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&h?(this._diffStyle(h,E),this):(this._localIdeographFontFamily=E.localIdeographFontFamily,this._updateStyle(h,E))},d.prototype._getUIString=function(h){var E=this._locale[h];if(E==null)throw new Error("Missing UI string '"+h+"'");return E},d.prototype._updateStyle=function(h,E){return this.style&&(this.style.setEventedParent(null),this.style._remove()),h?(this.style=new Pa(this,E||{}),this.style.setEventedParent(this,{style:this.style}),typeof h=="string"?this.style.loadURL(h):this.style.loadJSON(h),this):(delete this.style,this)},d.prototype._lazyInitEmptyStyle=function(){this.style||(this.style=new Pa(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())},d.prototype._diffStyle=function(h,E){var A=this;if(typeof h=="string"){var T=this._requestManager.normalizeStyleURL(h),w=this._requestManager.transformRequest(T,n.ResourceType.Style);n.getJSON(w,function(D,H){D?A.fire(new n.ErrorEvent(D)):H&&A._updateDiff(H,E)})}else typeof h=="object"&&this._updateDiff(h,E)},d.prototype._updateDiff=function(h,E){try{this.style.setState(h)&&this._update(!0)}catch(A){n.warnOnce("Unable to perform style diff: "+(A.message||A.error||A)+".  Rebuilding the style from scratch."),this._updateStyle(h,E)}},d.prototype.getStyle=function(){if(this.style)return this.style.serialize()},d.prototype.isStyleLoaded=function(){return this.style?this.style.loaded():n.warnOnce("There is no style added to the map.")},d.prototype.addSource=function(h,E){return this._lazyInitEmptyStyle(),this.style.addSource(h,E),this._update(!0)},d.prototype.isSourceLoaded=function(h){var E=this.style&&this.style.sourceCaches[h];if(E!==void 0)return E.loaded();this.fire(new n.ErrorEvent(new Error("There is no source with ID '"+h+"'")))},d.prototype.areTilesLoaded=function(){var h=this.style&&this.style.sourceCaches;for(var E in h){var A=h[E]._tiles;for(var T in A){var w=A[T];if(w.state!=="loaded"&&w.state!=="errored")return!1}}return!0},d.prototype.addSourceType=function(h,E,A){return this._lazyInitEmptyStyle(),this.style.addSourceType(h,E,A)},d.prototype.removeSource=function(h){return this.style.removeSource(h),this._update(!0)},d.prototype.getSource=function(h){return this.style.getSource(h)},d.prototype.addImage=function(h,E,A){A===void 0&&(A={});var T=A.pixelRatio;T===void 0&&(T=1);var w=A.sdf;w===void 0&&(w=!1);var D=A.stretchX,H=A.stretchY,Q=A.content;if(this._lazyInitEmptyStyle(),E instanceof eu||Yo&&E instanceof Yo){var te=n.browser.getImageData(E);this.style.addImage(h,{data:new n.RGBAImage({width:te.width,height:te.height},te.data),pixelRatio:T,stretchX:D,stretchY:H,content:Q,sdf:w,version:0})}else{if(E.width===void 0||E.height===void 0)return this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));var ie=E;this.style.addImage(h,{data:new n.RGBAImage({width:E.width,height:E.height},new Uint8Array(E.data)),pixelRatio:T,stretchX:D,stretchY:H,content:Q,sdf:w,version:0,userImage:ie}),ie.onAdd&&ie.onAdd(this,h)}},d.prototype.updateImage=function(h,E){var A=this.style.getImage(h);if(!A)return this.fire(new n.ErrorEvent(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));var T=E instanceof eu||Yo&&E instanceof Yo?n.browser.getImageData(E):E,w=T.width,D=T.height,H=T.data;return w===void 0||D===void 0?this.fire(new n.ErrorEvent(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`"))):w!==A.data.width||D!==A.data.height?this.fire(new n.ErrorEvent(new Error("The width and height of the updated image must be that same as the previous version of the image"))):(A.data.replace(H,!(E instanceof eu||Yo&&E instanceof Yo)),void this.style.updateImage(h,A))},d.prototype.hasImage=function(h){return h?!!this.style.getImage(h):(this.fire(new n.ErrorEvent(new Error("Missing required image id"))),!1)},d.prototype.removeImage=function(h){this.style.removeImage(h)},d.prototype.loadImage=function(h,E){n.getImage(this._requestManager.transformRequest(h,n.ResourceType.Image),E)},d.prototype.listImages=function(){return this.style.listImages()},d.prototype.addLayer=function(h,E){return this._lazyInitEmptyStyle(),this.style.addLayer(h,E),this._update(!0)},d.prototype.moveLayer=function(h,E){return this.style.moveLayer(h,E),this._update(!0)},d.prototype.removeLayer=function(h){return this.style.removeLayer(h),this._update(!0)},d.prototype.getLayer=function(h){return this.style.getLayer(h)},d.prototype.setLayerZoomRange=function(h,E,A){return this.style.setLayerZoomRange(h,E,A),this._update(!0)},d.prototype.setFilter=function(h,E,A){return A===void 0&&(A={}),this.style.setFilter(h,E,A),this._update(!0)},d.prototype.getFilter=function(h){return this.style.getFilter(h)},d.prototype.setPaintProperty=function(h,E,A,T){return T===void 0&&(T={}),this.style.setPaintProperty(h,E,A,T),this._update(!0)},d.prototype.getPaintProperty=function(h,E){return this.style.getPaintProperty(h,E)},d.prototype.setLayoutProperty=function(h,E,A,T){return T===void 0&&(T={}),this.style.setLayoutProperty(h,E,A,T),this._update(!0)},d.prototype.getLayoutProperty=function(h,E){return this.style.getLayoutProperty(h,E)},d.prototype.setLight=function(h,E){return E===void 0&&(E={}),this._lazyInitEmptyStyle(),this.style.setLight(h,E),this._update(!0)},d.prototype.getLight=function(){return this.style.getLight()},d.prototype.setFeatureState=function(h,E){return this.style.setFeatureState(h,E),this._update()},d.prototype.removeFeatureState=function(h,E){return this.style.removeFeatureState(h,E),this._update()},d.prototype.getFeatureState=function(h){return this.style.getFeatureState(h)},d.prototype.getContainer=function(){return this._container},d.prototype.getCanvasContainer=function(){return this._canvasContainer},d.prototype.getCanvas=function(){return this._canvas},d.prototype._containerDimensions=function(){var h=0,E=0;return this._container&&(h=this._container.clientWidth||400,E=this._container.clientHeight||300),[h,E]},d.prototype._detectMissingCSS=function(){n.window.getComputedStyle(this._missingCSSCanary).getPropertyValue("background-color")!=="rgb(250, 128, 114)"&&n.warnOnce("This page appears to be missing CSS declarations for Mapbox GL JS, which may cause the map to display incorrectly. Please ensure your page includes mapbox-gl.css, as described in https://www.mapbox.com/mapbox-gl-js/api/.")},d.prototype._setupContainer=function(){var h=this._container;h.classList.add("mapboxgl-map"),(this._missingCSSCanary=m.create("div","mapboxgl-canary",h)).style.visibility="hidden",this._detectMissingCSS();var E=this._canvasContainer=m.create("div","mapboxgl-canvas-container",h);this._interactive&&E.classList.add("mapboxgl-interactive"),this._canvas=m.create("canvas","mapboxgl-canvas",E),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex","0"),this._canvas.setAttribute("aria-label","Map"),this._canvas.setAttribute("role","region");var A=this._containerDimensions();this._resizeCanvas(A[0],A[1]);var T=this._controlContainer=m.create("div","mapboxgl-control-container",h),w=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(D){w[D]=m.create("div","mapboxgl-ctrl-"+D,T)}),this._container.addEventListener("scroll",this._onMapScroll,!1)},d.prototype._resizeCanvas=function(h,E){var A=n.browser.devicePixelRatio||1;this._canvas.width=A*h,this._canvas.height=A*E,this._canvas.style.width=h+"px",this._canvas.style.height=E+"px"},d.prototype._setupPainter=function(){var h=n.extend({},f.webGLContextAttributes,{failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer,antialias:this._antialias||!1}),E=this._canvas.getContext("webgl",h)||this._canvas.getContext("experimental-webgl",h);E?(this.painter=new di(E,this.transform),n.webpSupported.testSupport(E)):this.fire(new n.ErrorEvent(new Error("Failed to initialize WebGL")))},d.prototype._contextLost=function(h){h.preventDefault(),this._frame&&(this._frame.cancel(),this._frame=null),this.fire(new n.Event("webglcontextlost",{originalEvent:h}))},d.prototype._contextRestored=function(h){this._setupPainter(),this.resize(),this._update(),this.fire(new n.Event("webglcontextrestored",{originalEvent:h}))},d.prototype._onMapScroll=function(h){if(h.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},d.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()},d.prototype._update=function(h){return this.style?(this._styleDirty=this._styleDirty||h,this._sourcesDirty=!0,this.triggerRepaint(),this):this},d.prototype._requestRenderFrame=function(h){return this._update(),this._renderTaskQueue.add(h)},d.prototype._cancelRenderFrame=function(h){this._renderTaskQueue.remove(h)},d.prototype._render=function(h){var E,A=this,T=0,w=this.painter.context.extTimerQuery;if(this.listens("gpu-timing-frame")&&(E=w.createQueryEXT(),w.beginQueryEXT(w.TIME_ELAPSED_EXT,E),T=n.browser.now()),this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(h),!this._removed){var D=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;var H=this.transform.zoom,Q=n.browser.now();this.style.zoomHistory.update(H,Q);var te=new n.EvaluationParameters(H,{now:Q,fadeDuration:this._fadeDuration,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),ie=te.crossFadingFactor();ie===1&&ie===this._crossFadingFactor||(D=!0,this._crossFadingFactor=ie),this.style.update(te)}if(this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this._placementDirty=this.style&&this.style._updatePlacement(this.painter.transform,this.showCollisionBoxes,this._fadeDuration,this._crossSourceCollisions),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:this._fadeDuration,showPadding:this.showPadding,gpuTiming:!!this.listens("gpu-timing-layer")}),this.fire(new n.Event("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire(new n.Event("load"))),this.style&&(this.style.hasTransitions()||D)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles(),this.listens("gpu-timing-frame")){var xe=n.browser.now()-T;w.endQueryEXT(w.TIME_ELAPSED_EXT,E),setTimeout(function(){var ye=w.getQueryObjectEXT(E,w.QUERY_RESULT_EXT)/1e6;w.deleteQueryEXT(E),A.fire(new n.Event("gpu-timing-frame",{cpuTime:xe,gpuTime:ye}))},50)}if(this.listens("gpu-timing-layer")){var me=this.painter.collectGpuTimers();setTimeout(function(){var ye=A.painter.queryGpuTimers(me);A.fire(new n.Event("gpu-timing-layer",{layerTimes:ye}))},50)}var Ne=this._sourcesDirty||this._styleDirty||this._placementDirty;return Ne||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new n.Event("idle")),!this._loaded||this._fullyLoaded||Ne||(this._fullyLoaded=!0),this}},d.prototype.remove=function(){this._hash&&this._hash.remove();for(var h=0,E=this._controls;h<E.length;h+=1)E[h].onRemove(this);this._controls=[],this._frame&&(this._frame.cancel(),this._frame=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),n.window!==void 0&&(n.window.removeEventListener("resize",this._onWindowResize,!1),n.window.removeEventListener("orientationchange",this._onWindowResize,!1),n.window.removeEventListener("online",this._onWindowOnline,!1));var A=this.painter.context.gl.getExtension("WEBGL_lose_context");A&&A.loseContext(),Iu(this._canvasContainer),Iu(this._controlContainer),Iu(this._missingCSSCanary),this._container.classList.remove("mapboxgl-map"),this._removed=!0,this.fire(new n.Event("remove"))},d.prototype.triggerRepaint=function(){var h=this;this.style&&!this._frame&&(this._frame=n.browser.frame(function(E){h._frame=null,h._render(E)}))},d.prototype._onWindowOnline=function(){this._update()},d.prototype._onWindowResize=function(h){this._trackResize&&this.resize({originalEvent:h})._update()},l.showTileBoundaries.get=function(){return!!this._showTileBoundaries},l.showTileBoundaries.set=function(h){this._showTileBoundaries!==h&&(this._showTileBoundaries=h,this._update())},l.showPadding.get=function(){return!!this._showPadding},l.showPadding.set=function(h){this._showPadding!==h&&(this._showPadding=h,this._update())},l.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},l.showCollisionBoxes.set=function(h){this._showCollisionBoxes!==h&&(this._showCollisionBoxes=h,h?this.style._generateCollisionBoxes():this._update())},l.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},l.showOverdrawInspector.set=function(h){this._showOverdrawInspector!==h&&(this._showOverdrawInspector=h,this._update())},l.repaint.get=function(){return!!this._repaint},l.repaint.set=function(h){this._repaint!==h&&(this._repaint=h,this.triggerRepaint())},l.vertices.get=function(){return!!this._vertices},l.vertices.set=function(h){this._vertices=h,this._update()},d.prototype._setCacheLimits=function(h,E){n.setCacheLimits(h,E)},l.version.get=function(){return n.version},Object.defineProperties(d.prototype,l),d}(Fa);function Iu(c){c.parentNode&&c.parentNode.removeChild(c)}var Xc={showCompass:!0,showZoom:!0,visualizePitch:!1},tu=function(c){var d=this;this.options=n.extend({},Xc,c),this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._container.addEventListener("contextmenu",function(l){return l.preventDefault()}),this.options.showZoom&&(n.bindAll(["_setButtonTitle","_updateZoomButtons"],this),this._zoomInButton=this._createButton("mapboxgl-ctrl-zoom-in",function(l){return d._map.zoomIn({},{originalEvent:l})}),m.create("span","mapboxgl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden",!0),this._zoomOutButton=this._createButton("mapboxgl-ctrl-zoom-out",function(l){return d._map.zoomOut({},{originalEvent:l})}),m.create("span","mapboxgl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden",!0)),this.options.showCompass&&(n.bindAll(["_rotateCompassArrow"],this),this._compass=this._createButton("mapboxgl-ctrl-compass",function(l){d.options.visualizePitch?d._map.resetNorthPitch({},{originalEvent:l}):d._map.resetNorth({},{originalEvent:l})}),this._compassIcon=m.create("span","mapboxgl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden",!0))};tu.prototype._updateZoomButtons=function(){var c=this._map.getZoom(),d=c===this._map.getMaxZoom(),l=c===this._map.getMinZoom();this._zoomInButton.disabled=d,this._zoomOutButton.disabled=l,this._zoomInButton.setAttribute("aria-disabled",d.toString()),this._zoomOutButton.setAttribute("aria-disabled",l.toString())},tu.prototype._rotateCompassArrow=function(){var c=this.options.visualizePitch?"scale("+1/Math.pow(Math.cos(this._map.transform.pitch*(Math.PI/180)),.5)+") rotateX("+this._map.transform.pitch+"deg) rotateZ("+this._map.transform.angle*(180/Math.PI)+"deg)":"rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassIcon.style.transform=c},tu.prototype.onAdd=function(c){return this._map=c,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new Ta(this._map,this._compass,this.options.visualizePitch)),this._container},tu.prototype.onRemove=function(){m.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map},tu.prototype._createButton=function(c,d){var l=m.create("button",c,this._container);return l.type="button",l.addEventListener("click",d),l},tu.prototype._setButtonTitle=function(c,d){var l=this._map._getUIString("NavigationControl."+d);c.title=l,c.setAttribute("aria-label",l)};var Ta=function(c,d,l){l===void 0&&(l=!1),this._clickTolerance=10,this.element=d,this.mouseRotate=new uc({clickTolerance:c.dragRotate._mouseRotate._clickTolerance}),this.map=c,l&&(this.mousePitch=new Hc({clickTolerance:c.dragRotate._mousePitch._clickTolerance})),n.bindAll(["mousedown","mousemove","mouseup","touchstart","touchmove","touchend","reset"],this),m.addEventListener(d,"mousedown",this.mousedown),m.addEventListener(d,"touchstart",this.touchstart,{passive:!1}),m.addEventListener(d,"touchmove",this.touchmove),m.addEventListener(d,"touchend",this.touchend),m.addEventListener(d,"touchcancel",this.reset)};function Rp(c,d,l){if(c=new n.LngLat(c.lng,c.lat),d){var h=new n.LngLat(c.lng-360,c.lat),E=new n.LngLat(c.lng+360,c.lat),A=l.locationPoint(c).distSqr(d);l.locationPoint(h).distSqr(d)<A?c=h:l.locationPoint(E).distSqr(d)<A&&(c=E)}for(;Math.abs(c.lng-l.center.lng)>180;){var T=l.locationPoint(c);if(T.x>=0&&T.y>=0&&T.x<=l.width&&T.y<=l.height)break;c.lng>l.center.lng?c.lng-=360:c.lng+=360}return c}Ta.prototype.down=function(c,d){this.mouseRotate.mousedown(c,d),this.mousePitch&&this.mousePitch.mousedown(c,d),m.disableDrag()},Ta.prototype.move=function(c,d){var l=this.map,h=this.mouseRotate.mousemoveWindow(c,d);if(h&&h.bearingDelta&&l.setBearing(l.getBearing()+h.bearingDelta),this.mousePitch){var E=this.mousePitch.mousemoveWindow(c,d);E&&E.pitchDelta&&l.setPitch(l.getPitch()+E.pitchDelta)}},Ta.prototype.off=function(){var c=this.element;m.removeEventListener(c,"mousedown",this.mousedown),m.removeEventListener(c,"touchstart",this.touchstart,{passive:!1}),m.removeEventListener(c,"touchmove",this.touchmove),m.removeEventListener(c,"touchend",this.touchend),m.removeEventListener(c,"touchcancel",this.reset),this.offTemp()},Ta.prototype.offTemp=function(){m.enableDrag(),m.removeEventListener(n.window,"mousemove",this.mousemove),m.removeEventListener(n.window,"mouseup",this.mouseup)},Ta.prototype.mousedown=function(c){this.down(n.extend({},c,{ctrlKey:!0,preventDefault:function(){return c.preventDefault()}}),m.mousePos(this.element,c)),m.addEventListener(n.window,"mousemove",this.mousemove),m.addEventListener(n.window,"mouseup",this.mouseup)},Ta.prototype.mousemove=function(c){this.move(c,m.mousePos(this.element,c))},Ta.prototype.mouseup=function(c){this.mouseRotate.mouseupWindow(c),this.mousePitch&&this.mousePitch.mouseupWindow(c),this.offTemp()},Ta.prototype.touchstart=function(c){c.targetTouches.length!==1?this.reset():(this._startPos=this._lastPos=m.touchPos(this.element,c.targetTouches)[0],this.down({type:"mousedown",button:0,ctrlKey:!0,preventDefault:function(){return c.preventDefault()}},this._startPos))},Ta.prototype.touchmove=function(c){c.targetTouches.length!==1?this.reset():(this._lastPos=m.touchPos(this.element,c.targetTouches)[0],this.move({preventDefault:function(){return c.preventDefault()}},this._lastPos))},Ta.prototype.touchend=function(c){c.targetTouches.length===0&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),this.reset()},Ta.prototype.reset=function(){this.mouseRotate.reset(),this.mousePitch&&this.mousePitch.reset(),delete this._startPos,delete this._lastPos,this.offTemp()};var Ts={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function Zc(c,d,l){var h=c.classList;for(var E in Ts)h.remove("mapboxgl-"+l+"-anchor-"+E);h.add("mapboxgl-"+l+"-anchor-"+d)}var wp,pc=function(c){function d(l,h){if(c.call(this),(l instanceof n.window.HTMLElement||h)&&(l=n.extend({element:l},h)),n.bindAll(["_update","_onMove","_onUp","_addDragHandler","_onMapClick","_onKeyPress"],this),this._anchor=l&&l.anchor||"center",this._color=l&&l.color||"#3FB1CE",this._scale=l&&l.scale||1,this._draggable=l&&l.draggable||!1,this._clickTolerance=l&&l.clickTolerance||0,this._isDragging=!1,this._state="inactive",this._rotation=l&&l.rotation||0,this._rotationAlignment=l&&l.rotationAlignment||"auto",this._pitchAlignment=l&&l.pitchAlignment&&l.pitchAlignment!=="auto"?l.pitchAlignment:this._rotationAlignment,l&&l.element)this._element=l.element,this._offset=n.Point.convert(l&&l.offset||[0,0]);else{this._defaultMarker=!0,this._element=m.create("div"),this._element.setAttribute("aria-label","Map marker");var E=m.createNS("http://www.w3.org/2000/svg","svg");E.setAttributeNS(null,"display","block"),E.setAttributeNS(null,"height","41px"),E.setAttributeNS(null,"width","27px"),E.setAttributeNS(null,"viewBox","0 0 27 41");var A=m.createNS("http://www.w3.org/2000/svg","g");A.setAttributeNS(null,"stroke","none"),A.setAttributeNS(null,"stroke-width","1"),A.setAttributeNS(null,"fill","none"),A.setAttributeNS(null,"fill-rule","evenodd");var T=m.createNS("http://www.w3.org/2000/svg","g");T.setAttributeNS(null,"fill-rule","nonzero");var w=m.createNS("http://www.w3.org/2000/svg","g");w.setAttributeNS(null,"transform","translate(3.0, 29.0)"),w.setAttributeNS(null,"fill","#000000");for(var D=0,H=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];D<H.length;D+=1){var Q=H[D],te=m.createNS("http://www.w3.org/2000/svg","ellipse");te.setAttributeNS(null,"opacity","0.04"),te.setAttributeNS(null,"cx","10.5"),te.setAttributeNS(null,"cy","5.80029008"),te.setAttributeNS(null,"rx",Q.rx),te.setAttributeNS(null,"ry",Q.ry),w.appendChild(te)}var ie=m.createNS("http://www.w3.org/2000/svg","g");ie.setAttributeNS(null,"fill",this._color);var xe=m.createNS("http://www.w3.org/2000/svg","path");xe.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),ie.appendChild(xe);var me=m.createNS("http://www.w3.org/2000/svg","g");me.setAttributeNS(null,"opacity","0.25"),me.setAttributeNS(null,"fill","#000000");var Ne=m.createNS("http://www.w3.org/2000/svg","path");Ne.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),me.appendChild(Ne);var ye=m.createNS("http://www.w3.org/2000/svg","g");ye.setAttributeNS(null,"transform","translate(6.0, 7.0)"),ye.setAttributeNS(null,"fill","#FFFFFF");var Me=m.createNS("http://www.w3.org/2000/svg","g");Me.setAttributeNS(null,"transform","translate(8.0, 8.0)");var He=m.createNS("http://www.w3.org/2000/svg","circle");He.setAttributeNS(null,"fill","#000000"),He.setAttributeNS(null,"opacity","0.25"),He.setAttributeNS(null,"cx","5.5"),He.setAttributeNS(null,"cy","5.5"),He.setAttributeNS(null,"r","5.4999962");var Je=m.createNS("http://www.w3.org/2000/svg","circle");Je.setAttributeNS(null,"fill","#FFFFFF"),Je.setAttributeNS(null,"cx","5.5"),Je.setAttributeNS(null,"cy","5.5"),Je.setAttributeNS(null,"r","5.4999962"),Me.appendChild(He),Me.appendChild(Je),T.appendChild(w),T.appendChild(ie),T.appendChild(me),T.appendChild(ye),T.appendChild(Me),E.appendChild(T),E.setAttributeNS(null,"height",41*this._scale+"px"),E.setAttributeNS(null,"width",27*this._scale+"px"),this._element.appendChild(E),this._offset=n.Point.convert(l&&l.offset||[0,-14])}this._element.classList.add("mapboxgl-marker"),this._element.addEventListener("dragstart",function(dt){dt.preventDefault()}),this._element.addEventListener("mousedown",function(dt){dt.preventDefault()}),Zc(this._element,this._anchor,"marker"),this._popup=null}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.addTo=function(l){return this.remove(),this._map=l,l.getCanvasContainer().appendChild(this._element),l.on("move",this._update),l.on("moveend",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this},d.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),m.remove(this._element),this._popup&&this._popup.remove(),this},d.prototype.getLngLat=function(){return this._lngLat},d.prototype.setLngLat=function(l){return this._lngLat=n.LngLat.convert(l),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},d.prototype.getElement=function(){return this._element},d.prototype.setPopup=function(l){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),l){if(!("offset"in l.options)){var h=Math.sqrt(Math.pow(13.5,2)/2);l.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-38.1],"bottom-left":[h,-1*(24.6+h)],"bottom-right":[-h,-1*(24.6+h)],left:[13.5,-24.6],right:[-13.5,-24.6]}:this._offset}this._popup=l,this._lngLat&&this._popup.setLngLat(this._lngLat),this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this},d.prototype._onKeyPress=function(l){var h=l.code,E=l.charCode||l.keyCode;h!=="Space"&&h!=="Enter"&&E!==32&&E!==13||this.togglePopup()},d.prototype._onMapClick=function(l){var h=l.originalEvent.target,E=this._element;this._popup&&(h===E||E.contains(h))&&this.togglePopup()},d.prototype.getPopup=function(){return this._popup},d.prototype.togglePopup=function(){var l=this._popup;return l?(l.isOpen()?l.remove():l.addTo(this._map),this):this},d.prototype._update=function(l){if(this._map){this._map.transform.renderWorldCopies&&(this._lngLat=Rp(this._lngLat,this._pos,this._map.transform)),this._pos=this._map.project(this._lngLat)._add(this._offset);var h="";this._rotationAlignment==="viewport"||this._rotationAlignment==="auto"?h="rotateZ("+this._rotation+"deg)":this._rotationAlignment==="map"&&(h="rotateZ("+(this._rotation-this._map.getBearing())+"deg)");var E="";this._pitchAlignment==="viewport"||this._pitchAlignment==="auto"?E="rotateX(0deg)":this._pitchAlignment==="map"&&(E="rotateX("+this._map.getPitch()+"deg)"),l&&l.type!=="moveend"||(this._pos=this._pos.round()),m.setTransform(this._element,Ts[this._anchor]+" translate("+this._pos.x+"px, "+this._pos.y+"px) "+E+" "+h)}},d.prototype.getOffset=function(){return this._offset},d.prototype.setOffset=function(l){return this._offset=n.Point.convert(l),this._update(),this},d.prototype._onMove=function(l){if(!this._isDragging){var h=this._clickTolerance||this._map._clickTolerance;this._isDragging=l.point.dist(this._pointerdownPos)>=h}this._isDragging&&(this._pos=l.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none",this._state==="pending"&&(this._state="active",this.fire(new n.Event("dragstart"))),this.fire(new n.Event("drag")))},d.prototype._onUp=function(){this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),this._state==="active"&&this.fire(new n.Event("dragend")),this._state="inactive"},d.prototype._addDragHandler=function(l){this._element.contains(l.originalEvent.target)&&(l.preventDefault(),this._positionDelta=l.point.sub(this._pos).add(this._offset),this._pointerdownPos=l.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},d.prototype.setDraggable=function(l){return this._draggable=!!l,this._map&&(l?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this},d.prototype.isDraggable=function(){return this._draggable},d.prototype.setRotation=function(l){return this._rotation=l||0,this._update(),this},d.prototype.getRotation=function(){return this._rotation},d.prototype.setRotationAlignment=function(l){return this._rotationAlignment=l||"auto",this._update(),this},d.prototype.getRotationAlignment=function(){return this._rotationAlignment},d.prototype.setPitchAlignment=function(l){return this._pitchAlignment=l&&l!=="auto"?l:this._rotationAlignment,this._update(),this},d.prototype.getPitchAlignment=function(){return this._pitchAlignment},d}(n.Evented),Yc={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0},tp=0,rp=!1,Zl=function(c){function d(l){c.call(this),this.options=n.extend({},Yc,l),n.bindAll(["_onSuccess","_onError","_onZoom","_finish","_setupUI","_updateCamera","_updateMarker"],this)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.onAdd=function(l){var h;return this._map=l,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),h=this._setupUI,wp!==void 0?h(wp):n.window.navigator.permissions!==void 0?n.window.navigator.permissions.query({name:"geolocation"}).then(function(E){h(wp=E.state!=="denied")}):h(wp=!!n.window.navigator.geolocation),this._container},d.prototype.onRemove=function(){this._geolocationWatchID!==void 0&&(n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),m.remove(this._container),this._map.off("zoom",this._onZoom),this._map=void 0,tp=0,rp=!1},d.prototype._isOutOfMapMaxBounds=function(l){var h=this._map.getMaxBounds(),E=l.coords;return h&&(E.longitude<h.getWest()||E.longitude>h.getEast()||E.latitude<h.getSouth()||E.latitude>h.getNorth())},d.prototype._setErrorState=function(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting")}},d.prototype._onSuccess=function(l){if(this._map){if(this._isOutOfMapMaxBounds(l))return this._setErrorState(),this.fire(new n.Event("outofmaxbounds",l)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=l,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background")}this.options.showUserLocation&&this._watchState!=="OFF"&&this._updateMarker(l),this.options.trackUserLocation&&this._watchState!=="ACTIVE_LOCK"||this._updateCamera(l),this.options.showUserLocation&&this._dotElement.classList.remove("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("geolocate",l)),this._finish()}},d.prototype._updateCamera=function(l){var h=new n.LngLat(l.coords.longitude,l.coords.latitude),E=l.coords.accuracy,A=this._map.getBearing(),T=n.extend({bearing:A},this.options.fitBoundsOptions);this._map.fitBounds(h.toBounds(E),T,{geolocateSource:!0})},d.prototype._updateMarker=function(l){if(l){var h=new n.LngLat(l.coords.longitude,l.coords.latitude);this._accuracyCircleMarker.setLngLat(h).addTo(this._map),this._userLocationDotMarker.setLngLat(h).addTo(this._map),this._accuracy=l.coords.accuracy,this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},d.prototype._updateCircleRadius=function(){var l=this._map._container.clientHeight/2,h=this._map.unproject([0,l]),E=this._map.unproject([1,l]),A=h.distanceTo(E),T=Math.ceil(2*this._accuracy/A);this._circleElement.style.width=T+"px",this._circleElement.style.height=T+"px"},d.prototype._onZoom=function(){this.options.showUserLocation&&this.options.showAccuracyCircle&&this._updateCircleRadius()},d.prototype._onError=function(l){if(this._map){if(this.options.trackUserLocation)if(l.code===1){this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;var h=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=h,this._geolocateButton.setAttribute("aria-label",h),this._geolocationWatchID!==void 0&&this._clearWatch()}else{if(l.code===3&&rp)return;this._setErrorState()}this._watchState!=="OFF"&&this.options.showUserLocation&&this._dotElement.classList.add("mapboxgl-user-location-dot-stale"),this.fire(new n.Event("error",l)),this._finish()}},d.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},d.prototype._setupUI=function(l){var h=this;if(this._container.addEventListener("contextmenu",function(T){return T.preventDefault()}),this._geolocateButton=m.create("button","mapboxgl-ctrl-geolocate",this._container),m.create("span","mapboxgl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden",!0),this._geolocateButton.type="button",l===!1){n.warnOnce("Geolocation support is not available so the GeolocateControl will be disabled.");var E=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=E,this._geolocateButton.setAttribute("aria-label",E)}else{var A=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.title=A,this._geolocateButton.setAttribute("aria-label",A)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=m.create("div","mapboxgl-user-location-dot"),this._userLocationDotMarker=new pc(this._dotElement),this._circleElement=m.create("div","mapboxgl-user-location-accuracy-circle"),this._accuracyCircleMarker=new pc({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onZoom)),this._geolocateButton.addEventListener("click",this.trigger.bind(this)),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",function(T){T.geolocateSource||h._watchState!=="ACTIVE_LOCK"||T.originalEvent&&T.originalEvent.type==="resize"||(h._watchState="BACKGROUND",h._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background"),h._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),h.fire(new n.Event("trackuserlocationend")))})},d.prototype.trigger=function(){if(!this._setup)return n.warnOnce("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new n.Event("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":tp--,rp=!1,this._watchState="OFF",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background-error"),this.fire(new n.Event("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new n.Event("trackuserlocationstart"))}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active");break;case"ACTIVE_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-active-error");break;case"BACKGROUND":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background");break;case"BACKGROUND_ERROR":this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-background-error")}if(this._watchState==="OFF"&&this._geolocationWatchID!==void 0)this._clearWatch();else if(this._geolocationWatchID===void 0){var l;this._geolocateButton.classList.add("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),++tp>1?(l={maximumAge:6e5,timeout:0},rp=!0):(l=this.options.positionOptions,rp=!1),this._geolocationWatchID=n.window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,l)}}else n.window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0},d.prototype._clearWatch=function(){n.window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("mapboxgl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)},d}(n.Evented),Ss={maxWidth:100,unit:"metric"},cs=function(c){this.options=n.extend({},Ss,c),n.bindAll(["_onMove","setUnit"],this)};function qc(c,d,l){var h=l&&l.maxWidth||100,E=c._container.clientHeight/2,A=c.unproject([0,E]),T=c.unproject([h,E]),w=A.distanceTo(T);if(l&&l.unit==="imperial"){var D=3.2808*w;D>5280?Mu(d,h,D/5280,c._getUIString("ScaleControl.Miles")):Mu(d,h,D,c._getUIString("ScaleControl.Feet"))}else l&&l.unit==="nautical"?Mu(d,h,w/1852,c._getUIString("ScaleControl.NauticalMiles")):w>=1e3?Mu(d,h,w/1e3,c._getUIString("ScaleControl.Kilometers")):Mu(d,h,w,c._getUIString("ScaleControl.Meters"))}function Mu(c,d,l,h){var E,A,T,w=(E=l,(A=Math.pow(10,(""+Math.floor(E)).length-1))*(T=(T=E/A)>=10?10:T>=5?5:T>=3?3:T>=2?2:T>=1?1:function(D){var H=Math.pow(10,Math.ceil(-Math.log(D)/Math.LN10));return Math.round(D*H)/H}(T)));c.style.width=d*(w/l)+"px",c.innerHTML=w+"&nbsp;"+h}cs.prototype.getDefaultPosition=function(){return"bottom-left"},cs.prototype._onMove=function(){qc(this._map,this._container,this.options)},cs.prototype.onAdd=function(c){return this._map=c,this._container=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",c.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},cs.prototype.onRemove=function(){m.remove(this._container),this._map.off("move",this._onMove),this._map=void 0},cs.prototype.setUnit=function(c){this.options.unit=c,qc(this._map,this._container,this.options)};var Ka=function(c){this._fullscreen=!1,c&&c.container&&(c.container instanceof n.window.HTMLElement?this._container=c.container:n.warnOnce("Full screen control 'container' must be a DOM element.")),n.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in n.window.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in n.window.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in n.window.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in n.window.document&&(this._fullscreenchange="MSFullscreenChange")};Ka.prototype.onAdd=function(c){return this._map=c,this._container||(this._container=this._map.getContainer()),this._controlContainer=m.create("div","mapboxgl-ctrl mapboxgl-ctrl-group"),this._checkFullscreenSupport()?this._setupUI():(this._controlContainer.style.display="none",n.warnOnce("This device does not support fullscreen mode.")),this._controlContainer},Ka.prototype.onRemove=function(){m.remove(this._controlContainer),this._map=null,n.window.document.removeEventListener(this._fullscreenchange,this._changeIcon)},Ka.prototype._checkFullscreenSupport=function(){return!!(n.window.document.fullscreenEnabled||n.window.document.mozFullScreenEnabled||n.window.document.msFullscreenEnabled||n.window.document.webkitFullscreenEnabled)},Ka.prototype._setupUI=function(){var c=this._fullscreenButton=m.create("button","mapboxgl-ctrl-fullscreen",this._controlContainer);m.create("span","mapboxgl-ctrl-icon",c).setAttribute("aria-hidden",!0),c.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),n.window.document.addEventListener(this._fullscreenchange,this._changeIcon)},Ka.prototype._updateTitle=function(){var c=this._getTitle();this._fullscreenButton.setAttribute("aria-label",c),this._fullscreenButton.title=c},Ka.prototype._getTitle=function(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")},Ka.prototype._isFullscreen=function(){return this._fullscreen},Ka.prototype._changeIcon=function(){(n.window.document.fullscreenElement||n.window.document.mozFullScreenElement||n.window.document.webkitFullscreenElement||n.window.document.msFullscreenElement)===this._container!==this._fullscreen&&(this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("mapboxgl-ctrl-shrink"),this._fullscreenButton.classList.toggle("mapboxgl-ctrl-fullscreen"),this._updateTitle())},Ka.prototype._onClickFullscreen=function(){this._isFullscreen()?n.window.document.exitFullscreen?n.window.document.exitFullscreen():n.window.document.mozCancelFullScreen?n.window.document.mozCancelFullScreen():n.window.document.msExitFullscreen?n.window.document.msExitFullscreen():n.window.document.webkitCancelFullScreen&&n.window.document.webkitCancelFullScreen():this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen&&this._container.webkitRequestFullscreen()};var Yl={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px"},cc=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", "),$c=function(c){function d(l){c.call(this),this.options=n.extend(Object.create(Yl),l),n.bindAll(["_update","_onClose","remove","_onMouseMove","_onMouseUp","_onDrag"],this)}return c&&(d.__proto__=c),(d.prototype=Object.create(c&&c.prototype)).constructor=d,d.prototype.addTo=function(l){return this._map&&this.remove(),this._map=l,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")):this._map.on("move",this._update),this.fire(new n.Event("open")),this},d.prototype.isOpen=function(){return!!this._map},d.prototype.remove=function(){return this._content&&m.remove(this._content),this._container&&(m.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),delete this._map),this.fire(new n.Event("close")),this},d.prototype.getLngLat=function(){return this._lngLat},d.prototype.setLngLat=function(l){return this._lngLat=n.LngLat.convert(l),this._pos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.remove("mapboxgl-track-pointer")),this},d.prototype.trackPointer=function(){return this._trackPointer=!0,this._pos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("mapboxgl-popup-track-pointer"),this._map._canvasContainer.classList.add("mapboxgl-track-pointer")),this},d.prototype.getElement=function(){return this._container},d.prototype.setText=function(l){return this.setDOMContent(n.window.document.createTextNode(l))},d.prototype.setHTML=function(l){var h,E=n.window.document.createDocumentFragment(),A=n.window.document.createElement("body");for(A.innerHTML=l;h=A.firstChild;)E.appendChild(h);return this.setDOMContent(E)},d.prototype.getMaxWidth=function(){return this._container&&this._container.style.maxWidth},d.prototype.setMaxWidth=function(l){return this.options.maxWidth=l,this._update(),this},d.prototype.setDOMContent=function(l){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=m.create("div","mapboxgl-popup-content",this._container);return this._content.appendChild(l),this._createCloseButton(),this._update(),this._focusFirstElement(),this},d.prototype.addClassName=function(l){this._container&&this._container.classList.add(l)},d.prototype.removeClassName=function(l){this._container&&this._container.classList.remove(l)},d.prototype.setOffset=function(l){return this.options.offset=l,this._update(),this},d.prototype.toggleClassName=function(l){if(this._container)return this._container.classList.toggle(l)},d.prototype._createCloseButton=function(){this.options.closeButton&&(this._closeButton=m.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.setAttribute("aria-label","Close popup"),this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))},d.prototype._onMouseUp=function(l){this._update(l.point)},d.prototype._onMouseMove=function(l){this._update(l.point)},d.prototype._onDrag=function(l){this._update(l.point)},d.prototype._update=function(l){var h=this;if(this._map&&(this._lngLat||this._trackPointer)&&this._content&&(this._container||(this._container=m.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=m.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className&&this.options.className.split(" ").forEach(function(te){return h._container.classList.add(te)}),this._trackPointer&&this._container.classList.add("mapboxgl-popup-track-pointer")),this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._map.transform.renderWorldCopies&&!this._trackPointer&&(this._lngLat=Rp(this._lngLat,this._pos,this._map.transform)),!this._trackPointer||l)){var E=this._pos=this._trackPointer&&l?l:this._map.project(this._lngLat),A=this.options.anchor,T=function te(ie){if(ie){if(typeof ie=="number"){var xe=Math.round(Math.sqrt(.5*Math.pow(ie,2)));return{center:new n.Point(0,0),top:new n.Point(0,ie),"top-left":new n.Point(xe,xe),"top-right":new n.Point(-xe,xe),bottom:new n.Point(0,-ie),"bottom-left":new n.Point(xe,-xe),"bottom-right":new n.Point(-xe,-xe),left:new n.Point(ie,0),right:new n.Point(-ie,0)}}if(ie instanceof n.Point||Array.isArray(ie)){var me=n.Point.convert(ie);return{center:me,top:me,"top-left":me,"top-right":me,bottom:me,"bottom-left":me,"bottom-right":me,left:me,right:me}}return{center:n.Point.convert(ie.center||[0,0]),top:n.Point.convert(ie.top||[0,0]),"top-left":n.Point.convert(ie["top-left"]||[0,0]),"top-right":n.Point.convert(ie["top-right"]||[0,0]),bottom:n.Point.convert(ie.bottom||[0,0]),"bottom-left":n.Point.convert(ie["bottom-left"]||[0,0]),"bottom-right":n.Point.convert(ie["bottom-right"]||[0,0]),left:n.Point.convert(ie.left||[0,0]),right:n.Point.convert(ie.right||[0,0])}}return te(new n.Point(0,0))}(this.options.offset);if(!A){var w,D=this._container.offsetWidth,H=this._container.offsetHeight;w=E.y+T.bottom.y<H?["top"]:E.y>this._map.transform.height-H?["bottom"]:[],E.x<D/2?w.push("left"):E.x>this._map.transform.width-D/2&&w.push("right"),A=w.length===0?"bottom":w.join("-")}var Q=E.add(T[A]).round();m.setTransform(this._container,Ts[A]+" translate("+Q.x+"px,"+Q.y+"px)"),Zc(this._container,A,"popup")}},d.prototype._focusFirstElement=function(){if(this.options.focusAfterOpen&&this._container){var l=this._container.querySelector(cc);l&&l.focus()}},d.prototype._onClose=function(){this.remove()},d}(n.Evented),Kc={version:n.version,supported:f,setRTLTextPlugin:n.setRTLTextPlugin,getRTLTextPluginStatus:n.getRTLTextPluginStatus,Map:Xl,NavigationControl:tu,GeolocateControl:Zl,AttributionControl:Wn,ScaleControl:cs,FullscreenControl:Ka,Popup:$c,Marker:pc,Style:Pa,LngLat:n.LngLat,LngLatBounds:n.LngLatBounds,Point:n.Point,MercatorCoordinate:n.MercatorCoordinate,Evented:n.Evented,config:n.config,prewarm:function(){Et().acquire(gt)},clearPrewarmedResources:function(){var c=Sr;c&&(c.isPreloaded()&&c.numActive()===1?(c.release(gt),Sr=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},get accessToken(){return n.config.ACCESS_TOKEN},set accessToken(c){n.config.ACCESS_TOKEN=c},get baseApiUrl(){return n.config.API_URL},set baseApiUrl(c){n.config.API_URL=c},get workerCount(){return Bt.workerCount},set workerCount(c){Bt.workerCount=c},get maxParallelImageRequests(){return n.config.MAX_PARALLEL_IMAGE_REQUESTS},set maxParallelImageRequests(c){n.config.MAX_PARALLEL_IMAGE_REQUESTS=c},clearStorage:function(c){n.clearTileCache(c)},workerUrl:""};return Kc}),s})}(Ch)),Ch.exports}var uD=sD();const Wd=mp(uD),pD=["id","attributionControl","style","token","rotation","mapInstance"];function cD(e,t){var r=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,i=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(r||i)&&(t||(t=document),!!t)){var s=t.head||t.getElementsByTagName("head")[0];if(!s){s=t.createElement("head");var p=t.body||t.getElementsByTagName("body")[0];p?p.parentNode.insertBefore(s,p):t.documentElement.appendChild(s)}var n=t.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),s.appendChild(n),n}}cD(`.mapboxgl-map{font:12px/20px Helvetica Neue,Arial,Helvetica,sans-serif;overflow:hidden;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mapboxgl-canvas{position:absolute;left:0;top:0}.mapboxgl-map:-webkit-full-screen{width:100%;height:100%}.mapboxgl-canary{background-color:salmon}.mapboxgl-canvas-container.mapboxgl-interactive,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass{cursor:grab;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-canvas-container.mapboxgl-interactive.mapboxgl-track-pointer{cursor:pointer}.mapboxgl-canvas-container.mapboxgl-interactive:active,.mapboxgl-ctrl-group button.mapboxgl-ctrl-compass:active{cursor:grabbing}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate .mapboxgl-canvas{touch-action:pan-x pan-y}.mapboxgl-canvas-container.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:pinch-zoom}.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan,.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan .mapboxgl-canvas{touch-action:none}.mapboxgl-ctrl-bottom-left,.mapboxgl-ctrl-bottom-right,.mapboxgl-ctrl-top-left,.mapboxgl-ctrl-top-right{position:absolute;pointer-events:none;z-index:2}.mapboxgl-ctrl-top-left{top:0;left:0}.mapboxgl-ctrl-top-right{top:0;right:0}.mapboxgl-ctrl-bottom-left{bottom:0;left:0}.mapboxgl-ctrl-bottom-right{right:0;bottom:0}.mapboxgl-ctrl{clear:both;pointer-events:auto;-webkit-transform:translate(0);transform:translate(0)}.mapboxgl-ctrl-top-left .mapboxgl-ctrl{margin:10px 0 0 10px;float:left}.mapboxgl-ctrl-top-right .mapboxgl-ctrl{margin:10px 10px 0 0;float:right}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl{margin:0 0 10px 10px;float:left}.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl{margin:0 10px 10px 0;float:right}.mapboxgl-ctrl-group{border-radius:4px;background:#fff}.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px rgba(0,0,0,.1)}@media (-ms-high-contrast:active){.mapboxgl-ctrl-group:not(:empty){box-shadow:0 0 0 2px ButtonText}}.mapboxgl-ctrl-group button{width:29px;height:29px;display:block;padding:0;outline:none;border:0;box-sizing:border-box;background-color:transparent;cursor:pointer}.mapboxgl-ctrl-group button+button{border-top:1px solid #ddd}.mapboxgl-ctrl button .mapboxgl-ctrl-icon{display:block;width:100%;height:100%;background-repeat:no-repeat;background-position:50%}@media (-ms-high-contrast:active){.mapboxgl-ctrl-icon{background-color:transparent}.mapboxgl-ctrl-group button+button{border-top:1px solid ButtonText}}.mapboxgl-ctrl button::-moz-focus-inner{border:0;padding:0}.mapboxgl-ctrl-attrib-button:focus,.mapboxgl-ctrl-group button:focus{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl button:disabled{cursor:not-allowed}.mapboxgl-ctrl button:disabled .mapboxgl-ctrl-icon{opacity:.25}.mapboxgl-ctrl button:not(:disabled):hover{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-group button:focus:focus-visible{box-shadow:0 0 2px 2px #0096ff}.mapboxgl-ctrl-group button:focus:not(:focus-visible){box-shadow:none}.mapboxgl-ctrl-group button:focus:first-child{border-radius:4px 4px 0 0}.mapboxgl-ctrl-group button:focus:last-child{border-radius:0 0 4px 4px}.mapboxgl-ctrl-group button:focus:only-child{border-radius:inherit}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-out .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 13c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h9c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-9z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-zoom-in .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M14.5 8.5c-.75 0-1.5.75-1.5 1.5v3h-3c-.75 0-1.5.75-1.5 1.5S9.25 16 10 16h3v3c0 .75.75 1.5 1.5 1.5S16 19.75 16 19v-3h3c.75 0 1.5-.75 1.5-1.5S19.75 13 19 13h-3v-3c0-.75-.75-1.5-1.5-1.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-fullscreen .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M24 16v5.5c0 1.75-.75 2.5-2.5 2.5H16v-1l3-1.5-4-5.5 1-1 5.5 4 1.5-3h1zM6 16l1.5 3 5.5-4 1 1-4 5.5 3 1.5v1H7.5C5.75 24 5 23.25 5 21.5V16h1zm7-11v1l-3 1.5 4 5.5-1 1-5.5-4L6 13H5V7.5C5 5.75 5.75 5 7.5 5H13zm11 2.5c0-1.75-.75-2.5-2.5-2.5H16v1l3 1.5-4 5.5 1 1 5.5-4 1.5 3h1V7.5z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-shrink .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M18.5 16c-1.75 0-2.5.75-2.5 2.5V24h1l1.5-3 5.5 4 1-1-4-5.5 3-1.5v-1h-5.5zM13 18.5c0-1.75-.75-2.5-2.5-2.5H5v1l3 1.5L4 24l1 1 5.5-4 1.5 3h1v-5.5zm3-8c0 1.75.75 2.5 2.5 2.5H24v-1l-3-1.5L25 5l-1-1-5.5 4L17 5h-1v5.5zM10.5 13c1.75 0 2.5-.75 2.5-2.5V5h-1l-1.5 3L5 4 4 5l4 5.5L5 12v1h5.5z'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23999'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-compass .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 29 29' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.5 14l4-8 4 8h-8z'/%3E%3Cpath d='M10.5 16l4 8 4-8h-8z' fill='%23ccc'/%3E%3C/svg%3E")}}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23333'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23aaa'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-waiting .mapboxgl-ctrl-icon{-webkit-animation:mapboxgl-spin 2s linear infinite;animation:mapboxgl-spin 2s linear infinite}@media (-ms-high-contrast:active){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23fff'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23999'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-active-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e58978'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%2333b5e5'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate.mapboxgl-ctrl-geolocate-background-error .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23e54e33'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3C/svg%3E")}.mapboxgl-ctrl button.mapboxgl-ctrl-geolocate:disabled .mapboxgl-ctrl-icon{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='29' height='29' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill='%23666'%3E%3Cpath d='M10 4C9 4 9 5 9 5v.1A5 5 0 005.1 9H5s-1 0-1 1 1 1 1 1h.1A5 5 0 009 14.9v.1s0 1 1 1 1-1 1-1v-.1a5 5 0 003.9-3.9h.1s1 0 1-1-1-1-1-1h-.1A5 5 0 0011 5.1V5s0-1-1-1zm0 2.5a3.5 3.5 0 110 7 3.5 3.5 0 110-7z'/%3E%3Ccircle cx='10' cy='10' r='2'/%3E%3Cpath d='M14 5l1 1-9 9-1-1 9-9z' fill='red'/%3E%3C/svg%3E")}}@-webkit-keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes mapboxgl-spin{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}a.mapboxgl-ctrl-logo{width:88px;height:23px;margin:0 0 -4px -4px;display:block;background-repeat:no-repeat;cursor:pointer;overflow:hidden;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg opacity='.3' stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg opacity='.9' fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}a.mapboxgl-ctrl-logo.mapboxgl-compact{width:23px}@media (-ms-high-contrast:active){a.mapboxgl-ctrl-logo{background-color:transparent;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23000' stroke-width='3'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cg fill='%23fff'%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/g%3E%3C/svg%3E")}}@media (-ms-high-contrast:black-on-white){a.mapboxgl-ctrl-logo{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='88' height='23' viewBox='0 0 88 23' xmlns='http://www.w3.org/2000/svg' xmlns:xlink='http://www.w3.org/1999/xlink' fill-rule='evenodd'%3E%3Cdefs%3E%3Cpath id='a' d='M11.5 2.25c5.105 0 9.25 4.145 9.25 9.25s-4.145 9.25-9.25 9.25-9.25-4.145-9.25-9.25 4.145-9.25 9.25-9.25zM6.997 15.983c-.051-.338-.828-5.802 2.233-8.873a4.395 4.395 0 013.13-1.28c1.27 0 2.49.51 3.39 1.42.91.9 1.42 2.12 1.42 3.39 0 1.18-.449 2.301-1.28 3.13C12.72 16.93 7 16 7 16l-.003-.017zM15.3 10.5l-2 .8-.8 2-.8-2-2-.8 2-.8.8-2 .8 2 2 .8z'/%3E%3Cpath id='b' d='M50.63 8c.13 0 .23.1.23.23V9c.7-.76 1.7-1.18 2.73-1.18 2.17 0 3.95 1.85 3.95 4.17s-1.77 4.19-3.94 4.19c-1.04 0-2.03-.43-2.74-1.18v3.77c0 .13-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V8.23c0-.12.1-.23.23-.23h1.4zm-3.86.01c.01 0 .01 0 .01-.01.13 0 .22.1.22.22v7.55c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V15c-.7.76-1.69 1.19-2.73 1.19-2.17 0-3.94-1.87-3.94-4.19 0-2.32 1.77-4.19 3.94-4.19 1.03 0 2.02.43 2.73 1.18v-.75c0-.12.1-.23.23-.23h1.4zm26.375-.19a4.24 4.24 0 00-4.16 3.29c-.13.59-.13 1.19 0 1.77a4.233 4.233 0 004.17 3.3c2.35 0 4.26-1.87 4.26-4.19 0-2.32-1.9-4.17-4.27-4.17zM60.63 5c.13 0 .23.1.23.23v3.76c.7-.76 1.7-1.18 2.73-1.18 1.88 0 3.45 1.4 3.84 3.28.13.59.13 1.2 0 1.8-.39 1.88-1.96 3.29-3.84 3.29-1.03 0-2.02-.43-2.73-1.18v.77c0 .12-.1.23-.23.23h-1.4c-.13 0-.23-.1-.23-.23V5.23c0-.12.1-.23.23-.23h1.4zm-34 11h-1.4c-.13 0-.23-.11-.23-.23V8.22c.01-.13.1-.22.23-.22h1.4c.13 0 .22.11.23.22v.68c.5-.68 1.3-1.09 2.16-1.1h.03c1.09 0 2.09.6 2.6 1.55.45-.95 1.4-1.55 2.44-1.56 1.62 0 2.93 1.25 2.9 2.78l.03 5.2c0 .13-.1.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.8 0-1.46.7-1.59 1.62l.01 4.68c0 .13-.11.23-.23.23h-1.41c-.13 0-.23-.11-.23-.23v-4.59c0-.98-.74-1.71-1.62-1.71-.85 0-1.54.79-1.6 1.8v4.5c0 .13-.1.23-.23.23zm53.615 0h-1.61c-.04 0-.08-.01-.12-.03-.09-.06-.13-.19-.06-.28l2.43-3.71-2.39-3.65a.213.213 0 01-.03-.12c0-.12.09-.21.21-.21h1.61c.13 0 .24.06.3.17l1.41 2.37 1.4-2.37a.34.34 0 01.3-.17h1.6c.04 0 .08.01.12.03.09.06.13.19.06.28l-2.37 3.65 2.43 3.7c0 .05.01.09.01.13 0 .12-.09.21-.21.21h-1.61c-.13 0-.24-.06-.3-.17l-1.44-2.42-1.44 2.42a.34.34 0 01-.3.17zm-7.12-1.49c-1.33 0-2.42-1.12-2.42-2.51 0-1.39 1.08-2.52 2.42-2.52 1.33 0 2.42 1.12 2.42 2.51 0 1.39-1.08 2.51-2.42 2.52zm-19.865 0c-1.32 0-2.39-1.11-2.42-2.48v-.07c.02-1.38 1.09-2.49 2.4-2.49 1.32 0 2.41 1.12 2.41 2.51 0 1.39-1.07 2.52-2.39 2.53zm-8.11-2.48c-.01 1.37-1.09 2.47-2.41 2.47s-2.42-1.12-2.42-2.51c0-1.39 1.08-2.52 2.4-2.52 1.33 0 2.39 1.11 2.41 2.48l.02.08zm18.12 2.47c-1.32 0-2.39-1.11-2.41-2.48v-.06c.02-1.38 1.09-2.48 2.41-2.48s2.42 1.12 2.42 2.51c0 1.39-1.09 2.51-2.42 2.51z'/%3E%3C/defs%3E%3Cmask id='c'%3E%3Crect width='100%25' height='100%25' fill='%23fff'/%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/mask%3E%3Cg stroke='%23fff' stroke-width='3' fill='%23fff'%3E%3Ccircle mask='url(%23c)' cx='11.5' cy='11.5' r='9.25'/%3E%3Cuse xlink:href='%23b' mask='url(%23c)'/%3E%3C/g%3E%3Cuse xlink:href='%23a'/%3E%3Cuse xlink:href='%23b'/%3E%3C/svg%3E")}}.mapboxgl-ctrl.mapboxgl-ctrl-attrib{padding:0 5px;background-color:hsla(0,0%,100%,.5);margin:0}@media screen{.mapboxgl-ctrl-attrib.mapboxgl-compact{min-height:20px;padding:2px 24px 2px 0;margin:10px;position:relative;background-color:#fff;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 28px 2px 8px;visibility:visible}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show,.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact-show{padding:2px 8px 2px 28px;border-radius:12px}.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-inner{display:none}.mapboxgl-ctrl-attrib-button{display:none;cursor:pointer;position:absolute;background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E");background-color:hsla(0,0%,100%,.5);width:24px;height:24px;box-sizing:border-box;border-radius:12px;outline:none;top:0;right:0;border:0}.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl-attrib-button,.mapboxgl-ctrl-top-left .mapboxgl-ctrl-attrib-button{left:0}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-inner,.mapboxgl-ctrl-attrib.mapboxgl-compact .mapboxgl-ctrl-attrib-button{display:block}.mapboxgl-ctrl-attrib.mapboxgl-compact-show .mapboxgl-ctrl-attrib-button{background-color:rgba(0,0,0,.05)}.mapboxgl-ctrl-bottom-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;right:0}.mapboxgl-ctrl-top-right>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;right:0}.mapboxgl-ctrl-top-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{top:0;left:0}.mapboxgl-ctrl-bottom-left>.mapboxgl-ctrl-attrib.mapboxgl-compact:after{bottom:0;left:0}}@media screen and (-ms-high-contrast:active){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' fill='%23fff'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}@media screen and (-ms-high-contrast:black-on-white){.mapboxgl-ctrl-attrib.mapboxgl-compact:after{background-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' viewBox='0 0 20 20' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd'%3E%3Cpath d='M4 10a6 6 0 1012 0 6 6 0 10-12 0m5-3a1 1 0 102 0 1 1 0 10-2 0m0 3a1 1 0 112 0v3a1 1 0 11-2 0'/%3E%3C/svg%3E")}}.mapboxgl-ctrl-attrib a{color:rgba(0,0,0,.75);text-decoration:none}.mapboxgl-ctrl-attrib a:hover{color:inherit;text-decoration:underline}.mapboxgl-ctrl-attrib .mapbox-improve-map{font-weight:700;margin-left:2px}.mapboxgl-attrib-empty{display:none}.mapboxgl-ctrl-scale{background-color:hsla(0,0%,100%,.75);font-size:10px;border:2px solid #333;border-top:#333;padding:0 5px;color:#333;box-sizing:border-box}.mapboxgl-popup{position:absolute;top:0;left:0;display:flex;will-change:transform;pointer-events:none}.mapboxgl-popup-anchor-top,.mapboxgl-popup-anchor-top-left,.mapboxgl-popup-anchor-top-right{flex-direction:column}.mapboxgl-popup-anchor-bottom,.mapboxgl-popup-anchor-bottom-left,.mapboxgl-popup-anchor-bottom-right{flex-direction:column-reverse}.mapboxgl-popup-anchor-left{flex-direction:row}.mapboxgl-popup-anchor-right{flex-direction:row-reverse}.mapboxgl-popup-tip{width:0;height:0;border:10px solid transparent;z-index:1}.mapboxgl-popup-anchor-top .mapboxgl-popup-tip{align-self:center;border-top:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip{align-self:flex-start;border-top:none;border-left:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip{align-self:flex-end;border-top:none;border-right:none;border-bottom-color:#fff}.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip{align-self:center;border-bottom:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip{align-self:flex-start;border-bottom:none;border-left:none;border-top-color:#fff}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip{align-self:flex-end;border-bottom:none;border-right:none;border-top-color:#fff}.mapboxgl-popup-anchor-left .mapboxgl-popup-tip{align-self:center;border-left:none;border-right-color:#fff}.mapboxgl-popup-anchor-right .mapboxgl-popup-tip{align-self:center;border-right:none;border-left-color:#fff}.mapboxgl-popup-close-button{position:absolute;right:0;top:0;border:0;border-radius:0 3px 0 0;cursor:pointer;background-color:transparent}.mapboxgl-popup-close-button:hover{background-color:rgba(0,0,0,.05)}.mapboxgl-popup-content{position:relative;background:#fff;border-radius:3px;box-shadow:0 1px 2px rgba(0,0,0,.1);padding:10px 10px 15px;pointer-events:auto}.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content{border-top-left-radius:0}.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content{border-top-right-radius:0}.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content{border-bottom-left-radius:0}.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content{border-bottom-right-radius:0}.mapboxgl-popup-track-pointer{display:none}.mapboxgl-popup-track-pointer *{pointer-events:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.mapboxgl-map:hover .mapboxgl-popup-track-pointer{display:flex}.mapboxgl-map:active .mapboxgl-popup-track-pointer{display:none}.mapboxgl-marker{position:absolute;top:0;left:0;will-change:transform}.mapboxgl-user-location-dot,.mapboxgl-user-location-dot:before{background-color:#1da1f2;width:15px;height:15px;border-radius:50%}.mapboxgl-user-location-dot:before{content:"";position:absolute;-webkit-animation:mapboxgl-user-location-dot-pulse 2s infinite;animation:mapboxgl-user-location-dot-pulse 2s infinite}.mapboxgl-user-location-dot:after{border-radius:50%;border:2px solid #fff;content:"";height:19px;left:-2px;position:absolute;top:-2px;width:19px;box-sizing:border-box;box-shadow:0 0 3px rgba(0,0,0,.35)}@-webkit-keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);opacity:0}to{-webkit-transform:scale(1);opacity:0}}@keyframes mapboxgl-user-location-dot-pulse{0%{-webkit-transform:scale(1);transform:scale(1);opacity:1}70%{-webkit-transform:scale(3);transform:scale(3);opacity:0}to{-webkit-transform:scale(1);transform:scale(1);opacity:0}}.mapboxgl-user-location-dot-stale{background-color:#aaa}.mapboxgl-user-location-dot-stale:after{display:none}.mapboxgl-user-location-accuracy-circle{background-color:rgba(29,161,242,.2);width:1px;height:1px;border-radius:100%}.mapboxgl-crosshair,.mapboxgl-crosshair .mapboxgl-interactive,.mapboxgl-crosshair .mapboxgl-interactive:active{cursor:crosshair}.mapboxgl-boxzoom{position:absolute;top:0;left:0;width:0;height:0;background:#fff;border:2px dotted #202020;opacity:.5}@media print{.mapbox-improve-map{display:none}}`);window.mapboxgl=Wd;let lD=0;const cg="101MlGsZ2AmmA&access_token=pk.eyJ1IjoiZXhhbXBsZXMiLCJhIjoiY2p0MG01MXRqMW45cjQzb2R6b2ptc3J4MSJ9.zA2W0IkI0c6KaAhJfk9bWg";class dD extends nD{constructor(...t){super(...t),G(this,"version","MAPBOX"),G(this,"viewport",void 0)}getType(){return"mapbox"}lngLatToCoord(t,r={x:0,y:0,z:0}){const{x:i,y:s}=this.lngLatToMercator(t,0);return[i-r.x,s-r.y]}lngLatToMercator(t,r){const{x:i=0,y:s=0,z:p=0}=window.mapboxgl.MercatorCoordinate.fromLngLat(t,r);return{x:i,y:s,z:p}}getModelMatrix(t,r,i,s=[1,1,1],p={x:0,y:0,z:0}){const n=window.mapboxgl.MercatorCoordinate.fromLngLat(t,r),f=n.meterInMercatorCoordinateUnits(),m=Pf();return Bh(m,m,lp(n.x-p.x,n.y-p.y,n.z||0-p.z)),Uh(m,m,lp(f*s[0],-f*s[1],f*s[2])),o6(m,m,i[0]),$g(m,m,i[1]),Kg(m,m,i[2]),m}init(){var t=this;return Rt(function*(){const r=t.config,{id:i="map",attributionControl:s=!1,style:p="light",token:n=cg,rotation:f=0,mapInstance:m}=r,g=Zp(r,pD);t.viewport=new rD,!m&&!window.mapboxgl&&console.error(t.configService.getSceneWarninfo("SDK")),n===cg&&p!=="blank"&&!window.mapboxgl.accessToken&&!m&&console.warn(t.configService.getSceneWarninfo("MapToken")),!m&&!window.mapboxgl.accessToken&&(window.mapboxgl.accessToken=n),m?(t.map=m,t.$mapContainer=t.map.getContainer()):(t.$mapContainer=t.creatMapContainer(i),t.map=new window.mapboxgl.Map(wt({container:t.$mapContainer,style:t.getMapStyleValue(p),attributionControl:s,bearing:f},g))),t.map.on("load",()=>{t.handleCameraChanged()}),t.map.on("move",t.handleCameraChanged),t.handleCameraChanged()})()}destroy(){var t;(t=this.$mapContainer)===null||t===void 0||(t=t.parentNode)===null||t===void 0||t.removeChild(this.$mapContainer),this.eventEmitter.removeAllListeners(),this.map&&(this.map.remove(),this.$mapContainer=null)}emit(t,...r){this.eventEmitter.emit(t,...r)}once(t,...r){this.eventEmitter.once(t,...r)}getMapContainer(){return this.$mapContainer}getCanvasOverlays(){var t;return(t=this.getMapContainer())===null||t===void 0?void 0:t.querySelector(".mapboxgl-canvas-container")}meterToCoord(t,r){const i=new Wd.LngLat(t[0],t[1]),s=new Wd.LngLat(r[0],r[1]),p=i.distanceTo(s),n=Wd.MercatorCoordinate.fromLngLat({lng:t[0],lat:t[1]}),f=Wd.MercatorCoordinate.fromLngLat({lng:r[0],lat:r[1]}),{x:m,y:g}=n,{x,y:b}=f;return Math.sqrt(Math.pow(m-x,2)+Math.pow(g-b,2))*4194304*2/p}exportMap(t){const r=this.map.getCanvas();return t==="jpg"?r==null?void 0:r.toDataURL("image/jpeg"):r==null?void 0:r.toDataURL("image/png")}creatMapContainer(t){let r=t;typeof t=="string"&&(r=document.getElementById(t));const i=document.createElement("div");return i.style.cssText+=`
      position: absolute;
      top: 0;
      height: 100%;
      width: 100%;
    `,i.id="l7_mapbox_div"+lD++,r.appendChild(i),i}}function yD(e,t){var r=typeof my<"u"&&!!my&&typeof my.showToast=="function"&&my.isFRM!==!0,i=typeof wx<"u"&&wx!==null&&(typeof wx.request<"u"||typeof wx.miniProgram<"u");if(!(r||i)&&(t||(t=document),!!t)){var s=t.head||t.getElementsByTagName("head")[0];if(!s){s=t.createElement("head");var p=t.body||t.getElementsByTagName("body")[0];p?p.parentNode.insertBefore(s,p):t.documentElement.appendChild(s)}var n=t.createElement("style");return n.type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(t.createTextNode(e)),s.appendChild(n),n}}yD(`.mapboxgl-ctrl-logo {
  display: none !important;
}
`);class hD extends kN{getServiceConstructor(){return dD}}function Wu(e){return e==null}var fD=function(e,t,r){return e<t?t:e>r?r:e};function y0(e){return typeof e=="number"}var a2={exports:{}},lg;function mD(){return lg||(lg=1,function(e){var t=Object.prototype.hasOwnProperty,r="~";function i(){}Object.create&&(i.prototype=Object.create(null),new i().__proto__||(r=!1));function s(m,g,x){this.fn=m,this.context=g,this.once=x||!1}function p(m,g,x,b,F){if(typeof x!="function")throw new TypeError("The listener must be a function");var R=new s(x,b||m,F),I=r?r+g:g;return m._events[I]?m._events[I].fn?m._events[I]=[m._events[I],R]:m._events[I].push(R):(m._events[I]=R,m._eventsCount++),m}function n(m,g){--m._eventsCount===0?m._events=new i:delete m._events[g]}function f(){this._events=new i,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],x,b;if(this._eventsCount===0)return g;for(b in x=this._events)t.call(x,b)&&g.push(r?b.slice(1):b);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(x)):g},f.prototype.listeners=function(g){var x=r?r+g:g,b=this._events[x];if(!b)return[];if(b.fn)return[b.fn];for(var F=0,R=b.length,I=new Array(R);F<R;F++)I[F]=b[F].fn;return I},f.prototype.listenerCount=function(g){var x=r?r+g:g,b=this._events[x];return b?b.fn?1:b.length:0},f.prototype.emit=function(g,x,b,F,R,I){var O=r?r+g:g;if(!this._events[O])return!1;var U=this._events[O],Y=arguments.length,ee,oe;if(U.fn){switch(U.once&&this.removeListener(g,U.fn,void 0,!0),Y){case 1:return U.fn.call(U.context),!0;case 2:return U.fn.call(U.context,x),!0;case 3:return U.fn.call(U.context,x,b),!0;case 4:return U.fn.call(U.context,x,b,F),!0;case 5:return U.fn.call(U.context,x,b,F,R),!0;case 6:return U.fn.call(U.context,x,b,F,R,I),!0}for(oe=1,ee=new Array(Y-1);oe<Y;oe++)ee[oe-1]=arguments[oe];U.fn.apply(U.context,ee)}else{var Re=U.length,Ae;for(oe=0;oe<Re;oe++)switch(U[oe].once&&this.removeListener(g,U[oe].fn,void 0,!0),Y){case 1:U[oe].fn.call(U[oe].context);break;case 2:U[oe].fn.call(U[oe].context,x);break;case 3:U[oe].fn.call(U[oe].context,x,b);break;case 4:U[oe].fn.call(U[oe].context,x,b,F);break;default:if(!ee)for(Ae=1,ee=new Array(Y-1);Ae<Y;Ae++)ee[Ae-1]=arguments[Ae];U[oe].fn.apply(U[oe].context,ee)}}return!0},f.prototype.on=function(g,x,b){return p(this,g,x,b,!1)},f.prototype.once=function(g,x,b){return p(this,g,x,b,!0)},f.prototype.removeListener=function(g,x,b,F){var R=r?r+g:g;if(!this._events[R])return this;if(!x)return n(this,R),this;var I=this._events[R];if(I.fn)I.fn===x&&(!F||I.once)&&(!b||I.context===b)&&n(this,R);else{for(var O=0,U=[],Y=I.length;O<Y;O++)(I[O].fn!==x||F&&!I[O].once||b&&I[O].context!==b)&&U.push(I[O]);U.length?this._events[R]=U.length===1?U[0]:U:n(this,R)}return this},f.prototype.removeAllListeners=function(g){var x;return g?(x=r?r+g:g,this._events[x]&&n(this,x)):(this._events=new i,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=r,f.EventEmitter=f,e.exports=f}(a2)),a2.exports}var _D=mD();const _7=mp(_D);var Fe;(function(e){e[e.DEPTH_BUFFER_BIT=256]="DEPTH_BUFFER_BIT",e[e.STENCIL_BUFFER_BIT=1024]="STENCIL_BUFFER_BIT",e[e.COLOR_BUFFER_BIT=16384]="COLOR_BUFFER_BIT",e[e.POINTS=0]="POINTS",e[e.LINES=1]="LINES",e[e.LINE_LOOP=2]="LINE_LOOP",e[e.LINE_STRIP=3]="LINE_STRIP",e[e.TRIANGLES=4]="TRIANGLES",e[e.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",e[e.TRIANGLE_FAN=6]="TRIANGLE_FAN",e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.FUNC_ADD=32774]="FUNC_ADD",e[e.FUNC_SUBTRACT=32778]="FUNC_SUBTRACT",e[e.FUNC_REVERSE_SUBTRACT=32779]="FUNC_REVERSE_SUBTRACT",e[e.BLEND_EQUATION=32777]="BLEND_EQUATION",e[e.BLEND_EQUATION_RGB=32777]="BLEND_EQUATION_RGB",e[e.BLEND_EQUATION_ALPHA=34877]="BLEND_EQUATION_ALPHA",e[e.BLEND_DST_RGB=32968]="BLEND_DST_RGB",e[e.BLEND_SRC_RGB=32969]="BLEND_SRC_RGB",e[e.BLEND_DST_ALPHA=32970]="BLEND_DST_ALPHA",e[e.BLEND_SRC_ALPHA=32971]="BLEND_SRC_ALPHA",e[e.BLEND_COLOR=32773]="BLEND_COLOR",e[e.ARRAY_BUFFER_BINDING=34964]="ARRAY_BUFFER_BINDING",e[e.ELEMENT_ARRAY_BUFFER_BINDING=34965]="ELEMENT_ARRAY_BUFFER_BINDING",e[e.LINE_WIDTH=2849]="LINE_WIDTH",e[e.ALIASED_POINT_SIZE_RANGE=33901]="ALIASED_POINT_SIZE_RANGE",e[e.ALIASED_LINE_WIDTH_RANGE=33902]="ALIASED_LINE_WIDTH_RANGE",e[e.CULL_FACE_MODE=2885]="CULL_FACE_MODE",e[e.FRONT_FACE=2886]="FRONT_FACE",e[e.DEPTH_RANGE=2928]="DEPTH_RANGE",e[e.DEPTH_WRITEMASK=2930]="DEPTH_WRITEMASK",e[e.DEPTH_CLEAR_VALUE=2931]="DEPTH_CLEAR_VALUE",e[e.DEPTH_FUNC=2932]="DEPTH_FUNC",e[e.STENCIL_CLEAR_VALUE=2961]="STENCIL_CLEAR_VALUE",e[e.STENCIL_FUNC=2962]="STENCIL_FUNC",e[e.STENCIL_FAIL=2964]="STENCIL_FAIL",e[e.STENCIL_PASS_DEPTH_FAIL=2965]="STENCIL_PASS_DEPTH_FAIL",e[e.STENCIL_PASS_DEPTH_PASS=2966]="STENCIL_PASS_DEPTH_PASS",e[e.STENCIL_REF=2967]="STENCIL_REF",e[e.STENCIL_VALUE_MASK=2963]="STENCIL_VALUE_MASK",e[e.STENCIL_WRITEMASK=2968]="STENCIL_WRITEMASK",e[e.STENCIL_BACK_FUNC=34816]="STENCIL_BACK_FUNC",e[e.STENCIL_BACK_FAIL=34817]="STENCIL_BACK_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_FAIL=34818]="STENCIL_BACK_PASS_DEPTH_FAIL",e[e.STENCIL_BACK_PASS_DEPTH_PASS=34819]="STENCIL_BACK_PASS_DEPTH_PASS",e[e.STENCIL_BACK_REF=36003]="STENCIL_BACK_REF",e[e.STENCIL_BACK_VALUE_MASK=36004]="STENCIL_BACK_VALUE_MASK",e[e.STENCIL_BACK_WRITEMASK=36005]="STENCIL_BACK_WRITEMASK",e[e.VIEWPORT=2978]="VIEWPORT",e[e.SCISSOR_BOX=3088]="SCISSOR_BOX",e[e.COLOR_CLEAR_VALUE=3106]="COLOR_CLEAR_VALUE",e[e.COLOR_WRITEMASK=3107]="COLOR_WRITEMASK",e[e.UNPACK_ALIGNMENT=3317]="UNPACK_ALIGNMENT",e[e.PACK_ALIGNMENT=3333]="PACK_ALIGNMENT",e[e.MAX_TEXTURE_SIZE=3379]="MAX_TEXTURE_SIZE",e[e.MAX_VIEWPORT_DIMS=3386]="MAX_VIEWPORT_DIMS",e[e.SUBPIXEL_BITS=3408]="SUBPIXEL_BITS",e[e.RED_BITS=3410]="RED_BITS",e[e.GREEN_BITS=3411]="GREEN_BITS",e[e.BLUE_BITS=3412]="BLUE_BITS",e[e.ALPHA_BITS=3413]="ALPHA_BITS",e[e.DEPTH_BITS=3414]="DEPTH_BITS",e[e.STENCIL_BITS=3415]="STENCIL_BITS",e[e.POLYGON_OFFSET_UNITS=10752]="POLYGON_OFFSET_UNITS",e[e.POLYGON_OFFSET_FACTOR=32824]="POLYGON_OFFSET_FACTOR",e[e.TEXTURE_BINDING_2D=32873]="TEXTURE_BINDING_2D",e[e.SAMPLE_BUFFERS=32936]="SAMPLE_BUFFERS",e[e.SAMPLES=32937]="SAMPLES",e[e.SAMPLE_COVERAGE_VALUE=32938]="SAMPLE_COVERAGE_VALUE",e[e.SAMPLE_COVERAGE_INVERT=32939]="SAMPLE_COVERAGE_INVERT",e[e.COMPRESSED_TEXTURE_FORMATS=34467]="COMPRESSED_TEXTURE_FORMATS",e[e.VENDOR=7936]="VENDOR",e[e.RENDERER=7937]="RENDERER",e[e.VERSION=7938]="VERSION",e[e.IMPLEMENTATION_COLOR_READ_TYPE=35738]="IMPLEMENTATION_COLOR_READ_TYPE",e[e.IMPLEMENTATION_COLOR_READ_FORMAT=35739]="IMPLEMENTATION_COLOR_READ_FORMAT",e[e.BROWSER_DEFAULT_WEBGL=37444]="BROWSER_DEFAULT_WEBGL",e[e.STATIC_DRAW=35044]="STATIC_DRAW",e[e.STREAM_DRAW=35040]="STREAM_DRAW",e[e.DYNAMIC_DRAW=35048]="DYNAMIC_DRAW",e[e.ARRAY_BUFFER=34962]="ARRAY_BUFFER",e[e.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",e[e.BUFFER_SIZE=34660]="BUFFER_SIZE",e[e.BUFFER_USAGE=34661]="BUFFER_USAGE",e[e.CURRENT_VERTEX_ATTRIB=34342]="CURRENT_VERTEX_ATTRIB",e[e.VERTEX_ATTRIB_ARRAY_ENABLED=34338]="VERTEX_ATTRIB_ARRAY_ENABLED",e[e.VERTEX_ATTRIB_ARRAY_SIZE=34339]="VERTEX_ATTRIB_ARRAY_SIZE",e[e.VERTEX_ATTRIB_ARRAY_STRIDE=34340]="VERTEX_ATTRIB_ARRAY_STRIDE",e[e.VERTEX_ATTRIB_ARRAY_TYPE=34341]="VERTEX_ATTRIB_ARRAY_TYPE",e[e.VERTEX_ATTRIB_ARRAY_NORMALIZED=34922]="VERTEX_ATTRIB_ARRAY_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_POINTER=34373]="VERTEX_ATTRIB_ARRAY_POINTER",e[e.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING=34975]="VERTEX_ATTRIB_ARRAY_BUFFER_BINDING",e[e.CULL_FACE=2884]="CULL_FACE",e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK",e[e.BLEND=3042]="BLEND",e[e.DEPTH_TEST=2929]="DEPTH_TEST",e[e.DITHER=3024]="DITHER",e[e.POLYGON_OFFSET_FILL=32823]="POLYGON_OFFSET_FILL",e[e.SAMPLE_ALPHA_TO_COVERAGE=32926]="SAMPLE_ALPHA_TO_COVERAGE",e[e.SAMPLE_COVERAGE=32928]="SAMPLE_COVERAGE",e[e.SCISSOR_TEST=3089]="SCISSOR_TEST",e[e.STENCIL_TEST=2960]="STENCIL_TEST",e[e.NO_ERROR=0]="NO_ERROR",e[e.INVALID_ENUM=1280]="INVALID_ENUM",e[e.INVALID_VALUE=1281]="INVALID_VALUE",e[e.INVALID_OPERATION=1282]="INVALID_OPERATION",e[e.OUT_OF_MEMORY=1285]="OUT_OF_MEMORY",e[e.CONTEXT_LOST_WEBGL=37442]="CONTEXT_LOST_WEBGL",e[e.CW=2304]="CW",e[e.CCW=2305]="CCW",e[e.DONT_CARE=4352]="DONT_CARE",e[e.FASTEST=4353]="FASTEST",e[e.NICEST=4354]="NICEST",e[e.GENERATE_MIPMAP_HINT=33170]="GENERATE_MIPMAP_HINT",e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.DOUBLE=5130]="DOUBLE",e[e.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",e[e.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",e[e.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",e[e.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",e[e.FRAGMENT_SHADER=35632]="FRAGMENT_SHADER",e[e.VERTEX_SHADER=35633]="VERTEX_SHADER",e[e.COMPILE_STATUS=35713]="COMPILE_STATUS",e[e.DELETE_STATUS=35712]="DELETE_STATUS",e[e.LINK_STATUS=35714]="LINK_STATUS",e[e.VALIDATE_STATUS=35715]="VALIDATE_STATUS",e[e.ATTACHED_SHADERS=35717]="ATTACHED_SHADERS",e[e.ACTIVE_ATTRIBUTES=35721]="ACTIVE_ATTRIBUTES",e[e.ACTIVE_UNIFORMS=35718]="ACTIVE_UNIFORMS",e[e.MAX_VERTEX_ATTRIBS=34921]="MAX_VERTEX_ATTRIBS",e[e.MAX_VERTEX_UNIFORM_VECTORS=36347]="MAX_VERTEX_UNIFORM_VECTORS",e[e.MAX_VARYING_VECTORS=36348]="MAX_VARYING_VECTORS",e[e.MAX_COMBINED_TEXTURE_IMAGE_UNITS=35661]="MAX_COMBINED_TEXTURE_IMAGE_UNITS",e[e.MAX_VERTEX_TEXTURE_IMAGE_UNITS=35660]="MAX_VERTEX_TEXTURE_IMAGE_UNITS",e[e.MAX_TEXTURE_IMAGE_UNITS=34930]="MAX_TEXTURE_IMAGE_UNITS",e[e.MAX_FRAGMENT_UNIFORM_VECTORS=36349]="MAX_FRAGMENT_UNIFORM_VECTORS",e[e.SHADER_TYPE=35663]="SHADER_TYPE",e[e.SHADING_LANGUAGE_VERSION=35724]="SHADING_LANGUAGE_VERSION",e[e.CURRENT_PROGRAM=35725]="CURRENT_PROGRAM",e[e.NEVER=512]="NEVER",e[e.ALWAYS=519]="ALWAYS",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.GEQUAL=518]="GEQUAL",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.KEEP=7680]="KEEP",e[e.REPLACE=7681]="REPLACE",e[e.INCR=7682]="INCR",e[e.DECR=7683]="DECR",e[e.INVERT=5386]="INVERT",e[e.INCR_WRAP=34055]="INCR_WRAP",e[e.DECR_WRAP=34056]="DECR_WRAP",e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9729]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR",e[e.TEXTURE_MAG_FILTER=10240]="TEXTURE_MAG_FILTER",e[e.TEXTURE_MIN_FILTER=10241]="TEXTURE_MIN_FILTER",e[e.TEXTURE_WRAP_S=10242]="TEXTURE_WRAP_S",e[e.TEXTURE_WRAP_T=10243]="TEXTURE_WRAP_T",e[e.TEXTURE_2D=3553]="TEXTURE_2D",e[e.TEXTURE=5890]="TEXTURE",e[e.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",e[e.TEXTURE_BINDING_CUBE_MAP=34068]="TEXTURE_BINDING_CUBE_MAP",e[e.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",e[e.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",e[e.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",e[e.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",e[e.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",e[e.MAX_CUBE_MAP_TEXTURE_SIZE=34076]="MAX_CUBE_MAP_TEXTURE_SIZE",e[e.TEXTURE0=33984]="TEXTURE0",e[e.ACTIVE_TEXTURE=34016]="ACTIVE_TEXTURE",e[e.REPEAT=10497]="REPEAT",e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.TEXTURE_WIDTH=4096]="TEXTURE_WIDTH",e[e.TEXTURE_HEIGHT=4097]="TEXTURE_HEIGHT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D",e[e.SAMPLER_CUBE=35680]="SAMPLER_CUBE",e[e.LOW_FLOAT=36336]="LOW_FLOAT",e[e.MEDIUM_FLOAT=36337]="MEDIUM_FLOAT",e[e.HIGH_FLOAT=36338]="HIGH_FLOAT",e[e.LOW_INT=36339]="LOW_INT",e[e.MEDIUM_INT=36340]="MEDIUM_INT",e[e.HIGH_INT=36341]="HIGH_INT",e[e.FRAMEBUFFER=36160]="FRAMEBUFFER",e[e.RENDERBUFFER=36161]="RENDERBUFFER",e[e.RGBA4=32854]="RGBA4",e[e.RGB5_A1=32855]="RGB5_A1",e[e.RGB565=36194]="RGB565",e[e.DEPTH_COMPONENT16=33189]="DEPTH_COMPONENT16",e[e.STENCIL_INDEX=6401]="STENCIL_INDEX",e[e.STENCIL_INDEX8=36168]="STENCIL_INDEX8",e[e.DEPTH_STENCIL=34041]="DEPTH_STENCIL",e[e.RENDERBUFFER_WIDTH=36162]="RENDERBUFFER_WIDTH",e[e.RENDERBUFFER_HEIGHT=36163]="RENDERBUFFER_HEIGHT",e[e.RENDERBUFFER_INTERNAL_FORMAT=36164]="RENDERBUFFER_INTERNAL_FORMAT",e[e.RENDERBUFFER_RED_SIZE=36176]="RENDERBUFFER_RED_SIZE",e[e.RENDERBUFFER_GREEN_SIZE=36177]="RENDERBUFFER_GREEN_SIZE",e[e.RENDERBUFFER_BLUE_SIZE=36178]="RENDERBUFFER_BLUE_SIZE",e[e.RENDERBUFFER_ALPHA_SIZE=36179]="RENDERBUFFER_ALPHA_SIZE",e[e.RENDERBUFFER_DEPTH_SIZE=36180]="RENDERBUFFER_DEPTH_SIZE",e[e.RENDERBUFFER_STENCIL_SIZE=36181]="RENDERBUFFER_STENCIL_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE=36048]="FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME=36049]="FRAMEBUFFER_ATTACHMENT_OBJECT_NAME",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL=36050]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE=36051]="FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE",e[e.COLOR_ATTACHMENT0=36064]="COLOR_ATTACHMENT0",e[e.DEPTH_ATTACHMENT=36096]="DEPTH_ATTACHMENT",e[e.STENCIL_ATTACHMENT=36128]="STENCIL_ATTACHMENT",e[e.DEPTH_STENCIL_ATTACHMENT=33306]="DEPTH_STENCIL_ATTACHMENT",e[e.NONE=0]="NONE",e[e.FRAMEBUFFER_COMPLETE=36053]="FRAMEBUFFER_COMPLETE",e[e.FRAMEBUFFER_INCOMPLETE_ATTACHMENT=36054]="FRAMEBUFFER_INCOMPLETE_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT=36055]="FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT",e[e.FRAMEBUFFER_INCOMPLETE_DIMENSIONS=36057]="FRAMEBUFFER_INCOMPLETE_DIMENSIONS",e[e.FRAMEBUFFER_UNSUPPORTED=36061]="FRAMEBUFFER_UNSUPPORTED",e[e.FRAMEBUFFER_BINDING=36006]="FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_BINDING=36007]="RENDERBUFFER_BINDING",e[e.READ_FRAMEBUFFER=36008]="READ_FRAMEBUFFER",e[e.DRAW_FRAMEBUFFER=36009]="DRAW_FRAMEBUFFER",e[e.MAX_RENDERBUFFER_SIZE=34024]="MAX_RENDERBUFFER_SIZE",e[e.INVALID_FRAMEBUFFER_OPERATION=1286]="INVALID_FRAMEBUFFER_OPERATION",e[e.UNPACK_FLIP_Y_WEBGL=37440]="UNPACK_FLIP_Y_WEBGL",e[e.UNPACK_PREMULTIPLY_ALPHA_WEBGL=37441]="UNPACK_PREMULTIPLY_ALPHA_WEBGL",e[e.UNPACK_COLORSPACE_CONVERSION_WEBGL=37443]="UNPACK_COLORSPACE_CONVERSION_WEBGL",e[e.READ_BUFFER=3074]="READ_BUFFER",e[e.UNPACK_ROW_LENGTH=3314]="UNPACK_ROW_LENGTH",e[e.UNPACK_SKIP_ROWS=3315]="UNPACK_SKIP_ROWS",e[e.UNPACK_SKIP_PIXELS=3316]="UNPACK_SKIP_PIXELS",e[e.PACK_ROW_LENGTH=3330]="PACK_ROW_LENGTH",e[e.PACK_SKIP_ROWS=3331]="PACK_SKIP_ROWS",e[e.PACK_SKIP_PIXELS=3332]="PACK_SKIP_PIXELS",e[e.TEXTURE_BINDING_3D=32874]="TEXTURE_BINDING_3D",e[e.UNPACK_SKIP_IMAGES=32877]="UNPACK_SKIP_IMAGES",e[e.UNPACK_IMAGE_HEIGHT=32878]="UNPACK_IMAGE_HEIGHT",e[e.MAX_3D_TEXTURE_SIZE=32883]="MAX_3D_TEXTURE_SIZE",e[e.MAX_ELEMENTS_VERTICES=33e3]="MAX_ELEMENTS_VERTICES",e[e.MAX_ELEMENTS_INDICES=33001]="MAX_ELEMENTS_INDICES",e[e.MAX_TEXTURE_LOD_BIAS=34045]="MAX_TEXTURE_LOD_BIAS",e[e.MAX_FRAGMENT_UNIFORM_COMPONENTS=35657]="MAX_FRAGMENT_UNIFORM_COMPONENTS",e[e.MAX_VERTEX_UNIFORM_COMPONENTS=35658]="MAX_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_ARRAY_TEXTURE_LAYERS=35071]="MAX_ARRAY_TEXTURE_LAYERS",e[e.MIN_PROGRAM_TEXEL_OFFSET=35076]="MIN_PROGRAM_TEXEL_OFFSET",e[e.MAX_PROGRAM_TEXEL_OFFSET=35077]="MAX_PROGRAM_TEXEL_OFFSET",e[e.MAX_VARYING_COMPONENTS=35659]="MAX_VARYING_COMPONENTS",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT",e[e.RASTERIZER_DISCARD=35977]="RASTERIZER_DISCARD",e[e.VERTEX_ARRAY_BINDING=34229]="VERTEX_ARRAY_BINDING",e[e.MAX_VERTEX_OUTPUT_COMPONENTS=37154]="MAX_VERTEX_OUTPUT_COMPONENTS",e[e.MAX_FRAGMENT_INPUT_COMPONENTS=37157]="MAX_FRAGMENT_INPUT_COMPONENTS",e[e.MAX_SERVER_WAIT_TIMEOUT=37137]="MAX_SERVER_WAIT_TIMEOUT",e[e.MAX_ELEMENT_INDEX=36203]="MAX_ELEMENT_INDEX",e[e.RED=6403]="RED",e[e.RGB8=32849]="RGB8",e[e.RGBA8=32856]="RGBA8",e[e.RGB10_A2=32857]="RGB10_A2",e[e.TEXTURE_3D=32879]="TEXTURE_3D",e[e.TEXTURE_WRAP_R=32882]="TEXTURE_WRAP_R",e[e.TEXTURE_MIN_LOD=33082]="TEXTURE_MIN_LOD",e[e.TEXTURE_MAX_LOD=33083]="TEXTURE_MAX_LOD",e[e.TEXTURE_BASE_LEVEL=33084]="TEXTURE_BASE_LEVEL",e[e.TEXTURE_MAX_LEVEL=33085]="TEXTURE_MAX_LEVEL",e[e.TEXTURE_COMPARE_MODE=34892]="TEXTURE_COMPARE_MODE",e[e.TEXTURE_COMPARE_FUNC=34893]="TEXTURE_COMPARE_FUNC",e[e.SRGB=35904]="SRGB",e[e.SRGB8=35905]="SRGB8",e[e.SRGB8_ALPHA8=35907]="SRGB8_ALPHA8",e[e.COMPARE_REF_TO_TEXTURE=34894]="COMPARE_REF_TO_TEXTURE",e[e.RGBA32F=34836]="RGBA32F",e[e.RGB32F=34837]="RGB32F",e[e.RGBA16F=34842]="RGBA16F",e[e.RGB16F=34843]="RGB16F",e[e.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",e[e.TEXTURE_BINDING_2D_ARRAY=35869]="TEXTURE_BINDING_2D_ARRAY",e[e.R11F_G11F_B10F=35898]="R11F_G11F_B10F",e[e.RGB9_E5=35901]="RGB9_E5",e[e.RGBA32UI=36208]="RGBA32UI",e[e.RGB32UI=36209]="RGB32UI",e[e.RGBA16UI=36214]="RGBA16UI",e[e.RGB16UI=36215]="RGB16UI",e[e.RGBA8UI=36220]="RGBA8UI",e[e.RGB8UI=36221]="RGB8UI",e[e.RGBA32I=36226]="RGBA32I",e[e.RGB32I=36227]="RGB32I",e[e.RGBA16I=36232]="RGBA16I",e[e.RGB16I=36233]="RGB16I",e[e.RGBA8I=36238]="RGBA8I",e[e.RGB8I=36239]="RGB8I",e[e.RED_INTEGER=36244]="RED_INTEGER",e[e.RGB_INTEGER=36248]="RGB_INTEGER",e[e.RGBA_INTEGER=36249]="RGBA_INTEGER",e[e.R8=33321]="R8",e[e.RG8=33323]="RG8",e[e.R16F=33325]="R16F",e[e.R32F=33326]="R32F",e[e.RG16F=33327]="RG16F",e[e.RG32F=33328]="RG32F",e[e.R8I=33329]="R8I",e[e.R8UI=33330]="R8UI",e[e.R16I=33331]="R16I",e[e.R16UI=33332]="R16UI",e[e.R32I=33333]="R32I",e[e.R32UI=33334]="R32UI",e[e.RG8I=33335]="RG8I",e[e.RG8UI=33336]="RG8UI",e[e.RG16I=33337]="RG16I",e[e.RG16UI=33338]="RG16UI",e[e.RG32I=33339]="RG32I",e[e.RG32UI=33340]="RG32UI",e[e.R8_SNORM=36756]="R8_SNORM",e[e.RG8_SNORM=36757]="RG8_SNORM",e[e.RGB8_SNORM=36758]="RGB8_SNORM",e[e.RGBA8_SNORM=36759]="RGBA8_SNORM",e[e.RGB10_A2UI=36975]="RGB10_A2UI",e[e.TEXTURE_IMMUTABLE_FORMAT=37167]="TEXTURE_IMMUTABLE_FORMAT",e[e.TEXTURE_IMMUTABLE_LEVELS=33503]="TEXTURE_IMMUTABLE_LEVELS",e[e.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",e[e.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",e[e.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",e[e.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",e[e.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",e[e.HALF_FLOAT=5131]="HALF_FLOAT",e[e.RG=33319]="RG",e[e.RG_INTEGER=33320]="RG_INTEGER",e[e.INT_2_10_10_10_REV=36255]="INT_2_10_10_10_REV",e[e.CURRENT_QUERY=34917]="CURRENT_QUERY",e[e.QUERY_RESULT=34918]="QUERY_RESULT",e[e.QUERY_RESULT_AVAILABLE=34919]="QUERY_RESULT_AVAILABLE",e[e.ANY_SAMPLES_PASSED=35887]="ANY_SAMPLES_PASSED",e[e.ANY_SAMPLES_PASSED_CONSERVATIVE=36202]="ANY_SAMPLES_PASSED_CONSERVATIVE",e[e.MAX_DRAW_BUFFERS=34852]="MAX_DRAW_BUFFERS",e[e.DRAW_BUFFER0=34853]="DRAW_BUFFER0",e[e.DRAW_BUFFER1=34854]="DRAW_BUFFER1",e[e.DRAW_BUFFER2=34855]="DRAW_BUFFER2",e[e.DRAW_BUFFER3=34856]="DRAW_BUFFER3",e[e.DRAW_BUFFER4=34857]="DRAW_BUFFER4",e[e.DRAW_BUFFER5=34858]="DRAW_BUFFER5",e[e.DRAW_BUFFER6=34859]="DRAW_BUFFER6",e[e.DRAW_BUFFER7=34860]="DRAW_BUFFER7",e[e.DRAW_BUFFER8=34861]="DRAW_BUFFER8",e[e.DRAW_BUFFER9=34862]="DRAW_BUFFER9",e[e.DRAW_BUFFER10=34863]="DRAW_BUFFER10",e[e.DRAW_BUFFER11=34864]="DRAW_BUFFER11",e[e.DRAW_BUFFER12=34865]="DRAW_BUFFER12",e[e.DRAW_BUFFER13=34866]="DRAW_BUFFER13",e[e.DRAW_BUFFER14=34867]="DRAW_BUFFER14",e[e.DRAW_BUFFER15=34868]="DRAW_BUFFER15",e[e.MAX_COLOR_ATTACHMENTS=36063]="MAX_COLOR_ATTACHMENTS",e[e.COLOR_ATTACHMENT1=36065]="COLOR_ATTACHMENT1",e[e.COLOR_ATTACHMENT2=36066]="COLOR_ATTACHMENT2",e[e.COLOR_ATTACHMENT3=36067]="COLOR_ATTACHMENT3",e[e.COLOR_ATTACHMENT4=36068]="COLOR_ATTACHMENT4",e[e.COLOR_ATTACHMENT5=36069]="COLOR_ATTACHMENT5",e[e.COLOR_ATTACHMENT6=36070]="COLOR_ATTACHMENT6",e[e.COLOR_ATTACHMENT7=36071]="COLOR_ATTACHMENT7",e[e.COLOR_ATTACHMENT8=36072]="COLOR_ATTACHMENT8",e[e.COLOR_ATTACHMENT9=36073]="COLOR_ATTACHMENT9",e[e.COLOR_ATTACHMENT10=36074]="COLOR_ATTACHMENT10",e[e.COLOR_ATTACHMENT11=36075]="COLOR_ATTACHMENT11",e[e.COLOR_ATTACHMENT12=36076]="COLOR_ATTACHMENT12",e[e.COLOR_ATTACHMENT13=36077]="COLOR_ATTACHMENT13",e[e.COLOR_ATTACHMENT14=36078]="COLOR_ATTACHMENT14",e[e.COLOR_ATTACHMENT15=36079]="COLOR_ATTACHMENT15",e[e.SAMPLER_3D=35679]="SAMPLER_3D",e[e.SAMPLER_2D_SHADOW=35682]="SAMPLER_2D_SHADOW",e[e.SAMPLER_2D_ARRAY=36289]="SAMPLER_2D_ARRAY",e[e.SAMPLER_2D_ARRAY_SHADOW=36292]="SAMPLER_2D_ARRAY_SHADOW",e[e.SAMPLER_CUBE_SHADOW=36293]="SAMPLER_CUBE_SHADOW",e[e.INT_SAMPLER_2D=36298]="INT_SAMPLER_2D",e[e.INT_SAMPLER_3D=36299]="INT_SAMPLER_3D",e[e.INT_SAMPLER_CUBE=36300]="INT_SAMPLER_CUBE",e[e.INT_SAMPLER_2D_ARRAY=36303]="INT_SAMPLER_2D_ARRAY",e[e.UNSIGNED_INT_SAMPLER_2D=36306]="UNSIGNED_INT_SAMPLER_2D",e[e.UNSIGNED_INT_SAMPLER_3D=36307]="UNSIGNED_INT_SAMPLER_3D",e[e.UNSIGNED_INT_SAMPLER_CUBE=36308]="UNSIGNED_INT_SAMPLER_CUBE",e[e.UNSIGNED_INT_SAMPLER_2D_ARRAY=36311]="UNSIGNED_INT_SAMPLER_2D_ARRAY",e[e.MAX_SAMPLES=36183]="MAX_SAMPLES",e[e.SAMPLER_BINDING=35097]="SAMPLER_BINDING",e[e.PIXEL_PACK_BUFFER=35051]="PIXEL_PACK_BUFFER",e[e.PIXEL_UNPACK_BUFFER=35052]="PIXEL_UNPACK_BUFFER",e[e.PIXEL_PACK_BUFFER_BINDING=35053]="PIXEL_PACK_BUFFER_BINDING",e[e.PIXEL_UNPACK_BUFFER_BINDING=35055]="PIXEL_UNPACK_BUFFER_BINDING",e[e.COPY_READ_BUFFER=36662]="COPY_READ_BUFFER",e[e.COPY_WRITE_BUFFER=36663]="COPY_WRITE_BUFFER",e[e.COPY_READ_BUFFER_BINDING=36662]="COPY_READ_BUFFER_BINDING",e[e.COPY_WRITE_BUFFER_BINDING=36663]="COPY_WRITE_BUFFER_BINDING",e[e.FLOAT_MAT2x3=35685]="FLOAT_MAT2x3",e[e.FLOAT_MAT2x4=35686]="FLOAT_MAT2x4",e[e.FLOAT_MAT3x2=35687]="FLOAT_MAT3x2",e[e.FLOAT_MAT3x4=35688]="FLOAT_MAT3x4",e[e.FLOAT_MAT4x2=35689]="FLOAT_MAT4x2",e[e.FLOAT_MAT4x3=35690]="FLOAT_MAT4x3",e[e.UNSIGNED_INT_VEC2=36294]="UNSIGNED_INT_VEC2",e[e.UNSIGNED_INT_VEC3=36295]="UNSIGNED_INT_VEC3",e[e.UNSIGNED_INT_VEC4=36296]="UNSIGNED_INT_VEC4",e[e.UNSIGNED_NORMALIZED=35863]="UNSIGNED_NORMALIZED",e[e.SIGNED_NORMALIZED=36764]="SIGNED_NORMALIZED",e[e.VERTEX_ATTRIB_ARRAY_INTEGER=35069]="VERTEX_ATTRIB_ARRAY_INTEGER",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR",e[e.TRANSFORM_FEEDBACK_BUFFER_MODE=35967]="TRANSFORM_FEEDBACK_BUFFER_MODE",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS=35968]="MAX_TRANSFORM_FEEDBACK_SEPARATE_COMPONENTS",e[e.TRANSFORM_FEEDBACK_VARYINGS=35971]="TRANSFORM_FEEDBACK_VARYINGS",e[e.TRANSFORM_FEEDBACK_BUFFER_START=35972]="TRANSFORM_FEEDBACK_BUFFER_START",e[e.TRANSFORM_FEEDBACK_BUFFER_SIZE=35973]="TRANSFORM_FEEDBACK_BUFFER_SIZE",e[e.TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN=35976]="TRANSFORM_FEEDBACK_PRIMITIVES_WRITTEN",e[e.MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS=35978]="MAX_TRANSFORM_FEEDBACK_INTERLEAVED_COMPONENTS",e[e.MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS=35979]="MAX_TRANSFORM_FEEDBACK_SEPARATE_ATTRIBS",e[e.INTERLEAVED_ATTRIBS=35980]="INTERLEAVED_ATTRIBS",e[e.SEPARATE_ATTRIBS=35981]="SEPARATE_ATTRIBS",e[e.TRANSFORM_FEEDBACK_BUFFER=35982]="TRANSFORM_FEEDBACK_BUFFER",e[e.TRANSFORM_FEEDBACK_BUFFER_BINDING=35983]="TRANSFORM_FEEDBACK_BUFFER_BINDING",e[e.TRANSFORM_FEEDBACK=36386]="TRANSFORM_FEEDBACK",e[e.TRANSFORM_FEEDBACK_PAUSED=36387]="TRANSFORM_FEEDBACK_PAUSED",e[e.TRANSFORM_FEEDBACK_ACTIVE=36388]="TRANSFORM_FEEDBACK_ACTIVE",e[e.TRANSFORM_FEEDBACK_BINDING=36389]="TRANSFORM_FEEDBACK_BINDING",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE",e[e.FRAMEBUFFER_ATTACHMENT_RED_SIZE=33298]="FRAMEBUFFER_ATTACHMENT_RED_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_GREEN_SIZE=33299]="FRAMEBUFFER_ATTACHMENT_GREEN_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_BLUE_SIZE=33300]="FRAMEBUFFER_ATTACHMENT_BLUE_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE=33301]="FRAMEBUFFER_ATTACHMENT_ALPHA_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE=33302]="FRAMEBUFFER_ATTACHMENT_DEPTH_SIZE",e[e.FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE=33303]="FRAMEBUFFER_ATTACHMENT_STENCIL_SIZE",e[e.FRAMEBUFFER_DEFAULT=33304]="FRAMEBUFFER_DEFAULT",e[e.DEPTH24_STENCIL8=35056]="DEPTH24_STENCIL8",e[e.DRAW_FRAMEBUFFER_BINDING=36006]="DRAW_FRAMEBUFFER_BINDING",e[e.READ_FRAMEBUFFER_BINDING=36010]="READ_FRAMEBUFFER_BINDING",e[e.RENDERBUFFER_SAMPLES=36011]="RENDERBUFFER_SAMPLES",e[e.FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER=36052]="FRAMEBUFFER_ATTACHMENT_TEXTURE_LAYER",e[e.FRAMEBUFFER_INCOMPLETE_MULTISAMPLE=36182]="FRAMEBUFFER_INCOMPLETE_MULTISAMPLE",e[e.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",e[e.UNIFORM_BUFFER_BINDING=35368]="UNIFORM_BUFFER_BINDING",e[e.UNIFORM_BUFFER_START=35369]="UNIFORM_BUFFER_START",e[e.UNIFORM_BUFFER_SIZE=35370]="UNIFORM_BUFFER_SIZE",e[e.MAX_VERTEX_UNIFORM_BLOCKS=35371]="MAX_VERTEX_UNIFORM_BLOCKS",e[e.MAX_FRAGMENT_UNIFORM_BLOCKS=35373]="MAX_FRAGMENT_UNIFORM_BLOCKS",e[e.MAX_COMBINED_UNIFORM_BLOCKS=35374]="MAX_COMBINED_UNIFORM_BLOCKS",e[e.MAX_UNIFORM_BUFFER_BINDINGS=35375]="MAX_UNIFORM_BUFFER_BINDINGS",e[e.MAX_UNIFORM_BLOCK_SIZE=35376]="MAX_UNIFORM_BLOCK_SIZE",e[e.MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS=35377]="MAX_COMBINED_VERTEX_UNIFORM_COMPONENTS",e[e.MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS=35379]="MAX_COMBINED_FRAGMENT_UNIFORM_COMPONENTS",e[e.UNIFORM_BUFFER_OFFSET_ALIGNMENT=35380]="UNIFORM_BUFFER_OFFSET_ALIGNMENT",e[e.ACTIVE_UNIFORM_BLOCKS=35382]="ACTIVE_UNIFORM_BLOCKS",e[e.UNIFORM_TYPE=35383]="UNIFORM_TYPE",e[e.UNIFORM_SIZE=35384]="UNIFORM_SIZE",e[e.UNIFORM_BLOCK_INDEX=35386]="UNIFORM_BLOCK_INDEX",e[e.UNIFORM_OFFSET=35387]="UNIFORM_OFFSET",e[e.UNIFORM_ARRAY_STRIDE=35388]="UNIFORM_ARRAY_STRIDE",e[e.UNIFORM_MATRIX_STRIDE=35389]="UNIFORM_MATRIX_STRIDE",e[e.UNIFORM_IS_ROW_MAJOR=35390]="UNIFORM_IS_ROW_MAJOR",e[e.UNIFORM_BLOCK_BINDING=35391]="UNIFORM_BLOCK_BINDING",e[e.UNIFORM_BLOCK_DATA_SIZE=35392]="UNIFORM_BLOCK_DATA_SIZE",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORMS=35394]="UNIFORM_BLOCK_ACTIVE_UNIFORMS",e[e.UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES=35395]="UNIFORM_BLOCK_ACTIVE_UNIFORM_INDICES",e[e.UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER=35396]="UNIFORM_BLOCK_REFERENCED_BY_VERTEX_SHADER",e[e.UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER=35398]="UNIFORM_BLOCK_REFERENCED_BY_FRAGMENT_SHADER",e[e.OBJECT_TYPE=37138]="OBJECT_TYPE",e[e.SYNC_CONDITION=37139]="SYNC_CONDITION",e[e.SYNC_STATUS=37140]="SYNC_STATUS",e[e.SYNC_FLAGS=37141]="SYNC_FLAGS",e[e.SYNC_FENCE=37142]="SYNC_FENCE",e[e.SYNC_GPU_COMMANDS_COMPLETE=37143]="SYNC_GPU_COMMANDS_COMPLETE",e[e.UNSIGNALED=37144]="UNSIGNALED",e[e.SIGNALED=37145]="SIGNALED",e[e.ALREADY_SIGNALED=37146]="ALREADY_SIGNALED",e[e.TIMEOUT_EXPIRED=37147]="TIMEOUT_EXPIRED",e[e.CONDITION_SATISFIED=37148]="CONDITION_SATISFIED",e[e.WAIT_FAILED=37149]="WAIT_FAILED",e[e.SYNC_FLUSH_COMMANDS_BIT=1]="SYNC_FLUSH_COMMANDS_BIT",e[e.COLOR=6144]="COLOR",e[e.DEPTH=6145]="DEPTH",e[e.STENCIL=6146]="STENCIL",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX",e[e.DEPTH_COMPONENT24=33190]="DEPTH_COMPONENT24",e[e.STREAM_READ=35041]="STREAM_READ",e[e.STREAM_COPY=35042]="STREAM_COPY",e[e.STATIC_READ=35045]="STATIC_READ",e[e.STATIC_COPY=35046]="STATIC_COPY",e[e.DYNAMIC_READ=35049]="DYNAMIC_READ",e[e.DYNAMIC_COPY=35050]="DYNAMIC_COPY",e[e.DEPTH_COMPONENT32F=36012]="DEPTH_COMPONENT32F",e[e.DEPTH32F_STENCIL8=36013]="DEPTH32F_STENCIL8",e[e.INVALID_INDEX=4294967295]="INVALID_INDEX",e[e.TIMEOUT_IGNORED=-1]="TIMEOUT_IGNORED",e[e.MAX_CLIENT_WAIT_TIMEOUT_WEBGL=37447]="MAX_CLIENT_WAIT_TIMEOUT_WEBGL",e[e.VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE=35070]="VERTEX_ATTRIB_ARRAY_DIVISOR_ANGLE",e[e.UNMASKED_VENDOR_WEBGL=37445]="UNMASKED_VENDOR_WEBGL",e[e.UNMASKED_RENDERER_WEBGL=37446]="UNMASKED_RENDERER_WEBGL",e[e.MAX_TEXTURE_MAX_ANISOTROPY_EXT=34047]="MAX_TEXTURE_MAX_ANISOTROPY_EXT",e[e.TEXTURE_MAX_ANISOTROPY_EXT=34046]="TEXTURE_MAX_ANISOTROPY_EXT",e[e.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",e[e.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",e[e.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",e[e.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",e[e.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",e[e.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",e[e.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",e[e.COMPRESSED_RGBA8_ETC2_EAC=37493]="COMPRESSED_RGBA8_ETC2_EAC",e[e.COMPRESSED_SRGB8_ETC2=37494]="COMPRESSED_SRGB8_ETC2",e[e.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37495]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",e[e.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37496]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37497]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",e[e.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",e[e.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",e[e.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",e[e.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",e[e.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",e[e.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",e[e.UNSIGNED_INT_24_8_WEBGL=34042]="UNSIGNED_INT_24_8_WEBGL",e[e.HALF_FLOAT_OES=36193]="HALF_FLOAT_OES",e[e.RGBA32F_EXT=34836]="RGBA32F_EXT",e[e.RGB32F_EXT=34837]="RGB32F_EXT",e[e.FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT=33297]="FRAMEBUFFER_ATTACHMENT_COMPONENT_TYPE_EXT",e[e.UNSIGNED_NORMALIZED_EXT=35863]="UNSIGNED_NORMALIZED_EXT",e[e.MIN_EXT=32775]="MIN_EXT",e[e.MAX_EXT=32776]="MAX_EXT",e[e.SRGB_EXT=35904]="SRGB_EXT",e[e.SRGB_ALPHA_EXT=35906]="SRGB_ALPHA_EXT",e[e.SRGB8_ALPHA8_EXT=35907]="SRGB8_ALPHA8_EXT",e[e.FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT=33296]="FRAMEBUFFER_ATTACHMENT_COLOR_ENCODING_EXT",e[e.FRAGMENT_SHADER_DERIVATIVE_HINT_OES=35723]="FRAGMENT_SHADER_DERIVATIVE_HINT_OES",e[e.COLOR_ATTACHMENT0_WEBGL=36064]="COLOR_ATTACHMENT0_WEBGL",e[e.COLOR_ATTACHMENT1_WEBGL=36065]="COLOR_ATTACHMENT1_WEBGL",e[e.COLOR_ATTACHMENT2_WEBGL=36066]="COLOR_ATTACHMENT2_WEBGL",e[e.COLOR_ATTACHMENT3_WEBGL=36067]="COLOR_ATTACHMENT3_WEBGL",e[e.COLOR_ATTACHMENT4_WEBGL=36068]="COLOR_ATTACHMENT4_WEBGL",e[e.COLOR_ATTACHMENT5_WEBGL=36069]="COLOR_ATTACHMENT5_WEBGL",e[e.COLOR_ATTACHMENT6_WEBGL=36070]="COLOR_ATTACHMENT6_WEBGL",e[e.COLOR_ATTACHMENT7_WEBGL=36071]="COLOR_ATTACHMENT7_WEBGL",e[e.COLOR_ATTACHMENT8_WEBGL=36072]="COLOR_ATTACHMENT8_WEBGL",e[e.COLOR_ATTACHMENT9_WEBGL=36073]="COLOR_ATTACHMENT9_WEBGL",e[e.COLOR_ATTACHMENT10_WEBGL=36074]="COLOR_ATTACHMENT10_WEBGL",e[e.COLOR_ATTACHMENT11_WEBGL=36075]="COLOR_ATTACHMENT11_WEBGL",e[e.COLOR_ATTACHMENT12_WEBGL=36076]="COLOR_ATTACHMENT12_WEBGL",e[e.COLOR_ATTACHMENT13_WEBGL=36077]="COLOR_ATTACHMENT13_WEBGL",e[e.COLOR_ATTACHMENT14_WEBGL=36078]="COLOR_ATTACHMENT14_WEBGL",e[e.COLOR_ATTACHMENT15_WEBGL=36079]="COLOR_ATTACHMENT15_WEBGL",e[e.DRAW_BUFFER0_WEBGL=34853]="DRAW_BUFFER0_WEBGL",e[e.DRAW_BUFFER1_WEBGL=34854]="DRAW_BUFFER1_WEBGL",e[e.DRAW_BUFFER2_WEBGL=34855]="DRAW_BUFFER2_WEBGL",e[e.DRAW_BUFFER3_WEBGL=34856]="DRAW_BUFFER3_WEBGL",e[e.DRAW_BUFFER4_WEBGL=34857]="DRAW_BUFFER4_WEBGL",e[e.DRAW_BUFFER5_WEBGL=34858]="DRAW_BUFFER5_WEBGL",e[e.DRAW_BUFFER6_WEBGL=34859]="DRAW_BUFFER6_WEBGL",e[e.DRAW_BUFFER7_WEBGL=34860]="DRAW_BUFFER7_WEBGL",e[e.DRAW_BUFFER8_WEBGL=34861]="DRAW_BUFFER8_WEBGL",e[e.DRAW_BUFFER9_WEBGL=34862]="DRAW_BUFFER9_WEBGL",e[e.DRAW_BUFFER10_WEBGL=34863]="DRAW_BUFFER10_WEBGL",e[e.DRAW_BUFFER11_WEBGL=34864]="DRAW_BUFFER11_WEBGL",e[e.DRAW_BUFFER12_WEBGL=34865]="DRAW_BUFFER12_WEBGL",e[e.DRAW_BUFFER13_WEBGL=34866]="DRAW_BUFFER13_WEBGL",e[e.DRAW_BUFFER14_WEBGL=34867]="DRAW_BUFFER14_WEBGL",e[e.DRAW_BUFFER15_WEBGL=34868]="DRAW_BUFFER15_WEBGL",e[e.MAX_COLOR_ATTACHMENTS_WEBGL=36063]="MAX_COLOR_ATTACHMENTS_WEBGL",e[e.MAX_DRAW_BUFFERS_WEBGL=34852]="MAX_DRAW_BUFFERS_WEBGL",e[e.VERTEX_ARRAY_BINDING_OES=34229]="VERTEX_ARRAY_BINDING_OES",e[e.QUERY_COUNTER_BITS_EXT=34916]="QUERY_COUNTER_BITS_EXT",e[e.CURRENT_QUERY_EXT=34917]="CURRENT_QUERY_EXT",e[e.QUERY_RESULT_EXT=34918]="QUERY_RESULT_EXT",e[e.QUERY_RESULT_AVAILABLE_EXT=34919]="QUERY_RESULT_AVAILABLE_EXT",e[e.TIME_ELAPSED_EXT=35007]="TIME_ELAPSED_EXT",e[e.TIMESTAMP_EXT=36392]="TIMESTAMP_EXT",e[e.GPU_DISJOINT_EXT=36795]="GPU_DISJOINT_EXT"})(Fe||(Fe={}));var Jo;(function(e){e[e.Buffer=0]="Buffer",e[e.Texture=1]="Texture",e[e.RenderTarget=2]="RenderTarget",e[e.Sampler=3]="Sampler",e[e.Program=4]="Program",e[e.Bindings=5]="Bindings",e[e.InputLayout=6]="InputLayout",e[e.RenderPipeline=7]="RenderPipeline",e[e.ComputePipeline=8]="ComputePipeline",e[e.Readback=9]="Readback",e[e.QueryPool=10]="QueryPool",e[e.RenderBundle=11]="RenderBundle"})(Jo||(Jo={}));var ui;(function(e){e[e.NEVER=512]="NEVER",e[e.LESS=513]="LESS",e[e.EQUAL=514]="EQUAL",e[e.LEQUAL=515]="LEQUAL",e[e.GREATER=516]="GREATER",e[e.NOTEQUAL=517]="NOTEQUAL",e[e.GEQUAL=518]="GEQUAL",e[e.ALWAYS=519]="ALWAYS"})(ui||(ui={}));var yy;(function(e){e[e.CCW=2305]="CCW",e[e.CW=2304]="CW"})(yy||(yy={}));var ks;(function(e){e[e.NONE=0]="NONE",e[e.FRONT=1]="FRONT",e[e.BACK=2]="BACK",e[e.FRONT_AND_BACK=3]="FRONT_AND_BACK"})(ks||(ks={}));var ko;(function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC=768]="SRC",e[e.ONE_MINUS_SRC=769]="ONE_MINUS_SRC",e[e.DST=774]="DST",e[e.ONE_MINUS_DST=775]="ONE_MINUS_DST",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.CONST=32769]="CONST",e[e.ONE_MINUS_CONSTANT=32770]="ONE_MINUS_CONSTANT",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"})(ko||(ko={}));var ma;(function(e){e[e.ADD=32774]="ADD",e[e.SUBSTRACT=32778]="SUBSTRACT",e[e.REVERSE_SUBSTRACT=32779]="REVERSE_SUBSTRACT",e[e.MIN=32775]="MIN",e[e.MAX=32776]="MAX"})(ma||(ma={}));var ms;(function(e){e[e.CLAMP_TO_EDGE=0]="CLAMP_TO_EDGE",e[e.REPEAT=1]="REPEAT",e[e.MIRRORED_REPEAT=2]="MIRRORED_REPEAT"})(ms||(ms={}));var xn;(function(e){e[e.POINT=0]="POINT",e[e.BILINEAR=1]="BILINEAR"})(xn||(xn={}));var aa;(function(e){e[e.NO_MIP=0]="NO_MIP",e[e.NEAREST=1]="NEAREST",e[e.LINEAR=2]="LINEAR"})(aa||(aa={}));var Vn;(function(e){e[e.POINTS=0]="POINTS",e[e.TRIANGLES=1]="TRIANGLES",e[e.TRIANGLE_STRIP=2]="TRIANGLE_STRIP",e[e.LINES=3]="LINES",e[e.LINE_STRIP=4]="LINE_STRIP"})(Vn||(Vn={}));var xi;(function(e){e[e.MAP_READ=1]="MAP_READ",e[e.MAP_WRITE=2]="MAP_WRITE",e[e.COPY_SRC=4]="COPY_SRC",e[e.COPY_DST=8]="COPY_DST",e[e.INDEX=16]="INDEX",e[e.VERTEX=32]="VERTEX",e[e.UNIFORM=64]="UNIFORM",e[e.STORAGE=128]="STORAGE",e[e.INDIRECT=256]="INDIRECT",e[e.QUERY_RESOLVE=512]="QUERY_RESOLVE"})(xi||(xi={}));var fp;(function(e){e[e.STATIC=1]="STATIC",e[e.DYNAMIC=2]="DYNAMIC"})(fp||(fp={}));var g1;(function(e){e[e.VERTEX=1]="VERTEX",e[e.INSTANCE=2]="INSTANCE"})(g1||(g1={}));var dg;(function(e){e.LOADED="loaded"})(dg||(dg={}));var zo;(function(e){e[e.TEXTURE_2D=0]="TEXTURE_2D",e[e.TEXTURE_2D_ARRAY=1]="TEXTURE_2D_ARRAY",e[e.TEXTURE_3D=2]="TEXTURE_3D",e[e.TEXTURE_CUBE_MAP=3]="TEXTURE_CUBE_MAP"})(zo||(zo={}));var ns;(function(e){e[e.SAMPLED=1]="SAMPLED",e[e.RENDER_TARGET=2]="RENDER_TARGET",e[e.STORAGE=4]="STORAGE"})(ns||(ns={}));var fa;(function(e){e[e.NONE=0]="NONE",e[e.RED=1]="RED",e[e.GREEN=2]="GREEN",e[e.BLUE=4]="BLUE",e[e.ALPHA=8]="ALPHA",e[e.RGB=7]="RGB",e[e.ALL=15]="ALL"})(fa||(fa={}));var pn;(function(e){e[e.KEEP=7680]="KEEP",e[e.ZERO=0]="ZERO",e[e.REPLACE=7681]="REPLACE",e[e.INVERT=5386]="INVERT",e[e.INCREMENT_CLAMP=7682]="INCREMENT_CLAMP",e[e.DECREMENT_CLAMP=7683]="DECREMENT_CLAMP",e[e.INCREMENT_WRAP=34055]="INCREMENT_WRAP",e[e.DECREMENT_WRAP=34056]="DECREMENT_WRAP"})(pn||(pn={}));var un;(function(e){e[e.Float=0]="Float",e[e.UnfilterableFloat=1]="UnfilterableFloat",e[e.Uint=2]="Uint",e[e.Sint=3]="Sint",e[e.Depth=4]="Depth"})(un||(un={}));var hp;(function(e){e[e.LOWER_LEFT=0]="LOWER_LEFT",e[e.UPPER_LEFT=1]="UPPER_LEFT"})(hp||(hp={}));var C0;(function(e){e[e.NEGATIVE_ONE=0]="NEGATIVE_ONE",e[e.ZERO=1]="ZERO"})(C0||(C0={}));var lf;(function(e){e[e.OcclusionConservative=0]="OcclusionConservative"})(lf||(lf={}));var Dt;(function(e){e[e.U8=1]="U8",e[e.U16=2]="U16",e[e.U32=3]="U32",e[e.S8=4]="S8",e[e.S16=5]="S16",e[e.S32=6]="S32",e[e.F16=7]="F16",e[e.F32=8]="F32",e[e.BC1=65]="BC1",e[e.BC2=66]="BC2",e[e.BC3=67]="BC3",e[e.BC4_UNORM=68]="BC4_UNORM",e[e.BC4_SNORM=69]="BC4_SNORM",e[e.BC5_UNORM=70]="BC5_UNORM",e[e.BC5_SNORM=71]="BC5_SNORM",e[e.U16_PACKED_5551=97]="U16_PACKED_5551",e[e.U16_PACKED_565=98]="U16_PACKED_565",e[e.D24=129]="D24",e[e.D32F=130]="D32F",e[e.D24S8=131]="D24S8",e[e.D32FS8=132]="D32FS8"})(Dt||(Dt={}));var Dr;(function(e){e[e.R=1]="R",e[e.RG=2]="RG",e[e.RGB=3]="RGB",e[e.RGBA=4]="RGBA",e[e.A=5]="A"})(Dr||(Dr={}));var xr;(function(e){e[e.None=0]="None",e[e.Normalized=1]="Normalized",e[e.sRGB=2]="sRGB",e[e.Depth=4]="Depth",e[e.Stencil=8]="Stencil",e[e.RenderTarget=16]="RenderTarget",e[e.Luminance=32]="Luminance"})(xr||(xr={}));function qr(e,t,r){return e<<16|t<<8|r}var We;(function(e){e[e.ALPHA=qr(Dt.U8,Dr.A,xr.None)]="ALPHA",e[e.U8_LUMINANCE=qr(Dt.U8,Dr.A,xr.Luminance)]="U8_LUMINANCE",e[e.F16_LUMINANCE=qr(Dt.F16,Dr.A,xr.Luminance)]="F16_LUMINANCE",e[e.F32_LUMINANCE=qr(Dt.F32,Dr.A,xr.Luminance)]="F32_LUMINANCE",e[e.F16_R=qr(Dt.F16,Dr.R,xr.None)]="F16_R",e[e.F16_RG=qr(Dt.F16,Dr.RG,xr.None)]="F16_RG",e[e.F16_RGB=qr(Dt.F16,Dr.RGB,xr.None)]="F16_RGB",e[e.F16_RGBA=qr(Dt.F16,Dr.RGBA,xr.None)]="F16_RGBA",e[e.F32_R=qr(Dt.F32,Dr.R,xr.None)]="F32_R",e[e.F32_RG=qr(Dt.F32,Dr.RG,xr.None)]="F32_RG",e[e.F32_RGB=qr(Dt.F32,Dr.RGB,xr.None)]="F32_RGB",e[e.F32_RGBA=qr(Dt.F32,Dr.RGBA,xr.None)]="F32_RGBA",e[e.U8_R=qr(Dt.U8,Dr.R,xr.None)]="U8_R",e[e.U8_R_NORM=qr(Dt.U8,Dr.R,xr.Normalized)]="U8_R_NORM",e[e.U8_RG=qr(Dt.U8,Dr.RG,xr.None)]="U8_RG",e[e.U8_RG_NORM=qr(Dt.U8,Dr.RG,xr.Normalized)]="U8_RG_NORM",e[e.U8_RGB=qr(Dt.U8,Dr.RGB,xr.None)]="U8_RGB",e[e.U8_RGB_NORM=qr(Dt.U8,Dr.RGB,xr.Normalized)]="U8_RGB_NORM",e[e.U8_RGB_SRGB=qr(Dt.U8,Dr.RGB,xr.sRGB|xr.Normalized)]="U8_RGB_SRGB",e[e.U8_RGBA=qr(Dt.U8,Dr.RGBA,xr.None)]="U8_RGBA",e[e.U8_RGBA_NORM=qr(Dt.U8,Dr.RGBA,xr.Normalized)]="U8_RGBA_NORM",e[e.U8_RGBA_SRGB=qr(Dt.U8,Dr.RGBA,xr.sRGB|xr.Normalized)]="U8_RGBA_SRGB",e[e.U16_R=qr(Dt.U16,Dr.R,xr.None)]="U16_R",e[e.U16_R_NORM=qr(Dt.U16,Dr.R,xr.Normalized)]="U16_R_NORM",e[e.U16_RG_NORM=qr(Dt.U16,Dr.RG,xr.Normalized)]="U16_RG_NORM",e[e.U16_RGBA_NORM=qr(Dt.U16,Dr.RGBA,xr.Normalized)]="U16_RGBA_NORM",e[e.U16_RGBA=qr(Dt.U16,Dr.RGBA,xr.None)]="U16_RGBA",e[e.U16_RGB=qr(Dt.U16,Dr.RGB,xr.None)]="U16_RGB",e[e.U16_RG=qr(Dt.U16,Dr.RG,xr.None)]="U16_RG",e[e.U32_R=qr(Dt.U32,Dr.R,xr.None)]="U32_R",e[e.U32_RG=qr(Dt.U32,Dr.RG,xr.None)]="U32_RG",e[e.U32_RGB=qr(Dt.U32,Dr.RGB,xr.None)]="U32_RGB",e[e.U32_RGBA=qr(Dt.U32,Dr.RGBA,xr.None)]="U32_RGBA",e[e.S8_R=qr(Dt.S8,Dr.R,xr.None)]="S8_R",e[e.S8_R_NORM=qr(Dt.S8,Dr.R,xr.Normalized)]="S8_R_NORM",e[e.S8_RG_NORM=qr(Dt.S8,Dr.RG,xr.Normalized)]="S8_RG_NORM",e[e.S8_RGB_NORM=qr(Dt.S8,Dr.RGB,xr.Normalized)]="S8_RGB_NORM",e[e.S8_RGBA_NORM=qr(Dt.S8,Dr.RGBA,xr.Normalized)]="S8_RGBA_NORM",e[e.S16_R=qr(Dt.S16,Dr.R,xr.None)]="S16_R",e[e.S16_RG=qr(Dt.S16,Dr.RG,xr.None)]="S16_RG",e[e.S16_RG_NORM=qr(Dt.S16,Dr.RG,xr.Normalized)]="S16_RG_NORM",e[e.S16_RGB_NORM=qr(Dt.S16,Dr.RGB,xr.Normalized)]="S16_RGB_NORM",e[e.S16_RGBA=qr(Dt.S16,Dr.RGBA,xr.None)]="S16_RGBA",e[e.S16_RGBA_NORM=qr(Dt.S16,Dr.RGBA,xr.Normalized)]="S16_RGBA_NORM",e[e.S32_R=qr(Dt.S32,Dr.R,xr.None)]="S32_R",e[e.S32_RG=qr(Dt.S32,Dr.RG,xr.None)]="S32_RG",e[e.S32_RGB=qr(Dt.S32,Dr.RGB,xr.None)]="S32_RGB",e[e.S32_RGBA=qr(Dt.S32,Dr.RGBA,xr.None)]="S32_RGBA",e[e.U16_RGBA_5551=qr(Dt.U16_PACKED_5551,Dr.RGBA,xr.Normalized)]="U16_RGBA_5551",e[e.U16_RGB_565=qr(Dt.U16_PACKED_565,Dr.RGB,xr.Normalized)]="U16_RGB_565",e[e.BC1=qr(Dt.BC1,Dr.RGBA,xr.Normalized)]="BC1",e[e.BC1_SRGB=qr(Dt.BC1,Dr.RGBA,xr.Normalized|xr.sRGB)]="BC1_SRGB",e[e.BC2=qr(Dt.BC2,Dr.RGBA,xr.Normalized)]="BC2",e[e.BC2_SRGB=qr(Dt.BC2,Dr.RGBA,xr.Normalized|xr.sRGB)]="BC2_SRGB",e[e.BC3=qr(Dt.BC3,Dr.RGBA,xr.Normalized)]="BC3",e[e.BC3_SRGB=qr(Dt.BC3,Dr.RGBA,xr.Normalized|xr.sRGB)]="BC3_SRGB",e[e.BC4_UNORM=qr(Dt.BC4_UNORM,Dr.R,xr.Normalized)]="BC4_UNORM",e[e.BC4_SNORM=qr(Dt.BC4_SNORM,Dr.R,xr.Normalized)]="BC4_SNORM",e[e.BC5_UNORM=qr(Dt.BC5_UNORM,Dr.RG,xr.Normalized)]="BC5_UNORM",e[e.BC5_SNORM=qr(Dt.BC5_SNORM,Dr.RG,xr.Normalized)]="BC5_SNORM",e[e.D24=qr(Dt.D24,Dr.R,xr.Depth)]="D24",e[e.D24_S8=qr(Dt.D24S8,Dr.RG,xr.Depth|xr.Stencil)]="D24_S8",e[e.D32F=qr(Dt.D32F,Dr.R,xr.Depth)]="D32F",e[e.D32F_S8=qr(Dt.D32FS8,Dr.RG,xr.Depth|xr.Stencil)]="D32F_S8",e[e.U8_RGB_RT=qr(Dt.U8,Dr.RGB,xr.RenderTarget|xr.Normalized)]="U8_RGB_RT",e[e.U8_RGBA_RT=qr(Dt.U8,Dr.RGBA,xr.RenderTarget|xr.Normalized)]="U8_RGBA_RT",e[e.U8_RGBA_RT_SRGB=qr(Dt.U8,Dr.RGBA,xr.RenderTarget|xr.Normalized|xr.sRGB)]="U8_RGBA_RT_SRGB"})(We||(We={}));function B6(e){return e>>>8&255}function Yp(e){return e>>>16&255}function I0(e){return e&255}function g7(e){switch(e){case Dt.F32:case Dt.U32:case Dt.S32:return 4;case Dt.U16:case Dt.S16:case Dt.F16:return 2;case Dt.U8:case Dt.S8:return 1;default:throw new Error("whoops")}}function v7(e){return g7(Yp(e))}function gD(e){var t=g7(Yp(e)),r=B6(e);return t*r}function E7(e){var t=I0(e);if(t&xr.Depth)return un.Depth;if(t&xr.Normalized)return un.Float;var r=Yp(e);if(r===Dt.F16||r===Dt.F32)return un.Float;if(r===Dt.U8||r===Dt.U16||r===Dt.U32)return un.Uint;if(r===Dt.S8||r===Dt.S16||r===Dt.S32)return un.Sint;throw new Error("whoops")}function bo(e,t){if(t===void 0&&(t=""),!e)throw new Error("Assert fail: ".concat(t))}function u1(e){if(e!=null)return e;throw new Error("Missing object")}function x7(e,t){return e.r===t.r&&e.g===t.g&&e.b===t.b&&e.a===t.a}function P7(e,t){e.r=t.r,e.g=t.g,e.b=t.b,e.a=t.a}function b7(e){var t=e.r,r=e.g,i=e.b,s=e.a;return{r:t,g:r,b:i,a:s}}function xy(e,t,r,i){return i===void 0&&(i=1),{r:e,g:t,b:r,a:i}}var If=xy(0,0,0,0);xy(0,0,0,1);var vD=xy(1,1,1,0);xy(1,1,1,1);function df(e){return!!(e&&!(e&e-1))}function dl(e,t){return e??t}function ED(e){return e===void 0?null:e}function yf(e,t){var r=t-1;return e+r&~r}function xD(e,t){for(var r=new Array(e),i=0;i<e;i++)r[i]=t();return r}function PD(e,t){t===void 0&&(t=1);var r=e.split(`
`);return r.map(function(i,s){return"".concat(bD(""+(t+s),4," "),"  ").concat(i)}).join(`
`)}function bD(e,t,r){for(;e.length<t;)e="".concat(r).concat(e);return e}function yg(e,t){e.blendDstFactor=t.blendDstFactor,e.blendSrcFactor=t.blendSrcFactor,e.blendMode=t.blendMode}function hf(e,t){return e===void 0&&(e={}),e.compare=t.compare,e.depthFailOp=t.depthFailOp,e.passOp=t.passOp,e.failOp=t.failOp,e.mask=t.mask,e}function A7(e,t){return e===void 0&&(e={rgbBlendState:{},alphaBlendState:{},channelWriteMask:0}),yg(e.rgbBlendState,t.rgbBlendState),yg(e.alphaBlendState,t.alphaBlendState),e.channelWriteMask=t.channelWriteMask,e}function F7(e,t){e.length!==t.length&&(e.length=t.length);for(var r=0;r<t.length;r++)e[r]=A7(e[r],t[r])}function AD(e,t){t.attachmentsState!==void 0&&F7(e.attachmentsState,t.attachmentsState),e.blendConstant&&t.blendConstant&&P7(e.blendConstant,t.blendConstant),e.depthCompare=dl(t.depthCompare,e.depthCompare),e.depthWrite=dl(t.depthWrite,e.depthWrite),e.stencilWrite=dl(t.stencilWrite,e.stencilWrite),e.stencilFront&&t.stencilFront&&hf(e.stencilFront,t.stencilFront),e.stencilBack&&t.stencilBack&&hf(e.stencilBack,t.stencilBack),e.cullMode=dl(t.cullMode,e.cullMode),e.frontFace=dl(t.frontFace,e.frontFace),e.polygonOffset=dl(t.polygonOffset,e.polygonOffset),e.polygonOffsetFactor=dl(t.polygonOffsetFactor,e.polygonOffsetFactor),e.polygonOffsetUnits=dl(t.polygonOffsetUnits,e.polygonOffsetUnits)}function M0(e){var t=Object.assign({},e);return t.attachmentsState=[],F7(t.attachmentsState,e.attachmentsState),t.blendConstant=t.blendConstant&&b7(t.blendConstant),t.stencilFront=hf(void 0,e.stencilFront),t.stencilBack=hf(void 0,e.stencilBack),t}var hg={blendMode:ma.ADD,blendSrcFactor:ko.ONE,blendDstFactor:ko.ZERO},N0={attachmentsState:[{channelWriteMask:fa.ALL,rgbBlendState:hg,alphaBlendState:hg}],blendConstant:b7(If),depthWrite:!0,depthCompare:ui.LEQUAL,stencilWrite:!1,stencilFront:{compare:ui.ALWAYS,passOp:pn.KEEP,depthFailOp:pn.KEEP,failOp:pn.KEEP},stencilBack:{compare:ui.ALWAYS,passOp:pn.KEEP,depthFailOp:pn.KEEP,failOp:pn.KEEP},cullMode:ks.NONE,frontFace:yy.CCW,polygonOffset:!1,polygonOffsetFactor:0,polygonOffsetUnits:0};function FD(e,t){e===void 0&&(e=null),t===void 0&&(t=N0);var r=M0(t);return e!==null&&AD(r,e),r}FD({depthCompare:ui.ALWAYS,depthWrite:!1},N0);var T7={texture:null,sampler:null,formatKind:un.Float,dimension:zo.TEXTURE_2D};function El(e,t,r){if(e.length!==t.length)return!1;for(var i=0;i<e.length;i++)if(!r(e[i],t[i]))return!1;return!0}function h0(e,t){for(var r=Array(e.length),i=0;i<e.length;i++)r[i]=t(e[i]);return r}function TD(e,t){return e.texture===t.texture&&e.binding===t.binding}function fg(e,t){return e.buffer===t.buffer&&e.size===t.size&&e.binding===t.binding&&e.offset===t.offset}function SD(e,t){return e===null?t===null:t===null?!1:e.sampler===t.sampler&&e.texture===t.texture&&e.dimension===t.dimension&&e.formatKind===t.formatKind&&e.comparison===t.comparison}function RD(e,t){return e.samplerBindings=e.samplerBindings||[],e.uniformBufferBindings=e.uniformBufferBindings||[],e.storageBufferBindings=e.storageBufferBindings||[],e.storageTextureBindings=e.storageTextureBindings||[],t.samplerBindings=t.samplerBindings||[],t.uniformBufferBindings=t.uniformBufferBindings||[],t.storageBufferBindings=t.storageBufferBindings||[],t.storageTextureBindings=t.storageTextureBindings||[],!(e.samplerBindings.length!==t.samplerBindings.length||!El(e.samplerBindings,t.samplerBindings,SD)||!El(e.uniformBufferBindings,t.uniformBufferBindings,fg)||!El(e.storageBufferBindings,t.storageBufferBindings,fg)||!El(e.storageTextureBindings,t.storageTextureBindings,TD))}function mg(e,t){return e.blendMode==t.blendMode&&e.blendSrcFactor===t.blendSrcFactor&&e.blendDstFactor===t.blendDstFactor}function wD(e,t){return!(!mg(e.rgbBlendState,t.rgbBlendState)||!mg(e.alphaBlendState,t.alphaBlendState)||e.channelWriteMask!==t.channelWriteMask)}function ff(e,t){return e.compare==t.compare&&e.depthFailOp===t.depthFailOp&&e.failOp===t.failOp&&e.passOp===t.passOp&&e.mask===t.mask}function CD(e,t){return!El(e.attachmentsState,t.attachmentsState,wD)||e.blendConstant&&t.blendConstant&&!x7(e.blendConstant,t.blendConstant)||e.stencilFront&&t.stencilFront&&!ff(e.stencilFront,t.stencilFront)||e.stencilBack&&t.stencilBack&&!ff(e.stencilBack,t.stencilBack)?!1:e.depthCompare===t.depthCompare&&e.depthWrite===t.depthWrite&&e.stencilWrite===t.stencilWrite&&e.cullMode===t.cullMode&&e.frontFace===t.frontFace&&e.polygonOffset===t.polygonOffset&&e.polygonOffsetFactor===t.polygonOffsetFactor&&e.polygonOffsetUnits===t.polygonOffsetUnits}function S7(e,t){return e.id===t.id}function ID(e,t){return e===t}function MD(e,t){return!(e.topology!==t.topology||e.inputLayout!==t.inputLayout||e.sampleCount!==t.sampleCount||e.megaStateDescriptor&&t.megaStateDescriptor&&!CD(e.megaStateDescriptor,t.megaStateDescriptor)||!S7(e.program,t.program)||!El(e.colorAttachmentFormats,t.colorAttachmentFormats,ID)||e.depthStencilAttachmentFormat!==t.depthStencilAttachmentFormat)}function ND(e,t){return e.offset===t.offset&&e.shaderLocation===t.shaderLocation&&e.format===t.format&&e.divisor===t.divisor}function DD(e,t){return Wu(e)?Wu(t):Wu(t)?!1:e.arrayStride===t.arrayStride&&e.stepMode===t.stepMode&&El(e.attributes,t.attributes,ND)}function OD(e,t){return!(e.indexBufferFormat!==t.indexBufferFormat||!El(e.vertexBufferDescriptors,t.vertexBufferDescriptors,DD)||!S7(e.program,t.program))}function LD(e){var t=e.sampler,r=e.texture,i=e.dimension,s=e.formatKind,p=e.comparison;return{sampler:t,texture:r,dimension:i,formatKind:s,comparison:p}}function _g(e){var t=e.buffer,r=e.size,i=e.binding,s=e.offset;return{binding:i,buffer:t,offset:s,size:r}}function BD(e){var t=e.binding,r=e.texture;return{binding:t,texture:r}}function UD(e){var t=e.samplerBindings&&h0(e.samplerBindings,LD),r=e.uniformBufferBindings&&h0(e.uniformBufferBindings,_g),i=e.storageBufferBindings&&h0(e.storageBufferBindings,_g),s=e.storageTextureBindings&&h0(e.storageTextureBindings,BD);return{samplerBindings:t,uniformBufferBindings:r,storageBufferBindings:i,storageTextureBindings:s,pipeline:e.pipeline}}function kD(e){var t=e.inputLayout,r=e.program,i=e.topology,s=e.megaStateDescriptor&&M0(e.megaStateDescriptor),p=e.colorAttachmentFormats.slice(),n=e.depthStencilAttachmentFormat,f=e.sampleCount;return{inputLayout:t,megaStateDescriptor:s,program:r,topology:i,colorAttachmentFormats:p,depthStencilAttachmentFormat:n,sampleCount:f}}function zD(e){var t=e.shaderLocation,r=e.format,i=e.offset,s=e.divisor;return{shaderLocation:t,format:r,offset:i,divisor:s}}function VD(e){if(Wu(e))return e;var t=e.arrayStride,r=e.stepMode,i=h0(e.attributes,zD);return{arrayStride:t,stepMode:r,attributes:i}}function HD(e){var t=h0(e.vertexBufferDescriptors,VD),r=e.indexBufferFormat,i=e.program;return{vertexBufferDescriptors:t,indexBufferFormat:r,program:i}}var jo,GD=/([^[]*)(\[[0-9]+\])?/;function jD(e){if(e[e.length-1]!=="]")return{name:e,length:1,isArray:!1};var t=e.match(GD);if(!t||t.length<2)throw new Error("Failed to parse GLSL uniform name ".concat(e));return{name:t[1],length:Number(t[2])||1,isArray:!!t[2]}}function fs(){var e=null;return function(t,r,i){var s=e!==i;return s&&(t.uniform1i(r,i),e=i),s}}function an(e,t,r,i){var s=null,p=null;return function(n,f,m){var g=t(m,r),x=g.length,b=!1;if(s===null)s=new Float32Array(x),p=x,b=!0;else{bo(p===x,"Uniform length cannot change.");for(var F=0;F<x;++F)if(g[F]!==s[F]){b=!0;break}}return b&&(i(n,e,f,g),s.set(g)),b}}function os(e,t,r,i){e[t](r,i)}function Pc(e,t,r,i){e[t](r,!1,i)}var WD={},XD={},ZD={},gg=[0];function U6(e,t,r,i){t===1&&typeof e=="boolean"&&(e=e?1:0),Number.isFinite(e)&&(gg[0]=e,e=gg);var s=e.length;if(e instanceof r)return e;var p=i[s];p||(p=new r(s),i[s]=p);for(var n=0;n<s;n++)p[n]=e[n];return p}function su(e,t){return U6(e,t,Float32Array,WD)}function yl(e,t){return U6(e,t,Int32Array,XD)}function fh(e,t){return U6(e,t,Uint32Array,ZD)}var YD=(jo={},jo[Fe.FLOAT]=an.bind(null,"uniform1fv",su,1,os),jo[Fe.FLOAT_VEC2]=an.bind(null,"uniform2fv",su,2,os),jo[Fe.FLOAT_VEC3]=an.bind(null,"uniform3fv",su,3,os),jo[Fe.FLOAT_VEC4]=an.bind(null,"uniform4fv",su,4,os),jo[Fe.INT]=an.bind(null,"uniform1iv",yl,1,os),jo[Fe.INT_VEC2]=an.bind(null,"uniform2iv",yl,2,os),jo[Fe.INT_VEC3]=an.bind(null,"uniform3iv",yl,3,os),jo[Fe.INT_VEC4]=an.bind(null,"uniform4iv",yl,4,os),jo[Fe.BOOL]=an.bind(null,"uniform1iv",yl,1,os),jo[Fe.BOOL_VEC2]=an.bind(null,"uniform2iv",yl,2,os),jo[Fe.BOOL_VEC3]=an.bind(null,"uniform3iv",yl,3,os),jo[Fe.BOOL_VEC4]=an.bind(null,"uniform4iv",yl,4,os),jo[Fe.FLOAT_MAT2]=an.bind(null,"uniformMatrix2fv",su,4,Pc),jo[Fe.FLOAT_MAT3]=an.bind(null,"uniformMatrix3fv",su,9,Pc),jo[Fe.FLOAT_MAT4]=an.bind(null,"uniformMatrix4fv",su,16,Pc),jo[Fe.UNSIGNED_INT]=an.bind(null,"uniform1uiv",fh,1,os),jo[Fe.UNSIGNED_INT_VEC2]=an.bind(null,"uniform2uiv",fh,2,os),jo[Fe.UNSIGNED_INT_VEC3]=an.bind(null,"uniform3uiv",fh,3,os),jo[Fe.UNSIGNED_INT_VEC4]=an.bind(null,"uniform4uiv",fh,4,os),jo[Fe.FLOAT_MAT2x3]=an.bind(null,"uniformMatrix2x3fv",su,6,Pc),jo[Fe.FLOAT_MAT2x4]=an.bind(null,"uniformMatrix2x4fv",su,8,Pc),jo[Fe.FLOAT_MAT3x2]=an.bind(null,"uniformMatrix3x2fv",su,6,Pc),jo[Fe.FLOAT_MAT3x4]=an.bind(null,"uniformMatrix3x4fv",su,12,Pc),jo[Fe.FLOAT_MAT4x2]=an.bind(null,"uniformMatrix4x2fv",su,8,Pc),jo[Fe.FLOAT_MAT4x3]=an.bind(null,"uniformMatrix4x3fv",su,12,Pc),jo[Fe.SAMPLER_2D]=fs,jo[Fe.SAMPLER_CUBE]=fs,jo[Fe.SAMPLER_3D]=fs,jo[Fe.SAMPLER_2D_SHADOW]=fs,jo[Fe.SAMPLER_2D_ARRAY]=fs,jo[Fe.SAMPLER_2D_ARRAY_SHADOW]=fs,jo[Fe.SAMPLER_CUBE_SHADOW]=fs,jo[Fe.INT_SAMPLER_2D]=fs,jo[Fe.INT_SAMPLER_3D]=fs,jo[Fe.INT_SAMPLER_CUBE]=fs,jo[Fe.INT_SAMPLER_2D_ARRAY]=fs,jo[Fe.UNSIGNED_INT_SAMPLER_2D]=fs,jo[Fe.UNSIGNED_INT_SAMPLER_3D]=fs,jo[Fe.UNSIGNED_INT_SAMPLER_CUBE]=fs,jo[Fe.UNSIGNED_INT_SAMPLER_2D_ARRAY]=fs,jo);function vg(e,t,r){var i=YD[r.type];if(!i)throw new Error("Unknown GLSL uniform type ".concat(r.type));return i().bind(null,e,t)}var qD={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function $D(e){return Object.prototype.toString.call(e)in qD}function Md(e,t){return"#define ".concat(e," ").concat(t)}function KD(e){var t={};return e.replace(/^\s*#define\s*(\S*)\s*(\S*)\s*$/gm,function(r,i,s){var p=Number(s);return t[i]=isNaN(p)?s:p,""}),t}function QD(e,t){var r=[];return e.replace(/^\s*layout\(location\s*=\s*(\S*)\)\s*in\s+\S+\s*(.*);$/gm,function(i,s,p){var n=Number(s);return r.push({location:isNaN(n)?t[s]:n,name:p}),""}),r}function Eg(e){if(e===void 0)return null;var t=/binding\s*=\s*(\d+)/.exec(e);if(t!==null){var r=parseInt(t[1],10);if(!Number.isNaN(r))return r}return null}function xg(e){var t="",r=e;return[r,t]}function D0(e,t,r,i,s){var p;i===void 0&&(i=null),s===void 0&&(s=!0);var n=e.glslVersion==="#version 100",f=t==="frag"&&((p=r.match(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm))===null||p===void 0?void 0:p.length)>1,m=r.replace(`\r
`,`
`).split(`
`).map(function(ce){return ce.replace(/[/][/].*$/,"")}).filter(function(ce){var Ie=!ce||/^\s+$/.test(ce);return!Ie}),g="";i!==null&&(g=Object.keys(i).map(function(ce){return Md(ce,i[ce])}).join(`
`));var x=m.find(function(ce){return ce.startsWith("precision")})||"precision mediump float;",b=s?m.filter(function(ce){return!ce.startsWith("precision")}).join(`
`):m.join(`
`),F="";if(e.viewportOrigin===hp.UPPER_LEFT&&(F+="".concat(Md("VIEWPORT_ORIGIN_TL","1"),`
`)),e.clipSpaceNearZ===C0.ZERO&&(F+="".concat(Md("CLIPSPACE_NEAR_ZERO","1"),`
`)),e.explicitBindingLocations){var R=0,I=0,O=0;b=b.replace(/^\s*(layout\((.*)\))?\s*uniform(.+{)$/gm,function(ce,Ie,De,ht){var qe=De?"".concat(De,", "):"";return"layout(".concat(qe,"set = ").concat(R,", binding = ").concat(I++,") uniform ").concat(ht)}),R++,I=0,bo(e.separateSamplerTextures),b=b.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(ce,Ie,De,ht,qe){var we=Eg(De);we===null&&(we=I++);var B=cp(xg(ht),2),X=B[0],de=B[1];return t==="frag"?`
layout(set = `.concat(R,", binding = ").concat(we*2+0,") uniform texture").concat(X," T_").concat(qe,`;
layout(set = `).concat(R,", binding = ").concat(we*2+1,") uniform sampler").concat(de," S_").concat(qe,";").trim():""}),b=b.replace(t==="frag"?/^\s*\b(varying|in)\b/gm:/^\s*\b(varying|out)\b/gm,function(ce,Ie){return"layout(location = ".concat(O++,") ").concat(Ie)}),F+="".concat(Md("gl_VertexID","gl_VertexIndex"),`
`),F+="".concat(Md("gl_InstanceID","gl_InstanceIndex"),`
`),x=x.replace(/^precision (.*) sampler(.*);$/gm,"")}else{var U=0;b=b.replace(/^\s*(layout\((.*)\))?\s*uniform sampler(\w+) (.*);/gm,function(ce,Ie,De,ht,qe){var we=Eg(De);return we===null&&(we=U++),"uniform sampler".concat(ht," ").concat(qe,"; // BINDING=").concat(we)})}if(b=b.replace(/\bPU_SAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){return"SAMPLER_".concat(Ie,"(P_").concat(De,")")}),b=b.replace(/\bPF_SAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){return"PP_SAMPLER_".concat(Ie,"(P_").concat(De,")")}),b=b.replace(/\bPU_TEXTURE\((.*?)\)/g,function(ce,Ie){return"TEXTURE(P_".concat(Ie,")")}),e.separateSamplerTextures)b=b.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){var ht=cp(xg(Ie),2),qe=ht[0],we=ht[1];return"texture".concat(qe," T_P_").concat(De,", sampler").concat(we," S_P_").concat(De)}),b=b.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){return"T_".concat(De,", S_").concat(De)}),b=b.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){return"sampler".concat(Ie,"(T_").concat(De,", S_").concat(De,")")}),b=b.replace(/\bTEXTURE\((.*?)\)/g,function(ce,Ie){return"T_".concat(Ie)});else{var Y=[];b=b.replace(/\bPD_SAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){return"sampler".concat(Ie," P_").concat(De)}),b=b.replace(/\bPP_SAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){return De}),b=b.replace(/\bSAMPLER_(\w+)\((.*?)\)/g,function(ce,Ie,De){return Y.push([De,Ie]),De}),n&&Y.forEach(function(ce){var Ie=cp(ce,2),De=Ie[0],ht=Ie[1];b=b.replace(new RegExp("texture\\(".concat(De),"g"),function(){return"texture".concat(ht,"(").concat(De)})}),b=b.replace(/\bTEXTURE\((.*?)\)/g,function(ce,Ie){return Ie})}var ee="".concat(n?"":e.glslVersion,`
`).concat(n&&f?`#extension GL_EXT_draw_buffers : require
`:"",`
`).concat(n&&t==="frag"?`#extension GL_OES_standard_derivatives : enable
`:"").concat(s?x:"",`
`).concat(F||"").concat(g?g+`
`:"",`
`).concat(b,`
`).trim();if(e.explicitBindingLocations&&t==="frag"&&(ee=ee.replace(/^\b(out)\b/g,function(ce,Ie){return"layout(location = 0) ".concat(Ie)})),n){if(t==="frag"&&(ee=ee.replace(/^\s*in\s+(\S+)\s*(.*);$/gm,function(ce,Ie,De){return"varying ".concat(Ie," ").concat(De,`;
`)})),t==="vert"&&(ee=ee.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(ce,Ie,De){return"varying ".concat(Ie," ").concat(De,`;
`)}),ee=ee.replace(/^\s*layout\(location\s*=\s*\S*\)\s*in\s+(\S+)\s*(.*);$/gm,function(ce,Ie,De){return"attribute ".concat(Ie," ").concat(De,`;
`)})),ee=ee.replace(/\s*uniform\s*.*\s*{((?:\s*.*\s*)*?)};/g,function(ce,Ie){return Ie.trim().replace(/^.*$/gm,function(De){var ht=De.trim();return ht.startsWith("#")?ht:De?"uniform ".concat(ht):""})}),t==="frag")if(f){var oe=[];ee=ee.replace(/^\s*layout\(location\s*=\s*\d*\)\s*out\s+vec4\s*(.*);$/gm,function(ce,Ie){return oe.push(Ie),"vec4 ".concat(Ie,`;
`)});var Re=ee.lastIndexOf("}");ee=ee.substring(0,Re)+`
    `.concat(oe.map(function(ce,Ie){return"gl_FragData[".concat(Ie,"] = ").concat(ce,`;
    `)}).join(`
`))+ee.substring(Re)}else{var Ae;if(ee=ee.replace(/^\s*out\s+(\S+)\s*(.*);$/gm,function(ce,Ie,De){return Ae=De,"".concat(Ie," ").concat(De,`;
`)}),Ae){var Re=ee.lastIndexOf("}");ee=ee.substring(0,Re)+`
  gl_FragColor = vec4(`.concat(Ae,`);
`)+ee.substring(Re)}}ee=ee.replace(/^\s*layout\((.*)\)/gm,"")}return ee}var Xu=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=e.call(this)||this;return p.id=i,p.device=s,p.device.resourceCreationTracker!==null&&p.device.resourceCreationTracker.trackResourceCreated(p),p}return t.prototype.destroy=function(){this.device.resourceCreationTracker!==null&&this.device.resourceCreationTracker.trackResourceDestroyed(this)},t}(_7),JD=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;n.type=Jo.Bindings;var f=p.uniformBufferBindings,m=p.samplerBindings;return n.uniformBufferBindings=f||[],n.samplerBindings=m||[],n.bindingLayouts=n.createBindingLayouts(),n}return t.prototype.createBindingLayouts=function(){var r=0,i=0,s=[],p=this.uniformBufferBindings.length,n=this.samplerBindings.length;return s.push({firstUniformBuffer:r,numUniformBuffers:p,firstSampler:i,numSamplers:n}),r+=p,i+=n,{numUniformBuffers:r,numSamplers:i,bindingLayoutTables:s}},t}(Xu),Nd;function Vr(e){return Nd!==void 0?Nd:typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext?(Nd=!0,!0):(Nd=!!(e&&e._version===2),Nd)}function R7(e){var t=Yp(e);switch(t){case Dt.BC1:case Dt.BC2:case Dt.BC3:case Dt.BC4_UNORM:case Dt.BC4_SNORM:case Dt.BC5_UNORM:case Dt.BC5_SNORM:return!0;default:return!1}}function w7(e){var t=I0(e);if(t&xr.Normalized)return!1;var r=Yp(e);return r===Dt.S8||r===Dt.S16||r===Dt.S32||r===Dt.U8||r===Dt.U16||r===Dt.U32}function eO(e){switch(e){case fp.STATIC:return Fe.STATIC_DRAW;case fp.DYNAMIC:return Fe.DYNAMIC_DRAW}}function Pg(e){if(e&xi.INDEX)return Fe.ELEMENT_ARRAY_BUFFER;if(e&xi.VERTEX)return Fe.ARRAY_BUFFER;if(e&xi.UNIFORM)return Fe.UNIFORM_BUFFER}function tO(e){switch(e){case Vn.TRIANGLES:return Fe.TRIANGLES;case Vn.POINTS:return Fe.POINTS;case Vn.TRIANGLE_STRIP:return Fe.TRIANGLE_STRIP;case Vn.LINES:return Fe.LINES;case Vn.LINE_STRIP:return Fe.LINE_STRIP;default:throw new Error("Unknown primitive topology mode")}}function rO(e){switch(e){case Dt.U8:return Fe.UNSIGNED_BYTE;case Dt.U16:return Fe.UNSIGNED_SHORT;case Dt.U32:return Fe.UNSIGNED_INT;case Dt.S8:return Fe.BYTE;case Dt.S16:return Fe.SHORT;case Dt.S32:return Fe.INT;case Dt.F16:return Fe.HALF_FLOAT;case Dt.F32:return Fe.FLOAT;default:throw new Error("whoops")}}function oO(e){switch(e){case Dr.R:return 1;case Dr.RG:return 2;case Dr.RGB:return 3;case Dr.RGBA:return 4;default:return 1}}function iO(e){var t=Yp(e),r=B6(e),i=I0(e),s=rO(t),p=oO(r),n=!!(i&xr.Normalized);return{size:p,type:s,normalized:n}}function nO(e){switch(e){case We.U8_R:return Fe.UNSIGNED_BYTE;case We.U16_R:return Fe.UNSIGNED_SHORT;case We.U32_R:return Fe.UNSIGNED_INT;default:throw new Error("whoops")}}function Dd(e){switch(e){case ms.CLAMP_TO_EDGE:return Fe.CLAMP_TO_EDGE;case ms.REPEAT:return Fe.REPEAT;case ms.MIRRORED_REPEAT:return Fe.MIRRORED_REPEAT;default:throw new Error("whoops")}}function mh(e,t){if(t===aa.LINEAR&&e===xn.BILINEAR)return Fe.LINEAR_MIPMAP_LINEAR;if(t===aa.LINEAR&&e===xn.POINT)return Fe.NEAREST_MIPMAP_LINEAR;if(t===aa.NEAREST&&e===xn.BILINEAR)return Fe.LINEAR_MIPMAP_NEAREST;if(t===aa.NEAREST&&e===xn.POINT)return Fe.NEAREST_MIPMAP_NEAREST;if(t===aa.NO_MIP&&e===xn.BILINEAR)return Fe.LINEAR;if(t===aa.NO_MIP&&e===xn.POINT)return Fe.NEAREST;throw new Error("Unknown texture filter mode")}function b0(e,t){t===void 0&&(t=0);var r=e;return r.gl_buffer_pages[t/r.pageByteSize|0]}function d0(e){var t=e;return t.gl_texture}function J2(e){var t=e;return t.gl_sampler}function Od(e,t){e.name=t,e.__SPECTOR_Metadata={name:t}}function bg(e,t){for(var r=[];;){var i=t.exec(e);if(!i)break;r.push(i)}return r}function hl(e){return e.blendMode==ma.ADD&&e.blendSrcFactor==ko.ONE&&e.blendDstFactor===ko.ZERO}function aO(e){switch(e){case lf.OcclusionConservative:return Fe.ANY_SAMPLES_PASSED_CONSERVATIVE;default:throw new Error("whoops")}}function sO(e){if(e===zo.TEXTURE_2D)return Fe.TEXTURE_2D;if(e===zo.TEXTURE_2D_ARRAY)return Fe.TEXTURE_2D_ARRAY;if(e===zo.TEXTURE_CUBE_MAP)return Fe.TEXTURE_CUBE_MAP;if(e===zo.TEXTURE_3D)return Fe.TEXTURE_3D;throw new Error("whoops")}function s2(e,t,r,i){return!(e%r!==0||t%i!==0)}var uO=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;n.type=Jo.Buffer;var f=p.viewOrSize,m=p.usage,g=p.hint,x=g===void 0?fp.STATIC:g,b=s.uniformBufferMaxPageByteSize,F=s.gl,R=m&xi.UNIFORM;R||(Vr(F)?F.bindVertexArray(null):s.OES_vertex_array_object.bindVertexArrayOES(null));var I=y0(f)?yf(f,4):yf(f.byteLength,4);n.gl_buffer_pages=[];var O;if(R){for(var U=I;U>0;)n.gl_buffer_pages.push(n.createBufferPage(Math.min(U,b),m,x)),U-=b;O=b}else n.gl_buffer_pages.push(n.createBufferPage(I,m,x)),O=I;return n.pageByteSize=O,n.byteSize=I,n.usage=m,n.gl_target=Pg(m),y0(f)||n.setSubData(0,new Uint8Array(f.buffer)),R||(Vr(F)?F.bindVertexArray(n.device.currentBoundVAO):s.OES_vertex_array_object.bindVertexArrayOES(n.device.currentBoundVAO)),n}return t.prototype.setSubData=function(r,i,s,p){s===void 0&&(s=0),p===void 0&&(p=i.byteLength-s);for(var n=this.device.gl,f=this.pageByteSize,m=r+p,g=r,x=r%f;g<m;){var b=Vr(n)?n.COPY_WRITE_BUFFER:this.gl_target,F=b0(this,g);if(F.ubo)return;n.bindBuffer(b,F),Vr(n)?n.bufferSubData(b,x,i,s,Math.min(m-g,f)):n.bufferSubData(b,x,i),g+=f,x=0,s+=f,this.device.debugGroupStatisticsBufferUpload()}},t.prototype.destroy=function(){e.prototype.destroy.call(this);for(var r=0;r<this.gl_buffer_pages.length;r++)this.gl_buffer_pages[r].ubo||this.device.gl.deleteBuffer(this.gl_buffer_pages[r]);this.gl_buffer_pages=[]},t.prototype.createBufferPage=function(r,i,s){var p=this.device.gl,n=i&xi.UNIFORM;if(!Vr(p)&&n)return{ubo:!0};var f=this.device.ensureResourceExists(p.createBuffer()),m=Pg(i),g=eO(s);return p.bindBuffer(m,f),p.bufferData(m,r,g),f},t}(Xu),pO=function(e){cn(t,e);function t(r){var i,s,p,n,f=r.id,m=r.device,g=r.descriptor,x,b=e.call(this,{id:f,device:m})||this;b.type=Jo.InputLayout;var F=g.vertexBufferDescriptors,R=g.indexBufferFormat,I=g.program;bo(R===We.U16_R||R===We.U32_R||R===null);var O=R!==null?nO(R):null,U=R!==null?v7(R):null,Y=b.device.gl,ee=b.device.ensureResourceExists(Vr(Y)?Y.createVertexArray():m.OES_vertex_array_object.createVertexArrayOES());Vr(Y)?Y.bindVertexArray(ee):m.OES_vertex_array_object.bindVertexArrayOES(ee),Y.bindBuffer(Y.ARRAY_BUFFER,b0(b.device.fallbackVertexBuffer));try{for(var oe=l1(g.vertexBufferDescriptors),Re=oe.next();!Re.done;Re=oe.next()){var Ae=Re.value,ce=Ae.stepMode,Ie=Ae.attributes;try{for(var De=(p=void 0,l1(Ie)),ht=De.next();!ht.done;ht=De.next()){var qe=ht.value,we=qe.shaderLocation,B=qe.format,X=qe.divisor,de=X===void 0?1:X,mt=Vr(Y)?we:(x=I.attributes[we])===null||x===void 0?void 0:x.location,re=iO(B);if(qe.vertexFormat=re,!Wu(mt)){w7(B);var fe=re.size,Pe=re.type,Xe=re.normalized;Y.vertexAttribPointer(mt,fe,Pe,Xe,0,0),ce===g1.INSTANCE&&(Vr(Y)?Y.vertexAttribDivisor(mt,de):m.ANGLE_instanced_arrays.vertexAttribDivisorANGLE(mt,de)),Y.enableVertexAttribArray(mt)}}}catch(Ye){p={error:Ye}}finally{try{ht&&!ht.done&&(n=De.return)&&n.call(De)}finally{if(p)throw p.error}}}}catch(Ye){i={error:Ye}}finally{try{Re&&!Re.done&&(s=oe.return)&&s.call(oe)}finally{if(i)throw i.error}}return Vr(Y)?Y.bindVertexArray(null):m.OES_vertex_array_object.bindVertexArrayOES(null),b.vertexBufferDescriptors=F,b.vao=ee,b.indexBufferFormat=R,b.indexBufferType=O,b.indexBufferCompByteSize=U,b.program=I,b}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.currentBoundVAO===this.vao&&(Vr(this.device.gl)?(this.device.gl.bindVertexArray(null),this.device.gl.deleteVertexArray(this.vao)):(this.device.OES_vertex_array_object.bindVertexArrayOES(null),this.device.OES_vertex_array_object.deleteVertexArrayOES(this.vao)),this.device.currentBoundVAO=null)},t}(Xu),e6=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=r.fake,f=e.call(this,{id:i,device:s})||this;f.type=Jo.Texture,p=In({dimension:zo.TEXTURE_2D,depthOrArrayLayers:1,mipLevelCount:1},p);var m=f.device.gl,g,x,b=f.clampmipLevelCount(p);if(f.immutable=p.usage===ns.RENDER_TARGET,f.pixelStore=p.pixelStore,f.format=p.format,f.dimension=p.dimension,f.formatKind=E7(p.format),f.width=p.width,f.height=p.height,f.depthOrArrayLayers=p.depthOrArrayLayers,f.mipmaps=b>=1,!n){x=f.device.ensureResourceExists(m.createTexture());var F=f.device.translateTextureType(p.format),R=f.device.translateTextureInternalFormat(p.format);if(f.device.setActiveTexture(m.TEXTURE0),f.device.currentTextures[0]=null,f.preprocessImage(),p.dimension===zo.TEXTURE_2D){if(g=Fe.TEXTURE_2D,m.bindTexture(g,x),f.immutable)if(Vr(m))m.texStorage2D(g,b,R,p.width,p.height);else{var I=(R===Fe.DEPTH_COMPONENT||f.isNPOT(),0);(f.format===We.D32F||f.format===We.D24_S8)&&!Vr(m)&&!s.WEBGL_depth_texture||(m.texImage2D(g,I,R,p.width,p.height,0,R,F,null),f.mipmaps&&(f.mipmaps=!1,m.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR),m.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Fe.CLAMP_TO_EDGE),m.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Fe.CLAMP_TO_EDGE)))}bo(p.depthOrArrayLayers===1)}else if(p.dimension===zo.TEXTURE_2D_ARRAY)g=Fe.TEXTURE_2D_ARRAY,m.bindTexture(g,x),f.immutable&&Vr(m)&&m.texStorage3D(g,b,R,p.width,p.height,p.depthOrArrayLayers);else if(p.dimension===zo.TEXTURE_3D)g=Fe.TEXTURE_3D,m.bindTexture(g,x),f.immutable&&Vr(m)&&m.texStorage3D(g,b,R,p.width,p.height,p.depthOrArrayLayers);else if(p.dimension===zo.TEXTURE_CUBE_MAP)g=Fe.TEXTURE_CUBE_MAP,m.bindTexture(g,x),f.immutable&&Vr(m)&&m.texStorage2D(g,b,R,p.width,p.height),bo(p.depthOrArrayLayers===6);else throw new Error("whoops")}return f.gl_texture=x,f.gl_target=g,f.mipLevelCount=b,f}return t.prototype.setImageData=function(r,i){i===void 0&&(i=0);var s=this.device.gl;R7(this.format);var p=this.gl_target===Fe.TEXTURE_3D||this.gl_target===Fe.TEXTURE_2D_ARRAY,n=this.gl_target===Fe.TEXTURE_CUBE_MAP,f=$D(r[0]);this.device.setActiveTexture(s.TEXTURE0),this.device.currentTextures[0]=null;var m=r[0],g,x;f?(g=this.width,x=this.height):(g=m.width,x=m.height,this.width=g,this.height=x),s.bindTexture(this.gl_target,this.gl_texture);var b=this.device.translateTextureFormat(this.format),F=Vr(s)?this.device.translateInternalTextureFormat(this.format):b,R=this.device.translateTextureType(this.format);this.preprocessImage();for(var I=0;I<this.depthOrArrayLayers;I++){var O=r[I],U=this.gl_target;n&&(U=Fe.TEXTURE_CUBE_MAP_POSITIVE_X+I%6),this.immutable?s.texSubImage2D(U,i,0,0,g,x,b,R,O):Vr(s)?p?s.texImage3D(U,i,F,g,x,this.depthOrArrayLayers,0,b,R,O):s.texImage2D(U,i,F,g,x,0,b,R,O):f?s.texImage2D(U,i,b,g,x,0,b,R,O):s.texImage2D(U,i,b,b,R,O)}this.mipmaps&&this.generateMipmap(p)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteTexture(d0(this))},t.prototype.clampmipLevelCount=function(r){if(r.dimension===zo.TEXTURE_2D_ARRAY&&r.depthOrArrayLayers>1){var i=Yp(r.format);if(i===Dt.BC1)for(var s=r.width,p=r.height,n=0;n<r.mipLevelCount;n++){if(s<=2||p<=2)return n-1;s=Math.max(s/2|0,1),p=Math.max(p/2|0,1)}}return r.mipLevelCount},t.prototype.preprocessImage=function(){var r=this.device.gl;this.pixelStore&&(this.pixelStore.unpackFlipY&&r.pixelStorei(Fe.UNPACK_FLIP_Y_WEBGL,!0),this.pixelStore.packAlignment&&r.pixelStorei(Fe.PACK_ALIGNMENT,this.pixelStore.packAlignment),this.pixelStore.unpackAlignment&&r.pixelStorei(Fe.UNPACK_ALIGNMENT,this.pixelStore.unpackAlignment))},t.prototype.generateMipmap=function(r){r===void 0&&(r=!1);var i=this.device.gl;return!Vr(i)&&this.isNPOT()?this:(this.gl_texture&&this.gl_target&&(i.bindTexture(this.gl_target,this.gl_texture),r?(i.texParameteri(this.gl_target,Fe.TEXTURE_BASE_LEVEL,0),i.texParameteri(this.gl_target,Fe.TEXTURE_MAX_LEVEL,Math.log2(this.width)),i.texParameteri(this.gl_target,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR_MIPMAP_LINEAR),i.texParameteri(this.gl_target,Fe.TEXTURE_MAG_FILTER,Fe.LINEAR)):i.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.NEAREST_MIPMAP_LINEAR),i.generateMipmap(this.gl_target),i.bindTexture(this.gl_target,null)),this)},t.prototype.isNPOT=function(){var r=this.device.gl;return Vr(r)?!1:!df(this.width)||!df(this.height)},t}(Xu),cO=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;n.type=Jo.RenderTarget,n.gl_renderbuffer=null,n.texture=null;var f=n.device.gl,m=p.format,g=p.width,x=p.height,b=p.sampleCount,F=b===void 0?1:b,R=p.texture,I=!1;if((m===We.D32F||m===We.D24_S8)&&R&&!Vr(f)&&!s.WEBGL_depth_texture&&(R.destroy(),n.texture=null,I=!0),!I&&R)n.texture=R;else{n.gl_renderbuffer=n.device.ensureResourceExists(f.createRenderbuffer()),f.bindRenderbuffer(f.RENDERBUFFER,n.gl_renderbuffer);var O=n.device.translateTextureInternalFormat(m,!0);Vr(f)&&F>1?f.renderbufferStorageMultisample(Fe.RENDERBUFFER,F,O,g,x):f.renderbufferStorage(Fe.RENDERBUFFER,O,g,x)}return n.format=m,n.width=g,n.height=x,n.sampleCount=F,n}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gl_renderbuffer!==null&&this.device.gl.deleteRenderbuffer(this.gl_renderbuffer),this.texture&&this.texture.destroy()},t}(Xu),Bs;(function(e){e[e.NeedsCompile=0]="NeedsCompile",e[e.Compiling=1]="Compiling",e[e.NeedsBind=2]="NeedsBind",e[e.ReadyToUse=3]="ReadyToUse"})(Bs||(Bs={}));var lO=function(e){cn(t,e);function t(r,i){var s=r.id,p=r.device,n=r.descriptor,f=e.call(this,{id:s,device:p})||this;f.rawVertexGLSL=i,f.type=Jo.Program,f.uniformSetters={},f.attributes=[];var m=f.device.gl;return f.descriptor=n,f.gl_program=f.device.ensureResourceExists(m.createProgram()),f.gl_shader_vert=null,f.gl_shader_frag=null,f.compileState=Bs.NeedsCompile,f.tryCompileProgram(),f}return t.prototype.destroy=function(){e.prototype.destroy.call(this),this.device.gl.deleteProgram(this.gl_program),this.device.gl.deleteShader(this.gl_shader_vert),this.device.gl.deleteShader(this.gl_shader_frag)},t.prototype.tryCompileProgram=function(){bo(this.compileState===Bs.NeedsCompile);var r=this.descriptor,i=r.vertex,s=r.fragment,p=this.device.gl;i!=null&&i.glsl&&(s!=null&&s.glsl)&&(this.gl_shader_vert=this.compileShader(i.postprocess?i.postprocess(i.glsl):i.glsl,p.VERTEX_SHADER),this.gl_shader_frag=this.compileShader(s.postprocess?s.postprocess(s.glsl):s.glsl,p.FRAGMENT_SHADER),p.attachShader(this.gl_program,this.gl_shader_vert),p.attachShader(this.gl_program,this.gl_shader_frag),p.linkProgram(this.gl_program),this.compileState=Bs.Compiling,Vr(p)||(this.readUniformLocationsFromLinkedProgram(),this.readAttributesFromLinkedProgram()))},t.prototype.readAttributesFromLinkedProgram=function(){for(var r,i=this.device.gl,s=i.getProgramParameter(this.gl_program,i.ACTIVE_ATTRIBUTES),p=KD(this.descriptor.vertex.glsl),n=QD(this.rawVertexGLSL,p),f=function(x){var b=i.getActiveAttrib(m.gl_program,x),F=b.name,R=b.type,I=b.size,O=i.getAttribLocation(m.gl_program,F),U=(r=n.find(function(Y){return Y.name===F}))===null||r===void 0?void 0:r.location;O>=0&&!Wu(U)&&(m.attributes[U]={name:F,location:O,type:R,size:I})},m=this,g=0;g<s;g++)f(g)},t.prototype.readUniformLocationsFromLinkedProgram=function(){for(var r=this.device.gl,i=r.getProgramParameter(this.gl_program,r.ACTIVE_UNIFORMS),s=0;s<i;s++){var p=r.getActiveUniform(this.gl_program,s),n=jD(p.name).name,f=r.getUniformLocation(this.gl_program,n);if(this.uniformSetters[n]=vg(r,f,p),p&&p.size>1)for(var m=0;m<p.size;m++)f=r.getUniformLocation(this.gl_program,"".concat(n,"[").concat(m,"]")),this.uniformSetters["".concat(n,"[").concat(m,"]")]=vg(r,f,p)}},t.prototype.compileShader=function(r,i){var s=this.device.gl,p=this.device.ensureResourceExists(s.createShader(i));return s.shaderSource(p,r),s.compileShader(p),p},t.prototype.setUniformsLegacy=function(r){r===void 0&&(r={});var i=this.device.gl;if(!Vr(i)){var s=!1;for(var p in r){s||(i.useProgram(this.gl_program),s=!0);var n=r[p],f=this.uniformSetters[p];if(f){var m=n;m instanceof e6&&(m=m.textureIndex),f(m)}}}return this},t}(Xu),dO=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;n.type=Jo.QueryPool;var f=n.device.gl;if(Vr(f)){var m=p.elemCount,g=p.type;n.gl_query=xD(m,function(){return n.device.ensureResourceExists(f.createQuery())}),n.gl_query_type=aO(g)}return n}return t.prototype.queryResultOcclusion=function(r){var i=this.device.gl;if(Vr(i)){var s=this.gl_query[r];return i.getQueryParameter(s,i.QUERY_RESULT_AVAILABLE)?!!i.getQueryParameter(s,i.QUERY_RESULT):null}return null},t.prototype.destroy=function(){e.prototype.destroy.call(this);var r=this.device.gl;if(Vr(r))for(var i=0;i<this.gl_query.length;i++)r.deleteQuery(this.gl_query[i])},t}(Xu),yO=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=e.call(this,{id:i,device:s})||this;return p.type=Jo.Readback,p.gl_pbo=null,p.gl_sync=null,p}return t.prototype.clientWaitAsync=function(r,i,s){i===void 0&&(i=0),s===void 0&&(s=10);var p=this.device.gl;return new Promise(function(n,f){function m(){var g=p.clientWaitSync(r,i,0);if(g==p.WAIT_FAILED){f();return}if(g==p.TIMEOUT_EXPIRED){setTimeout(m,fD(s,0,p.MAX_CLIENT_WAIT_TIMEOUT_WEBGL));return}n()}m()})},t.prototype.getBufferSubDataAsync=function(r,i,s,p,n,f){return m0(this,void 0,void 0,function(){var m;return _0(this,function(g){switch(g.label){case 0:return m=this.device.gl,Vr(m)?(this.gl_sync=m.fenceSync(m.SYNC_GPU_COMMANDS_COMPLETE,0),m.flush(),[4,this.clientWaitAsync(this.gl_sync,0,10)]):[3,2];case 1:return g.sent(),m.bindBuffer(r,i),m.getBufferSubData(r,s,p,n,f),m.bindBuffer(r,null),[2,p];case 2:return[2]}})})},t.prototype.readTexture=function(r,i,s,p,n,f,m,g){return m===void 0&&(m=0),g===void 0&&(g=f.byteLength||0),m0(this,void 0,void 0,function(){var x,b,F,R,I;return _0(this,function(O){return x=this.device.gl,b=r,F=this.device.translateTextureFormat(b.format),R=this.device.translateTextureType(b.format),I=gD(b.format),Vr(x)?(this.gl_pbo=this.device.ensureResourceExists(x.createBuffer()),x.bindBuffer(x.PIXEL_PACK_BUFFER,this.gl_pbo),x.bufferData(x.PIXEL_PACK_BUFFER,g,x.STREAM_READ),x.bindBuffer(x.PIXEL_PACK_BUFFER,null),x.bindFramebuffer(Fe.READ_FRAMEBUFFER,this.device.readbackFramebuffer),x.framebufferTexture2D(Fe.READ_FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_2D,b.gl_texture,0),x.bindBuffer(x.PIXEL_PACK_BUFFER,this.gl_pbo),x.readPixels(i,s,p,n,F,R,m*I),x.bindBuffer(x.PIXEL_PACK_BUFFER,null),[2,this.getBufferSubDataAsync(x.PIXEL_PACK_BUFFER,this.gl_pbo,0,f,m,0)]):[2,this.readTextureSync(r,i,s,p,n,f,m,g)]})})},t.prototype.readTextureSync=function(r,i,s,p,n,f,m,g){g===void 0&&(g=f.byteLength||0);var x=this.device.gl,b=r,F=this.device.translateTextureType(b.format);return x.bindFramebuffer(Fe.FRAMEBUFFER,this.device.readbackFramebuffer),x.framebufferTexture2D(Fe.FRAMEBUFFER,Fe.COLOR_ATTACHMENT0,Fe.TEXTURE_2D,b.gl_texture,0),x.pixelStorei(x.PACK_ALIGNMENT,4),x.readPixels(i,s,p,n,x.RGBA,F,f),f},t.prototype.readBuffer=function(r,i,s,p,n){return m0(this,void 0,void 0,function(){var f;return _0(this,function(m){return f=this.device.gl,Vr(f)?[2,this.getBufferSubDataAsync(f.ARRAY_BUFFER,b0(r,i),i,s,p,n)]:[2,Promise.reject()]})})},t.prototype.destroy=function(){e.prototype.destroy.call(this),Vr(this.device.gl)&&(this.gl_sync!==null&&this.device.gl.deleteSync(this.gl_sync),this.gl_pbo!==null&&this.device.gl.deleteBuffer(this.gl_pbo))},t}(Xu),hO=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n,f,m=e.call(this,{id:i,device:s})||this;return m.type=Jo.RenderPipeline,m.drawMode=tO((n=p.topology)!==null&&n!==void 0?n:Vn.TRIANGLES),m.program=p.program,m.inputLayout=p.inputLayout,m.megaState=In(In({},M0(N0)),p.megaStateDescriptor),m.colorAttachmentFormats=p.colorAttachmentFormats.slice(),m.depthStencilAttachmentFormat=p.depthStencilAttachmentFormat,m.sampleCount=(f=p.sampleCount)!==null&&f!==void 0?f:1,m}return t}(Xu),fO=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;return n.type=Jo.ComputePipeline,n.descriptor=p,n}return t}(Xu),mO=function(){function e(){this.liveObjects=new Set,this.creationStacks=new Map,this.deletionStacks=new Map}return e.prototype.trackResourceCreated=function(t){this.creationStacks.set(t,new Error().stack),this.liveObjects.add(t)},e.prototype.trackResourceDestroyed=function(t){this.deletionStacks.has(t)&&console.warn("Object double freed:",t,`

Creation stack: `,this.creationStacks.get(t),`

Deletion stack: `,this.deletionStacks.get(t),`

This stack: `,new Error().stack),this.deletionStacks.set(t,new Error().stack),this.liveObjects.delete(t)},e.prototype.checkForLeaks=function(){var t,r;try{for(var i=l1(this.liveObjects.values()),s=i.next();!s.done;s=i.next()){var p=s.value;console.warn("Object leaked:",p,"Creation stack:",this.creationStacks.get(p))}}catch(n){t={error:n}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(t)throw t.error}}},e.prototype.setResourceLeakCheck=function(t,r){r?this.liveObjects.add(t):this.liveObjects.delete(t)},e}(),_O=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n,f,m=e.call(this,{id:i,device:s})||this;m.type=Jo.Sampler;var g=m.device.gl;if(Vr(g)){var x=m.device.ensureResourceExists(g.createSampler());g.samplerParameteri(x,Fe.TEXTURE_WRAP_S,Dd(p.addressModeU)),g.samplerParameteri(x,Fe.TEXTURE_WRAP_T,Dd(p.addressModeV)),g.samplerParameteri(x,Fe.TEXTURE_WRAP_R,Dd((n=p.addressModeW)!==null&&n!==void 0?n:p.addressModeU)),g.samplerParameteri(x,Fe.TEXTURE_MIN_FILTER,mh(p.minFilter,p.mipmapFilter)),g.samplerParameteri(x,Fe.TEXTURE_MAG_FILTER,mh(p.magFilter,aa.NO_MIP)),p.lodMinClamp!==void 0&&g.samplerParameterf(x,Fe.TEXTURE_MIN_LOD,p.lodMinClamp),p.lodMaxClamp!==void 0&&g.samplerParameterf(x,Fe.TEXTURE_MAX_LOD,p.lodMaxClamp),p.compareFunction!==void 0&&(g.samplerParameteri(x,g.TEXTURE_COMPARE_MODE,g.COMPARE_REF_TO_TEXTURE),g.samplerParameteri(x,g.TEXTURE_COMPARE_FUNC,p.compareFunction));var b=(f=p.maxAnisotropy)!==null&&f!==void 0?f:1;b>1&&m.device.EXT_texture_filter_anisotropic!==null&&(bo(p.minFilter===xn.BILINEAR&&p.magFilter===xn.BILINEAR&&p.mipmapFilter===aa.LINEAR),g.samplerParameterf(x,m.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,b)),m.gl_sampler=x}else m.descriptor=p;return m}return t.prototype.setTextureParameters=function(r,i,s){var p,n=this.device.gl,f=this.descriptor;this.isNPOT(i,s)?n.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_MIN_FILTER,Fe.LINEAR):n.texParameteri(r,Fe.TEXTURE_MIN_FILTER,mh(f.minFilter,f.mipmapFilter)),n.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_S,Dd(f.addressModeU)),n.texParameteri(Fe.TEXTURE_2D,Fe.TEXTURE_WRAP_T,Dd(f.addressModeV)),n.texParameteri(r,Fe.TEXTURE_MAG_FILTER,mh(f.magFilter,aa.NO_MIP));var m=(p=f.maxAnisotropy)!==null&&p!==void 0?p:1;m>1&&this.device.EXT_texture_filter_anisotropic!==null&&(bo(f.minFilter===xn.BILINEAR&&f.magFilter===xn.BILINEAR&&f.mipmapFilter===aa.LINEAR),n.texParameteri(r,this.device.EXT_texture_filter_anisotropic.TEXTURE_MAX_ANISOTROPY_EXT,m))},t.prototype.destroy=function(){e.prototype.destroy.call(this),Vr(this.device.gl)&&this.device.gl.deleteSampler(J2(this))},t.prototype.isNPOT=function(r,i){return!df(r)||!df(i)},t}(Xu),gO=function(){function e(){}return e.prototype.dispatchWorkgroups=function(t,r,i){},e.prototype.dispatchWorkgroupsIndirect=function(t,r){},e.prototype.setPipeline=function(t){},e.prototype.setBindings=function(t){},e.prototype.pushDebugGroup=function(t){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(t){},e}(),vO=function(e){cn(t,e);function t(){var r=e!==null&&e.apply(this,arguments)||this;return r.type=Jo.RenderBundle,r.commands=[],r}return t.prototype.push=function(r){this.commands.push(r)},t.prototype.replay=function(){this.commands.forEach(function(r){return r()})},t}(Xu),Ag=65536,EO=/uniform(?:\s+)(\w+)(?:\s?){([^]*?)}/g,xO=function(){function e(t,r){r===void 0&&(r={}),this.shaderDebug=!1,this.OES_vertex_array_object=null,this.ANGLE_instanced_arrays=null,this.OES_texture_float=null,this.OES_draw_buffers_indexed=null,this.WEBGL_draw_buffers=null,this.WEBGL_depth_texture=null,this.WEBGL_color_buffer_float=null,this.EXT_color_buffer_half_float=null,this.WEBGL_compressed_texture_s3tc=null,this.WEBGL_compressed_texture_s3tc_srgb=null,this.EXT_texture_compression_rgtc=null,this.EXT_texture_filter_anisotropic=null,this.KHR_parallel_shader_compile=null,this.EXT_texture_norm16=null,this.EXT_color_buffer_float=null,this.OES_texture_float_linear=null,this.OES_texture_half_float_linear=null,this.scTexture=null,this.scPlatformFramebuffer=null,this.currentActiveTexture=null,this.currentBoundVAO=null,this.currentProgram=null,this.resourceCreationTracker=null,this.resourceUniqueId=0,this.currentColorAttachments=[],this.currentColorAttachmentLevels=[],this.currentColorResolveTos=[],this.currentColorResolveToLevels=[],this.currentSampleCount=-1,this.currentIndexBufferByteOffset=null,this.currentMegaState=M0(N0),this.currentSamplers=[],this.currentTextures=[],this.currentUniformBuffers=[],this.currentUniformBufferByteOffsets=[],this.currentUniformBufferByteSizes=[],this.currentScissorEnabled=!1,this.currentStencilRef=null,this.currentRenderPassDescriptor=null,this.currentRenderPassDescriptorStack=[],this.debugGroupStack=[],this.resolveColorAttachmentsChanged=!1,this.resolveDepthStencilAttachmentsChanged=!1,this.explicitBindingLocations=!1,this.separateSamplerTextures=!1,this.viewportOrigin=hp.LOWER_LEFT,this.clipSpaceNearZ=C0.NEGATIVE_ONE,this.supportMRT=!1,this.inBlitRenderPass=!1,this.supportedSampleCounts=[],this.occlusionQueriesRecommended=!1,this.computeShadersSupported=!1,this.gl=t,this.contextAttributes=u1(t.getContextAttributes()),Vr(t)?(this.EXT_texture_norm16=t.getExtension("EXT_texture_norm16"),this.EXT_color_buffer_float=t.getExtension("EXT_color_buffer_float")):(this.OES_vertex_array_object=t.getExtension("OES_vertex_array_object"),this.ANGLE_instanced_arrays=t.getExtension("ANGLE_instanced_arrays"),this.OES_texture_float=t.getExtension("OES_texture_float"),this.WEBGL_draw_buffers=t.getExtension("WEBGL_draw_buffers"),this.WEBGL_depth_texture=t.getExtension("WEBGL_depth_texture"),this.WEBGL_color_buffer_float=t.getExtension("WEBGL_color_buffer_float"),this.EXT_color_buffer_half_float=t.getExtension("EXT_color_buffer_half_float"),t.getExtension("EXT_frag_depth"),t.getExtension("OES_element_index_uint"),t.getExtension("OES_standard_derivatives")),this.WEBGL_compressed_texture_s3tc=t.getExtension("WEBGL_compressed_texture_s3tc"),this.WEBGL_compressed_texture_s3tc_srgb=t.getExtension("WEBGL_compressed_texture_s3tc_srgb"),this.EXT_texture_compression_rgtc=t.getExtension("EXT_texture_compression_rgtc"),this.EXT_texture_filter_anisotropic=t.getExtension("EXT_texture_filter_anisotropic"),this.EXT_texture_norm16=t.getExtension("EXT_texture_norm16"),this.OES_texture_float_linear=t.getExtension("OES_texture_float_linear"),this.OES_texture_half_float_linear=t.getExtension("OES_texture_half_float_linear"),this.KHR_parallel_shader_compile=t.getExtension("KHR_parallel_shader_compile"),Vr(t)?(this.platformString="WebGL2",this.glslVersion="#version 300 es"):(this.platformString="WebGL1",this.glslVersion="#version 100"),this.scTexture=new e6({id:this.getNextUniqueId(),device:this,descriptor:{width:0,height:0,depthOrArrayLayers:1,dimension:zo.TEXTURE_2D,mipLevelCount:1,usage:ns.RENDER_TARGET,format:this.contextAttributes.alpha===!1?We.U8_RGB_RT:We.U8_RGBA_RT},fake:!0}),this.scTexture.formatKind=un.Float,this.scTexture.gl_target=null,this.scTexture.gl_texture=null,this.resolveColorReadFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveColorDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveDepthStencilReadFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.resolveDepthStencilDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.renderPassDrawFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.readbackFramebuffer=this.ensureResourceExists(t.createFramebuffer()),this.fallbackTexture2D=this.createFallbackTexture(zo.TEXTURE_2D,un.Float),this.fallbackTexture2DDepth=this.createFallbackTexture(zo.TEXTURE_2D,un.Depth),this.fallbackVertexBuffer=this.createBuffer({viewOrSize:1,usage:xi.VERTEX,hint:fp.STATIC}),Vr(t)&&(this.fallbackTexture2DArray=this.createFallbackTexture(zo.TEXTURE_2D_ARRAY,un.Float),this.fallbackTexture3D=this.createFallbackTexture(zo.TEXTURE_3D,un.Float),this.fallbackTextureCube=this.createFallbackTexture(zo.TEXTURE_CUBE_MAP,un.Float)),this.currentMegaState.depthCompare=ui.LESS,this.currentMegaState.depthWrite=!1,this.currentMegaState.attachmentsState[0].channelWriteMask=fa.ALL,t.enable(t.DEPTH_TEST),t.enable(t.STENCIL_TEST),this.checkLimits(),r.shaderDebug&&(this.shaderDebug=!0),r.trackResources&&(this.resourceCreationTracker=new mO)}return e.prototype.destroy=function(){this.blitBindings&&this.blitBindings.destroy(),this.blitInputLayout&&this.blitInputLayout.destroy(),this.blitRenderPipeline&&this.blitRenderPipeline.destroy(),this.blitVertexBuffer&&this.blitVertexBuffer.destroy(),this.blitProgram&&this.blitProgram.destroy()},e.prototype.createFallbackTexture=function(t,r){var i=t===zo.TEXTURE_CUBE_MAP?6:1,s=r===un.Depth?We.D32F:We.U8_RGBA_NORM,p=this.createTexture({dimension:t,format:s,usage:ns.SAMPLED,width:1,height:1,depthOrArrayLayers:i,mipLevelCount:1});return r===un.Float&&p.setImageData([new Uint8Array(4*i)]),d0(p)},e.prototype.getNextUniqueId=function(){return++this.resourceUniqueId},e.prototype.checkLimits=function(){var t=this.gl;if(this.maxVertexAttribs=t.getParameter(Fe.MAX_VERTEX_ATTRIBS),Vr(t)){this.uniformBufferMaxPageByteSize=Math.min(t.getParameter(Fe.MAX_UNIFORM_BLOCK_SIZE),Ag),this.uniformBufferWordAlignment=t.getParameter(t.UNIFORM_BUFFER_OFFSET_ALIGNMENT)/4;var r=t.getInternalformatParameter(t.RENDERBUFFER,t.DEPTH32F_STENCIL8,t.SAMPLES);this.supportedSampleCounts=r?yd([],cp(r),!1):[],this.occlusionQueriesRecommended=!0}else this.uniformBufferWordAlignment=64,this.uniformBufferMaxPageByteSize=Ag;this.uniformBufferMaxPageWordSize=this.uniformBufferMaxPageByteSize/4,this.supportedSampleCounts.includes(1)||this.supportedSampleCounts.push(1),this.supportedSampleCounts.sort(function(i,s){return i-s})},e.prototype.configureSwapChain=function(t,r,i){var s=this.scTexture;s.width=t,s.height=r,this.scPlatformFramebuffer=ED(i)},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.gl.canvas},e.prototype.getOnscreenTexture=function(){return this.scTexture},e.prototype.beginFrame=function(){},e.prototype.endFrame=function(){},e.prototype.translateTextureInternalFormat=function(t,r){switch(r===void 0&&(r=!1),t){case We.ALPHA:return Fe.ALPHA;case We.U8_LUMINANCE:case We.F16_LUMINANCE:case We.F32_LUMINANCE:return Fe.LUMINANCE;case We.F16_R:return Fe.R16F;case We.F16_RG:return Fe.RG16F;case We.F16_RGB:return Fe.RGB16F;case We.F16_RGBA:return Fe.RGBA16F;case We.F32_R:return Fe.R32F;case We.F32_RG:return Fe.RG32F;case We.F32_RGB:return Fe.RGB32F;case We.F32_RGBA:return Vr(this.gl)?Fe.RGBA32F:r?this.WEBGL_color_buffer_float.RGBA32F_EXT:Fe.RGBA;case We.U8_R_NORM:return Fe.R8;case We.U8_RG_NORM:return Fe.RG8;case We.U8_RGB_NORM:case We.U8_RGB_RT:return Fe.RGB8;case We.U8_RGB_SRGB:return Fe.SRGB8;case We.U8_RGBA_NORM:case We.U8_RGBA_RT:return Vr(this.gl)?Fe.RGBA8:r?Fe.RGBA4:Fe.RGBA;case We.U8_RGBA:return Fe.RGBA;case We.U8_RGBA_SRGB:case We.U8_RGBA_RT_SRGB:return Fe.SRGB8_ALPHA8;case We.U16_R:return Fe.R16UI;case We.U16_R_NORM:return this.EXT_texture_norm16.R16_EXT;case We.U16_RG_NORM:return this.EXT_texture_norm16.RG16_EXT;case We.U16_RGBA_NORM:return this.EXT_texture_norm16.RGBA16_EXT;case We.U16_RGBA_5551:return Fe.RGB5_A1;case We.U16_RGB_565:return Fe.RGB565;case We.U32_R:return Fe.R32UI;case We.S8_RGBA_NORM:return Fe.RGBA8_SNORM;case We.S8_RG_NORM:return Fe.RG8_SNORM;case We.BC1:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT;case We.BC1_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;case We.BC2:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT;case We.BC2_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;case We.BC3:return this.WEBGL_compressed_texture_s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT;case We.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT;case We.BC4_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_RGTC1_EXT;case We.BC4_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT;case We.BC5_UNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT;case We.BC5_SNORM:return this.EXT_texture_compression_rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT;case We.D32F_S8:return Vr(this.gl)?Fe.DEPTH32F_STENCIL8:this.WEBGL_depth_texture?Fe.DEPTH_STENCIL:Fe.DEPTH_COMPONENT16;case We.D24_S8:return Vr(this.gl)?Fe.DEPTH24_STENCIL8:this.WEBGL_depth_texture?Fe.DEPTH_STENCIL:Fe.DEPTH_COMPONENT16;case We.D32F:return Vr(this.gl)?Fe.DEPTH_COMPONENT32F:this.WEBGL_depth_texture?Fe.DEPTH_COMPONENT:Fe.DEPTH_COMPONENT16;case We.D24:return Vr(this.gl)?Fe.DEPTH_COMPONENT24:this.WEBGL_depth_texture?Fe.DEPTH_COMPONENT:Fe.DEPTH_COMPONENT16;default:throw new Error("whoops")}},e.prototype.translateTextureType=function(t){var r=Yp(t);switch(r){case Dt.U8:return Fe.UNSIGNED_BYTE;case Dt.U16:return Fe.UNSIGNED_SHORT;case Dt.U32:return Fe.UNSIGNED_INT;case Dt.S8:return Fe.BYTE;case Dt.F16:return Fe.HALF_FLOAT;case Dt.F32:return Fe.FLOAT;case Dt.U16_PACKED_5551:return Fe.UNSIGNED_SHORT_5_5_5_1;case Dt.D32F:return Vr(this.gl)?Fe.FLOAT:this.WEBGL_depth_texture?Fe.UNSIGNED_INT:Fe.UNSIGNED_BYTE;case Dt.D24:return Vr(this.gl)?Fe.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?Fe.UNSIGNED_SHORT:Fe.UNSIGNED_BYTE;case Dt.D24S8:return Vr(this.gl)?Fe.UNSIGNED_INT_24_8:this.WEBGL_depth_texture?Fe.UNSIGNED_INT_24_8_WEBGL:Fe.UNSIGNED_BYTE;case Dt.D32FS8:return Fe.FLOAT_32_UNSIGNED_INT_24_8_REV;default:throw new Error("whoops")}},e.prototype.translateInternalTextureFormat=function(t){switch(t){case We.F32_R:return Fe.R32F;case We.F32_RG:return Fe.RG32F;case We.F32_RGB:return Fe.RGB32F;case We.F32_RGBA:return Fe.RGBA32F;case We.F16_R:return Fe.R16F;case We.F16_RG:return Fe.RG16F;case We.F16_RGB:return Fe.RGB16F;case We.F16_RGBA:return Fe.RGBA16F}return this.translateTextureFormat(t)},e.prototype.translateTextureFormat=function(t){if(R7(t)||t===We.F32_LUMINANCE||t===We.U8_LUMINANCE)return this.translateTextureInternalFormat(t);var r=Vr(this.gl)||!Vr(this.gl)&&!!this.WEBGL_depth_texture;switch(t){case We.D24_S8:case We.D32F_S8:return r?Fe.DEPTH_STENCIL:Fe.RGBA;case We.D24:case We.D32F:return r?Fe.DEPTH_COMPONENT:Fe.RGBA}var i=w7(t),s=B6(t);switch(s){case Dr.A:return Fe.ALPHA;case Dr.R:return i?Fe.RED_INTEGER:Fe.RED;case Dr.RG:return i?Fe.RG_INTEGER:Fe.RG;case Dr.RGB:return i?Fe.RGB_INTEGER:Fe.RGB;case Dr.RGBA:return Fe.RGBA}},e.prototype.setActiveTexture=function(t){this.currentActiveTexture!==t&&(this.gl.activeTexture(t),this.currentActiveTexture=t)},e.prototype.bindVAO=function(t){this.currentBoundVAO!==t&&(Vr(this.gl)?this.gl.bindVertexArray(t):this.OES_vertex_array_object.bindVertexArrayOES(t),this.currentBoundVAO=t)},e.prototype.programCompiled=function(t){bo(t.compileState!==Bs.NeedsCompile),t.compileState===Bs.Compiling&&(t.compileState=Bs.NeedsBind,this.shaderDebug&&this.checkProgramCompilationForErrors(t))},e.prototype.useProgram=function(t){this.currentProgram!==t&&(this.programCompiled(t),this.gl.useProgram(t.gl_program),this.currentProgram=t)},e.prototype.ensureResourceExists=function(t){if(t===null){var r=this.gl.getError();throw new Error("Created resource is null; GL error encountered: ".concat(r))}else return t},e.prototype.createBuffer=function(t){return new uO({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTexture=function(t){return new e6({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createSampler=function(t){return new _O({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTarget=function(t){return new cO({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTargetFromTexture=function(t){var r=t,i=r.format,s=r.width,p=r.height,n=r.mipLevelCount;return bo(n===1),this.createRenderTarget({format:i,width:s,height:p,sampleCount:1,texture:t})},e.prototype.createProgram=function(t){var r,i,s,p=(r=t.vertex)===null||r===void 0?void 0:r.glsl;return!((i=t.vertex)===null||i===void 0)&&i.glsl&&(t.vertex.glsl=D0(this.queryVendorInfo(),"vert",t.vertex.glsl)),!((s=t.fragment)===null||s===void 0)&&s.glsl&&(t.fragment.glsl=D0(this.queryVendorInfo(),"frag",t.fragment.glsl)),this.createProgramSimple(t,p)},e.prototype.createProgramSimple=function(t,r){var i=new lO({id:this.getNextUniqueId(),device:this,descriptor:t},r);return i},e.prototype.createBindings=function(t){return new JD({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createInputLayout=function(t){return new pO({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderPipeline=function(t){return new hO({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createComputePass=function(){return new gO},e.prototype.createComputePipeline=function(t){return new fO({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createReadback=function(){return new yO({id:this.getNextUniqueId(),device:this})},e.prototype.createQueryPool=function(t,r){return new dO({id:this.getNextUniqueId(),device:this,descriptor:{type:t,elemCount:r}})},e.prototype.formatRenderPassDescriptor=function(t){var r,i,s,p,n,f,m=t.colorAttachment;t.depthClearValue=(r=t.depthClearValue)!==null&&r!==void 0?r:"load",t.stencilClearValue=(i=t.stencilClearValue)!==null&&i!==void 0?i:"load";for(var g=0;g<m.length;g++)t.colorAttachmentLevel||(t.colorAttachmentLevel=[]),t.colorAttachmentLevel[g]=(s=t.colorAttachmentLevel[g])!==null&&s!==void 0?s:0,t.colorResolveToLevel||(t.colorResolveToLevel=[]),t.colorResolveToLevel[g]=(p=t.colorResolveToLevel[g])!==null&&p!==void 0?p:0,t.colorClearColor||(t.colorClearColor=[]),t.colorClearColor[g]=(n=t.colorClearColor[g])!==null&&n!==void 0?n:"load",t.colorStore||(t.colorStore=[]),t.colorStore[g]=(f=t.colorStore[g])!==null&&f!==void 0?f:!1},e.prototype.createRenderBundle=function(){return new vO({id:this.getNextUniqueId(),device:this})},e.prototype.beginBundle=function(t){this.renderBundle=t},e.prototype.endBundle=function(){this.renderBundle=void 0},e.prototype.executeBundles=function(t){t.forEach(function(r){r.replay()})},e.prototype.createRenderPass=function(t){this.currentRenderPassDescriptor!==null&&this.currentRenderPassDescriptorStack.push(this.currentRenderPassDescriptor),this.currentRenderPassDescriptor=t,this.formatRenderPassDescriptor(t);var r=t.colorAttachment,i=t.colorAttachmentLevel,s=t.colorClearColor,p=t.colorResolveTo,n=t.colorResolveToLevel,f=t.depthStencilAttachment,m=t.depthClearValue,g=t.stencilClearValue,x=t.depthStencilResolveTo,b=p&&p.length===1&&p[0]===this.scTexture;this.setRenderPassParametersBegin(r.length,b);for(var F=0;F<r.length;F++)this.setRenderPassParametersColor(F,r[F],i[F],p[F],n[F],b);this.setRenderPassParametersDepthStencil(f,x,b),this.validateCurrentAttachments();for(var F=0;F<r.length;F++){var R=s[F];R!=="load"&&this.setRenderPassParametersClearColor(F,R.r,R.g,R.b,R.a)}return this.setRenderPassParametersClearDepthStencil(m,g),this},e.prototype.submitPass=function(t){bo(this.currentRenderPassDescriptor!==null),this.endPass(),this.currentRenderPassDescriptorStack.length?this.currentRenderPassDescriptor=this.currentRenderPassDescriptorStack.pop():this.currentRenderPassDescriptor=null},e.prototype.copySubTexture2D=function(t,r,i,s,p,n){var f=this.gl,m=t,g=s;if(bo(g.mipLevelCount===1),bo(m.mipLevelCount===1),Vr(f))m===this.scTexture?f.bindFramebuffer(f.DRAW_FRAMEBUFFER,this.scPlatformFramebuffer):(f.bindFramebuffer(f.DRAW_FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.bindFramebufferAttachment(f.DRAW_FRAMEBUFFER,f.COLOR_ATTACHMENT0,m,0)),f.bindFramebuffer(f.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.bindFramebufferAttachment(f.READ_FRAMEBUFFER,f.COLOR_ATTACHMENT0,g,0),f.blitFramebuffer(p,n,p+g.width,n+g.height,r,i,r+g.width,i+g.height,f.COLOR_BUFFER_BIT,f.LINEAR),f.bindFramebuffer(f.READ_FRAMEBUFFER,null),f.bindFramebuffer(f.DRAW_FRAMEBUFFER,null);else if(m===this.scTexture){var x=this.createRenderTargetFromTexture(s);this.submitBlitRenderPass(x,m)}},e.prototype.queryLimits=function(){return this},e.prototype.queryTextureFormatSupported=function(t,r,i){switch(t){case We.BC1_SRGB:case We.BC2_SRGB:case We.BC3_SRGB:return this.WEBGL_compressed_texture_s3tc_srgb!==null?s2(r,i,4,4):!1;case We.BC1:case We.BC2:case We.BC3:return this.WEBGL_compressed_texture_s3tc!==null?s2(r,i,4,4):!1;case We.BC4_UNORM:case We.BC4_SNORM:case We.BC5_UNORM:case We.BC5_SNORM:return this.EXT_texture_compression_rgtc!==null?s2(r,i,4,4):!1;case We.U16_R_NORM:case We.U16_RG_NORM:case We.U16_RGBA_NORM:return this.EXT_texture_norm16!==null;case We.F32_R:case We.F32_RG:case We.F32_RGB:case We.F32_RGBA:return this.OES_texture_float_linear!==null;case We.F16_R:case We.F16_RG:case We.F16_RGB:case We.F16_RGBA:return this.OES_texture_half_float_linear!==null;default:return!0}},e.prototype.queryProgramReady=function(t){var r=this.gl;if(t.compileState===Bs.NeedsCompile)throw new Error("whoops");if(t.compileState===Bs.Compiling){var i=void 0;return this.KHR_parallel_shader_compile!==null?i=r.getProgramParameter(t.gl_program,this.KHR_parallel_shader_compile.COMPLETION_STATUS_KHR):i=!0,i&&this.programCompiled(t),i}return t.compileState===Bs.NeedsBind||t.compileState===Bs.ReadyToUse},e.prototype.queryPlatformAvailable=function(){return this.gl.isContextLost()},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(t){return this.currentRenderPassDescriptor},e.prototype.queryRenderTarget=function(t){var r=t;return r},e.prototype.setResourceName=function(t,r){if(t.name=r,t.type===Jo.Buffer)for(var i=t.gl_buffer_pages,s=0;s<i.length;s++)Od(i[s],"".concat(r," Page ").concat(s));else if(t.type===Jo.Texture)Od(d0(t),r);else if(t.type===Jo.Sampler)Od(J2(t),r);else if(t.type===Jo.RenderTarget){var p=t.gl_renderbuffer;p!==null&&Od(p,r)}else t.type===Jo.InputLayout&&Od(t.vao,r)},e.prototype.setResourceLeakCheck=function(t,r){this.resourceCreationTracker!==null&&this.resourceCreationTracker.setResourceLeakCheck(t,r)},e.prototype.checkForLeaks=function(){this.resourceCreationTracker!==null&&this.resourceCreationTracker.checkForLeaks()},e.prototype.pushDebugGroup=function(t){},e.prototype.popDebugGroup=function(){},e.prototype.insertDebugMarker=function(t){},e.prototype.programPatched=function(t,r){bo(this.shaderDebug)},e.prototype.getBufferData=function(t,r,i){i===void 0&&(i=0);var s=this.gl;Vr(s)&&(s.bindBuffer(s.COPY_READ_BUFFER,b0(t,i*4)),s.getBufferSubData(s.COPY_READ_BUFFER,i*4,r))},e.prototype.debugGroupStatisticsDrawCall=function(t){t===void 0&&(t=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].drawCallCount+=t},e.prototype.debugGroupStatisticsBufferUpload=function(t){t===void 0&&(t=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].bufferUploadCount+=t},e.prototype.debugGroupStatisticsTextureBind=function(t){t===void 0&&(t=1);for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].textureBindCount+=t},e.prototype.debugGroupStatisticsTriangles=function(t){for(var r=this.debugGroupStack.length-1;r>=0;r--)this.debugGroupStack[r].triangleCount+=t},e.prototype.reportShaderError=function(t,r){var i=this.gl,s=i.getShaderParameter(t,i.COMPILE_STATUS);if(!s){console.error(PD(r));var p=i.getExtension("WEBGL_debug_shaders");p&&console.error(p.getTranslatedShaderSource(t)),console.error(i.getShaderInfoLog(t))}return s},e.prototype.checkProgramCompilationForErrors=function(t){var r=this.gl,i=t.gl_program;if(!r.getProgramParameter(i,r.LINK_STATUS)){var s=t.descriptor;if(!this.reportShaderError(t.gl_shader_vert,s.vertex.glsl)||!this.reportShaderError(t.gl_shader_frag,s.fragment.glsl))return;console.error(r.getProgramInfoLog(t.gl_program))}},e.prototype.bindFramebufferAttachment=function(t,r,i,s){var p=this.gl;if(Wu(i))p.framebufferRenderbuffer(t,r,p.RENDERBUFFER,null);else if(i.type===Jo.RenderTarget)i.gl_renderbuffer!==null?p.framebufferRenderbuffer(t,r,p.RENDERBUFFER,i.gl_renderbuffer):i.texture!==null&&p.framebufferTexture2D(t,r,Fe.TEXTURE_2D,d0(i.texture),s);else if(i.type===Jo.Texture){var n=d0(i);i.dimension===zo.TEXTURE_2D?p.framebufferTexture2D(t,r,Fe.TEXTURE_2D,n,s):Vr(p)&&(i.dimension,zo.TEXTURE_2D_ARRAY)}},e.prototype.bindFramebufferDepthStencilAttachment=function(t,r){var i=this.gl,s=Wu(r)?xr.Depth|xr.Stencil:I0(r.format),p=!!(s&xr.Depth),n=!!(s&xr.Stencil);if(p&&n){var f=Vr(this.gl)||!Vr(this.gl)&&!!this.WEBGL_depth_texture;f?this.bindFramebufferAttachment(t,i.DEPTH_STENCIL_ATTACHMENT,r,0):this.bindFramebufferAttachment(t,i.DEPTH_ATTACHMENT,r,0)}else p?(this.bindFramebufferAttachment(t,i.DEPTH_ATTACHMENT,r,0),this.bindFramebufferAttachment(t,i.STENCIL_ATTACHMENT,null,0)):n&&(this.bindFramebufferAttachment(t,i.STENCIL_ATTACHMENT,r,0),this.bindFramebufferAttachment(t,i.DEPTH_ATTACHMENT,null,0))},e.prototype.validateCurrentAttachments=function(){for(var t=-1,r=-1,i=-1,s=0;s<this.currentColorAttachments.length;s++){var p=this.currentColorAttachments[s];p!==null&&(t===-1?(t=p.sampleCount,r=p.width,i=p.height):(bo(t===p.sampleCount),bo(r===p.width),bo(i===p.height)))}this.currentDepthStencilAttachment&&(t===-1?t=this.currentDepthStencilAttachment.sampleCount:(bo(t===this.currentDepthStencilAttachment.sampleCount),bo(r===this.currentDepthStencilAttachment.width),bo(i===this.currentDepthStencilAttachment.height))),this.currentSampleCount=t},e.prototype.setRenderPassParametersBegin=function(t,r){r===void 0&&(r=!1);var i=this.gl;if(r)i.bindFramebuffer(Fe.FRAMEBUFFER,null);else if(Vr(i)?i.bindFramebuffer(Fe.DRAW_FRAMEBUFFER,this.renderPassDrawFramebuffer):this.inBlitRenderPass||i.bindFramebuffer(Fe.FRAMEBUFFER,this.renderPassDrawFramebuffer),Vr(i)?i.drawBuffers([Fe.COLOR_ATTACHMENT0,Fe.COLOR_ATTACHMENT1,Fe.COLOR_ATTACHMENT2,Fe.COLOR_ATTACHMENT3]):!this.inBlitRenderPass&&this.WEBGL_draw_buffers&&this.WEBGL_draw_buffers.drawBuffersWEBGL([Fe.COLOR_ATTACHMENT0_WEBGL,Fe.COLOR_ATTACHMENT1_WEBGL,Fe.COLOR_ATTACHMENT2_WEBGL,Fe.COLOR_ATTACHMENT3_WEBGL]),!this.inBlitRenderPass)for(var s=t;s<this.currentColorAttachments.length;s++){var p=Vr(i)?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,n=Vr(i)?Fe.COLOR_ATTACHMENT0:Fe.COLOR_ATTACHMENT0_WEBGL;i.framebufferRenderbuffer(p,n+s,Fe.RENDERBUFFER,null),i.framebufferTexture2D(p,n+s,Fe.TEXTURE_2D,null,0)}this.currentColorAttachments.length=t},e.prototype.setRenderPassParametersColor=function(t,r,i,s,p,n){n===void 0&&(n=!1);var f=this.gl,m=Vr(f);(this.currentColorAttachments[t]!==r||this.currentColorAttachmentLevels[t]!==i)&&(this.currentColorAttachments[t]=r,this.currentColorAttachmentLevels[t]=i,!n&&(m||!m&&this.WEBGL_draw_buffers)&&this.bindFramebufferAttachment(m?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,(m?Fe.COLOR_ATTACHMENT0:Fe.COLOR_ATTACHMENT0_WEBGL)+t,r,i),this.resolveColorAttachmentsChanged=!0),(this.currentColorResolveTos[t]!==s||this.currentColorResolveToLevels[t]!==p)&&(this.currentColorResolveTos[t]=s,this.currentColorResolveToLevels[t]=p,s!==null&&(this.resolveColorAttachmentsChanged=!0))},e.prototype.setRenderPassParametersDepthStencil=function(t,r,i){i===void 0&&(i=!1);var s=this.gl;this.currentDepthStencilAttachment!==t&&(this.currentDepthStencilAttachment=t,!i&&!this.inBlitRenderPass&&this.bindFramebufferDepthStencilAttachment(Vr(s)?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,this.currentDepthStencilAttachment),this.resolveDepthStencilAttachmentsChanged=!0),this.currentDepthStencilResolveTo!==r&&(this.currentDepthStencilResolveTo=r,r&&(this.resolveDepthStencilAttachmentsChanged=!0))},e.prototype.setRenderPassParametersClearColor=function(t,r,i,s,p){var n=this.gl;if(this.OES_draw_buffers_indexed!==null){var f=this.currentMegaState.attachmentsState[t];f&&f.channelWriteMask!==fa.ALL&&(this.OES_draw_buffers_indexed.colorMaskiOES(t,!0,!0,!0,!0),f.channelWriteMask=fa.ALL)}else{var f=this.currentMegaState.attachmentsState[0];f&&f.channelWriteMask!==fa.ALL&&(n.colorMask(!0,!0,!0,!0),f.channelWriteMask=fa.ALL)}this.setScissorRectEnabled(!1),Vr(n)?n.clearBufferfv(n.COLOR,t,[r,i,s,p]):(n.clearColor(r,i,s,p),n.clear(n.COLOR_BUFFER_BIT))},e.prototype.setRenderPassParametersClearDepthStencil=function(t,r){t===void 0&&(t="load"),r===void 0&&(r="load");var i=this.gl;t!=="load"&&(bo(!!this.currentDepthStencilAttachment),this.currentMegaState.depthWrite||(i.depthMask(!0),this.currentMegaState.depthWrite=!0),Vr(i)?i.clearBufferfv(i.DEPTH,0,[t]):(i.clearDepth(t),i.clear(i.DEPTH_BUFFER_BIT))),r!=="load"&&(bo(!!this.currentDepthStencilAttachment),this.currentMegaState.stencilWrite||(i.enable(i.STENCIL_TEST),i.stencilMask(255),this.currentMegaState.stencilWrite=!0),Vr(i)?i.clearBufferiv(i.STENCIL,0,[r]):(i.clearStencil(r),i.clear(i.STENCIL_BUFFER_BIT)))},e.prototype.setBindings=function(t){var r=this,i;if(this.renderBundle){this.renderBundle.push(function(){return r.setBindings(t)});return}var s=this.gl,p=t,n=p.uniformBufferBindings,f=p.samplerBindings,m=p.bindingLayouts;bo(0<m.bindingLayoutTables.length);var g=m.bindingLayoutTables[0];bo(n.length>=g.numUniformBuffers),bo(f.length>=g.numSamplers);for(var x=0;x<n.length;x++){var b=n[x];if(b.size!==0){var F=g.firstUniformBuffer+x,R=b.buffer,I=b.offset||0,O=b.size||R.byteSize;if(R!==this.currentUniformBuffers[F]||I!==this.currentUniformBufferByteOffsets[F]||O!==this.currentUniformBufferByteSizes[F]){var U=I%R.pageByteSize,Y=R.gl_buffer_pages[I/R.pageByteSize|0];bo(U+O<=R.pageByteSize),Vr(s)&&s.bindBufferRange(s.UNIFORM_BUFFER,F,Y,U,O),this.currentUniformBuffers[F]=R,this.currentUniformBufferByteOffsets[F]=I,this.currentUniformBufferByteSizes[F]=O}}}for(var x=0;x<g.numSamplers;x++){var b=f[x],ee=g.firstSampler+x,oe=b!==null&&b.sampler!==null?J2(b.sampler):null,Re=b!==null&&b.texture!==null?d0(b.texture):null;if(this.currentSamplers[ee]!==oe&&(Vr(s)&&s.bindSampler(ee,oe),this.currentSamplers[ee]=oe),this.currentTextures[ee]!==Re){if(this.setActiveTexture(s.TEXTURE0+ee),Re!==null){var Ae=u1(b).texture,ce=Ae.gl_target,Ie=Ae.width,De=Ae.height;b.texture.textureIndex=ee,s.bindTexture(ce,Re),Vr(s)||(i=b.sampler)===null||i===void 0||i.setTextureParameters(ce,Ie,De),this.debugGroupStatisticsTextureBind()}else{var ht=In(In({},b),T7),qe=ht.dimension,we=ht.formatKind,ce=sO(qe);s.bindTexture(ce,this.getFallbackTexture(In({gl_target:ce,formatKind:we},ht)))}this.currentTextures[ee]=Re}}},e.prototype.setViewport=function(t,r,i,s){var p=this.gl;p.viewport(t,r,i,s)},e.prototype.setScissorRect=function(t,r,i,s){var p=this.gl;this.setScissorRectEnabled(!0),p.scissor(t,r,i,s)},e.prototype.applyAttachmentStateIndexed=function(t,r,i){var s=this.gl,p=this.OES_draw_buffers_indexed;r.channelWriteMask!==i.channelWriteMask&&(p.colorMaskiOES(t,!!(i.channelWriteMask&fa.RED),!!(i.channelWriteMask&fa.GREEN),!!(i.channelWriteMask&fa.BLUE),!!(i.channelWriteMask&fa.ALPHA)),r.channelWriteMask=i.channelWriteMask);var n=r.rgbBlendState.blendMode!==i.rgbBlendState.blendMode||r.alphaBlendState.blendMode!==i.alphaBlendState.blendMode,f=r.rgbBlendState.blendSrcFactor!==i.rgbBlendState.blendSrcFactor||r.alphaBlendState.blendSrcFactor!==i.alphaBlendState.blendSrcFactor||r.rgbBlendState.blendDstFactor!==i.rgbBlendState.blendDstFactor||r.alphaBlendState.blendDstFactor!==i.alphaBlendState.blendDstFactor;(f||n)&&(hl(r.rgbBlendState)&&hl(r.alphaBlendState)?p.enableiOES(t,s.BLEND):hl(i.rgbBlendState)&&hl(i.alphaBlendState)&&p.disableiOES(t,s.BLEND)),n&&(p.blendEquationSeparateiOES(t,i.rgbBlendState.blendMode,i.alphaBlendState.blendMode),r.rgbBlendState.blendMode=i.rgbBlendState.blendMode,r.alphaBlendState.blendMode=i.alphaBlendState.blendMode),f&&(p.blendFuncSeparateiOES(t,i.rgbBlendState.blendSrcFactor,i.rgbBlendState.blendDstFactor,i.alphaBlendState.blendSrcFactor,i.alphaBlendState.blendDstFactor),r.rgbBlendState.blendSrcFactor=i.rgbBlendState.blendSrcFactor,r.alphaBlendState.blendSrcFactor=i.alphaBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor=i.rgbBlendState.blendDstFactor,r.alphaBlendState.blendDstFactor=i.alphaBlendState.blendDstFactor)},e.prototype.applyAttachmentState=function(t,r){var i=this.gl;t.channelWriteMask!==r.channelWriteMask&&(i.colorMask(!!(r.channelWriteMask&fa.RED),!!(r.channelWriteMask&fa.GREEN),!!(r.channelWriteMask&fa.BLUE),!!(r.channelWriteMask&fa.ALPHA)),t.channelWriteMask=r.channelWriteMask);var s=t.rgbBlendState.blendMode!==r.rgbBlendState.blendMode||t.alphaBlendState.blendMode!==r.alphaBlendState.blendMode,p=t.rgbBlendState.blendSrcFactor!==r.rgbBlendState.blendSrcFactor||t.alphaBlendState.blendSrcFactor!==r.alphaBlendState.blendSrcFactor||t.rgbBlendState.blendDstFactor!==r.rgbBlendState.blendDstFactor||t.alphaBlendState.blendDstFactor!==r.alphaBlendState.blendDstFactor;(p||s)&&(hl(t.rgbBlendState)&&hl(t.alphaBlendState)?i.enable(i.BLEND):hl(r.rgbBlendState)&&hl(r.alphaBlendState)&&i.disable(i.BLEND)),s&&(i.blendEquationSeparate(r.rgbBlendState.blendMode,r.alphaBlendState.blendMode),t.rgbBlendState.blendMode=r.rgbBlendState.blendMode,t.alphaBlendState.blendMode=r.alphaBlendState.blendMode),p&&(i.blendFuncSeparate(r.rgbBlendState.blendSrcFactor,r.rgbBlendState.blendDstFactor,r.alphaBlendState.blendSrcFactor,r.alphaBlendState.blendDstFactor),t.rgbBlendState.blendSrcFactor=r.rgbBlendState.blendSrcFactor,t.alphaBlendState.blendSrcFactor=r.alphaBlendState.blendSrcFactor,t.rgbBlendState.blendDstFactor=r.rgbBlendState.blendDstFactor,t.alphaBlendState.blendDstFactor=r.alphaBlendState.blendDstFactor)},e.prototype.setMegaState=function(t){var r=this.gl,i=this.currentMegaState;if(this.OES_draw_buffers_indexed!==null)for(var s=0;s<t.attachmentsState.length;s++)this.applyAttachmentStateIndexed(s,i.attachmentsState[0],t.attachmentsState[0]);else bo(t.attachmentsState.length===1),this.applyAttachmentState(i.attachmentsState[0],t.attachmentsState[0]);x7(i.blendConstant,t.blendConstant)||(r.blendColor(t.blendConstant.r,t.blendConstant.g,t.blendConstant.b,t.blendConstant.a),P7(i.blendConstant,t.blendConstant)),i.depthCompare!==t.depthCompare&&(r.depthFunc(t.depthCompare),i.depthCompare=t.depthCompare),!!i.depthWrite!=!!t.depthWrite&&(r.depthMask(t.depthWrite),i.depthWrite=t.depthWrite),!!i.stencilWrite!=!!t.stencilWrite&&(r.stencilMask(t.stencilWrite?255:0),i.stencilWrite=t.stencilWrite);var p=!1;if(!ff(i.stencilFront,t.stencilFront)){p=!0;var n=t.stencilFront,f=n.passOp,m=n.failOp,g=n.depthFailOp,x=n.compare;(i.stencilFront.passOp!==f||i.stencilFront.failOp!==m||i.stencilFront.depthFailOp!==g)&&(r.stencilOpSeparate(r.FRONT,m,g,f),i.stencilFront.passOp=f,i.stencilFront.failOp=m,i.stencilFront.depthFailOp=g),i.stencilFront.compare!==x&&(this.setStencilReference(0),i.stencilFront.compare=x)}if(!ff(i.stencilBack,t.stencilBack)){p=!0;var b=t.stencilBack,f=b.passOp,m=b.failOp,g=b.depthFailOp,x=b.compare;(i.stencilBack.passOp!==f||i.stencilBack.failOp!==m||i.stencilBack.depthFailOp!==g)&&(r.stencilOpSeparate(r.BACK,m,g,f),i.stencilBack.passOp=f,i.stencilBack.failOp=m,i.stencilBack.depthFailOp=g),i.stencilBack.compare!==x&&(this.setStencilReference(0),i.stencilBack.compare=x)}(i.stencilFront.mask!==t.stencilFront.mask||i.stencilBack.mask!==t.stencilBack.mask)&&(p=!0,i.stencilFront.mask=t.stencilFront.mask,i.stencilBack.mask=t.stencilBack.mask),p&&this.applyStencil(),i.cullMode!==t.cullMode&&(i.cullMode===ks.NONE?r.enable(r.CULL_FACE):t.cullMode===ks.NONE&&r.disable(r.CULL_FACE),t.cullMode===ks.BACK?r.cullFace(r.BACK):t.cullMode===ks.FRONT?r.cullFace(r.FRONT):t.cullMode===ks.FRONT_AND_BACK&&r.cullFace(r.FRONT_AND_BACK),i.cullMode=t.cullMode),i.frontFace!==t.frontFace&&(r.frontFace(t.frontFace),i.frontFace=t.frontFace),i.polygonOffset!==t.polygonOffset&&(t.polygonOffset?r.enable(r.POLYGON_OFFSET_FILL):r.disable(r.POLYGON_OFFSET_FILL),i.polygonOffset=t.polygonOffset),(i.polygonOffsetFactor!==t.polygonOffsetFactor||i.polygonOffsetUnits!==t.polygonOffsetUnits)&&(r.polygonOffset(t.polygonOffsetFactor,t.polygonOffsetUnits),i.polygonOffsetFactor=t.polygonOffsetFactor,i.polygonOffsetUnits=t.polygonOffsetUnits)},e.prototype.validatePipelineFormats=function(t){for(var r=0;r<this.currentColorAttachments.length;r++)var i=this.currentColorAttachments[r];this.currentDepthStencilAttachment&&bo(this.currentDepthStencilAttachment.format===t.depthStencilAttachmentFormat),this.currentSampleCount!==-1&&bo(this.currentSampleCount===t.sampleCount)},e.prototype.setPipeline=function(t){var r=this;if(this.renderBundle){this.renderBundle.push(function(){return r.setPipeline(t)});return}this.currentPipeline=t,this.validatePipelineFormats(this.currentPipeline),this.setMegaState(this.currentPipeline.megaState);var i=this.currentPipeline.program;if(this.useProgram(i),i.compileState===Bs.NeedsBind){var s=this.gl,p=i.gl_program,n=i.descriptor,f=bg(n.vertex.glsl,EO);if(Vr(s))for(var m=0;m<f.length;m++){var g=cp(f[m],2),x=g[1],b=s.getUniformBlockIndex(p,x);b!==-1&&b!==4294967295&&s.uniformBlockBinding(p,b,m)}for(var F=bg(n.fragment.glsl,/^uniform .*sampler\S+ (\w+);\s* \/\/ BINDING=(\d+)$/gm),m=0;m<F.length;m++){var R=cp(F[m],3),I=R[1],O=R[2],U=s.getUniformLocation(p,I);s.uniform1i(U,parseInt(O))}i.compileState=Bs.ReadyToUse}},e.prototype.setVertexInput=function(t,r,i){var s,p,n=this,f;if(this.renderBundle){this.renderBundle.push(function(){return n.setVertexInput(t,r,i)});return}if(t!==null){bo(this.currentPipeline.inputLayout===t);var m=t;this.bindVAO(m.vao);for(var g=this.gl,x=0;x<m.vertexBufferDescriptors.length;x++){var b=m.vertexBufferDescriptors[x],F=b.arrayStride,R=b.attributes;try{for(var I=(s=void 0,l1(R)),O=I.next();!O.done;O=I.next()){var U=O.value,Y=U.shaderLocation,ee=U.offset,oe=Vr(g)?Y:(f=m.program.attributes[Y])===null||f===void 0?void 0:f.location;if(!Wu(oe)){var Re=r[x];if(Re===null)continue;var Ae=U.vertexFormat;g.bindBuffer(g.ARRAY_BUFFER,b0(Re.buffer));var ce=(Re.offset||0)+ee;g.vertexAttribPointer(oe,Ae.size,Ae.type,Ae.normalized,F,ce)}}}catch(De){s={error:De}}finally{try{O&&!O.done&&(p=I.return)&&p.call(I)}finally{if(s)throw s.error}}}if(bo(i!==null==(m.indexBufferFormat!==null)),i!==null){var Ie=i.buffer;bo(Ie.usage===xi.INDEX),g.bindBuffer(g.ELEMENT_ARRAY_BUFFER,b0(Ie)),this.currentIndexBufferByteOffset=i.offset||0}else this.currentIndexBufferByteOffset=null}else bo(this.currentPipeline.inputLayout===null),bo(i===null),this.bindVAO(null),this.currentIndexBufferByteOffset=0},e.prototype.setStencilReference=function(t){this.currentStencilRef!==t&&(this.currentStencilRef=t,this.applyStencil())},e.prototype.draw=function(t,r,i,s){var p,n=this;if(this.renderBundle){this.renderBundle.push(function(){return n.draw(t,r,i,s)});return}var f=this.gl,m=this.currentPipeline;if(r){var g=[m.drawMode,i||0,t,r];Vr(f)?f.drawArraysInstanced.apply(f,yd([],cp(g),!1)):(p=this.ANGLE_instanced_arrays).drawArraysInstancedANGLE.apply(p,yd([],cp(g),!1))}else f.drawArrays(m.drawMode,i,t);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(t/3*Math.max(r,1))},e.prototype.drawIndexed=function(t,r,i,s,p){var n,f=this;if(this.renderBundle){this.renderBundle.push(function(){return f.drawIndexed(t,r,i,s,p)});return}var m=this.gl,g=this.currentPipeline,x=u1(g.inputLayout),b=u1(this.currentIndexBufferByteOffset)+i*x.indexBufferCompByteSize;if(r){var F=[g.drawMode,t,x.indexBufferType,b,r];Vr(m)?m.drawElementsInstanced.apply(m,yd([],cp(F),!1)):(n=this.ANGLE_instanced_arrays).drawElementsInstancedANGLE.apply(n,yd([],cp(F),!1))}else m.drawElements(g.drawMode,t,x.indexBufferType,b);this.debugGroupStatisticsDrawCall(),this.debugGroupStatisticsTriangles(t/3*Math.max(r,1))},e.prototype.drawIndirect=function(t,r){},e.prototype.drawIndexedIndirect=function(t,r){},e.prototype.beginOcclusionQuery=function(t){var r=this.gl;if(Vr(r)){var i=this.currentRenderPassDescriptor.occlusionQueryPool;r.beginQuery(i.gl_query_type,i.gl_query[t])}},e.prototype.endOcclusionQuery=function(){var t=this.gl;if(Vr(t)){var r=this.currentRenderPassDescriptor.occlusionQueryPool;t.endQuery(r.gl_query_type)}},e.prototype.pipelineQueryReady=function(t){var r=t;return this.queryProgramReady(r.program)},e.prototype.pipelineForceReady=function(t){},e.prototype.endPass=function(){for(var t=this.gl,r=Vr(t),i=this.currentColorResolveTos.length===1&&this.currentColorResolveTos[0]===this.scTexture,s=!1,p=0;p<this.currentColorAttachments.length;p++){var n=this.currentColorAttachments[p];if(n!==null){var f=this.currentColorResolveTos[p],m=!1;f!==null&&(bo(n.width===f.width&&n.height===f.height),this.setScissorRectEnabled(!1),i||(r&&t.bindFramebuffer(t.READ_FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&r&&this.bindFramebufferAttachment(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,n,this.currentColorAttachmentLevels[p])),m=!0,i||(f===this.scTexture?t.bindFramebuffer(r?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,this.scPlatformFramebuffer):(t.bindFramebuffer(r?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,this.resolveColorDrawFramebuffer),this.resolveColorAttachmentsChanged&&t.framebufferTexture2D(r?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,f.gl_texture,this.currentColorResolveToLevels[p]))),i||(r?(t.blitFramebuffer(0,0,n.width,n.height,0,0,f.width,f.height,t.COLOR_BUFFER_BIT,t.LINEAR),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null)):this.submitBlitRenderPass(n,f)),s=!0),this.currentRenderPassDescriptor.colorStore[p]||!i&&!m&&(t.bindFramebuffer(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,this.resolveColorReadFramebuffer),this.resolveColorAttachmentsChanged&&this.bindFramebufferAttachment(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,t.COLOR_ATTACHMENT0,n,this.currentColorAttachmentLevels[p])),i||t.bindFramebuffer(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,null)}}this.resolveColorAttachmentsChanged=!1;var g=this.currentDepthStencilAttachment;if(g){var x=this.currentDepthStencilResolveTo,m=!1;x&&(bo(g.width===x.width&&g.height===x.height),this.setScissorRectEnabled(!1),i||(t.bindFramebuffer(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),t.bindFramebuffer(r?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,this.resolveDepthStencilDrawFramebuffer),this.resolveDepthStencilAttachmentsChanged&&(this.bindFramebufferDepthStencilAttachment(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,g),this.bindFramebufferDepthStencilAttachment(r?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,x))),m=!0,i||(r&&t.blitFramebuffer(0,0,g.width,g.height,0,0,x.width,x.height,t.DEPTH_BUFFER_BIT,t.NEAREST),t.bindFramebuffer(r?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,null)),s=!0),!i&&!this.currentRenderPassDescriptor.depthStencilStore&&(m||(t.bindFramebuffer(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,this.resolveDepthStencilReadFramebuffer),this.resolveDepthStencilAttachmentsChanged&&this.bindFramebufferDepthStencilAttachment(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,g),m=!0),r&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[t.DEPTH_STENCIL_ATTACHMENT])),!i&&m&&t.bindFramebuffer(r?Fe.READ_FRAMEBUFFER:Fe.FRAMEBUFFER,null),this.resolveDepthStencilAttachmentsChanged=!1}!i&&!s&&t.bindFramebuffer(r?Fe.DRAW_FRAMEBUFFER:Fe.FRAMEBUFFER,null)},e.prototype.setScissorRectEnabled=function(t){if(this.currentScissorEnabled!==t){var r=this.gl;t?r.enable(r.SCISSOR_TEST):r.disable(r.SCISSOR_TEST),this.currentScissorEnabled=t}},e.prototype.applyStencil=function(){Wu(this.currentStencilRef)||(this.gl.stencilFuncSeparate(Fe.FRONT,this.currentMegaState.stencilFront.compare,this.currentStencilRef,this.currentMegaState.stencilFront.mask||255),this.gl.stencilFuncSeparate(Fe.BACK,this.currentMegaState.stencilBack.compare,this.currentStencilRef,this.currentMegaState.stencilBack.mask||255))},e.prototype.getFallbackTexture=function(t){var r=t.gl_target,i=t.formatKind;if(r===Fe.TEXTURE_2D)return i===un.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(r===Fe.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(r===Fe.TEXTURE_3D)return this.fallbackTexture3D;if(r===Fe.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},e.prototype.submitBlitRenderPass=function(t,r){this.blitRenderPipeline||(this.blitProgram=this.createProgram({vertex:{glsl:`layout(location = 0) in vec2 a_Position;
out vec2 v_TexCoord;
void main() {
  v_TexCoord = 0.5 * (a_Position + 1.0);
  gl_Position = vec4(a_Position, 0., 1.);

  #ifdef VIEWPORT_ORIGIN_TL
    v_TexCoord.y = 1.0 - v_TexCoord.y;
  #endif
}`},fragment:{glsl:`uniform sampler2D u_Texture;
in vec2 v_TexCoord;
out vec4 outputColor;
void main() {
  outputColor = texture(SAMPLER_2D(u_Texture), v_TexCoord);
}`}}),this.blitVertexBuffer=this.createBuffer({usage:xi.VERTEX|xi.COPY_DST,viewOrSize:new Float32Array([-4,-4,4,-4,0,4])}),this.blitInputLayout=this.createInputLayout({vertexBufferDescriptors:[{arrayStride:4*2,stepMode:g1.VERTEX,attributes:[{format:We.F32_RG,offset:4*0,shaderLocation:0}]}],indexBufferFormat:null,program:this.blitProgram}),this.blitRenderPipeline=this.createRenderPipeline({topology:Vn.TRIANGLES,sampleCount:1,program:this.blitProgram,colorAttachmentFormats:[We.U8_RGBA_RT],depthStencilAttachmentFormat:null,inputLayout:this.blitInputLayout,megaStateDescriptor:M0(N0)}),this.blitBindings=this.createBindings({samplerBindings:[{sampler:null,texture:t.texture}],uniformBufferBindings:[]}),this.blitProgram.setUniformsLegacy({u_Texture:t}));var i=this.currentRenderPassDescriptor;this.currentRenderPassDescriptor=null,this.inBlitRenderPass=!0;var s=this.createRenderPass({colorAttachment:[t],colorResolveTo:[r],colorClearColor:[vD]}),p=this.getCanvas(),n=p.width,f=p.height;s.setPipeline(this.blitRenderPipeline),s.setBindings(this.blitBindings),s.setVertexInput(this.blitInputLayout,[{buffer:this.blitVertexBuffer}],null),s.setViewport(0,0,n,f),this.gl.disable(this.gl.BLEND),s.draw(3,0),this.gl.enable(this.gl.BLEND),this.currentRenderPassDescriptor=i,this.inBlitRenderPass=!1},e}(),PO=function(){function e(t){this.pluginOptions=t}return e.prototype.createSwapChain=function(t){return m0(this,void 0,void 0,function(){var r,i,s,p,n,f,m,g,x,b,F,R,I;return _0(this,function(O){return r=this.pluginOptions,i=r.targets,s=r.xrCompatible,p=r.antialias,n=p===void 0?!1:p,f=r.preserveDrawingBuffer,m=f===void 0?!1:f,g=r.premultipliedAlpha,x=g===void 0?!0:g,b=r.shaderDebug,F=r.trackResources,R={antialias:n,preserveDrawingBuffer:m,stencil:!0,premultipliedAlpha:x,xrCompatible:s},this.handleContextEvents(t),i.includes("webgl2")&&(I=t.getContext("webgl2",R)||t.getContext("experimental-webgl2",R)),!I&&i.includes("webgl1")&&(I=t.getContext("webgl",R)||t.getContext("experimental-webgl",R)),[2,new xO(I,{shaderDebug:b,trackResources:F})]})})},e.prototype.handleContextEvents=function(t){var r=this.pluginOptions,i=r.onContextLost,s=r.onContextRestored,p=r.onContextCreationError;p&&t.addEventListener("webglcontextcreationerror",p,!1),i&&t.addEventListener("webglcontextlost",i,!1),s&&t.addEventListener("webglcontextrestored",s,!1)},e}();let sn;const C7=typeof TextDecoder<"u"?new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0}):{decode:()=>{throw Error("TextDecoder not available")}};typeof TextDecoder<"u"&&C7.decode();let Xd=null;function Ih(){return(Xd===null||Xd.byteLength===0)&&(Xd=new Uint8Array(sn.memory.buffer)),Xd}function mf(e,t){return e=e>>>0,C7.decode(Ih().subarray(e,e+t))}const Ac=new Array(128).fill(void 0);Ac.push(void 0,null,!0,!1);let Jd=Ac.length;function bO(e){Jd===Ac.length&&Ac.push(Ac.length+1);const t=Jd;return Jd=Ac[t],Ac[t]=e,t}function Mh(e){return Ac[e]}function AO(e){e<132||(Ac[e]=Jd,Jd=e)}function FO(e){const t=Mh(e);return AO(e),t}let O0=0;const Nh=typeof TextEncoder<"u"?new TextEncoder("utf-8"):{encode:()=>{throw Error("TextEncoder not available")}},TO=typeof Nh.encodeInto=="function"?function(e,t){return Nh.encodeInto(e,t)}:function(e,t){const r=Nh.encode(e);return t.set(r),{read:e.length,written:r.length}};function _f(e,t,r){if(r===void 0){const f=Nh.encode(e),m=t(f.length,1)>>>0;return Ih().subarray(m,m+f.length).set(f),O0=f.length,m}let i=e.length,s=t(i,1)>>>0;const p=Ih();let n=0;for(;n<i;n++){const f=e.charCodeAt(n);if(f>127)break;p[s+n]=f}if(n!==i){n!==0&&(e=e.slice(n)),s=r(s,i,i=n+e.length*3,1)>>>0;const f=Ih().subarray(s+n,s+i),m=TO(e,f);n+=m.written}return O0=n,s}let Zd=null;function gf(){return(Zd===null||Zd.byteLength===0)&&(Zd=new Int32Array(sn.memory.buffer)),Zd}function SO(e,t,r){let i,s;try{const f=sn.__wbindgen_add_to_stack_pointer(-16),m=_f(e,sn.__wbindgen_malloc,sn.__wbindgen_realloc),g=O0,x=_f(t,sn.__wbindgen_malloc,sn.__wbindgen_realloc),b=O0;sn.glsl_compile(f,m,g,x,b,r);var p=gf()[f/4+0],n=gf()[f/4+1];return i=p,s=n,mf(p,n)}finally{sn.__wbindgen_add_to_stack_pointer(16),sn.__wbindgen_free(i,s,1)}}class vf{static __wrap(t){t=t>>>0;const r=Object.create(vf.prototype);return r.__wbg_ptr=t,r}__destroy_into_raw(){const t=this.__wbg_ptr;return this.__wbg_ptr=0,t}free(){const t=this.__destroy_into_raw();sn.__wbg_wgslcomposer_free(t)}constructor(){const t=sn.wgslcomposer_new();return vf.__wrap(t)}load_composable(t){const r=_f(t,sn.__wbindgen_malloc,sn.__wbindgen_realloc),i=O0;sn.wgslcomposer_load_composable(this.__wbg_ptr,r,i)}wgsl_compile(t){let r,i;try{const n=sn.__wbindgen_add_to_stack_pointer(-16),f=_f(t,sn.__wbindgen_malloc,sn.__wbindgen_realloc),m=O0;sn.wgslcomposer_wgsl_compile(n,this.__wbg_ptr,f,m);var s=gf()[n/4+0],p=gf()[n/4+1];return r=s,i=p,mf(s,p)}finally{sn.__wbindgen_add_to_stack_pointer(16),sn.__wbindgen_free(r,i,1)}}}async function RO(e,t){if(typeof Response=="function"&&e instanceof Response){if(typeof WebAssembly.instantiateStreaming=="function")try{return await WebAssembly.instantiateStreaming(e,t)}catch(i){if(e.headers.get("Content-Type")!="application/wasm")console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",i);else throw i}const r=await e.arrayBuffer();return await WebAssembly.instantiate(r,t)}else{const r=await WebAssembly.instantiate(e,t);return r instanceof WebAssembly.Instance?{instance:r,module:e}:r}}function wO(){const e={};return e.wbg={},e.wbg.__wbindgen_string_new=function(t,r){const i=mf(t,r);return bO(i)},e.wbg.__wbindgen_object_drop_ref=function(t){FO(t)},e.wbg.__wbg_log_1d3ae0273d8f4f8a=function(t){console.log(Mh(t))},e.wbg.__wbg_log_576ca876af0d4a77=function(t,r){console.log(Mh(t),Mh(r))},e.wbg.__wbindgen_throw=function(t,r){throw new Error(mf(t,r))},e}function CO(e,t){return sn=e.exports,I7.__wbindgen_wasm_module=t,Zd=null,Xd=null,sn}async function I7(e){if(sn!==void 0)return sn;const t=wO();(typeof e=="string"||typeof Request=="function"&&e instanceof Request||typeof URL=="function"&&e instanceof URL)&&(e=fetch(e));const{instance:r,module:i}=await RO(await e,t);return CO(r,i)}var na;(function(e){e[e.COPY_SRC=1]="COPY_SRC",e[e.COPY_DST=2]="COPY_DST",e[e.TEXTURE_BINDING=4]="TEXTURE_BINDING",e[e.STORAGE_BINDING=8]="STORAGE_BINDING",e[e.STORAGE=8]="STORAGE",e[e.RENDER_ATTACHMENT=16]="RENDER_ATTACHMENT"})(na||(na={}));var t6;(function(e){e[e.READ=1]="READ",e[e.WRITE=2]="WRITE"})(t6||(t6={}));function IO(e){var t=0;return e&ns.SAMPLED&&(t|=na.TEXTURE_BINDING|na.COPY_DST|na.COPY_SRC),e&ns.STORAGE&&(t|=na.TEXTURE_BINDING|na.STORAGE_BINDING|na.COPY_SRC|na.COPY_DST),e&ns.RENDER_TARGET&&(t|=na.RENDER_ATTACHMENT|na.TEXTURE_BINDING|na.COPY_SRC|na.COPY_DST),t}function k6(e){if(e===We.U8_R_NORM)return"r8unorm";if(e===We.S8_R_NORM)return"r8snorm";if(e===We.U8_RG_NORM)return"rg8unorm";if(e===We.S8_RG_NORM)return"rg8snorm";if(e===We.U32_R)return"r32uint";if(e===We.S32_R)return"r32sint";if(e===We.F32_R)return"r32float";if(e===We.U16_RG)return"rg16uint";if(e===We.S16_RG)return"rg16sint";if(e===We.F16_RG)return"rg16float";if(e===We.U8_RGBA_RT)return"bgra8unorm";if(e===We.U8_RGBA_RT_SRGB)return"bgra8unorm-srgb";if(e===We.U8_RGBA_NORM)return"rgba8unorm";if(e===We.U8_RGBA_SRGB)return"rgba8unorm-srgb";if(e===We.S8_RGBA_NORM)return"rgba8snorm";if(e===We.U32_RG)return"rg32uint";if(e===We.S32_RG)return"rg32sint";if(e===We.F32_RG)return"rg32float";if(e===We.U16_RGBA)return"rgba16uint";if(e===We.S16_RGBA)return"rgba16sint";if(e===We.F16_RGBA)return"rgba16float";if(e===We.F32_RGBA)return"rgba32float";if(e===We.U32_RGBA)return"rgba32uint";if(e===We.S32_RGBA)return"rgba32sint";if(e===We.D24)return"depth24plus";if(e===We.D24_S8)return"depth24plus-stencil8";if(e===We.D32F)return"depth32float";if(e===We.D32F_S8)return"depth32float-stencil8";if(e===We.BC1)return"bc1-rgba-unorm";if(e===We.BC1_SRGB)return"bc1-rgba-unorm-srgb";if(e===We.BC2)return"bc2-rgba-unorm";if(e===We.BC2_SRGB)return"bc2-rgba-unorm-srgb";if(e===We.BC3)return"bc3-rgba-unorm";if(e===We.BC3_SRGB)return"bc3-rgba-unorm-srgb";if(e===We.BC4_SNORM)return"bc4-r-snorm";if(e===We.BC4_UNORM)return"bc4-r-unorm";if(e===We.BC5_SNORM)return"bc5-rg-snorm";if(e===We.BC5_UNORM)return"bc5-rg-unorm";throw"whoops"}function MO(e){if(e===zo.TEXTURE_2D)return"2d";if(e===zo.TEXTURE_CUBE_MAP)return"2d";if(e===zo.TEXTURE_2D_ARRAY)return"2d";if(e===zo.TEXTURE_3D)return"3d";throw new Error("whoops")}function NO(e){if(e===zo.TEXTURE_2D)return"2d";if(e===zo.TEXTURE_CUBE_MAP)return"cube";if(e===zo.TEXTURE_2D_ARRAY)return"2d-array";if(e===zo.TEXTURE_3D)return"3d";throw new Error("whoops")}function DO(e){var t=0;return e&xi.INDEX&&(t|=GPUBufferUsage.INDEX),e&xi.VERTEX&&(t|=GPUBufferUsage.VERTEX),e&xi.UNIFORM&&(t|=GPUBufferUsage.UNIFORM),e&xi.STORAGE&&(t|=GPUBufferUsage.STORAGE),e&xi.COPY_SRC&&(t|=GPUBufferUsage.COPY_SRC),e&xi.INDIRECT&&(t|=GPUBufferUsage.INDIRECT),t|=GPUBufferUsage.COPY_DST,t}function u2(e){if(e===ms.CLAMP_TO_EDGE)return"clamp-to-edge";if(e===ms.REPEAT)return"repeat";if(e===ms.MIRRORED_REPEAT)return"mirror-repeat";throw new Error("whoops")}function Fg(e){if(e===xn.BILINEAR)return"linear";if(e===xn.POINT)return"nearest";throw new Error("whoops")}function OO(e){if(e===aa.LINEAR)return"linear";if(e===aa.NEAREST)return"nearest";if(e===aa.NO_MIP)return"nearest";throw new Error("whoops")}function f0(e){var t=e;return t.gpuBuffer}function LO(e){var t=e;return t.gpuSampler}function BO(e){var t=e;return t.querySet}function UO(e){if(e===lf.OcclusionConservative)return"occlusion";throw new Error("whoops")}function kO(e){switch(e){case Vn.TRIANGLES:return"triangle-list";case Vn.POINTS:return"point-list";case Vn.TRIANGLE_STRIP:return"triangle-strip";case Vn.LINES:return"line-list";case Vn.LINE_STRIP:return"line-strip";default:throw new Error("Unknown primitive topology mode")}}function zO(e){if(e===ks.NONE)return"none";if(e===ks.FRONT)return"front";if(e===ks.BACK)return"back";throw new Error("whoops")}function VO(e){if(e===yy.CCW)return"ccw";if(e===yy.CW)return"cw";throw new Error("whoops")}function HO(e,t){return{topology:kO(e),cullMode:zO(t.cullMode),frontFace:VO(t.frontFace)}}function Tg(e){if(e===ko.ZERO)return"zero";if(e===ko.ONE)return"one";if(e===ko.SRC)return"src";if(e===ko.ONE_MINUS_SRC)return"one-minus-src";if(e===ko.DST)return"dst";if(e===ko.ONE_MINUS_DST)return"one-minus-dst";if(e===ko.SRC_ALPHA)return"src-alpha";if(e===ko.ONE_MINUS_SRC_ALPHA)return"one-minus-src-alpha";if(e===ko.DST_ALPHA)return"dst-alpha";if(e===ko.ONE_MINUS_DST_ALPHA)return"one-minus-dst-alpha";if(e===ko.CONST)return"constant";if(e===ko.ONE_MINUS_CONSTANT)return"one-minus-constant";if(e===ko.SRC_ALPHA_SATURATE)return"src-alpha-saturated";throw new Error("whoops")}function GO(e){if(e===ma.ADD)return"add";if(e===ma.SUBSTRACT)return"subtract";if(e===ma.REVERSE_SUBSTRACT)return"reverse-subtract";if(e===ma.MIN)return"min";if(e===ma.MAX)return"max";throw new Error("whoops")}function Sg(e){return{operation:GO(e.blendMode),srcFactor:Tg(e.blendSrcFactor),dstFactor:Tg(e.blendDstFactor)}}function Rg(e){return e.blendMode===ma.ADD&&e.blendSrcFactor===ko.ONE&&e.blendDstFactor===ko.ZERO}function jO(e){if(!(Rg(e.rgbBlendState)&&Rg(e.alphaBlendState)))return{color:Sg(e.rgbBlendState),alpha:Sg(e.alphaBlendState)}}function WO(e,t){return{format:k6(t),blend:jO(e),writeMask:e.channelWriteMask}}function XO(e,t){return t.attachmentsState.map(function(r,i){return WO(r,e[i])})}function Dh(e){if(e===ui.NEVER)return"never";if(e===ui.LESS)return"less";if(e===ui.EQUAL)return"equal";if(e===ui.LEQUAL)return"less-equal";if(e===ui.GREATER)return"greater";if(e===ui.NOTEQUAL)return"not-equal";if(e===ui.GEQUAL)return"greater-equal";if(e===ui.ALWAYS)return"always";throw new Error("whoops")}function u0(e){if(e===pn.KEEP)return"keep";if(e===pn.REPLACE)return"replace";if(e===pn.ZERO)return"zero";if(e===pn.DECREMENT_CLAMP)return"decrement-clamp";if(e===pn.DECREMENT_WRAP)return"decrement-wrap";if(e===pn.INCREMENT_CLAMP)return"increment-clamp";if(e===pn.INCREMENT_WRAP)return"increment-wrap";if(e===pn.INVERT)return"invert";throw new Error("whoops")}function ZO(e,t){if(!Wu(e))return{format:k6(e),depthWriteEnabled:!!t.depthWrite,depthCompare:Dh(t.depthCompare),depthBias:t.polygonOffset?t.polygonOffsetUnits:0,depthBiasSlopeScale:t.polygonOffset?t.polygonOffsetFactor:0,stencilFront:{compare:Dh(t.stencilFront.compare),passOp:u0(t.stencilFront.passOp),failOp:u0(t.stencilFront.failOp),depthFailOp:u0(t.stencilFront.depthFailOp)},stencilBack:{compare:Dh(t.stencilBack.compare),passOp:u0(t.stencilBack.passOp),failOp:u0(t.stencilBack.failOp),depthFailOp:u0(t.stencilBack.depthFailOp)},stencilReadMask:4294967295,stencilWriteMask:4294967295}}function YO(e){if(e!==null){if(e===We.U16_R)return"uint16";if(e===We.U32_R)return"uint32";throw new Error("whoops")}}function qO(e){if(e===g1.VERTEX)return"vertex";if(e===g1.INSTANCE)return"instance";throw new Error("whoops")}function $O(e){if(e===We.U8_R)return"uint8x2";if(e===We.U8_RG)return"uint8x2";if(e===We.U8_RGB)return"uint8x4";if(e===We.U8_RGBA)return"uint8x4";if(e===We.U8_RG_NORM)return"unorm8x2";if(e===We.U8_RGBA_NORM)return"unorm8x4";if(e===We.S8_RGB_NORM)return"snorm8x4";if(e===We.S8_RGBA_NORM)return"snorm8x4";if(e===We.U16_RG_NORM)return"unorm16x2";if(e===We.U16_RGBA_NORM)return"unorm16x4";if(e===We.S16_RG_NORM)return"snorm16x2";if(e===We.S16_RGBA_NORM)return"snorm16x4";if(e===We.S16_RG)return"uint16x2";if(e===We.F16_RG)return"float16x2";if(e===We.F16_RGBA)return"float16x4";if(e===We.F32_R)return"float32";if(e===We.F32_RG)return"float32x2";if(e===We.F32_RGB)return"float32x3";if(e===We.F32_RGBA)return"float32x4";throw"whoops"}function KO(e){var t=Yp(e);switch(t){case Dt.BC1:case Dt.BC2:case Dt.BC3:case Dt.BC4_SNORM:case Dt.BC4_UNORM:case Dt.BC5_SNORM:case Dt.BC5_UNORM:return!0;default:return!1}}function QO(e){var t=Yp(e);switch(t){case Dt.BC1:case Dt.BC2:case Dt.BC3:case Dt.BC4_SNORM:case Dt.BC4_UNORM:case Dt.BC5_SNORM:case Dt.BC5_UNORM:return 4;default:return 1}}function wg(e,t,r,i){switch(r===void 0&&(r=!1),e){case We.S8_R:case We.S8_R_NORM:case We.S8_RG_NORM:case We.S8_RGB_NORM:case We.S8_RGBA_NORM:{var s=t instanceof ArrayBuffer?new Int8Array(t):new Int8Array(t);return i&&s.set(new Int8Array(i)),s}case We.U8_R:case We.U8_R_NORM:case We.U8_RG:case We.U8_RG_NORM:case We.U8_RGB:case We.U8_RGB_NORM:case We.U8_RGB_SRGB:case We.U8_RGBA:case We.U8_RGBA_NORM:case We.U8_RGBA_SRGB:{var p=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t);return i&&p.set(new Uint8Array(i)),p}case We.S16_R:case We.S16_RG:case We.S16_RG_NORM:case We.S16_RGB_NORM:case We.S16_RGBA:case We.S16_RGBA_NORM:{var n=t instanceof ArrayBuffer?new Int16Array(t):new Int16Array(r?t/2:t);return i&&n.set(new Int16Array(i)),n}case We.U16_R:case We.U16_RGB:case We.U16_RGBA_5551:case We.U16_RGBA_NORM:case We.U16_RG_NORM:case We.U16_R_NORM:{var f=t instanceof ArrayBuffer?new Uint16Array(t):new Uint16Array(r?t/2:t);return i&&f.set(new Uint16Array(i)),f}case We.S32_R:{var m=t instanceof ArrayBuffer?new Int32Array(t):new Int32Array(r?t/4:t);return i&&m.set(new Int32Array(i)),m}case We.U32_R:case We.U32_RG:{var g=t instanceof ArrayBuffer?new Uint32Array(t):new Uint32Array(r?t/4:t);return i&&g.set(new Uint32Array(i)),g}case We.F32_R:case We.F32_RG:case We.F32_RGB:case We.F32_RGBA:{var x=t instanceof ArrayBuffer?new Float32Array(t):new Float32Array(r?t/4:t);return i&&x.set(new Float32Array(i)),x}}var b=t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t);return i&&b.set(new Uint8Array(i)),b}function JO(e){var t=(e&32768)>>15,r=(e&31744)>>10,i=e&1023;return r===0?(t?-1:1)*Math.pow(2,-14)*(i/Math.pow(2,10)):r==31?i?NaN:(t?-1:1)*(1/0):(t?-1:1)*Math.pow(2,r-15)*(1+i/Math.pow(2,10))}function M7(e){switch(e){case"r8unorm":case"r8snorm":case"r8uint":case"r8sint":return{width:1,height:1,length:1};case"r16uint":case"r16sint":case"r16float":case"rg8unorm":case"rg8snorm":case"rg8uint":case"rg8sint":return{width:1,height:1,length:2};case"r32uint":case"r32sint":case"r32float":case"rg16uint":case"rg16sint":case"rg16float":case"rgba8unorm":case"rgba8unorm-srgb":case"rgba8snorm":case"rgba8uint":case"rgba8sint":case"bgra8unorm":case"bgra8unorm-srgb":case"rgb9e5ufloat":case"rgb10a2unorm":case"rg11b10ufloat":return{width:1,height:1,length:4};case"rg32uint":case"rg32sint":case"rg32float":case"rgba16uint":case"rgba16sint":case"rgba16float":return{width:1,height:1,length:8};case"rgba32uint":case"rgba32sint":case"rgba32float":return{width:1,height:1,length:16};case"stencil8":throw new Error("No fixed size for Stencil8 format!");case"depth16unorm":return{width:1,height:1,length:2};case"depth24plus":throw new Error("No fixed size for Depth24Plus format!");case"depth24plus-stencil8":throw new Error("No fixed size for Depth24PlusStencil8 format!");case"depth32float":return{width:1,height:1,length:4};case"depth32float-stencil8":return{width:1,height:1,length:5};case"bc7-rgba-unorm":case"bc7-rgba-unorm-srgb":case"bc6h-rgb-ufloat":case"bc6h-rgb-float":case"bc2-rgba-unorm":case"bc2-rgba-unorm-srgb":case"bc3-rgba-unorm":case"bc3-rgba-unorm-srgb":case"bc5-rg-unorm":case"bc5-rg-snorm":return{width:4,height:4,length:16};case"bc4-r-unorm":case"bc4-r-snorm":case"bc1-rgba-unorm":case"bc1-rgba-unorm-srgb":return{width:4,height:4,length:8};default:return{width:1,height:1,length:4}}}var _p=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=e.call(this)||this;return p.id=i,p.device=s,p}return t.prototype.destroy=function(){},t}(_7),eL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n,f,m=e.call(this,{id:i,device:s})||this;m.type=Jo.Bindings;var g=p.pipeline;bo(!!g);var x=p.uniformBufferBindings,b=p.storageBufferBindings,F=p.samplerBindings,R=p.storageTextureBindings;m.numUniformBuffers=(x==null?void 0:x.length)||0;var I=[[],[],[],[]],O=0;if(x&&x.length)for(var U=0;U<x.length;U++){var Y=p.uniformBufferBindings[U],ee=Y.binding,oe=Y.size,Re=Y.offset,Ae=Y.buffer,ce={buffer:f0(Ae),offset:Re??0,size:oe};I[0].push({binding:ee??O++,resource:ce})}if(F&&F.length){O=0;for(var U=0;U<F.length;U++){var Ie=In(In({},F[U]),T7),ee=p.samplerBindings[U],De=ee.texture!==null?ee.texture:m.device.getFallbackTexture(Ie);Ie.dimension=De.dimension,Ie.formatKind=E7(De.format);var ht=De.gpuTextureView;if(I[1].push({binding:(n=ee.textureBinding)!==null&&n!==void 0?n:O++,resource:ht}),ee.samplerBinding!==-1){var qe=ee.sampler!==null?ee.sampler:m.device.getFallbackSampler(Ie),we=LO(qe);I[1].push({binding:(f=ee.samplerBinding)!==null&&f!==void 0?f:O++,resource:we})}}}if(b&&b.length){O=0;for(var U=0;U<b.length;U++){var B=p.storageBufferBindings[U],ee=B.binding,oe=B.size,Re=B.offset,Ae=B.buffer,ce={buffer:f0(Ae),offset:Re??0,size:oe};I[2].push({binding:ee??O++,resource:ce})}}if(R&&R.length){O=0;for(var U=0;U<R.length;U++){var X=p.storageTextureBindings[U],ee=X.binding,De=X.texture,ht=De.gpuTextureView;I[3].push({binding:ee??O++,resource:ht})}}var de=I.findLastIndex(function(mt){return!!mt.length});return m.gpuBindGroup=I.map(function(mt,re){return re<=de&&m.device.device.createBindGroup({layout:g.getBindGroupLayout(re),entries:mt})}),m}return t}(_p),tL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;n.type=Jo.Buffer;var f=p.usage,m=p.viewOrSize,g=!!(f&xi.MAP_READ);n.usage=DO(f),g&&(n.usage=xi.MAP_READ|xi.COPY_DST);var x=!y0(m);if(n.view=y0(m)?null:m,n.size=y0(m)?yf(m,4):yf(m.byteLength,4),y0(m))n.gpuBuffer=n.device.device.createBuffer({usage:n.usage,size:n.size,mappedAtCreation:g?x:!1});else{n.gpuBuffer=n.device.device.createBuffer({usage:n.usage,size:n.size,mappedAtCreation:!0});var b=m&&m.constructor||Float32Array;new b(n.gpuBuffer.getMappedRange()).set(m),n.gpuBuffer.unmap()}return n}return t.prototype.setSubData=function(r,i,s,p){s===void 0&&(s=0),p===void 0&&(p=0);var n=this.gpuBuffer;p=p||i.byteLength,p=Math.min(p,this.size-r);var f=i.byteOffset+s,m=f+p,g=p+3&-4;if(g!==p){var x=new Uint8Array(i.buffer.slice(f,m));i=new Uint8Array(g),i.set(x),s=0,f=0,m=g,p=g}for(var b=1024*1024*15,F=0;m-(f+F)>b;)this.device.device.queue.writeBuffer(n,r+F,i.buffer,f+F,b),F+=b;this.device.device.queue.writeBuffer(n,r+F,i.buffer,f+F,p-F)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuBuffer.destroy()},t}(_p),Cg=function(){function e(){this.gpuComputePassEncoder=null}return e.prototype.dispatchWorkgroups=function(t,r,i){this.gpuComputePassEncoder.dispatchWorkgroups(t,r,i)},e.prototype.dispatchWorkgroupsIndirect=function(t,r){this.gpuComputePassEncoder.dispatchWorkgroupsIndirect(t.gpuBuffer,r)},e.prototype.finish=function(){this.gpuComputePassEncoder.end(),this.gpuComputePassEncoder=null,this.frameCommandEncoder=null},e.prototype.beginComputePass=function(t){bo(this.gpuComputePassEncoder===null),this.frameCommandEncoder=t,this.gpuComputePassEncoder=this.frameCommandEncoder.beginComputePass(this.gpuComputePassDescriptor)},e.prototype.setPipeline=function(t){var r=t,i=u1(r.gpuComputePipeline);this.gpuComputePassEncoder.setPipeline(i)},e.prototype.setBindings=function(t){var r=this,i=t;i.gpuBindGroup.forEach(function(s,p){s&&r.gpuComputePassEncoder.setBindGroup(p,i.gpuBindGroup[p])})},e.prototype.pushDebugGroup=function(t){this.gpuComputePassEncoder.pushDebugGroup(t)},e.prototype.popDebugGroup=function(){this.gpuComputePassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(t){this.gpuComputePassEncoder.insertDebugMarker(t)},e}(),rL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;n.type=Jo.ComputePipeline,n.gpuComputePipeline=null,n.descriptor=p;var f=p.program,m=f.computeStage;if(m===null)return n;var g={layout:"auto",compute:In({},m)};return n.gpuComputePipeline=n.device.device.createComputePipeline(g),n.name!==void 0&&(n.gpuComputePipeline.label=n.name),n}return t.prototype.getBindGroupLayout=function(r){return this.gpuComputePipeline.getBindGroupLayout(r)},t}(_p),oL=function(e){cn(t,e);function t(r){var i,s,p,n,f=r.id,m=r.device,g=r.descriptor,x=e.call(this,{id:f,device:m})||this;x.type=Jo.InputLayout;var b=[];try{for(var F=l1(g.vertexBufferDescriptors),R=F.next();!R.done;R=F.next()){var I=R.value,O=I.arrayStride,U=I.stepMode,Y=I.attributes;b.push({arrayStride:O,stepMode:qO(U),attributes:[]});try{for(var ee=(p=void 0,l1(Y)),oe=ee.next();!oe.done;oe=ee.next()){var Re=oe.value,Ae=Re.shaderLocation,ce=Re.format,Ie=Re.offset;b[b.length-1].attributes.push({shaderLocation:Ae,format:$O(ce),offset:Ie})}}catch(De){p={error:De}}finally{try{oe&&!oe.done&&(n=ee.return)&&n.call(ee)}finally{if(p)throw p.error}}}}catch(De){i={error:De}}finally{try{R&&!R.done&&(s=F.return)&&s.call(F)}finally{if(i)throw i.error}}return x.indexFormat=YO(g.indexBufferFormat),x.buffers=b,x}return t}(_p),Ig=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;return n.type=Jo.Program,n.vertexStage=null,n.fragmentStage=null,n.computeStage=null,n.descriptor=p,p.vertex&&(n.vertexStage=n.createShaderStage(p.vertex,"vertex")),p.fragment&&(n.fragmentStage=n.createShaderStage(p.fragment,"fragment")),p.compute&&(n.computeStage=n.createShaderStage(p.compute,"compute")),n}return t.prototype.setUniformsLegacy=function(r){},t.prototype.createShaderStage=function(r,i){var s,p,n=r.glsl,f=r.wgsl,m=r.entryPoint,g=r.postprocess,x=!1,b=f;if(!b)try{b=this.device.glsl_compile(n,i,x)}catch(Y){throw console.error(Y,n),new Error("whoops")}var F=function(Y){if(!b.includes(Y))return"continue";b=b.replace("var T_".concat(Y,": texture_2d<f32>;"),"var T_".concat(Y,": texture_depth_2d;")),b=b.replace(new RegExp("textureSample\\(T_".concat(Y,"(.*)\\);$"),"gm"),function(ee,oe){return"vec4<f32>(textureSample(T_".concat(Y).concat(oe,"), 0.0, 0.0, 0.0);")})};try{for(var R=l1(["u_TextureFramebufferDepth"]),I=R.next();!I.done;I=R.next()){var O=I.value;F(O)}}catch(Y){s={error:Y}}finally{try{I&&!I.done&&(p=R.return)&&p.call(R)}finally{if(s)throw s.error}}g&&(b=g(b));var U=this.device.device.createShaderModule({code:b});return{module:U,entryPoint:m||"main"}},t}(_p),iL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;n.type=Jo.QueryPool;var f=p.elemCount,m=p.type;return n.querySet=n.device.device.createQuerySet({type:UO(m),count:f}),n.resolveBuffer=n.device.device.createBuffer({size:f*8,usage:GPUBufferUsage.QUERY_RESOLVE|GPUBufferUsage.COPY_SRC}),n.cpuBuffer=n.device.device.createBuffer({size:f*8,usage:GPUBufferUsage.COPY_DST|GPUBufferUsage.MAP_READ}),n.results=null,n}return t.prototype.queryResultOcclusion=function(r){return this.results===null?null:this.results[r]!==BigInt(0)},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.querySet.destroy(),this.resolveBuffer.destroy(),this.cpuBuffer.destroy()},t}(_p),nL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=e.call(this,{id:i,device:s})||this;return p.type=Jo.Readback,p}return t.prototype.readTexture=function(r,i,s,p,n,f,m,g){return m===void 0&&(m=0),m0(this,void 0,void 0,function(){var x,b,F,R,I,O,U,Y;return _0(this,function(ee){return x=r,b=0,F=M7(x.gpuTextureformat),R=Math.ceil(p/F.width)*F.length,I=Math.ceil(R/256)*256,O=I*n,U=this.device.createBuffer({usage:xi.STORAGE|xi.MAP_READ|xi.COPY_DST,hint:fp.STATIC,viewOrSize:O}),Y=this.device.device.createCommandEncoder(),Y.copyTextureToBuffer({texture:x.gpuTexture,mipLevel:0,origin:{x:i,y:s,z:Math.max(b,0)}},{buffer:U.gpuBuffer,offset:0,bytesPerRow:I},{width:p,height:n,depthOrArrayLayers:1}),this.device.device.queue.submit([Y.finish()]),[2,this.readBuffer(U,0,f.byteLength===O?f:null,m,O,x.format,!0,!1,R,I,n)]})})},t.prototype.readTextureSync=function(r,i,s,p,n,f,m,g){throw new Error("ERROR_MSG_METHOD_NOT_IMPLEMENTED")},t.prototype.readBuffer=function(r,i,s,p,n,f,m,g,x,b,F){var R=this;i===void 0&&(i=0),s===void 0&&(s=null),n===void 0&&(n=0),f===void 0&&(f=We.U8_RGB),m===void 0&&(m=!1),x===void 0&&(x=0),b===void 0&&(b=0),F===void 0&&(F=0);var I=r,O=n||I.size,U=s||I.view,Y=U&&U.constructor&&U.constructor.BYTES_PER_ELEMENT||v7(f),ee=I;if(!(I.usage&xi.MAP_READ&&I.usage&xi.COPY_DST)){var oe=this.device.device.createCommandEncoder();ee=this.device.createBuffer({usage:xi.STORAGE|xi.MAP_READ|xi.COPY_DST,hint:fp.STATIC,viewOrSize:O}),oe.copyBufferToBuffer(I.gpuBuffer,i,ee.gpuBuffer,0,O),this.device.device.queue.submit([oe.finish()])}return new Promise(function(Re,Ae){ee.gpuBuffer.mapAsync(t6.READ,i,O).then(function(){var ce=ee.gpuBuffer.getMappedRange(i,O),Ie=U;if(m)Ie===null?Ie=wg(f,O,!0,ce):Ie=wg(f,Ie.buffer,void 0,ce);else if(Ie===null)switch(Y){case 1:Ie=new Uint8Array(O),Ie.set(new Uint8Array(ce));break;case 2:Ie=R.getHalfFloatAsFloatRGBAArrayBuffer(O/2,ce);break;case 4:Ie=new Float32Array(O/4),Ie.set(new Float32Array(ce));break}else switch(Y){case 1:Ie=new Uint8Array(Ie.buffer),Ie.set(new Uint8Array(ce));break;case 2:Ie=R.getHalfFloatAsFloatRGBAArrayBuffer(O/2,ce,U);break;case 4:var De=U&&U.constructor||Float32Array;Ie=new De(Ie.buffer),Ie.set(new De(ce));break}if(x!==b){Y===1&&!m&&(x*=2,b*=2);for(var ht=new Uint8Array(Ie.buffer),qe=x,we=0,B=1;B<F;++B){we=B*b;for(var X=0;X<x;++X)ht[qe++]=ht[we++]}Y!==0&&!m?Ie=new Float32Array(ht.buffer,0,qe/4):Ie=new Uint8Array(ht.buffer,0,qe)}ee.gpuBuffer.unmap(),Re(Ie)},function(ce){return Ae(ce)})})},t.prototype.getHalfFloatAsFloatRGBAArrayBuffer=function(r,i,s){s||(s=new Float32Array(r));for(var p=new Uint16Array(i);r--;)s[r]=JO(p[r]);return s},t}(_p),Mg=function(){function e(t){this.device=t,this.gpuRenderPassEncoder=null,this.gfxColorAttachment=[],this.gfxColorAttachmentLevel=[],this.gfxColorResolveTo=[],this.gfxColorResolveToLevel=[],this.gfxDepthStencilAttachment=null,this.gfxDepthStencilResolveTo=null,this.gpuColorAttachments=[],this.gpuDepthStencilAttachment={view:null,depthLoadOp:"load",depthStoreOp:"store",stencilLoadOp:"load",stencilStoreOp:"store"},this.gpuRenderPassDescriptor={colorAttachments:this.gpuColorAttachments,depthStencilAttachment:this.gpuDepthStencilAttachment}}return e.prototype.getEncoder=function(){var t;return((t=this.renderBundle)===null||t===void 0?void 0:t.renderBundleEncoder)||this.gpuRenderPassEncoder},e.prototype.getTextureView=function(t,r){return bo(r<t.mipLevelCount),t.mipLevelCount===1?t.gpuTextureView:t.gpuTexture.createView({baseMipLevel:r,mipLevelCount:1})},e.prototype.setRenderPassDescriptor=function(t){var r,i,s,p,n,f;this.descriptor=t,this.gpuRenderPassDescriptor.colorAttachments=this.gpuColorAttachments;var m=t.colorAttachment.length;this.gfxColorAttachment.length=m,this.gfxColorResolveTo.length=m;for(var g=0;g<t.colorAttachment.length;g++){var x=t.colorAttachment[g],b=t.colorResolveTo[g];if(x===null&&b!==null&&(x=b,b=null),this.gfxColorAttachment[g]=x,this.gfxColorResolveTo[g]=b,this.gfxColorAttachmentLevel[g]=((r=t.colorAttachmentLevel)===null||r===void 0?void 0:r[g])||0,this.gfxColorResolveToLevel[g]=((i=t.colorResolveToLevel)===null||i===void 0?void 0:i[g])||0,x!==null){this.gpuColorAttachments[g]===void 0&&(this.gpuColorAttachments[g]={});var F=this.gpuColorAttachments[g];F.view=this.getTextureView(x,((s=this.gfxColorAttachmentLevel)===null||s===void 0?void 0:s[g])||0);var R=(n=(p=t.colorClearColor)===null||p===void 0?void 0:p[g])!==null&&n!==void 0?n:"load";R==="load"?F.loadOp="load":(F.loadOp="clear",F.clearValue=R),F.storeOp=!((f=t.colorStore)===null||f===void 0)&&f[g]?"store":"discard",F.resolveTarget=void 0,b!==null&&(x.sampleCount>1?F.resolveTarget=this.getTextureView(b,this.gfxColorResolveToLevel[g]):F.storeOp="store")}else{this.gpuColorAttachments.length=g,this.gfxColorAttachment.length=g,this.gfxColorResolveTo.length=g;break}}if(this.gfxDepthStencilAttachment=t.depthStencilAttachment,this.gfxDepthStencilResolveTo=t.depthStencilResolveTo,t.depthStencilAttachment){var I=t.depthStencilAttachment,F=this.gpuDepthStencilAttachment;F.view=I.gpuTextureView;var O=!!(I0(I.format)&xr.Depth);O?(t.depthClearValue==="load"?F.depthLoadOp="load":(F.depthLoadOp="clear",F.depthClearValue=t.depthClearValue),t.depthStencilStore||this.gfxDepthStencilResolveTo!==null?F.depthStoreOp="store":F.depthStoreOp="discard"):(F.depthLoadOp=void 0,F.depthStoreOp=void 0);var U=!!(I0(I.format)&xr.Stencil);U?(t.stencilClearValue==="load"?F.stencilLoadOp="load":(F.stencilLoadOp="clear",F.stencilClearValue=t.stencilClearValue),t.depthStencilStore||this.gfxDepthStencilResolveTo!==null?F.stencilStoreOp="store":F.stencilStoreOp="discard"):(F.stencilLoadOp=void 0,F.stencilStoreOp=void 0),this.gpuRenderPassDescriptor.depthStencilAttachment=this.gpuDepthStencilAttachment}else this.gpuRenderPassDescriptor.depthStencilAttachment=void 0;this.gpuRenderPassDescriptor.occlusionQuerySet=Wu(t.occlusionQueryPool)?void 0:BO(t.occlusionQueryPool)},e.prototype.beginRenderPass=function(t,r){bo(this.gpuRenderPassEncoder===null),this.setRenderPassDescriptor(r),this.frameCommandEncoder=t,this.gpuRenderPassEncoder=this.frameCommandEncoder.beginRenderPass(this.gpuRenderPassDescriptor)},e.prototype.flipY=function(t,r){var i=this.device.swapChainHeight;return i-t-r},e.prototype.setViewport=function(t,r,i,s,p,n){p===void 0&&(p=0),n===void 0&&(n=1),this.gpuRenderPassEncoder.setViewport(t,this.flipY(r,s),i,s,p,n)},e.prototype.setScissorRect=function(t,r,i,s){this.gpuRenderPassEncoder.setScissorRect(t,this.flipY(r,s),i,s)},e.prototype.setPipeline=function(t){var r=t,i=u1(r.gpuRenderPipeline);this.getEncoder().setPipeline(i)},e.prototype.setVertexInput=function(t,r,i){if(t!==null){var s=this.getEncoder(),p=t;i!==null&&s.setIndexBuffer(f0(i.buffer),u1(p.indexFormat),i.offset);for(var n=0;n<r.length;n++){var f=r[n];f!==null&&s.setVertexBuffer(n,f0(f.buffer),f.offset)}}},e.prototype.setBindings=function(t){var r=t,i=this.getEncoder();r.gpuBindGroup.forEach(function(s,p){s&&i.setBindGroup(p,r.gpuBindGroup[p])})},e.prototype.setStencilReference=function(t){this.gpuRenderPassEncoder.setStencilReference(t)},e.prototype.draw=function(t,r,i,s){this.getEncoder().draw(t,r,i,s)},e.prototype.drawIndexed=function(t,r,i,s,p){this.getEncoder().drawIndexed(t,r,i,s,p)},e.prototype.drawIndirect=function(t,r){this.getEncoder().drawIndirect(f0(t),r)},e.prototype.drawIndexedIndirect=function(t,r){this.getEncoder().drawIndexedIndirect(f0(t),r)},e.prototype.beginOcclusionQuery=function(t){this.gpuRenderPassEncoder.beginOcclusionQuery(t)},e.prototype.endOcclusionQuery=function(){this.gpuRenderPassEncoder.endOcclusionQuery()},e.prototype.pushDebugGroup=function(t){this.gpuRenderPassEncoder.pushDebugGroup(t)},e.prototype.popDebugGroup=function(){this.gpuRenderPassEncoder.popDebugGroup()},e.prototype.insertDebugMarker=function(t){this.gpuRenderPassEncoder.insertDebugMarker(t)},e.prototype.beginBundle=function(t){this.renderBundle=t},e.prototype.endBundle=function(){this.renderBundle.finish()},e.prototype.executeBundles=function(t){this.gpuRenderPassEncoder.executeBundles(t.map(function(r){return r.renderBundle}))},e.prototype.finish=function(){var t;(t=this.gpuRenderPassEncoder)===null||t===void 0||t.end(),this.gpuRenderPassEncoder=null;for(var r=0;r<this.gfxColorAttachment.length;r++){var i=this.gfxColorAttachment[r],s=this.gfxColorResolveTo[r];i!==null&&s!==null&&i.sampleCount===1&&this.copyAttachment(s,this.gfxColorAttachmentLevel[r],i,this.gfxColorResolveToLevel[r])}this.gfxDepthStencilAttachment&&this.gfxDepthStencilResolveTo&&(this.gfxDepthStencilAttachment.sampleCount>1||this.copyAttachment(this.gfxDepthStencilResolveTo,0,this.gfxDepthStencilAttachment,0)),this.frameCommandEncoder=null},e.prototype.copyAttachment=function(t,r,i,s){bo(i.sampleCount===1);var p={texture:i.gpuTexture,mipLevel:s},n={texture:t.gpuTexture,mipLevel:r};bo(i.width>>>s===t.width>>>r),bo(i.height>>>s===t.height>>>r),bo(!!(i.usage&na.COPY_SRC)),bo(!!(t.usage&na.COPY_DST)),this.frameCommandEncoder.copyTextureToTexture(p,n,[t.width,t.height,1])},e}(),aL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=e.call(this,{id:i,device:s})||this;return n.type=Jo.RenderPipeline,n.isCreatingAsync=!1,n.gpuRenderPipeline=null,n.descriptor=p,n.device.createRenderPipelineInternal(n,!1),n}return t.prototype.getBindGroupLayout=function(r){return this.gpuRenderPipeline.getBindGroupLayout(r)},t}(_p),sL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n,f,m=e.call(this,{id:i,device:s})||this;m.type=Jo.Sampler;var g=p.lodMinClamp,x=p.mipmapFilter===aa.NO_MIP?p.lodMinClamp:p.lodMaxClamp,b=(n=p.maxAnisotropy)!==null&&n!==void 0?n:1;return b>1&&bo(p.minFilter===xn.BILINEAR&&p.magFilter===xn.BILINEAR&&p.mipmapFilter===aa.LINEAR),m.gpuSampler=m.device.device.createSampler({addressModeU:u2(p.addressModeU),addressModeV:u2(p.addressModeV),addressModeW:u2((f=p.addressModeW)!==null&&f!==void 0?f:p.addressModeU),lodMinClamp:g,lodMaxClamp:x,minFilter:Fg(p.minFilter),magFilter:Fg(p.magFilter),mipmapFilter:OO(p.mipmapFilter),compare:p.compareFunction!==void 0?Dh(p.compareFunction):void 0,maxAnisotropy:b}),m}return t}(_p),_h=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=r.descriptor,n=r.skipCreate,f=r.sampleCount,m=e.call(this,{id:i,device:s})||this;m.type=Jo.Texture,m.flipY=!1;var g=p.format,x=p.dimension,b=p.width,F=p.height,R=p.depthOrArrayLayers,I=p.mipLevelCount,O=p.usage,U=p.pixelStore;return m.flipY=!!(U!=null&&U.unpackFlipY),m.device.createTextureShared({format:g,dimension:x??zo.TEXTURE_2D,width:b,height:F,depthOrArrayLayers:R??1,mipLevelCount:I??1,usage:O,sampleCount:f??1},m,n),m}return t.prototype.textureFromImageBitmapOrCanvas=function(r,i,s){for(var p=i[0].width,n=i[0].height,f={size:{width:p,height:n,depthOrArrayLayers:s},format:"rgba8unorm",usage:GPUTextureUsage.TEXTURE_BINDING|GPUTextureUsage.COPY_DST|GPUTextureUsage.RENDER_ATTACHMENT},m=r.createTexture(f),g=0;g<i.length;g++)r.queue.copyExternalImageToTexture({source:i[g],flipY:this.flipY},{texture:m,origin:[0,0,g]},[p,n]);return[m,p,n]},t.prototype.isImageBitmapOrCanvases=function(r){var i=r[0];return i instanceof ImageBitmap||i instanceof HTMLCanvasElement||i instanceof OffscreenCanvas},t.prototype.isVideo=function(r){var i=r[0];return i instanceof HTMLVideoElement},t.prototype.setImageData=function(r,i){var s,p=this,n=this.device.device,f,m,g;if(this.isImageBitmapOrCanvases(r))s=cp(this.textureFromImageBitmapOrCanvas(n,r,this.depthOrArrayLayers),3),f=s[0],m=s[1],g=s[2];else if(this.isVideo(r))f=n.importExternalTexture({source:r[0]});else{var x=M7(this.gpuTextureformat),b=Math.ceil(this.width/x.width)*x.length;r.forEach(function(F){n.queue.writeTexture({texture:p.gpuTexture},F,{bytesPerRow:b},{width:p.width,height:p.height})})}this.width=m,this.height=g,f&&(this.gpuTexture=f),this.gpuTextureView=this.gpuTexture.createView({dimension:NO(this.dimension)})},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.gpuTexture.destroy()},t}(_p),uL=function(e){cn(t,e);function t(r){var i=r.id,s=r.device,p=e.call(this,{id:i,device:s})||this;return p.type=Jo.RenderBundle,p.renderBundleEncoder=p.device.device.createRenderBundleEncoder({colorFormats:[p.device.swapChainFormat]}),p}return t.prototype.finish=function(){this.renderBundle=this.renderBundleEncoder.finish()},t}(_p),pL=function(){function e(t,r,i,s,p,n){this.swapChainWidth=0,this.swapChainHeight=0,this.swapChainTextureUsage=na.RENDER_ATTACHMENT|na.COPY_DST,this._resourceUniqueId=0,this.renderPassPool=[],this.computePassPool=[],this.frameCommandEncoderPool=[],this.featureTextureCompressionBC=!1,this.platformString="WebGPU",this.glslVersion="#version 440",this.explicitBindingLocations=!0,this.separateSamplerTextures=!0,this.viewportOrigin=hp.UPPER_LEFT,this.clipSpaceNearZ=C0.ZERO,this.supportsSyncPipelineCompilation=!1,this.supportMRT=!0,this.device=r,this.canvas=i,this.canvasContext=s,this.glsl_compile=p,this.WGSLComposer=n,this.fallbackTexture2D=this.createFallbackTexture(zo.TEXTURE_2D,un.Float),this.setResourceName(this.fallbackTexture2D,"Fallback Texture2D"),this.fallbackTexture2DDepth=this.createFallbackTexture(zo.TEXTURE_2D,un.Depth),this.setResourceName(this.fallbackTexture2DDepth,"Fallback Depth Texture2D"),this.fallbackTexture2DArray=this.createFallbackTexture(zo.TEXTURE_2D_ARRAY,un.Float),this.setResourceName(this.fallbackTexture2DArray,"Fallback Texture2DArray"),this.fallbackTexture3D=this.createFallbackTexture(zo.TEXTURE_3D,un.Float),this.setResourceName(this.fallbackTexture3D,"Fallback Texture3D"),this.fallbackTextureCube=this.createFallbackTexture(zo.TEXTURE_CUBE_MAP,un.Float),this.setResourceName(this.fallbackTextureCube,"Fallback TextureCube"),this.fallbackSamplerFiltering=this.createSampler({addressModeU:ms.REPEAT,addressModeV:ms.REPEAT,minFilter:xn.POINT,magFilter:xn.POINT,mipmapFilter:aa.NEAREST}),this.setResourceName(this.fallbackSamplerFiltering,"Fallback Sampler Filtering"),this.fallbackSamplerComparison=this.createSampler({addressModeU:ms.REPEAT,addressModeV:ms.REPEAT,minFilter:xn.POINT,magFilter:xn.POINT,mipmapFilter:aa.NEAREST,compareFunction:ui.ALWAYS}),this.setResourceName(this.fallbackSamplerComparison,"Fallback Sampler Comparison Filtering"),this.device.features&&(this.featureTextureCompressionBC=this.device.features.has("texture-compression-bc")),this.device.onuncapturederror=function(f){console.error(f.error)},this.swapChainFormat=navigator.gpu.getPreferredCanvasFormat(),this.canvasContext.configure({device:this.device,format:this.swapChainFormat,usage:this.swapChainTextureUsage,alphaMode:"premultiplied"})}return e.prototype.destroy=function(){},e.prototype.configureSwapChain=function(t,r){this.swapChainWidth===t&&this.swapChainHeight===r||(this.swapChainWidth=t,this.swapChainHeight=r)},e.prototype.getOnscreenTexture=function(){var t=this.canvasContext.getCurrentTexture(),r=t.createView(),i=new _h({id:0,device:this,descriptor:{format:We.U8_RGBA_RT,width:this.swapChainWidth,height:this.swapChainHeight,depthOrArrayLayers:0,dimension:zo.TEXTURE_2D,mipLevelCount:1,usage:this.swapChainTextureUsage},skipCreate:!0});return i.depthOrArrayLayers=1,i.sampleCount=1,i.gpuTexture=t,i.gpuTextureView=r,i.name="Onscreen",this.setResourceName(i,"Onscreen Texture"),i},e.prototype.getDevice=function(){return this},e.prototype.getCanvas=function(){return this.canvas},e.prototype.beginFrame=function(){bo(this.frameCommandEncoderPool.length===0)},e.prototype.endFrame=function(){bo(this.frameCommandEncoderPool.every(function(t){return t!==null})),this.device.queue.submit(this.frameCommandEncoderPool.map(function(t){return t.finish()})),this.frameCommandEncoderPool=[]},e.prototype.getNextUniqueId=function(){return++this._resourceUniqueId},e.prototype.createBuffer=function(t){return new tL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTexture=function(t){return new _h({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createSampler=function(t){return new sL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderTarget=function(t){var r=new _h({id:this.getNextUniqueId(),device:this,descriptor:In(In({},t),{dimension:zo.TEXTURE_2D,mipLevelCount:1,depthOrArrayLayers:1,usage:ns.RENDER_TARGET}),sampleCount:t.sampleCount});return r.depthOrArrayLayers=1,r.type=Jo.RenderTarget,r},e.prototype.createRenderTargetFromTexture=function(t){var r=t,i=r.format,s=r.width,p=r.height,n=r.depthOrArrayLayers,f=r.sampleCount,m=r.mipLevelCount,g=r.gpuTexture,x=r.gpuTextureView,b=r.usage;bo(!!(b&na.RENDER_ATTACHMENT));var F=new _h({id:this.getNextUniqueId(),device:this,descriptor:{format:i,width:s,height:p,depthOrArrayLayers:n,dimension:zo.TEXTURE_2D,mipLevelCount:m,usage:b},skipCreate:!0});return F.depthOrArrayLayers=n,F.sampleCount=f,F.gpuTexture=g,F.gpuTextureView=x,F},e.prototype.createProgram=function(t){var r,i;return!((r=t.vertex)===null||r===void 0)&&r.glsl&&(t.vertex.glsl=D0(this.queryVendorInfo(),"vert",t.vertex.glsl)),!((i=t.fragment)===null||i===void 0)&&i.glsl&&(t.fragment.glsl=D0(this.queryVendorInfo(),"frag",t.fragment.glsl)),new Ig({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createProgramSimple=function(t){return new Ig({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createTextureShared=function(t,r,i){var s={width:t.width,height:t.height,depthOrArrayLayers:t.depthOrArrayLayers},p=t.mipLevelCount,n=k6(t.format),f=MO(t.dimension),m=IO(t.usage);if(r.gpuTextureformat=n,r.dimension=t.dimension,r.format=t.format,r.width=t.width,r.height=t.height,r.depthOrArrayLayers=t.depthOrArrayLayers,r.mipLevelCount=p,r.usage=m,r.sampleCount=t.sampleCount,!i){var g=this.device.createTexture({size:s,mipLevelCount:p,format:n,dimension:f,sampleCount:t.sampleCount,usage:m}),x=g.createView();r.gpuTexture=g,r.gpuTextureView=x}},e.prototype.getFallbackSampler=function(t){var r=t.formatKind;return r===un.Depth&&t.comparison?this.fallbackSamplerComparison:this.fallbackSamplerFiltering},e.prototype.getFallbackTexture=function(t){var r=t.dimension,i=t.formatKind;if(r===zo.TEXTURE_2D)return i===un.Depth?this.fallbackTexture2DDepth:this.fallbackTexture2D;if(r===zo.TEXTURE_2D_ARRAY)return this.fallbackTexture2DArray;if(r===zo.TEXTURE_3D)return this.fallbackTexture3D;if(r===zo.TEXTURE_CUBE_MAP)return this.fallbackTextureCube;throw new Error("whoops")},e.prototype.createFallbackTexture=function(t,r){var i=t===zo.TEXTURE_CUBE_MAP?6:1,s=r===un.Float?We.U8_RGBA_NORM:We.D24;return this.createTexture({dimension:t,format:s,usage:ns.SAMPLED,width:1,height:1,depthOrArrayLayers:i,mipLevelCount:1})},e.prototype.createBindings=function(t){return new eL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createInputLayout=function(t){return new oL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createComputePipeline=function(t){return new rL({id:this.getNextUniqueId(),device:this,descriptor:t})},e.prototype.createRenderPipeline=function(t){return new aL({id:this.getNextUniqueId(),device:this,descriptor:In({},t)})},e.prototype.createQueryPool=function(t,r){return new iL({id:this.getNextUniqueId(),device:this,descriptor:{type:t,elemCount:r}})},e.prototype.createRenderPipelineInternal=function(t,r){var i;if(t.gpuRenderPipeline===null){var s=t.descriptor,p=s.program,n=p.vertexStage,f=p.fragmentStage;if(!(n===null||f===null)){var m=s.megaStateDescriptor||{},g=m.stencilBack,x=m.stencilFront,b=Tv(m,["stencilBack","stencilFront"]),F=M0(N0);s.megaStateDescriptor=In(In(In({},F),{stencilBack:In(In({},F.stencilBack),g),stencilFront:In(In({},F.stencilFront),x)}),b);var R=s.megaStateDescriptor.attachmentsState[0];s.colorAttachmentFormats.forEach(function(Re,Ae){s.megaStateDescriptor.attachmentsState[Ae]||(s.megaStateDescriptor.attachmentsState[Ae]=A7(void 0,R))});var I=HO((i=s.topology)!==null&&i!==void 0?i:Vn.TRIANGLES,s.megaStateDescriptor),O=XO(s.colorAttachmentFormats,s.megaStateDescriptor),U=ZO(s.depthStencilAttachmentFormat,s.megaStateDescriptor),Y=void 0;s.inputLayout!==null&&(Y=s.inputLayout.buffers);var ee=s.sampleCount,oe={layout:"auto",vertex:In(In({},n),{buffers:Y}),primitive:I,depthStencil:U,multisample:{count:ee},fragment:In(In({},f),{targets:O})};t.gpuRenderPipeline=this.device.createRenderPipeline(oe)}}},e.prototype.createReadback=function(){return new nL({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderBundle=function(){return new uL({id:this.getNextUniqueId(),device:this})},e.prototype.createRenderPass=function(t){var r=this.renderPassPool.pop();r===void 0&&(r=new Mg(this));var i=this.frameCommandEncoderPool.pop();return i===void 0&&(i=this.device.createCommandEncoder()),r.beginRenderPass(i,t),r},e.prototype.createComputePass=function(){var t=this.computePassPool.pop();t===void 0&&(t=new Cg);var r=this.frameCommandEncoderPool.pop();return r===void 0&&(r=this.device.createCommandEncoder()),t.beginComputePass(r),t},e.prototype.submitPass=function(t){var r=t;r instanceof Mg?(this.frameCommandEncoderPool.push(r.frameCommandEncoder),r.finish(),this.renderPassPool.push(r)):r instanceof Cg&&(this.frameCommandEncoderPool.push(r.frameCommandEncoder),r.finish(),this.computePassPool.push(r))},e.prototype.copySubTexture2D=function(t,r,i,s,p,n,f){var m=this.device.createCommandEncoder(),g=t,x=s,b={texture:x.gpuTexture,origin:[p,n,0],mipLevel:0,aspect:"all"},F={texture:g.gpuTexture,origin:[r,i,0],mipLevel:0,aspect:"all"};bo(!!(x.usage&na.COPY_SRC)),bo(!!(g.usage&na.COPY_DST)),m.copyTextureToTexture(b,F,[x.width,x.height,f||1]),this.device.queue.submit([m.finish()])},e.prototype.queryLimits=function(){return{uniformBufferMaxPageWordSize:this.device.limits.maxUniformBufferBindingSize>>>2,uniformBufferWordAlignment:this.device.limits.minUniformBufferOffsetAlignment>>>2,supportedSampleCounts:[1],occlusionQueriesRecommended:!0,computeShadersSupported:!0}},e.prototype.queryTextureFormatSupported=function(t,r,i){if(KO(t)){if(!this.featureTextureCompressionBC)return!1;var s=QO(t);return r%s!==0||i%s!==0?!1:this.featureTextureCompressionBC}switch(t){case We.U16_RGBA_NORM:return!1;case We.F32_RGBA:return!1}return!0},e.prototype.queryPlatformAvailable=function(){return!0},e.prototype.queryVendorInfo=function(){return this},e.prototype.queryRenderPass=function(t){var r=t;return r.descriptor},e.prototype.queryRenderTarget=function(t){var r=t;return r},e.prototype.setResourceName=function(t,r){if(t.name=r,t.type===Jo.Buffer){var i=t;i.gpuBuffer.label=r}else if(t.type===Jo.Texture){var i=t;i.gpuTexture.label=r,i.gpuTextureView.label=r}else if(t.type===Jo.RenderTarget){var i=t;i.gpuTexture.label=r,i.gpuTextureView.label=r}else if(t.type===Jo.Sampler){var i=t;i.gpuSampler.label=r}else if(t.type===Jo.RenderPipeline){var i=t;i.gpuRenderPipeline!==null&&(i.gpuRenderPipeline.label=r)}},e.prototype.setResourceLeakCheck=function(t,r){},e.prototype.checkForLeaks=function(){},e.prototype.programPatched=function(t){},e.prototype.pipelineQueryReady=function(t){var r=t;return r.gpuRenderPipeline!==null},e.prototype.pipelineForceReady=function(t){var r=t;this.createRenderPipelineInternal(r,!1)},e}(),cL=function(){function e(t){this.pluginOptions=t}return e.prototype.createSwapChain=function(t){return m0(this,void 0,void 0,function(){var r,i,s,p,n,f,m,g;return _0(this,function(x){switch(x.label){case 0:if(globalThis.navigator.gpu===void 0)return[2,null];r=null,x.label=1;case 1:return x.trys.push([1,3,,4]),i=this.pluginOptions.xrCompatible,[4,globalThis.navigator.gpu.requestAdapter({xrCompatible:i})];case 2:return r=x.sent(),[3,4];case 3:return s=x.sent(),console.log(s),[3,4];case 4:return r===null?[2,null]:(p=["depth32float-stencil8","texture-compression-bc","float32-filterable"],n=p.filter(function(b){return r.features.has(b)}),[4,r.requestDevice({requiredFeatures:n})]);case 5:if(f=x.sent(),f&&(m=this.pluginOptions.onContextLost,f.lost.then(function(){m&&m()})),f===null)return[2,null];if(g=t.getContext("webgpu"),!g)return[2,null];x.label=6;case 6:return x.trys.push([6,8,,9]),[4,I7(this.pluginOptions.shaderCompilerPath)];case 7:return x.sent(),[3,9];case 8:return x.sent(),[3,9];case 9:return[2,new pL(r,f,t,g,SO,new vf)]}})})},e}(),lL=class{constructor(e,t){const{buffer:r,offset:i,stride:s,normalized:p,size:n,divisor:f,shaderLocation:m}=t;this.buffer=r,this.attribute={shaderLocation:m,buffer:r.get(),offset:i||0,stride:s||0,normalized:p||!1,divisor:f||0},n&&(this.attribute.size=n)}get(){return this.buffer}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},Ef={[k.FLOAT]:Float32Array,[k.UNSIGNED_BYTE]:Uint8Array,[k.SHORT]:Int16Array,[k.UNSIGNED_SHORT]:Uint16Array,[k.INT]:Int32Array,[k.UNSIGNED_INT]:Uint32Array},dL={[k.POINTS]:Vn.POINTS,[k.LINES]:Vn.LINES,[k.LINE_LOOP]:Vn.LINES,[k.LINE_STRIP]:Vn.LINE_STRIP,[k.TRIANGLES]:Vn.TRIANGLES,[k.TRIANGLE_FAN]:Vn.TRIANGLES,[k.TRIANGLE_STRIP]:Vn.TRIANGLE_STRIP},yL={1:We.F32_R,2:We.F32_RG,3:We.F32_RGB,4:We.F32_RGBA},hL={[k.STATIC_DRAW]:fp.STATIC,[k.DYNAMIC_DRAW]:fp.DYNAMIC,[k.STREAM_DRAW]:fp.DYNAMIC},Ng={[k.REPEAT]:ms.REPEAT,[k.CLAMP_TO_EDGE]:ms.CLAMP_TO_EDGE,[k.MIRRORED_REPEAT]:ms.MIRRORED_REPEAT},fL={[k.NEVER]:ui.NEVER,[k.ALWAYS]:ui.ALWAYS,[k.LESS]:ui.LESS,[k.LEQUAL]:ui.LEQUAL,[k.GREATER]:ui.GREATER,[k.GEQUAL]:ui.GEQUAL,[k.EQUAL]:ui.EQUAL,[k.NOTEQUAL]:ui.NOTEQUAL},mL={[k.FRONT]:ks.FRONT,[k.BACK]:ks.BACK},Dg={[k.FUNC_ADD]:ma.ADD,[k.MIN_EXT]:ma.MIN,[k.MAX_EXT]:ma.MAX,[k.FUNC_SUBTRACT]:ma.SUBSTRACT,[k.FUNC_REVERSE_SUBTRACT]:ma.REVERSE_SUBSTRACT},gh={[k.ZERO]:ko.ZERO,[k.ONE]:ko.ONE,[k.SRC_COLOR]:ko.SRC,[k.ONE_MINUS_SRC_COLOR]:ko.ONE_MINUS_SRC,[k.SRC_ALPHA]:ko.SRC_ALPHA,[k.ONE_MINUS_SRC_ALPHA]:ko.ONE_MINUS_SRC_ALPHA,[k.DST_COLOR]:ko.DST,[k.ONE_MINUS_DST_COLOR]:ko.ONE_MINUS_DST,[k.DST_ALPHA]:ko.DST_ALPHA,[k.ONE_MINUS_DST_ALPHA]:ko.ONE_MINUS_DST_ALPHA,[k.CONSTANT_COLOR]:ko.CONST,[k.ONE_MINUS_CONSTANT_COLOR]:ko.ONE_MINUS_CONSTANT,[k.CONSTANT_ALPHA]:ko.CONST,[k.ONE_MINUS_CONSTANT_ALPHA]:ko.ONE_MINUS_CONSTANT,[k.SRC_ALPHA_SATURATE]:ko.SRC_ALPHA_SATURATE},p0={[k.REPLACE]:pn.REPLACE,[k.KEEP]:pn.KEEP,[k.ZERO]:pn.ZERO,[k.INVERT]:pn.INVERT,[k.INCR]:pn.INCREMENT_CLAMP,[k.DECR]:pn.DECREMENT_CLAMP,[k.INCR_WRAP]:pn.INCREMENT_WRAP,[k.DECR_WRAP]:pn.DECREMENT_WRAP},_L={[k.ALWAYS]:ui.ALWAYS,[k.EQUAL]:ui.EQUAL,[k.GEQUAL]:ui.GEQUAL,[k.GREATER]:ui.GREATER,[k.LEQUAL]:ui.LEQUAL,[k.LESS]:ui.LESS,[k.NEVER]:ui.NEVER,[k.NOTEQUAL]:ui.NOTEQUAL},gL={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121};function xf(e){return Object.prototype.toString.call(e)in gL}function vL(e,t){const r=e.length,i=Math.ceil(r/3),s=r+i,p=new Float32Array(s);for(let n=0;n<s;n+=4)p[n]=e[n/4*3],p[n+1]=e[n/4*3+1],p[n+2]=e[n/4*3+2],p[n+3]=t;return p}var EL=class{constructor(e,t){this.isDestroyed=!1;const{data:r,usage:i,type:s,isUBO:p,label:n}=t;let f;xf(r)?f=r:f=new Ef[this.type||k.FLOAT](r),this.type=s,this.size=f.byteLength,this.buffer=e.createBuffer({viewOrSize:f,usage:p?xi.UNIFORM:xi.VERTEX,hint:hL[i||k.STATIC_DRAW]}),n&&e.setResourceName(this.buffer,n)}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){let r;xf(e)?r=e:r=new Ef[this.type||k.FLOAT](e),this.buffer.setSubData(t,new Uint8Array(r.buffer))}};function ci(e,t=0){return e+=t,e+=e<<10,e+=e>>>6,e>>>0}function N7(e){return e+=e<<3,e^=e>>>11,e+=e<<15,e>>>0}function Og(){return 0}var xL=class{constructor(){this.keys=[],this.values=[]}},vh=class{constructor(e,t){this.keyEqualFunc=e,this.keyHashFunc=t,this.buckets=new Map}findBucketIndex(e,t){for(let r=0;r<e.keys.length;r++)if(this.keyEqualFunc(t,e.keys[r]))return r;return-1}findBucket(e){const t=this.keyHashFunc(e);return this.buckets.get(t)}get(e){const t=this.findBucket(e);if(t===void 0)return null;const r=this.findBucketIndex(t,e);return r<0?null:t.values[r]}add(e,t){const r=this.keyHashFunc(e);this.buckets.get(r)===void 0&&this.buckets.set(r,new xL);const i=this.buckets.get(r);i.keys.push(e),i.values.push(t)}delete(e){const t=this.findBucket(e);if(t===void 0)return;const r=this.findBucketIndex(t,e);r!==-1&&(t.keys.splice(r,1),t.values.splice(r,1))}clear(){this.buckets.clear()}size(){let e=0;for(const t of this.buckets.values())e+=t.values.length;return e}*values(){for(const e of this.buckets.values())for(let t=e.values.length-1;t>=0;t--)yield e.values[t]}};function Lg(e,t){return e=ci(e,t.blendMode),e=ci(e,t.blendSrcFactor),e=ci(e,t.blendDstFactor),e}function PL(e,t){return e=Lg(e,t.rgbBlendState),e=Lg(e,t.alphaBlendState),e=ci(e,t.channelWriteMask),e}function bL(e,t){return e=ci(e,t.r<<24|t.g<<16|t.b<<8|t.a),e}function AL(e,t){var r,i,s,p,n,f,m,g;for(let x=0;x<t.attachmentsState.length;x++)e=PL(e,t.attachmentsState[x]);return e=bL(e,t.blendConstant||If),e=ci(e,t.depthCompare),e=ci(e,t.depthWrite?1:0),e=ci(e,(r=t.stencilFront)==null?void 0:r.compare),e=ci(e,(i=t.stencilFront)==null?void 0:i.passOp),e=ci(e,(s=t.stencilFront)==null?void 0:s.failOp),e=ci(e,(p=t.stencilFront)==null?void 0:p.depthFailOp),e=ci(e,(n=t.stencilBack)==null?void 0:n.compare),e=ci(e,(f=t.stencilBack)==null?void 0:f.passOp),e=ci(e,(m=t.stencilBack)==null?void 0:m.failOp),e=ci(e,(g=t.stencilBack)==null?void 0:g.depthFailOp),e=ci(e,t.stencilWrite?1:0),e=ci(e,t.cullMode),e=ci(e,t.frontFace?1:0),e=ci(e,t.polygonOffset?1:0),e}function FL(e){let t=0;t=ci(t,e.program.id),e.inputLayout!==null&&(t=ci(t,e.inputLayout.id)),t=AL(t,e.megaStateDescriptor);for(let r=0;r<e.colorAttachmentFormats.length;r++)t=ci(t,e.colorAttachmentFormats[r]||0);return t=ci(t,e.depthStencilAttachmentFormat||0),N7(t)}function TL(e){let t=0;if(e.samplerBindings)for(let r=0;r<e.samplerBindings.length;r++){const i=e.samplerBindings[r];i!==null&&i.texture!==null&&(t=ci(t,i.texture.id))}if(e.uniformBufferBindings)for(let r=0;r<e.uniformBufferBindings.length;r++){const i=e.uniformBufferBindings[r];i!==null&&i.buffer!==null&&(t=ci(t,i.buffer.id),t=ci(t,i.binding),t=ci(t,i.offset),t=ci(t,i.size))}if(e.storageBufferBindings)for(let r=0;r<e.storageBufferBindings.length;r++){const i=e.storageBufferBindings[r];i!==null&&i.buffer!==null&&(t=ci(t,i.buffer.id),t=ci(t,i.binding),t=ci(t,i.offset),t=ci(t,i.size))}if(e.storageTextureBindings)for(let r=0;r<e.storageTextureBindings.length;r++){const i=e.storageTextureBindings[r];i!==null&&i.texture!==null&&(t=ci(t,i.texture.id),t=ci(t,i.binding))}return N7(t)}function SL(e,t){var r,i,s,p;return((r=e.vertex)==null?void 0:r.glsl)===((i=t.vertex)==null?void 0:i.glsl)&&((s=e.fragment)==null?void 0:s.glsl)===((p=t.fragment)==null?void 0:p.glsl)}function RL(e){var t,r;return{vertex:{glsl:(t=e.vertex)==null?void 0:t.glsl},fragment:{glsl:(r=e.fragment)==null?void 0:r.glsl}}}var wL=class{constructor(e){this.device=e,this.bindingsCache=new vh(RD,TL),this.renderPipelinesCache=new vh(MD,FL),this.inputLayoutsCache=new vh(OD,Og),this.programCache=new vh(SL,Og)}createBindings(e){var t;let r=this.bindingsCache.get(e);if(r===null){const i=UD(e);i.uniformBufferBindings=(t=i.uniformBufferBindings)==null?void 0:t.filter(({size:s})=>s&&s>0),r=this.device.createBindings(i),this.bindingsCache.add(i,r)}return r}createRenderPipeline(e){let t=this.renderPipelinesCache.get(e);if(t===null){const r=kD(e);r.colorAttachmentFormats=r.colorAttachmentFormats.filter(i=>i),t=this.device.createRenderPipeline(r),this.renderPipelinesCache.add(r,t)}return t}createInputLayout(e){e.vertexBufferDescriptors=e.vertexBufferDescriptors.filter(r=>!!r);let t=this.inputLayoutsCache.get(e);if(t===null){const r=HD(e);t=this.device.createInputLayout(r),this.inputLayoutsCache.add(r,t)}return t}createProgram(e){let t=this.programCache.get(e);if(t===null){const r=RL(e);t=this.device.createProgram(e),this.programCache.add(r,t)}return t}destroy(){for(const e of this.bindingsCache.values())e.destroy();for(const e of this.renderPipelinesCache.values())e.destroy();for(const e of this.inputLayoutsCache.values())e.destroy();for(const e of this.programCache.values())e.destroy();this.bindingsCache.clear(),this.renderPipelinesCache.clear(),this.inputLayoutsCache.clear(),this.programCache.clear()}},CL=class{constructor(e,t){const{data:r,type:i,count:s=0}=t;let p;xf(r)?p=r:p=new Ef[this.type||k.UNSIGNED_INT](r),this.type=i,this.count=s,this.indexBuffer=e.createBuffer({viewOrSize:p,usage:xi.INDEX})}get(){return this.indexBuffer}subData({data:e}){let t;xf(e)?t=e:t=new Ef[this.type||k.UNSIGNED_INT](e),this.indexBuffer.setSubData(0,new Uint8Array(t.buffer))}destroy(){this.indexBuffer.destroy()}};function Bg(e){return!!(e&&e.texture)}var D7=class{constructor(e,t){this.device=e,this.options=t,this.isDestroy=!1;const{wrapS:r=k.CLAMP_TO_EDGE,wrapT:i=k.CLAMP_TO_EDGE,aniso:s,mag:p=k.NEAREST,min:n=k.NEAREST}=t;this.createTexture(t),this.sampler=e.createSampler({addressModeU:Ng[r],addressModeV:Ng[i],minFilter:n===k.NEAREST?xn.POINT:xn.BILINEAR,magFilter:p===k.NEAREST?xn.POINT:xn.BILINEAR,mipmapFilter:aa.NO_MIP,maxAnisotropy:s})}createTexture(e){const{type:t=k.UNSIGNED_BYTE,width:r,height:i,flipY:s=!1,format:p=k.RGBA,alignment:n=1,usage:f=y1.SAMPLED,unorm:m=!1,label:g}=e;let{data:x}=e;this.width=r,this.height=i;let b=We.U8_RGBA_RT;if(t===k.UNSIGNED_BYTE&&p===k.RGBA)b=m?We.U8_RGBA_NORM:We.U8_RGBA_RT;else if(t===k.UNSIGNED_BYTE&&p===k.LUMINANCE)b=We.U8_LUMINANCE;else if(t===k.FLOAT&&p===k.LUMINANCE)b=We.F32_LUMINANCE;else if(t===k.FLOAT&&p===k.RGB)this.device.queryVendorInfo().platformString==="WebGPU"?(x&&(x=vL(x,0)),b=We.F32_RGBA):b=We.F32_RGB;else if(t===k.FLOAT&&p===k.RGBA)b=We.F32_RGBA;else if(t===k.FLOAT&&p===k.RED)b=We.F32_R;else throw new Error(`create texture error, type: ${t}, format: ${p}`);this.texture=this.device.createTexture({format:b,width:r,height:i,usage:f===y1.SAMPLED?ns.SAMPLED:ns.RENDER_TARGET,pixelStore:{unpackFlipY:s,packAlignment:n},mipLevelCount:1}),g&&this.device.setResourceName(this.texture,g),x&&this.texture.setImageData([x])}get(){return this.texture}update(e){const{data:t}=e;this.texture.setImageData([t])}bind(){}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&this.destroy(),this.options.width=e,this.options.height=t,this.createTexture(this.options),this.isDestroy=!1}getSize(){return[this.width,this.height]}destroy(){var e;!this.isDestroy&&!this.texture.destroyed&&((e=this.texture)==null||e.destroy()),this.isDestroy=!0}},O7=class{constructor(e,t){this.device=e,this.options=t,this.createColorRenderTarget(),this.createDepthRenderTarget()}createColorRenderTarget(e=!1){const{width:t,height:r,color:i}=this.options;i&&(Bg(i)?(e&&i.resize({width:t,height:r}),this.colorTexture=i.get(),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=i.width,this.height=i.height):t&&r&&(this.colorTexture=this.device.createTexture({format:We.U8_RGBA_RT,usage:ns.RENDER_TARGET,width:t,height:r}),this.colorRenderTarget=this.device.createRenderTargetFromTexture(this.colorTexture),this.width=t,this.height=r))}createDepthRenderTarget(e=!1){const{width:t,height:r,depth:i}=this.options;i&&(Bg(i)?(e&&i.resize({width:t,height:r}),this.depthTexture=i.get(),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=i.width,this.height=i.height):t&&r&&(this.depthTexture=this.device.createTexture({format:We.D24_S8,usage:ns.RENDER_TARGET,width:t,height:r}),this.depthRenderTarget=this.device.createRenderTargetFromTexture(this.depthTexture),this.width=t,this.height=r))}get(){return this.colorRenderTarget}destroy(){var e,t;(e=this.colorRenderTarget)==null||e.destroy(),(t=this.depthRenderTarget)==null||t.destroy()}resize({width:e,height:t}){(this.width!==e||this.height!==t)&&(this.destroy(),this.colorTexture.destroyed=!0,this.depthTexture.destroyed=!0,this.options.width=e,this.options.height=t,this.createColorRenderTarget(!0),this.createDepthRenderTarget(!0))}},IL=Object.defineProperty,ML=Object.defineProperties,NL=Object.getOwnPropertyDescriptors,Ug=Object.getOwnPropertySymbols,DL=Object.prototype.hasOwnProperty,OL=Object.prototype.propertyIsEnumerable,kg=(e,t,r)=>t in e?IL(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a1=(e,t)=>{for(var r in t||(t={}))DL.call(t,r)&&kg(e,r,t[r]);if(Ug)for(var r of Ug(t))OL.call(t,r)&&kg(e,r,t[r]);return e},LL=(e,t)=>ML(e,NL(t)),{isPlainObject:BL,isTypedArray:UL,isNil:zg}=Kn,kL=class{constructor(e,t,r){this.device=e,this.options=t,this.service=r,this.destroyed=!1,this.uniforms={},this.vertexBuffers=[];const{vs:i,fs:s,attributes:p,uniforms:n,count:f,elements:m,diagnosticDerivativeUniformityEnabled:g}=t;this.options=t;const x=g?"":this.service.viewportOrigin===hp.UPPER_LEFT?"diagnostic(off,derivative_uniformity);":"";this.program=r.renderCache.createProgram({vertex:{glsl:i},fragment:{glsl:s,postprocess:I=>x+I}}),n&&(this.uniforms=this.extractUniforms(n));const b=[];let F=0;Object.keys(p).forEach(I=>{const O=p[I],U=O.get();this.vertexBuffers.push(U.get());const{offset:Y=0,stride:ee=0,size:oe=1,divisor:Re=0,shaderLocation:Ae=0}=O.attribute;b.push({arrayStride:ee||oe*4,stepMode:g1.VERTEX,attributes:[{format:yL[oe],shaderLocation:Ae,offset:Y,divisor:Re}]}),F=U.size/oe}),f||(this.options.count=F),m&&(this.indexBuffer=m.get());const R=r.renderCache.createInputLayout({vertexBufferDescriptors:b,indexBufferFormat:m?We.U32_R:null,program:this.program});this.inputLayout=R,this.pipeline=this.createPipeline(t)}createPipeline(e,t){var r;const{primitive:i=k.TRIANGLES,depth:s,cull:p,blend:n,stencil:f}=e,m=this.initDepthDrawParams({depth:s}),g=!!(m&&m.enable),x=this.initCullDrawParams({cull:p}),b=!!(x&&x.enable),F=this.getBlendDrawParams({blend:n}),R=!!(F&&F.enable),I=this.getStencilDrawParams({stencil:f}),O=!!(I&&I.enable),U=this.device.createRenderPipeline({inputLayout:this.inputLayout,program:this.program,topology:dL[i],colorAttachmentFormats:[We.U8_RGBA_RT],depthStencilAttachmentFormat:We.D24_S8,megaStateDescriptor:{attachmentsState:[t?{channelWriteMask:fa.ALL,rgbBlendState:{blendMode:ma.ADD,blendSrcFactor:ko.ONE,blendDstFactor:ko.ZERO},alphaBlendState:{blendMode:ma.ADD,blendSrcFactor:ko.ONE,blendDstFactor:ko.ZERO}}:{channelWriteMask:O&&I.opFront.zpass===pn.REPLACE?fa.NONE:fa.ALL,rgbBlendState:{blendMode:R&&F.equation.rgb||ma.ADD,blendSrcFactor:R&&F.func.srcRGB||ko.SRC_ALPHA,blendDstFactor:R&&F.func.dstRGB||ko.ONE_MINUS_SRC_ALPHA},alphaBlendState:{blendMode:R&&F.equation.alpha||ma.ADD,blendSrcFactor:R&&F.func.srcAlpha||ko.ONE,blendDstFactor:R&&F.func.dstAlpha||ko.ONE}}],blendConstant:R?If:void 0,depthWrite:g,depthCompare:g&&m.func||ui.LESS,cullMode:b&&x.face||ks.NONE,stencilWrite:O,stencilFront:{compare:O?I.func.cmp:ui.ALWAYS,passOp:I.opFront.zpass,failOp:I.opFront.fail,depthFailOp:I.opFront.zfail,mask:I.opFront.mask},stencilBack:{compare:O?I.func.cmp:ui.ALWAYS,passOp:I.opBack.zpass,failOp:I.opBack.fail,depthFailOp:I.opBack.zfail,mask:I.opBack.mask}}});return O&&!zg((r=f==null?void 0:f.func)==null?void 0:r.ref)&&(U.stencilFuncReference=f.func.ref),U}updateAttributesAndElements(){}updateAttributes(){}addUniforms(e){this.uniforms=a1(a1({},this.uniforms),this.extractUniforms(e))}draw(e,t){const r=a1(a1({},this.options),e),{count:i=0,instances:s,elements:p,uniforms:n={},uniformBuffers:f,textures:m}=r;this.uniforms=a1(a1({},this.uniforms),this.extractUniforms(n));const{renderPass:g,currentFramebuffer:x,width:b,height:F}=this.service;this.pipeline=this.createPipeline(r,t);const R=this.service.device,I=R.swapChainHeight;if(R.swapChainHeight=(x==null?void 0:x.height)||F,g.setViewport(0,0,(x==null?void 0:x.width)||b,(x==null?void 0:x.height)||F),R.swapChainHeight=I,g.setPipeline(this.pipeline),zg(this.pipeline.stencilFuncReference)||g.setStencilReference(this.pipeline.stencilFuncReference),g.setVertexInput(this.inputLayout,this.vertexBuffers.map(O=>({buffer:O})),p?{buffer:this.indexBuffer,offset:0}:null),f&&(this.bindings=R.createBindings({pipeline:this.pipeline,uniformBufferBindings:f.map((O,U)=>{const Y=O;return{binding:U,buffer:Y.get(),size:Y.size}}),samplerBindings:m==null?void 0:m.map(O=>({texture:O.texture,sampler:O.sampler}))})),this.bindings&&(g.setBindings(this.bindings),Object.keys(this.uniforms).forEach(O=>{const U=this.uniforms[O];U instanceof D7?this.uniforms[O]=U.get():U instanceof O7&&(this.uniforms[O]=U.get().texture)}),this.program.setUniformsLegacy(this.uniforms)),p){const O=p.count;O===0?g.draw(i,s):g.drawIndexed(O,s)}else g.draw(i,s)}destroy(){var e,t,r;(e=this.vertexBuffers)==null||e.forEach(i=>i.destroy()),(t=this.indexBuffer)==null||t.destroy(),(r=this.bindings)==null||r.destroy(),this.pipeline.destroy(),this.destroyed=!0}initDepthDrawParams({depth:e}){if(e)return{enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:fL[e.func||k.LESS],range:e.range||[0,1]}}getBlendDrawParams({blend:e}){const{enable:t,func:r,equation:i,color:s=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:gh[r&&r.srcRGB||k.SRC_ALPHA],srcAlpha:gh[r&&r.srcAlpha||k.SRC_ALPHA],dstRGB:gh[r&&r.dstRGB||k.ONE_MINUS_SRC_ALPHA],dstAlpha:gh[r&&r.dstAlpha||k.ONE_MINUS_SRC_ALPHA]},equation:{rgb:Dg[i&&i.rgb||k.FUNC_ADD],alpha:Dg[i&&i.alpha||k.FUNC_ADD]},color:s}}getStencilDrawParams({stencil:e}){const{enable:t,mask:r=4294967295,func:i={cmp:k.ALWAYS,ref:0,mask:4294967295},opFront:s={fail:k.KEEP,zfail:k.KEEP,zpass:k.KEEP},opBack:p={fail:k.KEEP,zfail:k.KEEP,zpass:k.KEEP}}=e||{};return{enable:!!t,mask:r,func:LL(a1({},i),{cmp:_L[i.cmp]}),opFront:{fail:p0[s.fail],zfail:p0[s.zfail],zpass:p0[s.zpass],mask:i.mask},opBack:{fail:p0[p.fail],zfail:p0[p.zfail],zpass:p0[p.zpass],mask:i.mask}}}initCullDrawParams({cull:e}){if(e){const{enable:t,face:r=k.BACK}=e;return{enable:!!t,face:mL[r]}}}extractUniforms(e){const t={};return Object.keys(e).forEach(r=>{this.extractUniformsRecursively(r,e[r],t,"")}),t}extractUniformsRecursively(e,t,r,i){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||UL(t)||t===""||"resize"in t){r[`${i&&i+"."}${e}`]=t;return}BL(t)&&Object.keys(t).forEach(s=>{this.extractUniformsRecursively(s,t[s],r,`${i&&i+"."}${e}`)}),Array.isArray(t)&&t.forEach((s,p)=>{Object.keys(s).forEach(n=>{this.extractUniformsRecursively(n,s[n],r,`${i&&i+"."}${e}[${p}]`)})})}};function zL(e){return typeof WebGL2RenderingContext<"u"&&e instanceof WebGL2RenderingContext?!0:!!(e&&e._version===2)}var p2=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),{isUndefined:Eh}=Kn,VL=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>this.device.queryVendorInfo().platformString,this.createModel=e=>new kL(this.device,e,this),this.createAttribute=e=>new lL(this.device,e),this.createBuffer=e=>new EL(this.device,e),this.createElements=e=>new CL(this.device,e),this.createTexture2D=e=>new D7(this.device,e),this.createFramebuffer=e=>new O7(this.device,e),this.useFramebuffer=(e,t)=>{this.currentFramebuffer=e,this.beginFrame(),t(),this.endFrame(),this.currentFramebuffer=null},this.useFramebufferAsync=(e,t)=>p2(this,null,function*(){this.currentFramebuffer=e,this.preRenderPass=this.renderPass,this.beginFrame(),yield t(),this.endFrame(),this.currentFramebuffer=null,this.renderPass=this.preRenderPass}),this.clear=e=>{const{color:t,depth:r,stencil:i,framebuffer:s=null}=e;if(s)s.clearOptions={color:t,depth:r,stencil:i};else{const p=this.queryVerdorInfo();if(p==="WebGL1"){const n=this.getGLContext();Eh(i)?Eh(r)||(n.clearDepth(r),n.clear(n.DEPTH_BUFFER_BIT)):(n.clearStencil(i),n.clear(n.STENCIL_BUFFER_BIT))}else if(p==="WebGL2"){const n=this.getGLContext();Eh(i)?Eh(r)||n.clearBufferfv(n.DEPTH,0,[r]):n.clearBufferiv(n.STENCIL,0,[i])}}},this.viewport=({width:e,height:t})=>{this.swapChain.configureSwapChain(e,t),this.createMainColorDepthRT(e,t),this.width=e,this.height=t},this.readPixels=e=>{const{framebuffer:t,x:r,y:i,width:s,height:p}=e,n=this.device.createReadback(),f=t.colorTexture,m=n.readTextureSync(f,r,this.viewportOrigin===hp.LOWER_LEFT?i:this.height-i,s,p,new Uint8Array(s*p*4));if(this.viewportOrigin!==hp.LOWER_LEFT)for(let g=0;g<m.length;g+=4){const x=m[g];m[g]=m[g+2],m[g+2]=x}return n.destroy(),m},this.readPixelsAsync=e=>p2(this,null,function*(){const{framebuffer:t,x:r,y:i,width:s,height:p}=e,n=this.device.createReadback(),f=t.colorTexture,m=yield n.readTexture(f,r,this.viewportOrigin===hp.LOWER_LEFT?i:this.height-i,s,p,new Uint8Array(s*p*4));if(this.viewportOrigin!==hp.LOWER_LEFT)for(let g=0;g<m.length;g+=4){const x=m[g];m[g]=m[g+2],m[g+2]=x}return n.destroy(),m}),this.getViewportSize=()=>({width:this.width,height:this.height}),this.getContainer=()=>{var e;return(e=this.canvas)==null?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.device.gl,this.destroy=()=>{var e;this.canvas=null,(e=this.uniformBuffers)==null||e.forEach(t=>{t.destroy()}),this.device.destroy(),this.renderCache.destroy()}}init(e,t){return p2(this,null,function*(){const{enableWebGPU:r,shaderCompilerPath:i,antialias:s}=t;this.canvas=e;const n=yield(r?new cL({shaderCompilerPath:i}):new PO({targets:["webgl2","webgl1"],antialias:s,onContextLost(m){console.warn("context lost",m)},onContextCreationError(m){console.warn("context creation error",m)},onContextRestored(m){console.warn("context restored",m)}})).createSwapChain(e);n.configureSwapChain(e.width,e.height),this.device=n.getDevice(),this.swapChain=n,this.renderCache=new wL(this.device),this.currentFramebuffer=null,this.viewportOrigin=this.device.queryVendorInfo().viewportOrigin;const f=this.device.gl;this.extensionObject={OES_texture_float:!zL(f)&&this.device.OES_texture_float},this.createMainColorDepthRT(e.width,e.height)})}createMainColorDepthRT(e,t){this.mainColorRT&&this.mainColorRT.destroy(),this.mainDepthRT&&this.mainDepthRT.destroy(),this.mainColorRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:We.U8_RGBA_RT,width:e,height:t,usage:ns.RENDER_TARGET})),this.mainDepthRT=this.device.createRenderTargetFromTexture(this.device.createTexture({format:We.D24_S8,width:e,height:t,usage:ns.RENDER_TARGET}))}beginFrame(){this.device.beginFrame();const{currentFramebuffer:e,swapChain:t,mainColorRT:r,mainDepthRT:i}=this,s=e?e.colorRenderTarget:r,p=e?null:t.getOnscreenTexture(),n=e?e.depthRenderTarget:i,{color:f=[0,0,0,0],depth:m=1,stencil:g=0}=(e==null?void 0:e.clearOptions)||{},x=s?xy(f[0]*255,f[1]*255,f[2]*255,f[3]):If,b=n?m:void 0,F=n?g:void 0,R=this.device.createRenderPass({colorAttachment:[s],colorResolveTo:[p],colorClearColor:[x],colorStore:[!0],depthStencilAttachment:n,depthClearValue:b,stencilClearValue:F});this.renderPass=R}endFrame(){this.device.submitPass(this.renderPass),this.device.endFrame()}getPointSizeRange(){const e=this.device.gl;return e.getParameter(e.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){}setBaseState(){}setCustomLayerDefaults(){}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}},Oh={exports:{}},HL=Oh.exports,Vg;function GL(){return Vg||(Vg=1,function(e,t){(function(r,i){e.exports=i()})(HL,function(){var r=function(N){return N instanceof Uint8Array||N instanceof Uint16Array||N instanceof Uint32Array||N instanceof Int8Array||N instanceof Int16Array||N instanceof Int32Array||N instanceof Float32Array||N instanceof Float64Array||N instanceof Uint8ClampedArray},i=function(N,ae){for(var Se=Object.keys(ae),nt=0;nt<Se.length;++nt)N[Se[nt]]=ae[Se[nt]];return N},s=`
`;function p(N){return typeof atob<"u"?atob(N):"base64:"+N}function n(N){var ae=new Error("(regl) "+N);throw console.error(ae),ae}function f(N,ae){N||n(ae)}function m(N){return N?": "+N:""}function g(N,ae,Se){N in ae||n("unknown parameter ("+N+")"+m(Se)+". possible values: "+Object.keys(ae).join())}function x(N,ae){r(N)||n("invalid parameter type"+m(ae)+". must be a typed array")}function b(N,ae){switch(ae){case"number":return typeof N=="number";case"object":return typeof N=="object";case"string":return typeof N=="string";case"boolean":return typeof N=="boolean";case"function":return typeof N=="function";case"undefined":return typeof N>"u";case"symbol":return typeof N=="symbol"}}function F(N,ae,Se){b(N,ae)||n("invalid parameter type"+m(Se)+". expected "+ae+", got "+typeof N)}function R(N,ae){N>=0&&(N|0)===N||n("invalid parameter type, ("+N+")"+m(ae)+". must be a nonnegative integer")}function I(N,ae,Se){ae.indexOf(N)<0&&n("invalid value"+m(Se)+". must be one of: "+ae)}var O=["gl","canvas","container","attributes","pixelRatio","extensions","optionalExtensions","profile","onDone"];function U(N){Object.keys(N).forEach(function(ae){O.indexOf(ae)<0&&n('invalid regl constructor argument "'+ae+'". must be one of '+O)})}function Y(N,ae){for(N=N+"";N.length<ae;)N=" "+N;return N}function ee(){this.name="unknown",this.lines=[],this.index={},this.hasErrors=!1}function oe(N,ae){this.number=N,this.line=ae,this.errors=[]}function Re(N,ae,Se){this.file=N,this.line=ae,this.message=Se}function Ae(){var N=new Error,ae=(N.stack||N).toString(),Se=/compileProcedure.*\n\s*at.*\((.*)\)/.exec(ae);if(Se)return Se[1];var nt=/compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(ae);return nt?nt[1]:"unknown"}function ce(){var N=new Error,ae=(N.stack||N).toString(),Se=/at REGLCommand.*\n\s+at.*\((.*)\)/.exec(ae);if(Se)return Se[1];var nt=/at REGLCommand.*\n\s+at\s+(.*)\n/.exec(ae);return nt?nt[1]:"unknown"}function Ie(N,ae){var Se=N.split(`
`),nt=1,St=0,$e={unknown:new ee,0:new ee};$e.unknown.name=$e[0].name=ae||Ae(),$e.unknown.lines.push(new oe(0,""));for(var xt=0;xt<Se.length;++xt){var Ut=Se[xt],Ht=/^\s*#\s*(\w+)\s+(.+)\s*$/.exec(Ut);if(Ht)switch(Ht[1]){case"line":var ir=/(\d+)(\s+\d+)?/.exec(Ht[2]);ir&&(nt=ir[1]|0,ir[2]&&(St=ir[2]|0,St in $e||($e[St]=new ee)));break;case"define":var qt=/SHADER_NAME(_B64)?\s+(.*)$/.exec(Ht[2]);qt&&($e[St].name=qt[1]?p(qt[2]):qt[2]);break}$e[St].lines.push(new oe(nt++,Ut))}return Object.keys($e).forEach(function(Jt){var nr=$e[Jt];nr.lines.forEach(function(zt){nr.index[zt.number]=zt})}),$e}function De(N){var ae=[];return N.split(`
`).forEach(function(Se){if(!(Se.length<5)){var nt=/^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(Se);nt?ae.push(new Re(nt[1]|0,nt[2]|0,nt[3].trim())):Se.length>0&&ae.push(new Re("unknown",0,Se))}}),ae}function ht(N,ae){ae.forEach(function(Se){var nt=N[Se.file];if(nt){var St=nt.index[Se.line];if(St){St.errors.push(Se),nt.hasErrors=!0;return}}N.unknown.hasErrors=!0,N.unknown.lines[0].errors.push(Se)})}function qe(N,ae,Se,nt,St){if(!N.getShaderParameter(ae,N.COMPILE_STATUS)){var $e=N.getShaderInfoLog(ae),xt=nt===N.FRAGMENT_SHADER?"fragment":"vertex";fe(Se,"string",xt+" shader source must be a string",St);var Ut=Ie(Se,St),Ht=De($e);ht(Ut,Ht),Object.keys(Ut).forEach(function(ir){var qt=Ut[ir];if(!qt.hasErrors)return;var Jt=[""],nr=[""];function zt(er,Ke){Jt.push(er),nr.push(Ke||"")}zt("file number "+ir+": "+qt.name+`
`,"color:red;text-decoration:underline;font-weight:bold"),qt.lines.forEach(function(er){if(er.errors.length>0){zt(Y(er.number,4)+"|  ","background-color:yellow; font-weight:bold"),zt(er.line+s,"color:red; background-color:yellow; font-weight:bold");var Ke=0;er.errors.forEach(function(_t){var Xt=_t.message,dr=/^\s*'(.*)'\s*:\s*(.*)$/.exec(Xt);if(dr){var Mt=dr[1];switch(Xt=dr[2],Mt){case"assign":Mt="=";break}Ke=Math.max(er.line.indexOf(Mt,Ke),0)}else Ke=0;zt(Y("| ",6)),zt(Y("^^^",Ke+3)+s,"font-weight:bold"),zt(Y("| ",6)),zt(Xt+s,"font-weight:bold")}),zt(Y("| ",6)+s)}else zt(Y(er.number,4)+"|  "),zt(er.line+s,"color:red")}),typeof document<"u"&&!window.chrome?(nr[0]=Jt.join("%c"),console.log.apply(console,nr)):console.log(Jt.join(""))}),f.raise("Error compiling "+xt+" shader, "+Ut[0].name)}}function we(N,ae,Se,nt,St){if(!N.getProgramParameter(ae,N.LINK_STATUS)){var $e=N.getProgramInfoLog(ae),xt=Ie(Se,St),Ut=Ie(nt,St),Ht='Error linking program with vertex shader, "'+Ut[0].name+'", and fragment shader "'+xt[0].name+'"';typeof document<"u"?console.log("%c"+Ht+s+"%c"+$e,"color:red;text-decoration:underline;font-weight:bold","color:red"):console.log(Ht+s+$e),f.raise(Ht)}}function B(N){N._commandRef=Ae()}function X(N,ae,Se,nt){B(N);function St(Ht){return Ht?nt.id(Ht):0}N._fragId=St(N.static.frag),N._vertId=St(N.static.vert);function $e(Ht,ir){Object.keys(ir).forEach(function(qt){Ht[nt.id(qt)]=!0})}var xt=N._uniformSet={};$e(xt,ae.static),$e(xt,ae.dynamic);var Ut=N._attributeSet={};$e(Ut,Se.static),$e(Ut,Se.dynamic),N._hasCount="count"in N.static||"count"in N.dynamic||"elements"in N.static||"elements"in N.dynamic}function de(N,ae){var Se=ce();n(N+" in command "+(ae||Ae())+(Se==="unknown"?"":" called from "+Se))}function mt(N,ae,Se){N||de(ae,Se||Ae())}function re(N,ae,Se,nt){N in ae||de("unknown parameter ("+N+")"+m(Se)+". possible values: "+Object.keys(ae).join(),nt||Ae())}function fe(N,ae,Se,nt){b(N,ae)||de("invalid parameter type"+m(Se)+". expected "+ae+", got "+typeof N,nt||Ae())}function Pe(N){N()}function Xe(N,ae,Se){N.texture?I(N.texture._texture.internalformat,ae,"unsupported texture format for attachment"):I(N.renderbuffer._renderbuffer.format,Se,"unsupported renderbuffer format for attachment")}var Ye=33071,at=9728,ct=9984,Lt=9985,pr=9986,Wt=9987,uo=5120,hr=5121,Lr=5122,At=5123,lt=5124,yr=5125,bt=5126,Fr=32819,to=32820,Ir=33635,wr=34042,No=36193,Qr={};Qr[uo]=Qr[hr]=1,Qr[Lr]=Qr[At]=Qr[No]=Qr[Ir]=Qr[Fr]=Qr[to]=2,Qr[lt]=Qr[yr]=Qr[bt]=Qr[wr]=4;function bi(N,ae){return N===to||N===Fr||N===Ir?2:N===wr?4:Qr[N]*ae}function ni(N){return!(N&N-1)&&!!N}function oi(N,ae,Se){var nt,St=ae.width,$e=ae.height,xt=ae.channels;f(St>0&&St<=Se.maxTextureSize&&$e>0&&$e<=Se.maxTextureSize,"invalid texture shape"),(N.wrapS!==Ye||N.wrapT!==Ye)&&f(ni(St)&&ni($e),"incompatible wrap mode for texture, both width and height must be power of 2"),ae.mipmask===1?St!==1&&$e!==1&&f(N.minFilter!==ct&&N.minFilter!==pr&&N.minFilter!==Lt&&N.minFilter!==Wt,"min filter requires mipmap"):(f(ni(St)&&ni($e),"texture must be a square power of 2 to support mipmapping"),f(ae.mipmask===(St<<1)-1,"missing or incomplete mipmap data")),ae.type===bt&&(Se.extensions.indexOf("oes_texture_float_linear")<0&&f(N.minFilter===at&&N.magFilter===at,"filter not supported, must enable oes_texture_float_linear"),f(!N.genMipmaps,"mipmap generation not supported with float textures"));var Ut=ae.images;for(nt=0;nt<16;++nt)if(Ut[nt]){var Ht=St>>nt,ir=$e>>nt;f(ae.mipmask&1<<nt,"missing mipmap data");var qt=Ut[nt];if(f(qt.width===Ht&&qt.height===ir,"invalid shape for mip images"),f(qt.format===ae.format&&qt.internalformat===ae.internalformat&&qt.type===ae.type,"incompatible type for mip image"),!qt.compressed)if(qt.data){var Jt=Math.ceil(bi(qt.type,xt)*Ht/qt.unpackAlignment)*qt.unpackAlignment;f(qt.data.byteLength===Jt*ir,"invalid data for image, buffer size is inconsistent with image format")}else qt.element||qt.copy}else N.genMipmaps||f((ae.mipmask&1<<nt)===0,"extra mipmap data");ae.compressed&&f(!N.genMipmaps,"mipmap generation for compressed images not supported")}function Wi(N,ae,Se,nt){var St=N.width,$e=N.height,xt=N.channels;f(St>0&&St<=nt.maxTextureSize&&$e>0&&$e<=nt.maxTextureSize,"invalid texture shape"),f(St===$e,"cube map must be square"),f(ae.wrapS===Ye&&ae.wrapT===Ye,"wrap mode not supported by cube map");for(var Ut=0;Ut<Se.length;++Ut){var Ht=Se[Ut];f(Ht.width===St&&Ht.height===$e,"inconsistent cube map face shape"),ae.genMipmaps&&(f(!Ht.compressed,"can not generate mipmap for compressed textures"),f(Ht.mipmask===1,"can not specify mipmaps and generate mipmaps"));for(var ir=Ht.images,qt=0;qt<16;++qt){var Jt=ir[qt];if(Jt){var nr=St>>qt,zt=$e>>qt;f(Ht.mipmask&1<<qt,"missing mipmap data"),f(Jt.width===nr&&Jt.height===zt,"invalid shape for mip images"),f(Jt.format===N.format&&Jt.internalformat===N.internalformat&&Jt.type===N.type,"incompatible type for mip image"),Jt.compressed||(Jt.data?f(Jt.data.byteLength===nr*zt*Math.max(bi(Jt.type,xt),Jt.unpackAlignment),"invalid data for image, buffer size is inconsistent with image format"):Jt.element||Jt.copy)}}}}var ue=i(f,{optional:Pe,raise:n,commandRaise:de,command:mt,parameter:g,commandParameter:re,constructor:U,type:F,commandType:fe,isTypedArray:x,nni:R,oneOf:I,shaderError:qe,linkError:we,callSite:ce,saveCommandRef:B,saveDrawInfo:X,framebufferFormat:Xe,guessCommand:Ae,texture2D:oi,textureCube:Wi}),Hn=0,ga=0;function Pn(N,ae){this.id=Hn++,this.type=N,this.data=ae}function as(N){return N.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}function va(N){if(N.length===0)return[];var ae=N.charAt(0),Se=N.charAt(N.length-1);if(N.length>1&&ae===Se&&(ae==='"'||ae==="'"))return['"'+as(N.substr(1,N.length-2))+'"'];var nt=/\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(N);if(nt)return va(N.substr(0,nt.index)).concat(va(nt[1])).concat(va(N.substr(nt.index+nt[0].length)));var St=N.split(".");if(St.length===1)return['"'+as(N)+'"'];for(var $e=[],xt=0;xt<St.length;++xt)$e=$e.concat(va(St[xt]));return $e}function fi(N){return"["+va(N).join("][")+"]"}function Mn(N,ae){return new Pn(N,fi(ae+""))}function Nn(N){return typeof N=="function"&&!N._reglType||N instanceof Pn}function Qn(N,ae){return typeof N=="function"?new Pn(ga,N):N}var ln={DynamicVariable:Pn,define:Mn,isDynamic:Nn,unbox:Qn,accessor:fi},Ea={next:typeof requestAnimationFrame=="function"?function(N){return requestAnimationFrame(N)}:function(N){return setTimeout(N,16)},cancel:typeof cancelAnimationFrame=="function"?function(N){return cancelAnimationFrame(N)}:clearTimeout},Ga=typeof performance<"u"&&performance.now?function(){return performance.now()}:function(){return+new Date};function ss(){var N={"":0},ae=[""];return{id:function(Se){var nt=N[Se];return nt||(nt=N[Se]=ae.length,ae.push(Se),nt)},str:function(Se){return ae[Se]}}}function Vs(N,ae,Se){var nt=document.createElement("canvas");i(nt.style,{border:0,margin:0,padding:0,top:0,left:0}),N.appendChild(nt),N===document.body&&(nt.style.position="absolute",i(N.style,{margin:0,padding:0}));function St(){var Ut=window.innerWidth,Ht=window.innerHeight;if(N!==document.body){var ir=N.getBoundingClientRect();Ut=ir.right-ir.left,Ht=ir.bottom-ir.top}nt.width=Se*Ut,nt.height=Se*Ht,i(nt.style,{width:Ut+"px",height:Ht+"px"})}var $e;N!==document.body&&typeof ResizeObserver=="function"?($e=new ResizeObserver(function(){setTimeout(St)}),$e.observe(N)):window.addEventListener("resize",St,!1);function xt(){$e?$e.disconnect():window.removeEventListener("resize",St),N.removeChild(nt)}return St(),{canvas:nt,onDestroy:xt}}function Hs(N,ae){function Se(nt){try{return N.getContext(nt,ae)}catch{return null}}return Se("webgl")||Se("experimental-webgl")||Se("webgl-experimental")}function gp(N){return typeof N.nodeName=="string"&&typeof N.appendChild=="function"&&typeof N.getBoundingClientRect=="function"}function Gs(N){return typeof N.drawArrays=="function"||typeof N.drawElements=="function"}function Ia(N){return typeof N=="string"?N.split():(ue(Array.isArray(N),"invalid extension array"),N)}function Ma(N){return typeof N=="string"?(ue(typeof document<"u","not supported outside of DOM"),document.querySelector(N)):N}function gs(N){var ae=N||{},Se,nt,St,$e,xt={},Ut=[],Ht=[],ir=typeof window>"u"?1:window.devicePixelRatio,qt=!1,Jt=function(er){er&&ue.raise(er)},nr=function(){};if(typeof ae=="string"?(ue(typeof document<"u","selector queries only supported in DOM enviroments"),Se=document.querySelector(ae),ue(Se,"invalid query string for element")):typeof ae=="object"?gp(ae)?Se=ae:Gs(ae)?($e=ae,St=$e.canvas):(ue.constructor(ae),"gl"in ae?$e=ae.gl:"canvas"in ae?St=Ma(ae.canvas):"container"in ae&&(nt=Ma(ae.container)),"attributes"in ae&&(xt=ae.attributes,ue.type(xt,"object","invalid context attributes")),"extensions"in ae&&(Ut=Ia(ae.extensions)),"optionalExtensions"in ae&&(Ht=Ia(ae.optionalExtensions)),"onDone"in ae&&(ue.type(ae.onDone,"function","invalid or missing onDone callback"),Jt=ae.onDone),"profile"in ae&&(qt=!!ae.profile),"pixelRatio"in ae&&(ir=+ae.pixelRatio,ue(ir>0,"invalid pixel ratio"))):ue.raise("invalid arguments to regl"),Se&&(Se.nodeName.toLowerCase()==="canvas"?St=Se:nt=Se),!$e){if(!St){ue(typeof document<"u","must manually specify webgl context outside of DOM environments");var zt=Vs(nt||document.body,Jt,ir);if(!zt)return null;St=zt.canvas,nr=zt.onDestroy}xt.premultipliedAlpha===void 0&&(xt.premultipliedAlpha=!0),$e=Hs(St,xt)}return $e?{gl:$e,canvas:St,container:nt,extensions:Ut,optionalExtensions:Ht,pixelRatio:ir,profile:qt,onDone:Jt,onDestroy:nr}:(nr(),Jt("webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org"),null)}function Zu(N,ae){var Se={};function nt(xt){ue.type(xt,"string","extension name must be string");var Ut=xt.toLowerCase(),Ht;try{Ht=Se[Ut]=N.getExtension(Ut)}catch{}return!!Ht}for(var St=0;St<ae.extensions.length;++St){var $e=ae.extensions[St];if(!nt($e))return ae.onDestroy(),ae.onDone('"'+$e+'" extension is not supported by the current WebGL context, try upgrading your system or a different browser'),null}return ae.optionalExtensions.forEach(nt),{extensions:Se,restore:function(){Object.keys(Se).forEach(function(xt){if(Se[xt]&&!nt(xt))throw new Error("(regl): error restoring extension "+xt)})}}}function Wo(N,ae){for(var Se=Array(N),nt=0;nt<N;++nt)Se[nt]=ae(nt);return Se}var V=5120,j=5121,Z=5122,se=5123,ge=5124,ke=5125,Ge=5126;function J(N){for(var ae=16;ae<=1<<28;ae*=16)if(N<=ae)return ae;return 0}function be(N){var ae,Se;return ae=(N>65535)<<4,N>>>=ae,Se=(N>255)<<3,N>>>=Se,ae|=Se,Se=(N>15)<<2,N>>>=Se,ae|=Se,Se=(N>3)<<1,N>>>=Se,ae|=Se,ae|N>>1}function Qe(){var N=Wo(8,function(){return[]});function ae($e){var xt=J($e),Ut=N[be(xt)>>2];return Ut.length>0?Ut.pop():new ArrayBuffer(xt)}function Se($e){N[be($e.byteLength)>>2].push($e)}function nt($e,xt){var Ut=null;switch($e){case V:Ut=new Int8Array(ae(xt),0,xt);break;case j:Ut=new Uint8Array(ae(xt),0,xt);break;case Z:Ut=new Int16Array(ae(2*xt),0,xt);break;case se:Ut=new Uint16Array(ae(2*xt),0,xt);break;case ge:Ut=new Int32Array(ae(4*xt),0,xt);break;case ke:Ut=new Uint32Array(ae(4*xt),0,xt);break;case Ge:Ut=new Float32Array(ae(4*xt),0,xt);break;default:return null}return Ut.length!==xt?Ut.subarray(0,xt):Ut}function St($e){Se($e.buffer)}return{alloc:ae,free:Se,allocType:nt,freeType:St}}var Ft=Qe();Ft.zero=Qe();var Gt=3408,gt=3410,Bt=3411,Sr=3412,Ar=3413,Et=3414,fr=3415,tr=33901,or=33902,po=3379,lr=3386,So=34921,ei=36347,Ao=36348,Do=35661,co=35660,Vi=34930,wo=36349,ti=34076,Vo=34024,lo=7936,Fo=7937,Dn=7938,yu=35724,Oi=34047,vi=36063,hu=34852,ja=3553,mi=34067,js=34069,dn=33984,_i=6408,Hi=5126,pi=5121,Jn=36160,Gn=36053,qp=36064,xa=16384,Sl=function(N,ae){var Se=1;ae.ext_texture_filter_anisotropic&&(Se=N.getParameter(Oi));var nt=1,St=1;ae.webgl_draw_buffers&&(nt=N.getParameter(hu),St=N.getParameter(vi));var $e=!!ae.oes_texture_float;if($e){var xt=N.createTexture();N.bindTexture(ja,xt),N.texImage2D(ja,0,_i,1,1,0,_i,Hi,null);var Ut=N.createFramebuffer();if(N.bindFramebuffer(Jn,Ut),N.framebufferTexture2D(Jn,qp,ja,xt,0),N.bindTexture(ja,null),N.checkFramebufferStatus(Jn)!==Gn)$e=!1;else{N.viewport(0,0,1,1),N.clearColor(1,0,0,1),N.clear(xa);var Ht=Ft.allocType(Hi,4);N.readPixels(0,0,1,1,_i,Hi,Ht),N.getError()?$e=!1:(N.deleteFramebuffer(Ut),N.deleteTexture(xt),$e=Ht[0]===1),Ft.freeType(Ht)}}var ir=typeof navigator<"u"&&(/MSIE/.test(navigator.userAgent)||/Trident\//.test(navigator.appVersion)||/Edge/.test(navigator.userAgent)),qt=!0;if(!ir){var Jt=N.createTexture(),nr=Ft.allocType(pi,36);N.activeTexture(dn),N.bindTexture(mi,Jt),N.texImage2D(js,0,_i,3,3,0,_i,pi,nr),Ft.freeType(nr),N.bindTexture(mi,null),N.deleteTexture(Jt),qt=!N.getError()}return{colorBits:[N.getParameter(gt),N.getParameter(Bt),N.getParameter(Sr),N.getParameter(Ar)],depthBits:N.getParameter(Et),stencilBits:N.getParameter(fr),subpixelBits:N.getParameter(Gt),extensions:Object.keys(ae).filter(function(zt){return!!ae[zt]}),maxAnisotropic:Se,maxDrawbuffers:nt,maxColorAttachments:St,pointSizeDims:N.getParameter(tr),lineWidthDims:N.getParameter(or),maxViewportDims:N.getParameter(lr),maxCombinedTextureUnits:N.getParameter(Do),maxCubeMapSize:N.getParameter(ti),maxRenderbufferSize:N.getParameter(Vo),maxTextureUnits:N.getParameter(Vi),maxTextureSize:N.getParameter(po),maxAttributes:N.getParameter(So),maxVertexUniforms:N.getParameter(ei),maxVertexTextureUnits:N.getParameter(co),maxVaryingVectors:N.getParameter(Ao),maxFragmentUniforms:N.getParameter(wo),glsl:N.getParameter(yu),renderer:N.getParameter(Fo),vendor:N.getParameter(lo),version:N.getParameter(Dn),readFloat:$e,npotTextureCube:qt}};function q(N){return!!N&&typeof N=="object"&&Array.isArray(N.shape)&&Array.isArray(N.stride)&&typeof N.offset=="number"&&N.shape.length===N.stride.length&&(Array.isArray(N.data)||r(N.data))}var ne=function(N){return Object.keys(N).map(function(ae){return N[ae]})},Le={shape:bn,flatten:Xi};function ut(N,ae,Se){for(var nt=0;nt<ae;++nt)Se[nt]=N[nt]}function Kt(N,ae,Se,nt){for(var St=0,$e=0;$e<ae;++$e)for(var xt=N[$e],Ut=0;Ut<Se;++Ut)nt[St++]=xt[Ut]}function Br(N,ae,Se,nt,St,$e){for(var xt=$e,Ut=0;Ut<ae;++Ut)for(var Ht=N[Ut],ir=0;ir<Se;++ir)for(var qt=Ht[ir],Jt=0;Jt<nt;++Jt)St[xt++]=qt[Jt]}function Bo(N,ae,Se,nt,St){for(var $e=1,xt=Se+1;xt<ae.length;++xt)$e*=ae[xt];var Ut=ae[Se];if(ae.length-Se===4){var Ht=ae[Se+1],ir=ae[Se+2],qt=ae[Se+3];for(xt=0;xt<Ut;++xt)Br(N[xt],Ht,ir,qt,nt,St),St+=$e}else for(xt=0;xt<Ut;++xt)Bo(N[xt],ae,Se+1,nt,St),St+=$e}function Xi(N,ae,Se,nt){var St=1;if(ae.length)for(var $e=0;$e<ae.length;++$e)St*=ae[$e];else St=0;var xt=nt||Ft.allocType(Se,St);switch(ae.length){case 0:break;case 1:ut(N,ae[0],xt);break;case 2:Kt(N,ae[0],ae[1],xt);break;case 3:Br(N,ae[0],ae[1],ae[2],xt,0);break;default:Bo(N,ae,0,xt,0)}return xt}function bn(N){for(var ae=[],Se=N;Se.length;Se=Se[0])ae.push(Se.length);return ae}var yn={"[object Int8Array]":5120,"[object Int16Array]":5122,"[object Int32Array]":5124,"[object Uint8Array]":5121,"[object Uint8ClampedArray]":5121,"[object Uint16Array]":5123,"[object Uint32Array]":5125,"[object Float32Array]":5126,"[object Float64Array]":5121,"[object ArrayBuffer]":5121},Wa=5120,b1=5122,A1=5124,vp=5121,Rl=5123,$p=5125,F1=5126,wc=5126,On={int8:Wa,int16:b1,int32:A1,uint8:vp,uint16:Rl,uint32:$p,float:F1,float32:wc},fu=35048,mu=35040,vs={dynamic:fu,stream:mu,static:35044},Es=Le.flatten,Ws=Le.shape,Kp=35044,Pa=35040,Li=5121,_u=5126,Xs=[];Xs[5120]=1,Xs[5122]=2,Xs[5124]=4,Xs[5121]=1,Xs[5123]=2,Xs[5125]=4,Xs[5126]=4;function Cc(N){return yn[Object.prototype.toString.call(N)]|0}function T1(N,ae){for(var Se=0;Se<ae.length;++Se)N[Se]=ae[Se]}function Ic(N,ae,Se,nt,St,$e,xt){for(var Ut=0,Ht=0;Ht<Se;++Ht)for(var ir=0;ir<nt;++ir)N[Ut++]=ae[St*Ht+$e*ir+xt]}function wl(N,ae,Se,nt){var St=0,$e={};function xt(Ke){this.id=St++,this.buffer=N.createBuffer(),this.type=Ke,this.usage=Kp,this.byteLength=0,this.dimension=1,this.dtype=Li,this.persistentData=null,Se.profile&&(this.stats={size:0})}xt.prototype.bind=function(){N.bindBuffer(this.type,this.buffer)},xt.prototype.destroy=function(){nr(this)};var Ut=[];function Ht(Ke,_t){var Xt=Ut.pop();return Xt||(Xt=new xt(Ke)),Xt.bind(),Jt(Xt,_t,Pa,0,1,!1),Xt}function ir(Ke){Ut.push(Ke)}function qt(Ke,_t,Xt){Ke.byteLength=_t.byteLength,N.bufferData(Ke.type,_t,Xt)}function Jt(Ke,_t,Xt,dr,Mt,mr){var Zt;if(Ke.usage=Xt,Array.isArray(_t)){if(Ke.dtype=dr||_u,_t.length>0){var _r;if(Array.isArray(_t[0])){Zt=Ws(_t);for(var Ot=1,cr=1;cr<Zt.length;++cr)Ot*=Zt[cr];Ke.dimension=Ot,_r=Es(_t,Zt,Ke.dtype),qt(Ke,_r,Xt),mr?Ke.persistentData=_r:Ft.freeType(_r)}else if(typeof _t[0]=="number"){Ke.dimension=Mt;var Gr=Ft.allocType(Ke.dtype,_t.length);T1(Gr,_t),qt(Ke,Gr,Xt),mr?Ke.persistentData=Gr:Ft.freeType(Gr)}else r(_t[0])?(Ke.dimension=_t[0].length,Ke.dtype=dr||Cc(_t[0])||_u,_r=Es(_t,[_t.length,_t[0].length],Ke.dtype),qt(Ke,_r,Xt),mr?Ke.persistentData=_r:Ft.freeType(_r)):ue.raise("invalid buffer data")}}else if(r(_t))Ke.dtype=dr||Cc(_t),Ke.dimension=Mt,qt(Ke,_t,Xt),mr&&(Ke.persistentData=new Uint8Array(new Uint8Array(_t.buffer)));else if(q(_t)){Zt=_t.shape;var so=_t.stride,ur=_t.offset,jt=0,Tt=0,oo=0,io=0;Zt.length===1?(jt=Zt[0],Tt=1,oo=so[0],io=0):Zt.length===2?(jt=Zt[0],Tt=Zt[1],oo=so[0],io=so[1]):ue.raise("invalid shape"),Ke.dtype=dr||Cc(_t.data)||_u,Ke.dimension=Tt;var Or=Ft.allocType(Ke.dtype,jt*Tt);Ic(Or,_t.data,jt,Tt,oo,io,ur),qt(Ke,Or,Xt),mr?Ke.persistentData=Or:Ft.freeType(Or)}else _t instanceof ArrayBuffer?(Ke.dtype=Li,Ke.dimension=Mt,qt(Ke,_t,Xt),mr&&(Ke.persistentData=new Uint8Array(new Uint8Array(_t)))):ue.raise("invalid buffer data")}function nr(Ke){ae.bufferCount--,nt(Ke);var _t=Ke.buffer;ue(_t,"buffer must not be deleted already"),N.deleteBuffer(_t),Ke.buffer=null,delete $e[Ke.id]}function zt(Ke,_t,Xt,dr){ae.bufferCount++;var Mt=new xt(_t);$e[Mt.id]=Mt;function mr(Ot){var cr=Kp,Gr=null,so=0,ur=0,jt=1;return Array.isArray(Ot)||r(Ot)||q(Ot)||Ot instanceof ArrayBuffer?Gr=Ot:typeof Ot=="number"?so=Ot|0:Ot&&(ue.type(Ot,"object","buffer arguments must be an object, a number or an array"),"data"in Ot&&(ue(Gr===null||Array.isArray(Gr)||r(Gr)||q(Gr),"invalid data for buffer"),Gr=Ot.data),"usage"in Ot&&(ue.parameter(Ot.usage,vs,"invalid buffer usage"),cr=vs[Ot.usage]),"type"in Ot&&(ue.parameter(Ot.type,On,"invalid buffer type"),ur=On[Ot.type]),"dimension"in Ot&&(ue.type(Ot.dimension,"number","invalid dimension"),jt=Ot.dimension|0),"length"in Ot&&(ue.nni(so,"buffer length must be a nonnegative integer"),so=Ot.length|0)),Mt.bind(),Gr?Jt(Mt,Gr,cr,ur,jt,dr):(so&&N.bufferData(Mt.type,so,cr),Mt.dtype=ur||Li,Mt.usage=cr,Mt.dimension=jt,Mt.byteLength=so),Se.profile&&(Mt.stats.size=Mt.byteLength*Xs[Mt.dtype]),mr}function Zt(Ot,cr){ue(cr+Ot.byteLength<=Mt.byteLength,"invalid buffer subdata call, buffer is too small.  Can't write data of size "+Ot.byteLength+" starting from offset "+cr+" to a buffer of size "+Mt.byteLength),N.bufferSubData(Mt.type,cr,Ot)}function _r(Ot,cr){var Gr=(cr||0)|0,so;if(Mt.bind(),r(Ot)||Ot instanceof ArrayBuffer)Zt(Ot,Gr);else if(Array.isArray(Ot)){if(Ot.length>0)if(typeof Ot[0]=="number"){var ur=Ft.allocType(Mt.dtype,Ot.length);T1(ur,Ot),Zt(ur,Gr),Ft.freeType(ur)}else if(Array.isArray(Ot[0])||r(Ot[0])){so=Ws(Ot);var jt=Es(Ot,so,Mt.dtype);Zt(jt,Gr),Ft.freeType(jt)}else ue.raise("invalid buffer data")}else if(q(Ot)){so=Ot.shape;var Tt=Ot.stride,oo=0,io=0,Or=0,Eo=0;so.length===1?(oo=so[0],io=1,Or=Tt[0],Eo=0):so.length===2?(oo=so[0],io=so[1],Or=Tt[0],Eo=Tt[1]):ue.raise("invalid shape");var Wr=Array.isArray(Ot.data)?Mt.dtype:Cc(Ot.data),xo=Ft.allocType(Wr,oo*io);Ic(xo,Ot.data,oo,io,Or,Eo,Ot.offset),Zt(xo,Gr),Ft.freeType(xo)}else ue.raise("invalid data for buffer subdata");return mr}return Xt||mr(Ke),mr._reglType="buffer",mr._buffer=Mt,mr.subdata=_r,Se.profile&&(mr.stats=Mt.stats),mr.destroy=function(){nr(Mt)},mr}function er(){ne($e).forEach(function(Ke){Ke.buffer=N.createBuffer(),N.bindBuffer(Ke.type,Ke.buffer),N.bufferData(Ke.type,Ke.persistentData||Ke.byteLength,Ke.usage)})}return Se.profile&&(ae.getTotalBufferSize=function(){var Ke=0;return Object.keys($e).forEach(function(_t){Ke+=$e[_t].stats.size}),Ke}),{create:zt,createStream:Ht,destroyStream:ir,clear:function(){ne($e).forEach(nr),Ut.forEach(nr)},getBuffer:function(Ke){return Ke&&Ke._buffer instanceof xt?Ke._buffer:null},restore:er,_initBuffer:Jt}}var Cl=0,Il=0,S1=1,R1=1,U0=4,Qp=4,xs={points:Cl,point:Il,lines:S1,line:R1,triangles:U0,triangle:Qp,"line loop":2,"line strip":3,"triangle strip":5,"triangle fan":6},w1=0,Ln=1,Yu=4,gu=5120,Na=5121,vu=5122,Xa=5123,Zs=5124,Da=5125,Ys=34963,Eu=35040,C1=35044;function I1(N,ae,Se,nt){var St={},$e=0,xt={uint8:Na,uint16:Xa};ae.oes_element_index_uint&&(xt.uint32=Da);function Ut(er){this.id=$e++,St[this.id]=this,this.buffer=er,this.primType=Yu,this.vertCount=0,this.type=0}Ut.prototype.bind=function(){this.buffer.bind()};var Ht=[];function ir(er){var Ke=Ht.pop();return Ke||(Ke=new Ut(Se.create(null,Ys,!0,!1)._buffer)),Jt(Ke,er,Eu,-1,-1,0,0),Ke}function qt(er){Ht.push(er)}function Jt(er,Ke,_t,Xt,dr,Mt,mr){er.buffer.bind();var Zt;if(Ke){var _r=mr;!mr&&(!r(Ke)||q(Ke)&&!r(Ke.data))&&(_r=ae.oes_element_index_uint?Da:Xa),Se._initBuffer(er.buffer,Ke,_t,_r,3)}else N.bufferData(Ys,Mt,_t),er.buffer.dtype=Zt||Na,er.buffer.usage=_t,er.buffer.dimension=3,er.buffer.byteLength=Mt;if(Zt=mr,!mr){switch(er.buffer.dtype){case Na:case gu:Zt=Na;break;case Xa:case vu:Zt=Xa;break;case Da:case Zs:Zt=Da;break;default:ue.raise("unsupported type for element array")}er.buffer.dtype=Zt}er.type=Zt,ue(Zt!==Da||!!ae.oes_element_index_uint,"32 bit element buffers not supported, enable oes_element_index_uint first");var Ot=dr;Ot<0&&(Ot=er.buffer.byteLength,Zt===Xa?Ot>>=1:Zt===Da&&(Ot>>=2)),er.vertCount=Ot;var cr=Xt;if(Xt<0){cr=Yu;var Gr=er.buffer.dimension;Gr===1&&(cr=w1),Gr===2&&(cr=Ln),Gr===3&&(cr=Yu)}er.primType=cr}function nr(er){nt.elementsCount--,ue(er.buffer!==null,"must not double destroy elements"),delete St[er.id],er.buffer.destroy(),er.buffer=null}function zt(er,Ke){var _t=Se.create(null,Ys,!0),Xt=new Ut(_t._buffer);nt.elementsCount++;function dr(Mt){if(!Mt)_t(),Xt.primType=Yu,Xt.vertCount=0,Xt.type=Na;else if(typeof Mt=="number")_t(Mt),Xt.primType=Yu,Xt.vertCount=Mt|0,Xt.type=Na;else{var mr=null,Zt=C1,_r=-1,Ot=-1,cr=0,Gr=0;Array.isArray(Mt)||r(Mt)||q(Mt)?mr=Mt:(ue.type(Mt,"object","invalid arguments for elements"),"data"in Mt&&(mr=Mt.data,ue(Array.isArray(mr)||r(mr)||q(mr),"invalid data for element buffer")),"usage"in Mt&&(ue.parameter(Mt.usage,vs,"invalid element buffer usage"),Zt=vs[Mt.usage]),"primitive"in Mt&&(ue.parameter(Mt.primitive,xs,"invalid element buffer primitive"),_r=xs[Mt.primitive]),"count"in Mt&&(ue(typeof Mt.count=="number"&&Mt.count>=0,"invalid vertex count for elements"),Ot=Mt.count|0),"type"in Mt&&(ue.parameter(Mt.type,xt,"invalid buffer type"),Gr=xt[Mt.type]),"length"in Mt?cr=Mt.length|0:(cr=Ot,Gr===Xa||Gr===vu?cr*=2:(Gr===Da||Gr===Zs)&&(cr*=4))),Jt(Xt,mr,Zt,_r,Ot,cr,Gr)}return dr}return dr(er),dr._reglType="elements",dr._elements=Xt,dr.subdata=function(Mt,mr){return _t.subdata(Mt,mr),dr},dr.destroy=function(){nr(Xt)},dr}return{create:zt,createStream:ir,destroyStream:qt,getElements:function(er){return typeof er=="function"&&er._elements instanceof Ut?er._elements:null},clear:function(){ne(St).forEach(nr)}}}var ii=new Float32Array(1),k0=new Uint32Array(ii.buffer),Mc=5123;function Ml(N){for(var ae=Ft.allocType(Mc,N.length),Se=0;Se<N.length;++Se)if(isNaN(N[Se]))ae[Se]=65535;else if(N[Se]===1/0)ae[Se]=31744;else if(N[Se]===-1/0)ae[Se]=64512;else{ii[0]=N[Se];var nt=k0[0],St=nt>>>31<<15,$e=(nt<<1>>>24)-127,xt=nt>>13&1023;if($e<-24)ae[Se]=St;else if($e<-14){var Ut=-14-$e;ae[Se]=St+(xt+1024>>Ut)}else $e>15?ae[Se]=St+31744:ae[Se]=St+($e+15<<10)+xt}return ae}function Bi(N){return Array.isArray(N)||r(N)}var Nl=function(N){return!(N&N-1)&&!!N},M1=34467,ua=3553,qs=34067,Ps=34069,xu=6408,Nc=6406,Ep=6407,us=6409,Jp=6410,Pu=32854,$s=32855,Dl=36194,ec=32819,li=32820,Dc=33635,z0=34042,bu=6402,tc=34041,Ol=35904,Oc=35906,Ks=36193,Au=33776,qu=33777,xp=33778,$u=33779,Ku=35986,Ll=35987,Qu=34798,Za=35840,Bl=35841,Ul=35842,kl=35843,Fu=36196,bs=5121,Pp=5123,rc=5125,Tu=5126,V0=10242,Lc=10243,zl=10497,Bc=33071,N1=33648,Uc=10240,Vl=10241,oc=9728,Hl=9729,Ju=9984,Gl=9985,Su=9986,di=9987,kc=33170,As=4352,Ru=4353,Oo=4354,yi=34046,Oa=3317,ic=37440,bp=37441,nc=37443,D1=37444,zc=33984,ac=[Ju,Su,Gl,di],wu=[0,us,Jp,Ep,xu],hn={};hn[us]=hn[Nc]=hn[bu]=1,hn[tc]=hn[Jp]=2,hn[Ep]=hn[Ol]=3,hn[xu]=hn[Oc]=4;function Ai(N){return"[object "+N+"]"}var Ap=Ai("HTMLCanvasElement"),jl=Ai("OffscreenCanvas"),Gi=Ai("CanvasRenderingContext2D"),Tr=Ai("ImageBitmap"),pa=Ai("HTMLImageElement"),sc=Ai("HTMLVideoElement"),Fp=Object.keys(yn).concat([Ap,jl,Gi,Tr,pa,sc]),ea=[];ea[bs]=1,ea[Tu]=4,ea[Ks]=2,ea[Pp]=2,ea[rc]=4;var ai=[];ai[Pu]=2,ai[$s]=2,ai[Dl]=2,ai[tc]=4,ai[Au]=.5,ai[qu]=.5,ai[xp]=1,ai[$u]=1,ai[Ku]=.5,ai[Ll]=1,ai[Qu]=1,ai[Za]=.5,ai[Bl]=.25,ai[Ul]=.5,ai[kl]=.25,ai[Fu]=.5;function Vc(N){return Array.isArray(N)&&(N.length===0||typeof N[0]=="number")}function sr(N){if(!Array.isArray(N))return!1;var ae=N.length;return!(ae===0||!Bi(N[0]))}function Qs(N){return Object.prototype.toString.call(N)}function uc(N){return Qs(N)===Ap}function Hc(N){return Qs(N)===jl}function Ya(N){return Qs(N)===Gi}function ba(N){return Qs(N)===Tr}function Gc(N){return Qs(N)===pa}function jc(N){return Qs(N)===sc}function ta(N){if(!N)return!1;var ae=Qs(N);return Fp.indexOf(ae)>=0?!0:Vc(N)||sr(N)||q(N)}function Fs(N){return yn[Object.prototype.toString.call(N)]|0}function O1(N,ae){var Se=ae.length;switch(N.type){case bs:case Pp:case rc:case Tu:var nt=Ft.allocType(N.type,Se);nt.set(ae),N.data=nt;break;case Ks:N.data=Ml(ae);break;default:ue.raise("unsupported texture type, must specify a typed array")}}function Tp(N,ae){return Ft.allocType(N.type===Ks?Tu:N.type,ae)}function Wc(N,ae){N.type===Ks?(N.data=Ml(ae),Ft.freeType(ae)):N.data=ae}function Wl(N,ae,Se,nt,St,$e){for(var xt=N.width,Ut=N.height,Ht=N.channels,ir=xt*Ut*Ht,qt=Tp(N,ir),Jt=0,nr=0;nr<Ut;++nr)for(var zt=0;zt<xt;++zt)for(var er=0;er<Ht;++er)qt[Jt++]=ae[Se*zt+nt*nr+St*er+$e];Wc(N,qt)}function Aa(N,ae,Se,nt,St,$e){var xt;if(typeof ai[N]<"u"?xt=ai[N]:xt=hn[N]*ea[ae],$e&&(xt*=6),St){for(var Ut=0,Ht=Se;Ht>=1;)Ut+=xt*Ht*Ht,Ht/=2;return Ut}else return xt*Se*nt}function La(N,ae,Se,nt,St,$e,xt){var Ut={"don't care":As,"dont care":As,nice:Oo,fast:Ru},Ht={repeat:zl,clamp:Bc,mirror:N1},ir={nearest:oc,linear:Hl},qt=i({mipmap:di,"nearest mipmap nearest":Ju,"linear mipmap nearest":Gl,"nearest mipmap linear":Su,"linear mipmap linear":di},ir),Jt={none:0,browser:D1},nr={uint8:bs,rgba4:ec,rgb565:Dc,"rgb5 a1":li},zt={alpha:Nc,luminance:us,"luminance alpha":Jp,rgb:Ep,rgba:xu,rgba4:Pu,"rgb5 a1":$s,rgb565:Dl},er={};ae.ext_srgb&&(zt.srgb=Ol,zt.srgba=Oc),ae.oes_texture_float&&(nr.float32=nr.float=Tu),ae.oes_texture_half_float&&(nr.float16=nr["half float"]=Ks),ae.webgl_depth_texture&&(i(zt,{depth:bu,"depth stencil":tc}),i(nr,{uint16:Pp,uint32:rc,"depth stencil":z0})),ae.webgl_compressed_texture_s3tc&&i(er,{"rgb s3tc dxt1":Au,"rgba s3tc dxt1":qu,"rgba s3tc dxt3":xp,"rgba s3tc dxt5":$u}),ae.webgl_compressed_texture_atc&&i(er,{"rgb atc":Ku,"rgba atc explicit alpha":Ll,"rgba atc interpolated alpha":Qu}),ae.webgl_compressed_texture_pvrtc&&i(er,{"rgb pvrtc 4bppv1":Za,"rgb pvrtc 2bppv1":Bl,"rgba pvrtc 4bppv1":Ul,"rgba pvrtc 2bppv1":kl}),ae.webgl_compressed_texture_etc1&&(er["rgb etc1"]=Fu);var Ke=Array.prototype.slice.call(N.getParameter(M1));Object.keys(er).forEach(function(_e){var yt=er[_e];Ke.indexOf(yt)>=0&&(zt[_e]=yt)});var _t=Object.keys(zt);Se.textureFormats=_t;var Xt=[];Object.keys(zt).forEach(function(_e){var yt=zt[_e];Xt[yt]=_e});var dr=[];Object.keys(nr).forEach(function(_e){var yt=nr[_e];dr[yt]=_e});var Mt=[];Object.keys(ir).forEach(function(_e){var yt=ir[_e];Mt[yt]=_e});var mr=[];Object.keys(qt).forEach(function(_e){var yt=qt[_e];mr[yt]=_e});var Zt=[];Object.keys(Ht).forEach(function(_e){var yt=Ht[_e];Zt[yt]=_e});var _r=_t.reduce(function(_e,yt){var rt=zt[yt];return rt===us||rt===Nc||rt===us||rt===Jp||rt===bu||rt===tc||ae.ext_srgb&&(rt===Ol||rt===Oc)?_e[rt]=rt:rt===$s||yt.indexOf("rgba")>=0?_e[rt]=xu:_e[rt]=Ep,_e},{});function Ot(){this.internalformat=xu,this.format=xu,this.type=bs,this.compressed=!1,this.premultiplyAlpha=!1,this.flipY=!1,this.unpackAlignment=1,this.colorSpace=D1,this.width=0,this.height=0,this.channels=0}function cr(_e,yt){_e.internalformat=yt.internalformat,_e.format=yt.format,_e.type=yt.type,_e.compressed=yt.compressed,_e.premultiplyAlpha=yt.premultiplyAlpha,_e.flipY=yt.flipY,_e.unpackAlignment=yt.unpackAlignment,_e.colorSpace=yt.colorSpace,_e.width=yt.width,_e.height=yt.height,_e.channels=yt.channels}function Gr(_e,yt){if(!(typeof yt!="object"||!yt)){if("premultiplyAlpha"in yt&&(ue.type(yt.premultiplyAlpha,"boolean","invalid premultiplyAlpha"),_e.premultiplyAlpha=yt.premultiplyAlpha),"flipY"in yt&&(ue.type(yt.flipY,"boolean","invalid texture flip"),_e.flipY=yt.flipY),"alignment"in yt&&(ue.oneOf(yt.alignment,[1,2,4,8],"invalid texture unpack alignment"),_e.unpackAlignment=yt.alignment),"colorSpace"in yt&&(ue.parameter(yt.colorSpace,Jt,"invalid colorSpace"),_e.colorSpace=Jt[yt.colorSpace]),"type"in yt){var rt=yt.type;ue(ae.oes_texture_float||!(rt==="float"||rt==="float32"),"you must enable the OES_texture_float extension in order to use floating point textures."),ue(ae.oes_texture_half_float||!(rt==="half float"||rt==="float16"),"you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures."),ue(ae.webgl_depth_texture||!(rt==="uint16"||rt==="uint32"||rt==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ue.parameter(rt,nr,"invalid texture type"),_e.type=nr[rt]}var vr=_e.width,Po=_e.height,ri=_e.channels,K=!1;"shape"in yt?(ue(Array.isArray(yt.shape)&&yt.shape.length>=2,"shape must be an array"),vr=yt.shape[0],Po=yt.shape[1],yt.shape.length===3&&(ri=yt.shape[2],ue(ri>0&&ri<=4,"invalid number of channels"),K=!0),ue(vr>=0&&vr<=Se.maxTextureSize,"invalid width"),ue(Po>=0&&Po<=Se.maxTextureSize,"invalid height")):("radius"in yt&&(vr=Po=yt.radius,ue(vr>=0&&vr<=Se.maxTextureSize,"invalid radius")),"width"in yt&&(vr=yt.width,ue(vr>=0&&vr<=Se.maxTextureSize,"invalid width")),"height"in yt&&(Po=yt.height,ue(Po>=0&&Po<=Se.maxTextureSize,"invalid height")),"channels"in yt&&(ri=yt.channels,ue(ri>0&&ri<=4,"invalid number of channels"),K=!0)),_e.width=vr|0,_e.height=Po|0,_e.channels=ri|0;var le=!1;if("format"in yt){var Te=yt.format;ue(ae.webgl_depth_texture||!(Te==="depth"||Te==="depth stencil"),"you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures."),ue.parameter(Te,zt,"invalid texture format");var tt=_e.internalformat=zt[Te];_e.format=_r[tt],Te in nr&&("type"in yt||(_e.type=nr[Te])),Te in er&&(_e.compressed=!0),le=!0}!K&&le?_e.channels=hn[_e.format]:K&&!le?_e.channels!==wu[_e.format]&&(_e.format=_e.internalformat=wu[_e.channels]):le&&K&&ue(_e.channels===hn[_e.format],"number of channels inconsistent with specified format")}}function so(_e){N.pixelStorei(ic,_e.flipY),N.pixelStorei(bp,_e.premultiplyAlpha),N.pixelStorei(nc,_e.colorSpace),N.pixelStorei(Oa,_e.unpackAlignment)}function ur(){Ot.call(this),this.xOffset=0,this.yOffset=0,this.data=null,this.needsFree=!1,this.element=null,this.needsCopy=!1}function jt(_e,yt){var rt=null;if(ta(yt)?rt=yt:yt&&(ue.type(yt,"object","invalid pixel data type"),Gr(_e,yt),"x"in yt&&(_e.xOffset=yt.x|0),"y"in yt&&(_e.yOffset=yt.y|0),ta(yt.data)&&(rt=yt.data)),ue(!_e.compressed||rt instanceof Uint8Array,"compressed texture data must be stored in a uint8array"),yt.copy){ue(!rt,"can not specify copy and data field for the same texture");var vr=St.viewportWidth,Po=St.viewportHeight;_e.width=_e.width||vr-_e.xOffset,_e.height=_e.height||Po-_e.yOffset,_e.needsCopy=!0,ue(_e.xOffset>=0&&_e.xOffset<vr&&_e.yOffset>=0&&_e.yOffset<Po&&_e.width>0&&_e.width<=vr&&_e.height>0&&_e.height<=Po,"copy texture read out of bounds")}else if(!rt)_e.width=_e.width||1,_e.height=_e.height||1,_e.channels=_e.channels||4;else if(r(rt))_e.channels=_e.channels||4,_e.data=rt,!("type"in yt)&&_e.type===bs&&(_e.type=Fs(rt));else if(Vc(rt))_e.channels=_e.channels||4,O1(_e,rt),_e.alignment=1,_e.needsFree=!0;else if(q(rt)){var ri=rt.data;!Array.isArray(ri)&&_e.type===bs&&(_e.type=Fs(ri));var K=rt.shape,le=rt.stride,Te,tt,ot,Oe,ze,je;K.length===3?(ot=K[2],je=le[2]):(ue(K.length===2,"invalid ndarray pixel data, must be 2 or 3D"),ot=1,je=1),Te=K[0],tt=K[1],Oe=le[0],ze=le[1],_e.alignment=1,_e.width=Te,_e.height=tt,_e.channels=ot,_e.format=_e.internalformat=wu[ot],_e.needsFree=!0,Wl(_e,ri,Oe,ze,je,rt.offset)}else if(uc(rt)||Hc(rt)||Ya(rt))uc(rt)||Hc(rt)?_e.element=rt:_e.element=rt.canvas,_e.width=_e.element.width,_e.height=_e.element.height,_e.channels=4;else if(ba(rt))_e.element=rt,_e.width=rt.width,_e.height=rt.height,_e.channels=4;else if(Gc(rt))_e.element=rt,_e.width=rt.naturalWidth,_e.height=rt.naturalHeight,_e.channels=4;else if(jc(rt))_e.element=rt,_e.width=rt.videoWidth,_e.height=rt.videoHeight,_e.channels=4;else if(sr(rt)){var Ee=_e.width||rt[0].length,Ue=_e.height||rt.length,pe=_e.channels;Bi(rt[0][0])?pe=pe||rt[0][0].length:pe=pe||1;for(var Ve=Le.shape(rt),st=1,Pt=0;Pt<Ve.length;++Pt)st*=Ve[Pt];var kt=Tp(_e,st);Le.flatten(rt,Ve,"",kt),Wc(_e,kt),_e.alignment=1,_e.width=Ee,_e.height=Ue,_e.channels=pe,_e.format=_e.internalformat=wu[pe],_e.needsFree=!0}_e.type===Tu?ue(Se.extensions.indexOf("oes_texture_float")>=0,"oes_texture_float extension not enabled"):_e.type===Ks&&ue(Se.extensions.indexOf("oes_texture_half_float")>=0,"oes_texture_half_float extension not enabled")}function Tt(_e,yt,rt){var vr=_e.element,Po=_e.data,ri=_e.internalformat,K=_e.format,le=_e.type,Te=_e.width,tt=_e.height;so(_e),vr?N.texImage2D(yt,rt,K,K,le,vr):_e.compressed?N.compressedTexImage2D(yt,rt,ri,Te,tt,0,Po):_e.needsCopy?(nt(),N.copyTexImage2D(yt,rt,K,_e.xOffset,_e.yOffset,Te,tt,0)):N.texImage2D(yt,rt,K,Te,tt,0,K,le,Po||null)}function oo(_e,yt,rt,vr,Po){var ri=_e.element,K=_e.data,le=_e.internalformat,Te=_e.format,tt=_e.type,ot=_e.width,Oe=_e.height;so(_e),ri?N.texSubImage2D(yt,Po,rt,vr,Te,tt,ri):_e.compressed?N.compressedTexSubImage2D(yt,Po,rt,vr,le,ot,Oe,K):_e.needsCopy?(nt(),N.copyTexSubImage2D(yt,Po,rt,vr,_e.xOffset,_e.yOffset,ot,Oe)):N.texSubImage2D(yt,Po,rt,vr,ot,Oe,Te,tt,K)}var io=[];function Or(){return io.pop()||new ur}function Eo(_e){_e.needsFree&&Ft.freeType(_e.data),ur.call(_e),io.push(_e)}function Wr(){Ot.call(this),this.genMipmaps=!1,this.mipmapHint=As,this.mipmask=0,this.images=Array(16)}function xo(_e,yt,rt){var vr=_e.images[0]=Or();_e.mipmask=1,vr.width=_e.width=yt,vr.height=_e.height=rt,vr.channels=_e.channels=4}function Xo(_e,yt){var rt=null;if(ta(yt))rt=_e.images[0]=Or(),cr(rt,_e),jt(rt,yt),_e.mipmask=1;else if(Gr(_e,yt),Array.isArray(yt.mipmap))for(var vr=yt.mipmap,Po=0;Po<vr.length;++Po)rt=_e.images[Po]=Or(),cr(rt,_e),rt.width>>=Po,rt.height>>=Po,jt(rt,vr[Po]),_e.mipmask|=1<<Po;else rt=_e.images[0]=Or(),cr(rt,_e),jt(rt,yt),_e.mipmask=1;cr(_e,_e.images[0]),_e.compressed&&(_e.internalformat===Au||_e.internalformat===qu||_e.internalformat===xp||_e.internalformat===$u)&&ue(_e.width%4===0&&_e.height%4===0,"for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4")}function gn(_e,yt){for(var rt=_e.images,vr=0;vr<rt.length;++vr){if(!rt[vr])return;Tt(rt[vr],yt,vr)}}var Sn=[];function Ro(){var _e=Sn.pop()||new Wr;Ot.call(_e),_e.mipmask=0;for(var yt=0;yt<16;++yt)_e.images[yt]=null;return _e}function Ji(_e){for(var yt=_e.images,rt=0;rt<yt.length;++rt)yt[rt]&&Eo(yt[rt]),yt[rt]=null;Sn.push(_e)}function Si(){this.minFilter=oc,this.magFilter=oc,this.wrapS=Bc,this.wrapT=Bc,this.anisotropic=1,this.genMipmaps=!1,this.mipmapHint=As}function en(_e,yt){if("min"in yt){var rt=yt.min;ue.parameter(rt,qt),_e.minFilter=qt[rt],ac.indexOf(_e.minFilter)>=0&&!("faces"in yt)&&(_e.genMipmaps=!0)}if("mag"in yt){var vr=yt.mag;ue.parameter(vr,ir),_e.magFilter=ir[vr]}var Po=_e.wrapS,ri=_e.wrapT;if("wrap"in yt){var K=yt.wrap;typeof K=="string"?(ue.parameter(K,Ht),Po=ri=Ht[K]):Array.isArray(K)&&(ue.parameter(K[0],Ht),ue.parameter(K[1],Ht),Po=Ht[K[0]],ri=Ht[K[1]])}else{if("wrapS"in yt){var le=yt.wrapS;ue.parameter(le,Ht),Po=Ht[le]}if("wrapT"in yt){var Te=yt.wrapT;ue.parameter(Te,Ht),ri=Ht[Te]}}if(_e.wrapS=Po,_e.wrapT=ri,"anisotropic"in yt){var tt=yt.anisotropic;ue(typeof tt=="number"&&tt>=1&&tt<=Se.maxAnisotropic,"aniso samples must be between 1 and "),_e.anisotropic=yt.anisotropic}if("mipmap"in yt){var ot=!1;switch(typeof yt.mipmap){case"string":ue.parameter(yt.mipmap,Ut,"invalid mipmap hint"),_e.mipmapHint=Ut[yt.mipmap],_e.genMipmaps=!0,ot=!0;break;case"boolean":ot=_e.genMipmaps=yt.mipmap;break;case"object":ue(Array.isArray(yt.mipmap),"invalid mipmap type"),_e.genMipmaps=!1,ot=!0;break;default:ue.raise("invalid mipmap type")}ot&&!("min"in yt)&&(_e.minFilter=Ju)}}function zi(_e,yt){N.texParameteri(yt,Vl,_e.minFilter),N.texParameteri(yt,Uc,_e.magFilter),N.texParameteri(yt,V0,_e.wrapS),N.texParameteri(yt,Lc,_e.wrapT),ae.ext_texture_filter_anisotropic&&N.texParameteri(yt,yi,_e.anisotropic),_e.genMipmaps&&(N.hint(kc,_e.mipmapHint),N.generateMipmap(yt))}var tn=0,Un={},ia=Se.maxTextureUnits,Rn=Array(ia).map(function(){return null});function _o(_e){Ot.call(this),this.mipmask=0,this.internalformat=xu,this.id=tn++,this.refCount=1,this.target=_e,this.texture=N.createTexture(),this.unit=-1,this.bindCount=0,this.texInfo=new Si,xt.profile&&(this.stats={size:0})}function Zn(_e){N.activeTexture(zc),N.bindTexture(_e.target,_e.texture)}function qo(){var _e=Rn[0];_e?N.bindTexture(_e.target,_e.texture):N.bindTexture(ua,null)}function Kr(_e){var yt=_e.texture;ue(yt,"must not double destroy texture");var rt=_e.unit,vr=_e.target;rt>=0&&(N.activeTexture(zc+rt),N.bindTexture(vr,null),Rn[rt]=null),N.deleteTexture(yt),_e.texture=null,_e.params=null,_e.pixels=null,_e.refCount=0,delete Un[_e.id],$e.textureCount--}i(_o.prototype,{bind:function(){var _e=this;_e.bindCount+=1;var yt=_e.unit;if(yt<0){for(var rt=0;rt<ia;++rt){var vr=Rn[rt];if(vr){if(vr.bindCount>0)continue;vr.unit=-1}Rn[rt]=_e,yt=rt;break}yt>=ia&&ue.raise("insufficient number of texture units"),xt.profile&&$e.maxTextureUnits<yt+1&&($e.maxTextureUnits=yt+1),_e.unit=yt,N.activeTexture(zc+yt),N.bindTexture(_e.target,_e.texture)}return yt},unbind:function(){this.bindCount-=1},decRef:function(){--this.refCount<=0&&Kr(this)}});function Co(_e,yt){var rt=new _o(ua);Un[rt.id]=rt,$e.textureCount++;function vr(K,le){var Te=rt.texInfo;Si.call(Te);var tt=Ro();return typeof K=="number"?typeof le=="number"?xo(tt,K|0,le|0):xo(tt,K|0,K|0):K?(ue.type(K,"object","invalid arguments to regl.texture"),en(Te,K),Xo(tt,K)):xo(tt,1,1),Te.genMipmaps&&(tt.mipmask=(tt.width<<1)-1),rt.mipmask=tt.mipmask,cr(rt,tt),ue.texture2D(Te,tt,Se),rt.internalformat=tt.internalformat,vr.width=tt.width,vr.height=tt.height,Zn(rt),gn(tt,ua),zi(Te,ua),qo(),Ji(tt),xt.profile&&(rt.stats.size=Aa(rt.internalformat,rt.type,tt.width,tt.height,Te.genMipmaps,!1)),vr.format=Xt[rt.internalformat],vr.type=dr[rt.type],vr.mag=Mt[Te.magFilter],vr.min=mr[Te.minFilter],vr.wrapS=Zt[Te.wrapS],vr.wrapT=Zt[Te.wrapT],vr}function Po(K,le,Te,tt){ue(!!K,"must specify image data");var ot=le|0,Oe=Te|0,ze=tt|0,je=Or();return cr(je,rt),je.width=0,je.height=0,jt(je,K),je.width=je.width||(rt.width>>ze)-ot,je.height=je.height||(rt.height>>ze)-Oe,ue(rt.type===je.type&&rt.format===je.format&&rt.internalformat===je.internalformat,"incompatible format for texture.subimage"),ue(ot>=0&&Oe>=0&&ot+je.width<=rt.width&&Oe+je.height<=rt.height,"texture.subimage write out of bounds"),ue(rt.mipmask&1<<ze,"missing mipmap data"),ue(je.data||je.element||je.needsCopy,"missing image data"),Zn(rt),oo(je,ua,ot,Oe,ze),qo(),Eo(je),vr}function ri(K,le){var Te=K|0,tt=le|0||Te;if(Te===rt.width&&tt===rt.height)return vr;vr.width=rt.width=Te,vr.height=rt.height=tt,Zn(rt);for(var ot=0;rt.mipmask>>ot;++ot){var Oe=Te>>ot,ze=tt>>ot;if(!Oe||!ze)break;N.texImage2D(ua,ot,rt.format,Oe,ze,0,rt.format,rt.type,null)}return qo(),xt.profile&&(rt.stats.size=Aa(rt.internalformat,rt.type,Te,tt,!1,!1)),vr}return vr(_e,yt),vr.subimage=Po,vr.resize=ri,vr._reglType="texture2d",vr._texture=rt,xt.profile&&(vr.stats=rt.stats),vr.destroy=function(){rt.decRef()},vr}function Ho(_e,yt,rt,vr,Po,ri){var K=new _o(qs);Un[K.id]=K,$e.cubeCount++;var le=new Array(6);function Te(Oe,ze,je,Ee,Ue,pe){var Ve,st=K.texInfo;for(Si.call(st),Ve=0;Ve<6;++Ve)le[Ve]=Ro();if(typeof Oe=="number"||!Oe){var Pt=Oe|0||1;for(Ve=0;Ve<6;++Ve)xo(le[Ve],Pt,Pt)}else if(typeof Oe=="object")if(ze)Xo(le[0],Oe),Xo(le[1],ze),Xo(le[2],je),Xo(le[3],Ee),Xo(le[4],Ue),Xo(le[5],pe);else if(en(st,Oe),Gr(K,Oe),"faces"in Oe){var kt=Oe.faces;for(ue(Array.isArray(kt)&&kt.length===6,"cube faces must be a length 6 array"),Ve=0;Ve<6;++Ve)ue(typeof kt[Ve]=="object"&&!!kt[Ve],"invalid input for cube map face"),cr(le[Ve],K),Xo(le[Ve],kt[Ve])}else for(Ve=0;Ve<6;++Ve)Xo(le[Ve],Oe);else ue.raise("invalid arguments to cube map");for(cr(K,le[0]),Se.npotTextureCube||ue(Nl(K.width)&&Nl(K.height),"your browser does not support non power or two texture dimensions"),st.genMipmaps?K.mipmask=(le[0].width<<1)-1:K.mipmask=le[0].mipmask,ue.textureCube(K,st,le,Se),K.internalformat=le[0].internalformat,Te.width=le[0].width,Te.height=le[0].height,Zn(K),Ve=0;Ve<6;++Ve)gn(le[Ve],Ps+Ve);for(zi(st,qs),qo(),xt.profile&&(K.stats.size=Aa(K.internalformat,K.type,Te.width,Te.height,st.genMipmaps,!0)),Te.format=Xt[K.internalformat],Te.type=dr[K.type],Te.mag=Mt[st.magFilter],Te.min=mr[st.minFilter],Te.wrapS=Zt[st.wrapS],Te.wrapT=Zt[st.wrapT],Ve=0;Ve<6;++Ve)Ji(le[Ve]);return Te}function tt(Oe,ze,je,Ee,Ue){ue(!!ze,"must specify image data"),ue(typeof Oe=="number"&&Oe===(Oe|0)&&Oe>=0&&Oe<6,"invalid face");var pe=je|0,Ve=Ee|0,st=Ue|0,Pt=Or();return cr(Pt,K),Pt.width=0,Pt.height=0,jt(Pt,ze),Pt.width=Pt.width||(K.width>>st)-pe,Pt.height=Pt.height||(K.height>>st)-Ve,ue(K.type===Pt.type&&K.format===Pt.format&&K.internalformat===Pt.internalformat,"incompatible format for texture.subimage"),ue(pe>=0&&Ve>=0&&pe+Pt.width<=K.width&&Ve+Pt.height<=K.height,"texture.subimage write out of bounds"),ue(K.mipmask&1<<st,"missing mipmap data"),ue(Pt.data||Pt.element||Pt.needsCopy,"missing image data"),Zn(K),oo(Pt,Ps+Oe,pe,Ve,st),qo(),Eo(Pt),Te}function ot(Oe){var ze=Oe|0;if(ze!==K.width){Te.width=K.width=ze,Te.height=K.height=ze,Zn(K);for(var je=0;je<6;++je)for(var Ee=0;K.mipmask>>Ee;++Ee)N.texImage2D(Ps+je,Ee,K.format,ze>>Ee,ze>>Ee,0,K.format,K.type,null);return qo(),xt.profile&&(K.stats.size=Aa(K.internalformat,K.type,Te.width,Te.height,!1,!0)),Te}}return Te(_e,yt,rt,vr,Po,ri),Te.subimage=tt,Te.resize=ot,Te._reglType="textureCube",Te._texture=K,xt.profile&&(Te.stats=K.stats),Te.destroy=function(){K.decRef()},Te}function Zi(){for(var _e=0;_e<ia;++_e)N.activeTexture(zc+_e),N.bindTexture(ua,null),Rn[_e]=null;ne(Un).forEach(Kr),$e.cubeCount=0,$e.textureCount=0}xt.profile&&($e.getTotalTextureSize=function(){var _e=0;return Object.keys(Un).forEach(function(yt){_e+=Un[yt].stats.size}),_e});function nu(){for(var _e=0;_e<ia;++_e){var yt=Rn[_e];yt&&(yt.bindCount=0,yt.unit=-1,Rn[_e]=null)}ne(Un).forEach(function(rt){rt.texture=N.createTexture(),N.bindTexture(rt.target,rt.texture);for(var vr=0;vr<32;++vr)if(rt.mipmask&1<<vr)if(rt.target===ua)N.texImage2D(ua,vr,rt.internalformat,rt.width>>vr,rt.height>>vr,0,rt.internalformat,rt.type,null);else for(var Po=0;Po<6;++Po)N.texImage2D(Ps+Po,vr,rt.internalformat,rt.width>>vr,rt.height>>vr,0,rt.internalformat,rt.type,null);zi(rt.texInfo,rt.target)})}return{create2D:Co,createCube:Ho,clear:Zi,getTexture:function(_e){return null},restore:nu}}var ho=36161,Ba=32854,Ua=32855,An=36194,Cu=33189,Js=36168,qa=34041,jn=35907,Sp=34836,Ur=34842,Cr=34843,Fa=[];Fa[Ba]=2,Fa[Ua]=2,Fa[An]=2,Fa[Cu]=2,Fa[Js]=1,Fa[qa]=4,Fa[jn]=4,Fa[Sp]=16,Fa[Ur]=8,Fa[Cr]=6;function Wn(N,ae,Se){return Fa[N]*ae*Se}var ps=function(N,ae,Se,nt,St){var $e={rgba4:Ba,rgb565:An,"rgb5 a1":Ua,depth:Cu,stencil:Js,"depth stencil":qa};ae.ext_srgb&&($e.srgba=jn),ae.ext_color_buffer_half_float&&($e.rgba16f=Ur,$e.rgb16f=Cr),ae.webgl_color_buffer_float&&($e.rgba32f=Sp);var xt=[];Object.keys($e).forEach(function(zt){var er=$e[zt];xt[er]=zt});var Ut=0,Ht={};function ir(zt){this.id=Ut++,this.refCount=1,this.renderbuffer=zt,this.format=Ba,this.width=0,this.height=0,St.profile&&(this.stats={size:0})}ir.prototype.decRef=function(){--this.refCount<=0&&qt(this)};function qt(zt){var er=zt.renderbuffer;ue(er,"must not double destroy renderbuffer"),N.bindRenderbuffer(ho,null),N.deleteRenderbuffer(er),zt.renderbuffer=null,zt.refCount=0,delete Ht[zt.id],nt.renderbufferCount--}function Jt(zt,er){var Ke=new ir(N.createRenderbuffer());Ht[Ke.id]=Ke,nt.renderbufferCount++;function _t(dr,Mt){var mr=0,Zt=0,_r=Ba;if(typeof dr=="object"&&dr){var Ot=dr;if("shape"in Ot){var cr=Ot.shape;ue(Array.isArray(cr)&&cr.length>=2,"invalid renderbuffer shape"),mr=cr[0]|0,Zt=cr[1]|0}else"radius"in Ot&&(mr=Zt=Ot.radius|0),"width"in Ot&&(mr=Ot.width|0),"height"in Ot&&(Zt=Ot.height|0);"format"in Ot&&(ue.parameter(Ot.format,$e,"invalid renderbuffer format"),_r=$e[Ot.format])}else typeof dr=="number"?(mr=dr|0,typeof Mt=="number"?Zt=Mt|0:Zt=mr):dr?ue.raise("invalid arguments to renderbuffer constructor"):mr=Zt=1;if(ue(mr>0&&Zt>0&&mr<=Se.maxRenderbufferSize&&Zt<=Se.maxRenderbufferSize,"invalid renderbuffer size"),!(mr===Ke.width&&Zt===Ke.height&&_r===Ke.format))return _t.width=Ke.width=mr,_t.height=Ke.height=Zt,Ke.format=_r,N.bindRenderbuffer(ho,Ke.renderbuffer),N.renderbufferStorage(ho,_r,mr,Zt),ue(N.getError()===0,"invalid render buffer format"),St.profile&&(Ke.stats.size=Wn(Ke.format,Ke.width,Ke.height)),_t.format=xt[Ke.format],_t}function Xt(dr,Mt){var mr=dr|0,Zt=Mt|0||mr;return mr===Ke.width&&Zt===Ke.height||(ue(mr>0&&Zt>0&&mr<=Se.maxRenderbufferSize&&Zt<=Se.maxRenderbufferSize,"invalid renderbuffer size"),_t.width=Ke.width=mr,_t.height=Ke.height=Zt,N.bindRenderbuffer(ho,Ke.renderbuffer),N.renderbufferStorage(ho,Ke.format,mr,Zt),ue(N.getError()===0,"invalid render buffer format"),St.profile&&(Ke.stats.size=Wn(Ke.format,Ke.width,Ke.height))),_t}return _t(zt,er),_t.resize=Xt,_t._reglType="renderbuffer",_t._renderbuffer=Ke,St.profile&&(_t.stats=Ke.stats),_t.destroy=function(){Ke.decRef()},_t}St.profile&&(nt.getTotalRenderbufferSize=function(){var zt=0;return Object.keys(Ht).forEach(function(er){zt+=Ht[er].stats.size}),zt});function nr(){ne(Ht).forEach(function(zt){zt.renderbuffer=N.createRenderbuffer(),N.bindRenderbuffer(ho,zt.renderbuffer),N.renderbufferStorage(ho,zt.format,zt.width,zt.height)}),N.bindRenderbuffer(ho,null)}return{create:Jt,clear:function(){ne(Ht).forEach(qt)},restore:nr}},Fi=36160,$a=36161,eu=3553,ep=34069,Yo=36064,fn=36096,Xl=36128,Iu=33306,Xc=36053,tu=36054,Ta=36055,Rp=36057,Ts=36061,Zc=36193,wp=5121,pc=5126,Yc=6407,tp=6408,rp=6402,Zl=[Yc,tp],Ss=[];Ss[tp]=4,Ss[Yc]=3;var cs=[];cs[wp]=1,cs[pc]=4,cs[Zc]=2;var qc=32854,Mu=32855,Ka=36194,Yl=33189,cc=36168,$c=34041,Kc=35907,c=34836,d=34842,l=34843,h=[qc,Mu,Ka,Kc,d,l,c],E={};E[Xc]="complete",E[tu]="incomplete attachment",E[Rp]="incomplete dimensions",E[Ta]="incomplete, missing attachment",E[Ts]="unsupported";function A(N,ae,Se,nt,St,$e){var xt={cur:null,next:null,dirty:!1,setFBO:null},Ut=["rgba"],Ht=["rgba4","rgb565","rgb5 a1"];ae.ext_srgb&&Ht.push("srgba"),ae.ext_color_buffer_half_float&&Ht.push("rgba16f","rgb16f"),ae.webgl_color_buffer_float&&Ht.push("rgba32f");var ir=["uint8"];ae.oes_texture_half_float&&ir.push("half float","float16"),ae.oes_texture_float&&ir.push("float","float32");function qt(ur,jt,Tt){this.target=ur,this.texture=jt,this.renderbuffer=Tt;var oo=0,io=0;jt?(oo=jt.width,io=jt.height):Tt&&(oo=Tt.width,io=Tt.height),this.width=oo,this.height=io}function Jt(ur){ur&&(ur.texture&&ur.texture._texture.decRef(),ur.renderbuffer&&ur.renderbuffer._renderbuffer.decRef())}function nr(ur,jt,Tt){if(ur)if(ur.texture){var oo=ur.texture._texture,io=Math.max(1,oo.width),Or=Math.max(1,oo.height);ue(io===jt&&Or===Tt,"inconsistent width/height for supplied texture"),oo.refCount+=1}else{var Eo=ur.renderbuffer._renderbuffer;ue(Eo.width===jt&&Eo.height===Tt,"inconsistent width/height for renderbuffer"),Eo.refCount+=1}}function zt(ur,jt){jt&&(jt.texture?N.framebufferTexture2D(Fi,ur,jt.target,jt.texture._texture.texture,0):N.framebufferRenderbuffer(Fi,ur,$a,jt.renderbuffer._renderbuffer.renderbuffer))}function er(ur){var jt=eu,Tt=null,oo=null,io=ur;typeof ur=="object"&&(io=ur.data,"target"in ur&&(jt=ur.target|0)),ue.type(io,"function","invalid attachment data");var Or=io._reglType;return Or==="texture2d"?(Tt=io,ue(jt===eu)):Or==="textureCube"?(Tt=io,ue(jt>=ep&&jt<ep+6,"invalid cube map target")):Or==="renderbuffer"?(oo=io,jt=$a):ue.raise("invalid regl object for attachment"),new qt(jt,Tt,oo)}function Ke(ur,jt,Tt,oo,io){if(Tt){var Or=nt.create2D({width:ur,height:jt,format:oo,type:io});return Or._texture.refCount=0,new qt(eu,Or,null)}else{var Eo=St.create({width:ur,height:jt,format:oo});return Eo._renderbuffer.refCount=0,new qt($a,null,Eo)}}function _t(ur){return ur&&(ur.texture||ur.renderbuffer)}function Xt(ur,jt,Tt){ur&&(ur.texture?ur.texture.resize(jt,Tt):ur.renderbuffer&&ur.renderbuffer.resize(jt,Tt),ur.width=jt,ur.height=Tt)}var dr=0,Mt={};function mr(){this.id=dr++,Mt[this.id]=this,this.framebuffer=N.createFramebuffer(),this.width=0,this.height=0,this.colorAttachments=[],this.depthAttachment=null,this.stencilAttachment=null,this.depthStencilAttachment=null}function Zt(ur){ur.colorAttachments.forEach(Jt),Jt(ur.depthAttachment),Jt(ur.stencilAttachment),Jt(ur.depthStencilAttachment)}function _r(ur){var jt=ur.framebuffer;ue(jt,"must not double destroy framebuffer"),N.deleteFramebuffer(jt),ur.framebuffer=null,$e.framebufferCount--,delete Mt[ur.id]}function Ot(ur){var jt;N.bindFramebuffer(Fi,ur.framebuffer);var Tt=ur.colorAttachments;for(jt=0;jt<Tt.length;++jt)zt(Yo+jt,Tt[jt]);for(jt=Tt.length;jt<Se.maxColorAttachments;++jt)N.framebufferTexture2D(Fi,Yo+jt,eu,null,0);N.framebufferTexture2D(Fi,Iu,eu,null,0),N.framebufferTexture2D(Fi,fn,eu,null,0),N.framebufferTexture2D(Fi,Xl,eu,null,0),zt(fn,ur.depthAttachment),zt(Xl,ur.stencilAttachment),zt(Iu,ur.depthStencilAttachment);var oo=N.checkFramebufferStatus(Fi);!N.isContextLost()&&oo!==Xc&&ue.raise("framebuffer configuration not supported, status = "+E[oo]),N.bindFramebuffer(Fi,xt.next?xt.next.framebuffer:null),xt.cur=xt.next,N.getError()}function cr(ur,jt){var Tt=new mr;$e.framebufferCount++;function oo(Or,Eo){var Wr;ue(xt.next!==Tt,"can not update framebuffer which is currently in use");var xo=0,Xo=0,gn=!0,Sn=!0,Ro=null,Ji=!0,Si="rgba",en="uint8",zi=1,tn=null,Un=null,ia=null,Rn=!1;if(typeof Or=="number")xo=Or|0,Xo=Eo|0||xo;else if(!Or)xo=Xo=1;else{ue.type(Or,"object","invalid arguments for framebuffer");var _o=Or;if("shape"in _o){var Zn=_o.shape;ue(Array.isArray(Zn)&&Zn.length>=2,"invalid shape for framebuffer"),xo=Zn[0],Xo=Zn[1]}else"radius"in _o&&(xo=Xo=_o.radius),"width"in _o&&(xo=_o.width),"height"in _o&&(Xo=_o.height);("color"in _o||"colors"in _o)&&(Ro=_o.color||_o.colors,Array.isArray(Ro)&&ue(Ro.length===1||ae.webgl_draw_buffers,"multiple render targets not supported")),Ro||("colorCount"in _o&&(zi=_o.colorCount|0,ue(zi>0,"invalid color buffer count")),"colorTexture"in _o&&(Ji=!!_o.colorTexture,Si="rgba4"),"colorType"in _o&&(en=_o.colorType,Ji?(ue(ae.oes_texture_float||!(en==="float"||en==="float32"),"you must enable OES_texture_float in order to use floating point framebuffer objects"),ue(ae.oes_texture_half_float||!(en==="half float"||en==="float16"),"you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects")):en==="half float"||en==="float16"?(ue(ae.ext_color_buffer_half_float,"you must enable EXT_color_buffer_half_float to use 16-bit render buffers"),Si="rgba16f"):(en==="float"||en==="float32")&&(ue(ae.webgl_color_buffer_float,"you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers"),Si="rgba32f"),ue.oneOf(en,ir,"invalid color type")),"colorFormat"in _o&&(Si=_o.colorFormat,Ut.indexOf(Si)>=0?Ji=!0:Ht.indexOf(Si)>=0?Ji=!1:Ji?ue.oneOf(_o.colorFormat,Ut,"invalid color format for texture"):ue.oneOf(_o.colorFormat,Ht,"invalid color format for renderbuffer"))),("depthTexture"in _o||"depthStencilTexture"in _o)&&(Rn=!!(_o.depthTexture||_o.depthStencilTexture),ue(!Rn||ae.webgl_depth_texture,"webgl_depth_texture extension not supported")),"depth"in _o&&(typeof _o.depth=="boolean"?gn=_o.depth:(tn=_o.depth,Sn=!1)),"stencil"in _o&&(typeof _o.stencil=="boolean"?Sn=_o.stencil:(Un=_o.stencil,gn=!1)),"depthStencil"in _o&&(typeof _o.depthStencil=="boolean"?gn=Sn=_o.depthStencil:(ia=_o.depthStencil,gn=!1,Sn=!1))}var qo=null,Kr=null,Co=null,Ho=null;if(Array.isArray(Ro))qo=Ro.map(er);else if(Ro)qo=[er(Ro)];else for(qo=new Array(zi),Wr=0;Wr<zi;++Wr)qo[Wr]=Ke(xo,Xo,Ji,Si,en);ue(ae.webgl_draw_buffers||qo.length<=1,"you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers."),ue(qo.length<=Se.maxColorAttachments,"too many color attachments, not supported"),xo=xo||qo[0].width,Xo=Xo||qo[0].height,tn?Kr=er(tn):gn&&!Sn&&(Kr=Ke(xo,Xo,Rn,"depth","uint32")),Un?Co=er(Un):Sn&&!gn&&(Co=Ke(xo,Xo,!1,"stencil","uint8")),ia?Ho=er(ia):!tn&&!Un&&Sn&&gn&&(Ho=Ke(xo,Xo,Rn,"depth stencil","depth stencil")),ue(!!tn+!!Un+!!ia<=1,"invalid framebuffer configuration, can specify exactly one depth/stencil attachment");var Zi=null;for(Wr=0;Wr<qo.length;++Wr)if(nr(qo[Wr],xo,Xo),ue(!qo[Wr]||qo[Wr].texture&&Zl.indexOf(qo[Wr].texture._texture.format)>=0||qo[Wr].renderbuffer&&h.indexOf(qo[Wr].renderbuffer._renderbuffer.format)>=0,"framebuffer color attachment "+Wr+" is invalid"),qo[Wr]&&qo[Wr].texture){var nu=Ss[qo[Wr].texture._texture.format]*cs[qo[Wr].texture._texture.type];Zi===null?Zi=nu:ue(Zi===nu,"all color attachments much have the same number of bits per pixel.")}return nr(Kr,xo,Xo),ue(!Kr||Kr.texture&&Kr.texture._texture.format===rp||Kr.renderbuffer&&Kr.renderbuffer._renderbuffer.format===Yl,"invalid depth attachment for framebuffer object"),nr(Co,xo,Xo),ue(!Co||Co.renderbuffer&&Co.renderbuffer._renderbuffer.format===cc,"invalid stencil attachment for framebuffer object"),nr(Ho,xo,Xo),ue(!Ho||Ho.texture&&Ho.texture._texture.format===$c||Ho.renderbuffer&&Ho.renderbuffer._renderbuffer.format===$c,"invalid depth-stencil attachment for framebuffer object"),Zt(Tt),Tt.width=xo,Tt.height=Xo,Tt.colorAttachments=qo,Tt.depthAttachment=Kr,Tt.stencilAttachment=Co,Tt.depthStencilAttachment=Ho,oo.color=qo.map(_t),oo.depth=_t(Kr),oo.stencil=_t(Co),oo.depthStencil=_t(Ho),oo.width=Tt.width,oo.height=Tt.height,Ot(Tt),oo}function io(Or,Eo){ue(xt.next!==Tt,"can not resize a framebuffer which is currently in use");var Wr=Math.max(Or|0,1),xo=Math.max(Eo|0||Wr,1);if(Wr===Tt.width&&xo===Tt.height)return oo;for(var Xo=Tt.colorAttachments,gn=0;gn<Xo.length;++gn)Xt(Xo[gn],Wr,xo);return Xt(Tt.depthAttachment,Wr,xo),Xt(Tt.stencilAttachment,Wr,xo),Xt(Tt.depthStencilAttachment,Wr,xo),Tt.width=oo.width=Wr,Tt.height=oo.height=xo,Ot(Tt),oo}return oo(ur,jt),i(oo,{resize:io,_reglType:"framebuffer",_framebuffer:Tt,destroy:function(){_r(Tt),Zt(Tt)},use:function(Or){xt.setFBO({framebuffer:oo},Or)}})}function Gr(ur){var jt=Array(6);function Tt(io){var Or;ue(jt.indexOf(xt.next)<0,"can not update framebuffer which is currently in use");var Eo={color:null},Wr=0,xo=null,Xo="rgba",gn="uint8",Sn=1;if(typeof io=="number")Wr=io|0;else if(!io)Wr=1;else{ue.type(io,"object","invalid arguments for framebuffer");var Ro=io;if("shape"in Ro){var Ji=Ro.shape;ue(Array.isArray(Ji)&&Ji.length>=2,"invalid shape for framebuffer"),ue(Ji[0]===Ji[1],"cube framebuffer must be square"),Wr=Ji[0]}else"radius"in Ro&&(Wr=Ro.radius|0),"width"in Ro?(Wr=Ro.width|0,"height"in Ro&&ue(Ro.height===Wr,"must be square")):"height"in Ro&&(Wr=Ro.height|0);("color"in Ro||"colors"in Ro)&&(xo=Ro.color||Ro.colors,Array.isArray(xo)&&ue(xo.length===1||ae.webgl_draw_buffers,"multiple render targets not supported")),xo||("colorCount"in Ro&&(Sn=Ro.colorCount|0,ue(Sn>0,"invalid color buffer count")),"colorType"in Ro&&(ue.oneOf(Ro.colorType,ir,"invalid color type"),gn=Ro.colorType),"colorFormat"in Ro&&(Xo=Ro.colorFormat,ue.oneOf(Ro.colorFormat,Ut,"invalid color format for texture"))),"depth"in Ro&&(Eo.depth=Ro.depth),"stencil"in Ro&&(Eo.stencil=Ro.stencil),"depthStencil"in Ro&&(Eo.depthStencil=Ro.depthStencil)}var Si;if(xo)if(Array.isArray(xo))for(Si=[],Or=0;Or<xo.length;++Or)Si[Or]=xo[Or];else Si=[xo];else{Si=Array(Sn);var en={radius:Wr,format:Xo,type:gn};for(Or=0;Or<Sn;++Or)Si[Or]=nt.createCube(en)}for(Eo.color=Array(Si.length),Or=0;Or<Si.length;++Or){var zi=Si[Or];ue(typeof zi=="function"&&zi._reglType==="textureCube","invalid cube map"),Wr=Wr||zi.width,ue(zi.width===Wr&&zi.height===Wr,"invalid cube map shape"),Eo.color[Or]={target:ep,data:Si[Or]}}for(Or=0;Or<6;++Or){for(var tn=0;tn<Si.length;++tn)Eo.color[tn].target=ep+Or;Or>0&&(Eo.depth=jt[0].depth,Eo.stencil=jt[0].stencil,Eo.depthStencil=jt[0].depthStencil),jt[Or]?jt[Or](Eo):jt[Or]=cr(Eo)}return i(Tt,{width:Wr,height:Wr,color:Si})}function oo(io){var Or,Eo=io|0;if(ue(Eo>0&&Eo<=Se.maxCubeMapSize,"invalid radius for cube fbo"),Eo===Tt.width)return Tt;var Wr=Tt.color;for(Or=0;Or<Wr.length;++Or)Wr[Or].resize(Eo);for(Or=0;Or<6;++Or)jt[Or].resize(Eo);return Tt.width=Tt.height=Eo,Tt}return Tt(ur),i(Tt,{faces:jt,resize:oo,_reglType:"framebufferCube",destroy:function(){jt.forEach(function(io){io.destroy()})}})}function so(){xt.cur=null,xt.next=null,xt.dirty=!0,ne(Mt).forEach(function(ur){ur.framebuffer=N.createFramebuffer(),Ot(ur)})}return i(xt,{getFramebuffer:function(ur){if(typeof ur=="function"&&ur._reglType==="framebuffer"){var jt=ur._framebuffer;if(jt instanceof mr)return jt}return null},create:cr,createCube:Gr,clear:function(){ne(Mt).forEach(_r)},restore:so})}var T=5126,w=34962;function D(){this.state=0,this.x=0,this.y=0,this.z=0,this.w=0,this.buffer=null,this.size=0,this.normalized=!1,this.type=T,this.offset=0,this.stride=0,this.divisor=0}function H(N,ae,Se,nt,St){for(var $e=Se.maxAttributes,xt=new Array($e),Ut=0;Ut<$e;++Ut)xt[Ut]=new D;var Ht=0,ir={},qt={Record:D,scope:{},state:xt,currentVAO:null,targetVAO:null,restore:nr()?Mt:function(){},createVAO:mr,getVAO:er,destroyBuffer:Jt,setVAO:nr()?Ke:_t,clear:nr()?Xt:function(){}};function Jt(Zt){for(var _r=0;_r<xt.length;++_r){var Ot=xt[_r];Ot.buffer===Zt&&(N.disableVertexAttribArray(_r),Ot.buffer=null)}}function nr(){return ae.oes_vertex_array_object}function zt(){return ae.angle_instanced_arrays}function er(Zt){return typeof Zt=="function"&&Zt._vao?Zt._vao:null}function Ke(Zt){if(Zt!==qt.currentVAO){var _r=nr();Zt?_r.bindVertexArrayOES(Zt.vao):_r.bindVertexArrayOES(null),qt.currentVAO=Zt}}function _t(Zt){if(Zt!==qt.currentVAO){if(Zt)Zt.bindAttrs();else for(var _r=zt(),Ot=0;Ot<xt.length;++Ot){var cr=xt[Ot];cr.buffer?(N.enableVertexAttribArray(Ot),N.vertexAttribPointer(Ot,cr.size,cr.type,cr.normalized,cr.stride,cr.offfset),_r&&_r.vertexAttribDivisorANGLE(Ot,cr.divisor)):(N.disableVertexAttribArray(Ot),N.vertexAttrib4f(Ot,cr.x,cr.y,cr.z,cr.w))}qt.currentVAO=Zt}}function Xt(){ne(ir).forEach(function(Zt){Zt.destroy()})}function dr(){this.id=++Ht,this.attributes=[];var Zt=nr();Zt?this.vao=Zt.createVertexArrayOES():this.vao=null,ir[this.id]=this,this.buffers=[]}dr.prototype.bindAttrs=function(){for(var Zt=zt(),_r=this.attributes,Ot=0;Ot<_r.length;++Ot){var cr=_r[Ot];cr.buffer?(N.enableVertexAttribArray(Ot),N.bindBuffer(w,cr.buffer.buffer),N.vertexAttribPointer(Ot,cr.size,cr.type,cr.normalized,cr.stride,cr.offset),Zt&&Zt.vertexAttribDivisorANGLE(Ot,cr.divisor)):(N.disableVertexAttribArray(Ot),N.vertexAttrib4f(Ot,cr.x,cr.y,cr.z,cr.w))}for(var Gr=_r.length;Gr<$e;++Gr)N.disableVertexAttribArray(Gr)},dr.prototype.refresh=function(){var Zt=nr();Zt&&(Zt.bindVertexArrayOES(this.vao),this.bindAttrs(),qt.currentVAO=this)},dr.prototype.destroy=function(){if(this.vao){var Zt=nr();this===qt.currentVAO&&(qt.currentVAO=null,Zt.bindVertexArrayOES(null)),Zt.deleteVertexArrayOES(this.vao),this.vao=null}ir[this.id]&&(delete ir[this.id],nt.vaoCount-=1)};function Mt(){var Zt=nr();Zt&&ne(ir).forEach(function(_r){_r.refresh()})}function mr(Zt){var _r=new dr;nt.vaoCount+=1;function Ot(cr){ue(Array.isArray(cr),"arguments to vertex array constructor must be an array"),ue(cr.length<$e,"too many attributes"),ue(cr.length>0,"must specify at least one attribute");for(var Gr=0;Gr<_r.buffers.length;++Gr)_r.buffers[Gr].destroy();_r.buffers.length=0;var so=_r.attributes;so.length=cr.length;for(var ur=0;ur<cr.length;++ur){var jt=cr[ur],Tt=so[ur]=new D;if(Array.isArray(jt)||r(jt)||q(jt)){var oo=St.create(jt,w,!1,!0);Tt.buffer=St.getBuffer(oo),Tt.size=Tt.buffer.dimension|0,Tt.normalized=!1,Tt.type=Tt.buffer.dtype,Tt.offset=0,Tt.stride=0,Tt.divisor=0,Tt.state=1,_r.buffers.push(oo)}else St.getBuffer(jt)?(Tt.buffer=St.getBuffer(jt),Tt.size=Tt.buffer.dimension|0,Tt.normalized=!1,Tt.type=Tt.buffer.dtype,Tt.offset=0,Tt.stride=0,Tt.divisor=0,Tt.state=1):St.getBuffer(jt.buffer)?(Tt.buffer=St.getBuffer(jt.buffer),Tt.size=(+jt.size||Tt.buffer.dimension)|0,Tt.normalized=!!jt.normalized||!1,"type"in jt?(ue.parameter(jt.type,On,"invalid buffer type"),Tt.type=On[jt.type]):Tt.type=Tt.buffer.dtype,Tt.offset=(jt.offset||0)|0,Tt.stride=(jt.stride||0)|0,Tt.divisor=(jt.divisor||0)|0,Tt.state=1,ue(Tt.size>=1&&Tt.size<=4,"size must be between 1 and 4"),ue(Tt.offset>=0,"invalid offset"),ue(Tt.stride>=0&&Tt.stride<=255,"stride must be between 0 and 255"),ue(Tt.divisor>=0,"divisor must be positive"),ue(!Tt.divisor||!!ae.angle_instanced_arrays,"ANGLE_instanced_arrays must be enabled to use divisor")):"x"in jt?(ue(ur>0,"first attribute must not be a constant"),Tt.x=+jt.x||0,Tt.y=+jt.y||0,Tt.z=+jt.z||0,Tt.w=+jt.w||0,Tt.state=2):ue(!1,"invalid attribute spec for location "+ur)}return _r.refresh(),Ot}return Ot.destroy=function(){_r.destroy()},Ot._vao=_r,Ot._reglType="vao",Ot(Zt)}return qt}var Q=35632,te=35633,ie=35718,xe=35721;function me(N,ae,Se,nt){var St={},$e={};function xt(Ke,_t,Xt,dr){this.name=Ke,this.id=_t,this.location=Xt,this.info=dr}function Ut(Ke,_t){for(var Xt=0;Xt<Ke.length;++Xt)if(Ke[Xt].id===_t.id){Ke[Xt].location=_t.location;return}Ke.push(_t)}function Ht(Ke,_t,Xt){var dr=Ke===Q?St:$e,Mt=dr[_t];if(!Mt){var mr=ae.str(_t);Mt=N.createShader(Ke),N.shaderSource(Mt,mr),N.compileShader(Mt),ue.shaderError(N,Mt,mr,Ke,Xt),dr[_t]=Mt}return Mt}var ir={},qt=[],Jt=0;function nr(Ke,_t){this.id=Jt++,this.fragId=Ke,this.vertId=_t,this.program=null,this.uniforms=[],this.attributes=[],nt.profile&&(this.stats={uniformsCount:0,attributesCount:0})}function zt(Ke,_t,Xt){var dr,Mt,mr=Ht(Q,Ke.fragId),Zt=Ht(te,Ke.vertId),_r=Ke.program=N.createProgram();if(N.attachShader(_r,mr),N.attachShader(_r,Zt),Xt)for(dr=0;dr<Xt.length;++dr){var Ot=Xt[dr];N.bindAttribLocation(_r,Ot[0],Ot[1])}N.linkProgram(_r),ue.linkError(N,_r,ae.str(Ke.fragId),ae.str(Ke.vertId),_t);var cr=N.getProgramParameter(_r,ie);nt.profile&&(Ke.stats.uniformsCount=cr);var Gr=Ke.uniforms;for(dr=0;dr<cr;++dr)if(Mt=N.getActiveUniform(_r,dr),Mt)if(Mt.size>1)for(var so=0;so<Mt.size;++so){var ur=Mt.name.replace("[0]","["+so+"]");Ut(Gr,new xt(ur,ae.id(ur),N.getUniformLocation(_r,ur),Mt))}else Ut(Gr,new xt(Mt.name,ae.id(Mt.name),N.getUniformLocation(_r,Mt.name),Mt));var jt=N.getProgramParameter(_r,xe);nt.profile&&(Ke.stats.attributesCount=jt);var Tt=Ke.attributes;for(dr=0;dr<jt;++dr)Mt=N.getActiveAttrib(_r,dr),Mt&&Ut(Tt,new xt(Mt.name,ae.id(Mt.name),N.getAttribLocation(_r,Mt.name),Mt))}nt.profile&&(Se.getMaxUniformsCount=function(){var Ke=0;return qt.forEach(function(_t){_t.stats.uniformsCount>Ke&&(Ke=_t.stats.uniformsCount)}),Ke},Se.getMaxAttributesCount=function(){var Ke=0;return qt.forEach(function(_t){_t.stats.attributesCount>Ke&&(Ke=_t.stats.attributesCount)}),Ke});function er(){St={},$e={};for(var Ke=0;Ke<qt.length;++Ke)zt(qt[Ke],null,qt[Ke].attributes.map(function(_t){return[_t.location,_t.name]}))}return{clear:function(){var Ke=N.deleteShader.bind(N);ne(St).forEach(Ke),St={},ne($e).forEach(Ke),$e={},qt.forEach(function(_t){N.deleteProgram(_t.program)}),qt.length=0,ir={},Se.shaderCount=0},program:function(Ke,_t,Xt,dr){ue.command(Ke>=0,"missing vertex shader",Xt),ue.command(_t>=0,"missing fragment shader",Xt);var Mt=ir[_t];Mt||(Mt=ir[_t]={});var mr=Mt[Ke];if(mr&&!dr)return mr;var Zt=new nr(_t,Ke);return Se.shaderCount++,zt(Zt,Xt,dr),mr||(Mt[Ke]=Zt),qt.push(Zt),Zt},restore:er,shader:Ht,frag:-1,vert:-1}}var Ne=6408,ye=5121,Me=3333,He=5126;function Je(N,ae,Se,nt,St,$e,xt){function Ut(qt){var Jt;ae.next===null?(ue(St.preserveDrawingBuffer,'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer'),Jt=ye):(ue(ae.next.colorAttachments[0].texture!==null,"You cannot read from a renderbuffer"),Jt=ae.next.colorAttachments[0].texture._texture.type,$e.oes_texture_float?(ue(Jt===ye||Jt===He,"Reading from a framebuffer is only allowed for the types 'uint8' and 'float'"),Jt===He&&ue(xt.readFloat,"Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float")):ue(Jt===ye,"Reading from a framebuffer is only allowed for the type 'uint8'"));var nr=0,zt=0,er=nt.framebufferWidth,Ke=nt.framebufferHeight,_t=null;r(qt)?_t=qt:qt&&(ue.type(qt,"object","invalid arguments to regl.read()"),nr=qt.x|0,zt=qt.y|0,ue(nr>=0&&nr<nt.framebufferWidth,"invalid x offset for regl.read"),ue(zt>=0&&zt<nt.framebufferHeight,"invalid y offset for regl.read"),er=(qt.width||nt.framebufferWidth-nr)|0,Ke=(qt.height||nt.framebufferHeight-zt)|0,_t=qt.data||null),_t&&(Jt===ye?ue(_t instanceof Uint8Array,"buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'"):Jt===He&&ue(_t instanceof Float32Array,"buffer must be 'Float32Array' when reading from a framebuffer of type 'float'")),ue(er>0&&er+nr<=nt.framebufferWidth,"invalid width for read pixels"),ue(Ke>0&&Ke+zt<=nt.framebufferHeight,"invalid height for read pixels"),Se();var Xt=er*Ke*4;return _t||(Jt===ye?_t=new Uint8Array(Xt):Jt===He&&(_t=_t||new Float32Array(Xt))),ue.isTypedArray(_t,"data buffer for regl.read() must be a typedarray"),ue(_t.byteLength>=Xt,"data buffer for regl.read() too small"),N.pixelStorei(Me,4),N.readPixels(nr,zt,er,Ke,Ne,Jt,_t),_t}function Ht(qt){var Jt;return ae.setFBO({framebuffer:qt.framebuffer},function(){Jt=Ut(qt)}),Jt}function ir(qt){return!qt||!("framebuffer"in qt)?Ut(qt):Ht(qt)}return ir}function dt(N){return Array.prototype.slice.call(N)}function it(N){return dt(N).join("")}function vt(){var N=0,ae=[],Se=[];function nt(Jt){for(var nr=0;nr<Se.length;++nr)if(Se[nr]===Jt)return ae[nr];var zt="g"+N++;return ae.push(zt),Se.push(Jt),zt}function St(){var Jt=[];function nr(){Jt.push.apply(Jt,dt(arguments))}var zt=[];function er(){var Ke="v"+N++;return zt.push(Ke),arguments.length>0&&(Jt.push(Ke,"="),Jt.push.apply(Jt,dt(arguments)),Jt.push(";")),Ke}return i(nr,{def:er,toString:function(){return it([zt.length>0?"var "+zt.join(",")+";":"",it(Jt)])}})}function $e(){var Jt=St(),nr=St(),zt=Jt.toString,er=nr.toString;function Ke(_t,Xt){nr(_t,Xt,"=",Jt.def(_t,Xt),";")}return i(function(){Jt.apply(Jt,dt(arguments))},{def:Jt.def,entry:Jt,exit:nr,save:Ke,set:function(_t,Xt,dr){Ke(_t,Xt),Jt(_t,Xt,"=",dr,";")},toString:function(){return zt()+er()}})}function xt(){var Jt=it(arguments),nr=$e(),zt=$e(),er=nr.toString,Ke=zt.toString;return i(nr,{then:function(){return nr.apply(nr,dt(arguments)),this},else:function(){return zt.apply(zt,dt(arguments)),this},toString:function(){var _t=Ke();return _t&&(_t="else{"+_t+"}"),it(["if(",Jt,"){",er(),"}",_t])}})}var Ut=St(),Ht={};function ir(Jt,nr){var zt=[];function er(){var Mt="a"+zt.length;return zt.push(Mt),Mt}nr=nr||0;for(var Ke=0;Ke<nr;++Ke)er();var _t=$e(),Xt=_t.toString,dr=Ht[Jt]=i(_t,{arg:er,toString:function(){return it(["function(",zt.join(),"){",Xt(),"}"])}});return dr}function qt(){var Jt=['"use strict";',Ut,"return {"];Object.keys(Ht).forEach(function(er){Jt.push('"',er,'":',Ht[er].toString(),",")}),Jt.push("}");var nr=it(Jt).replace(/;/g,`;
`).replace(/}/g,`}
`).replace(/{/g,`{
`),zt=Function.apply(null,ae.concat(nr));return zt.apply(null,Se)}return{global:Ut,link:nt,block:St,proc:ir,scope:$e,cond:xt,compile:qt}}var Nt="xyzw".split(""),Qt=5121,Yt=1,gr=2,kr=0,jr=1,Hr=2,Uo=3,Pr=4,ao="dither",mo="blend.enable",ro="blend.color",Jr="blend.equation",yo="blend.func",eo="depth.enable",$r="depth.func",$i="depth.range",wi="depth.mask",Fn="colorMask",mn="cull.enable",Ti="cull.face",Ci="frontFace",ra="lineWidth",Xn="polygonOffset.enable",Rs="polygonOffset.offset",oa="sample.alpha",Qa="sample.enable",Sa="sample.coverage",Cp="stencil.enable",op="stencil.mask",ws="stencil.func",Nu="stencil.opFront",ru="stencil.opBack",ls="scissor.enable",Du="scissor.box",Bn="viewport",Ui="profile",ca="framebuffer",Ja="vert",ds="frag",Mo="elements",Tn="primitive",Ki="count",Cs="offset",Qc="instances",Ou="vao",ql="Width",ip="Height",np=ca+ql,ys=ca+ip,Jc=Bn+ql,H0=Bn+ip,Ip="drawingBuffer",la=Ip+ql,Py=Ip+ip,by=[yo,Jr,ws,Nu,ru,Sa,Bn,Du,Rs],el=34962,Mf=34963,Nf=35632,Df=35633,L1=3553,Of=34067,B1=2884,Ay=3042,Mp=3024,$l=2960,Lf=2929,Bf=3089,Uf=32823,kf=32926,zf=32928,G0=5126,U1=35664,tl=35665,k1=35666,Np=5124,z1=35667,ki=35668,lc=35669,V1=35670,dc=35671,yc=35672,Dp=35673,rl=35674,ol=35675,ap=35676,hc=35678,fc=35680,Fy=4,sp=1028,up=1029,Ty=2304,Kl=2305,j0=32775,ou=32776,Vf=519,Op=7680,Sy=0,Ry=1,W0=32774,il=513,wy=36160,Hf=36064,iu={0:0,1:1,zero:0,one:1,"src color":768,"one minus src color":769,"src alpha":770,"one minus src alpha":771,"dst color":774,"one minus dst color":775,"dst alpha":772,"one minus dst alpha":773,"constant color":32769,"one minus constant color":32770,"constant alpha":32771,"one minus constant alpha":32772,"src alpha saturate":776},X0=["constant color, constant alpha","one minus constant color, constant alpha","constant color, one minus constant alpha","one minus constant color, one minus constant alpha","constant alpha, constant color","constant alpha, one minus constant color","one minus constant alpha, constant color","one minus constant alpha, one minus constant color"],nl={never:512,less:513,"<":513,equal:514,"=":514,"==":514,"===":514,lequal:515,"<=":515,greater:516,">":516,notequal:517,"!=":517,"!==":517,gequal:518,">=":518,always:519},Lp={0:0,zero:0,keep:7680,replace:7681,increment:7682,decrement:7683,"increment wrap":34055,"decrement wrap":34056,invert:5386},mc={frag:Nf,vert:Df},Z0={cw:Ty,ccw:Kl};function al(N){return Array.isArray(N)||r(N)||q(N)}function sl(N){return N.sort(function(ae,Se){return ae===Bn?-1:Se===Bn?1:ae<Se?-1:1})}function Qi(N,ae,Se,nt){this.thisDep=N,this.contextDep=ae,this.propDep=Se,this.append=nt}function Bp(N){return N&&!(N.thisDep||N.contextDep||N.propDep)}function _n(N){return new Qi(!1,!1,!1,N)}function es(N,ae){var Se=N.type;if(Se===kr){var nt=N.data.length;return new Qi(!0,nt>=1,nt>=2,ae)}else if(Se===Pr){var St=N.data;return new Qi(St.thisDep,St.contextDep,St.propDep,ae)}else return new Qi(Se===Uo,Se===Hr,Se===jr,ae)}var ul=new Qi(!1,!1,!1,function(){});function Cy(N,ae,Se,nt,St,$e,xt,Ut,Ht,ir,qt,Jt,nr,zt,er){var Ke=ir.Record,_t={add:32774,subtract:32778,"reverse subtract":32779};Se.ext_blend_minmax&&(_t.min=j0,_t.max=ou);var Xt=Se.angle_instanced_arrays,dr=Se.webgl_draw_buffers,Mt={dirty:!0,profile:er.profile},mr={},Zt=[],_r={},Ot={};function cr(K){return K.replace(".","_")}function Gr(K,le,Te){var tt=cr(K);Zt.push(K),mr[tt]=Mt[tt]=!!Te,_r[tt]=le}function so(K,le,Te){var tt=cr(K);Zt.push(K),Array.isArray(Te)?(Mt[tt]=Te.slice(),mr[tt]=Te.slice()):Mt[tt]=mr[tt]=Te,Ot[tt]=le}Gr(ao,Mp),Gr(mo,Ay),so(ro,"blendColor",[0,0,0,0]),so(Jr,"blendEquationSeparate",[W0,W0]),so(yo,"blendFuncSeparate",[Ry,Sy,Ry,Sy]),Gr(eo,Lf,!0),so($r,"depthFunc",il),so($i,"depthRange",[0,1]),so(wi,"depthMask",!0),so(Fn,Fn,[!0,!0,!0,!0]),Gr(mn,B1),so(Ti,"cullFace",up),so(Ci,Ci,Kl),so(ra,ra,1),Gr(Xn,Uf),so(Rs,"polygonOffset",[0,0]),Gr(oa,kf),Gr(Qa,zf),so(Sa,"sampleCoverage",[1,!1]),Gr(Cp,$l),so(op,"stencilMask",-1),so(ws,"stencilFunc",[Vf,0,-1]),so(Nu,"stencilOpSeparate",[sp,Op,Op,Op]),so(ru,"stencilOpSeparate",[up,Op,Op,Op]),Gr(ls,Bf),so(Du,"scissor",[0,0,N.drawingBufferWidth,N.drawingBufferHeight]),so(Bn,Bn,[0,0,N.drawingBufferWidth,N.drawingBufferHeight]);var ur={gl:N,context:nr,strings:ae,next:mr,current:Mt,draw:Jt,elements:$e,buffer:St,shader:qt,attributes:ir.state,vao:ir,uniforms:Ht,framebuffer:Ut,extensions:Se,timer:zt,isBufferArgs:al},jt={primTypes:xs,compareFuncs:nl,blendFuncs:iu,blendEquations:_t,stencilOps:Lp,glTypes:On,orientationType:Z0};ue.optional(function(){ur.isArrayLike=Bi}),dr&&(jt.backBuffer=[up],jt.drawBuffer=Wo(nt.maxDrawbuffers,function(K){return K===0?[0]:Wo(K,function(le){return Hf+le})}));var Tt=0;function oo(){var K=vt(),le=K.link,Te=K.global;K.id=Tt++,K.batchId="0";var tt=le(ur),ot=K.shared={props:"a0"};Object.keys(ur).forEach(function(Ue){ot[Ue]=Te.def(tt,".",Ue)}),ue.optional(function(){K.CHECK=le(ue),K.commandStr=ue.guessCommand(),K.command=le(K.commandStr),K.assert=function(Ue,pe,Ve){Ue("if(!(",pe,"))",this.CHECK,".commandRaise(",le(Ve),",",this.command,");")},jt.invalidBlendCombinations=X0});var Oe=K.next={},ze=K.current={};Object.keys(Ot).forEach(function(Ue){Array.isArray(Mt[Ue])&&(Oe[Ue]=Te.def(ot.next,".",Ue),ze[Ue]=Te.def(ot.current,".",Ue))});var je=K.constants={};Object.keys(jt).forEach(function(Ue){je[Ue]=Te.def(JSON.stringify(jt[Ue]))}),K.invoke=function(Ue,pe){switch(pe.type){case kr:var Ve=["this",ot.context,ot.props,K.batchId];return Ue.def(le(pe.data),".call(",Ve.slice(0,Math.max(pe.data.length+1,4)),")");case jr:return Ue.def(ot.props,pe.data);case Hr:return Ue.def(ot.context,pe.data);case Uo:return Ue.def("this",pe.data);case Pr:return pe.data.append(K,Ue),pe.data.ref}},K.attribCache={};var Ee={};return K.scopeAttrib=function(Ue){var pe=ae.id(Ue);if(pe in Ee)return Ee[pe];var Ve=ir.scope[pe];Ve||(Ve=ir.scope[pe]=new Ke);var st=Ee[pe]=le(Ve);return st},K}function io(K){var le=K.static,Te=K.dynamic,tt;if(Ui in le){var ot=!!le[Ui];tt=_n(function(ze,je){return ot}),tt.enable=ot}else if(Ui in Te){var Oe=Te[Ui];tt=es(Oe,function(ze,je){return ze.invoke(je,Oe)})}return tt}function Or(K,le){var Te=K.static,tt=K.dynamic;if(ca in Te){var ot=Te[ca];return ot?(ot=Ut.getFramebuffer(ot),ue.command(ot,"invalid framebuffer object"),_n(function(ze,je){var Ee=ze.link(ot),Ue=ze.shared;je.set(Ue.framebuffer,".next",Ee);var pe=Ue.context;return je.set(pe,"."+np,Ee+".width"),je.set(pe,"."+ys,Ee+".height"),Ee})):_n(function(ze,je){var Ee=ze.shared;je.set(Ee.framebuffer,".next","null");var Ue=Ee.context;return je.set(Ue,"."+np,Ue+"."+la),je.set(Ue,"."+ys,Ue+"."+Py),"null"})}else if(ca in tt){var Oe=tt[ca];return es(Oe,function(ze,je){var Ee=ze.invoke(je,Oe),Ue=ze.shared,pe=Ue.framebuffer,Ve=je.def(pe,".getFramebuffer(",Ee,")");ue.optional(function(){ze.assert(je,"!"+Ee+"||"+Ve,"invalid framebuffer object")}),je.set(pe,".next",Ve);var st=Ue.context;return je.set(st,"."+np,Ve+"?"+Ve+".width:"+st+"."+la),je.set(st,"."+ys,Ve+"?"+Ve+".height:"+st+"."+Py),Ve})}else return null}function Eo(K,le,Te){var tt=K.static,ot=K.dynamic;function Oe(Ee){if(Ee in tt){var Ue=tt[Ee];ue.commandType(Ue,"object","invalid "+Ee,Te.commandStr);var pe=!0,Ve=Ue.x|0,st=Ue.y|0,Pt,kt;return"width"in Ue?(Pt=Ue.width|0,ue.command(Pt>=0,"invalid "+Ee,Te.commandStr)):pe=!1,"height"in Ue?(kt=Ue.height|0,ue.command(kt>=0,"invalid "+Ee,Te.commandStr)):pe=!1,new Qi(!pe&&le&&le.thisDep,!pe&&le&&le.contextDep,!pe&&le&&le.propDep,function(rr,vo){var Rr=rr.shared.context,Zr=Pt;"width"in Ue||(Zr=vo.def(Rr,".",np,"-",Ve));var fo=kt;return"height"in Ue||(fo=vo.def(Rr,".",ys,"-",st)),[Ve,st,Zr,fo]})}else if(Ee in ot){var Ct=ot[Ee],Vt=es(Ct,function(rr,vo){var Rr=rr.invoke(vo,Ct);ue.optional(function(){rr.assert(vo,Rr+"&&typeof "+Rr+'==="object"',"invalid "+Ee)});var Zr=rr.shared.context,fo=vo.def(Rr,".x|0"),$o=vo.def(Rr,".y|0"),vn=vo.def('"width" in ',Rr,"?",Rr,".width|0:","(",Zr,".",np,"-",fo,")"),au=vo.def('"height" in ',Rr,"?",Rr,".height|0:","(",Zr,".",ys,"-",$o,")");return ue.optional(function(){rr.assert(vo,vn+">=0&&"+au+">=0","invalid "+Ee)}),[fo,$o,vn,au]});return le&&(Vt.thisDep=Vt.thisDep||le.thisDep,Vt.contextDep=Vt.contextDep||le.contextDep,Vt.propDep=Vt.propDep||le.propDep),Vt}else return le?new Qi(le.thisDep,le.contextDep,le.propDep,function(rr,vo){var Rr=rr.shared.context;return[0,0,vo.def(Rr,".",np),vo.def(Rr,".",ys)]}):null}var ze=Oe(Bn);if(ze){var je=ze;ze=new Qi(ze.thisDep,ze.contextDep,ze.propDep,function(Ee,Ue){var pe=je.append(Ee,Ue),Ve=Ee.shared.context;return Ue.set(Ve,"."+Jc,pe[2]),Ue.set(Ve,"."+H0,pe[3]),pe})}return{viewport:ze,scissor_box:Oe(Du)}}function Wr(K,le){var Te=K.static,tt=typeof Te[ds]=="string"&&typeof Te[Ja]=="string";if(tt){if(Object.keys(le.dynamic).length>0)return null;var ot=le.static,Oe=Object.keys(ot);if(Oe.length>0&&typeof ot[Oe[0]]=="number"){for(var ze=[],je=0;je<Oe.length;++je)ue(typeof ot[Oe[je]]=="number","must specify all vertex attribute locations when using vaos"),ze.push([ot[Oe[je]]|0,Oe[je]]);return ze}}return null}function xo(K,le,Te){var tt=K.static,ot=K.dynamic;function Oe(pe){if(pe in tt){var Ve=ae.id(tt[pe]);ue.optional(function(){qt.shader(mc[pe],Ve,ue.guessCommand())});var st=_n(function(){return Ve});return st.id=Ve,st}else if(pe in ot){var Pt=ot[pe];return es(Pt,function(kt,Ct){var Vt=kt.invoke(Ct,Pt),rr=Ct.def(kt.shared.strings,".id(",Vt,")");return ue.optional(function(){Ct(kt.shared.shader,".shader(",mc[pe],",",rr,",",kt.command,");")}),rr})}return null}var ze=Oe(ds),je=Oe(Ja),Ee=null,Ue;return Bp(ze)&&Bp(je)?(Ee=qt.program(je.id,ze.id,null,Te),Ue=_n(function(pe,Ve){return pe.link(Ee)})):Ue=new Qi(ze&&ze.thisDep||je&&je.thisDep,ze&&ze.contextDep||je&&je.contextDep,ze&&ze.propDep||je&&je.propDep,function(pe,Ve){var st=pe.shared.shader,Pt;ze?Pt=ze.append(pe,Ve):Pt=Ve.def(st,".",ds);var kt;je?kt=je.append(pe,Ve):kt=Ve.def(st,".",Ja);var Ct=st+".program("+kt+","+Pt;return ue.optional(function(){Ct+=","+pe.command}),Ve.def(Ct+")")}),{frag:ze,vert:je,progVar:Ue,program:Ee}}function Xo(K,le){var Te=K.static,tt=K.dynamic;function ot(){if(Mo in Te){var pe=Te[Mo];al(pe)?pe=$e.getElements($e.create(pe,!0)):pe&&(pe=$e.getElements(pe),ue.command(pe,"invalid elements",le.commandStr));var Ve=_n(function(Pt,kt){if(pe){var Ct=Pt.link(pe);return Pt.ELEMENTS=Ct,Ct}return Pt.ELEMENTS=null,null});return Ve.value=pe,Ve}else if(Mo in tt){var st=tt[Mo];return es(st,function(Pt,kt){var Ct=Pt.shared,Vt=Ct.isBufferArgs,rr=Ct.elements,vo=Pt.invoke(kt,st),Rr=kt.def("null"),Zr=kt.def(Vt,"(",vo,")"),fo=Pt.cond(Zr).then(Rr,"=",rr,".createStream(",vo,");").else(Rr,"=",rr,".getElements(",vo,");");return ue.optional(function(){Pt.assert(fo.else,"!"+vo+"||"+Rr,"invalid elements")}),kt.entry(fo),kt.exit(Pt.cond(Zr).then(rr,".destroyStream(",Rr,");")),Pt.ELEMENTS=Rr,Rr})}return null}var Oe=ot();function ze(){if(Tn in Te){var pe=Te[Tn];return ue.commandParameter(pe,xs,"invalid primitve",le.commandStr),_n(function(st,Pt){return xs[pe]})}else if(Tn in tt){var Ve=tt[Tn];return es(Ve,function(st,Pt){var kt=st.constants.primTypes,Ct=st.invoke(Pt,Ve);return ue.optional(function(){st.assert(Pt,Ct+" in "+kt,"invalid primitive, must be one of "+Object.keys(xs))}),Pt.def(kt,"[",Ct,"]")})}else if(Oe)return Bp(Oe)?Oe.value?_n(function(st,Pt){return Pt.def(st.ELEMENTS,".primType")}):_n(function(){return Fy}):new Qi(Oe.thisDep,Oe.contextDep,Oe.propDep,function(st,Pt){var kt=st.ELEMENTS;return Pt.def(kt,"?",kt,".primType:",Fy)});return null}function je(pe,Ve){if(pe in Te){var st=Te[pe]|0;return ue.command(!Ve||st>=0,"invalid "+pe,le.commandStr),_n(function(kt,Ct){return Ve&&(kt.OFFSET=st),st})}else if(pe in tt){var Pt=tt[pe];return es(Pt,function(kt,Ct){var Vt=kt.invoke(Ct,Pt);return Ve&&(kt.OFFSET=Vt,ue.optional(function(){kt.assert(Ct,Vt+">=0","invalid "+pe)})),Vt})}else if(Ve&&Oe)return _n(function(kt,Ct){return kt.OFFSET="0",0});return null}var Ee=je(Cs,!0);function Ue(){if(Ki in Te){var pe=Te[Ki]|0;return ue.command(typeof pe=="number"&&pe>=0,"invalid vertex count",le.commandStr),_n(function(){return pe})}else if(Ki in tt){var Ve=tt[Ki];return es(Ve,function(kt,Ct){var Vt=kt.invoke(Ct,Ve);return ue.optional(function(){kt.assert(Ct,"typeof "+Vt+'==="number"&&'+Vt+">=0&&"+Vt+"===("+Vt+"|0)","invalid vertex count")}),Vt})}else if(Oe)if(Bp(Oe)){if(Oe)return Ee?new Qi(Ee.thisDep,Ee.contextDep,Ee.propDep,function(kt,Ct){var Vt=Ct.def(kt.ELEMENTS,".vertCount-",kt.OFFSET);return ue.optional(function(){kt.assert(Ct,Vt+">=0","invalid vertex offset/element buffer too small")}),Vt}):_n(function(kt,Ct){return Ct.def(kt.ELEMENTS,".vertCount")});var st=_n(function(){return-1});return ue.optional(function(){st.MISSING=!0}),st}else{var Pt=new Qi(Oe.thisDep||Ee.thisDep,Oe.contextDep||Ee.contextDep,Oe.propDep||Ee.propDep,function(kt,Ct){var Vt=kt.ELEMENTS;return kt.OFFSET?Ct.def(Vt,"?",Vt,".vertCount-",kt.OFFSET,":-1"):Ct.def(Vt,"?",Vt,".vertCount:-1")});return ue.optional(function(){Pt.DYNAMIC=!0}),Pt}return null}return{elements:Oe,primitive:ze(),count:Ue(),instances:je(Qc,!1),offset:Ee}}function gn(K,le){var Te=K.static,tt=K.dynamic,ot={};return Zt.forEach(function(Oe){var ze=cr(Oe);function je(Ee,Ue){if(Oe in Te){var pe=Ee(Te[Oe]);ot[ze]=_n(function(){return pe})}else if(Oe in tt){var Ve=tt[Oe];ot[ze]=es(Ve,function(st,Pt){return Ue(st,Pt,st.invoke(Pt,Ve))})}}switch(Oe){case mn:case mo:case ao:case Cp:case eo:case ls:case Xn:case oa:case Qa:case wi:return je(function(Ee){return ue.commandType(Ee,"boolean",Oe,le.commandStr),Ee},function(Ee,Ue,pe){return ue.optional(function(){Ee.assert(Ue,"typeof "+pe+'==="boolean"',"invalid flag "+Oe,Ee.commandStr)}),pe});case $r:return je(function(Ee){return ue.commandParameter(Ee,nl,"invalid "+Oe,le.commandStr),nl[Ee]},function(Ee,Ue,pe){var Ve=Ee.constants.compareFuncs;return ue.optional(function(){Ee.assert(Ue,pe+" in "+Ve,"invalid "+Oe+", must be one of "+Object.keys(nl))}),Ue.def(Ve,"[",pe,"]")});case $i:return je(function(Ee){return ue.command(Bi(Ee)&&Ee.length===2&&typeof Ee[0]=="number"&&typeof Ee[1]=="number"&&Ee[0]<=Ee[1],"depth range is 2d array",le.commandStr),Ee},function(Ee,Ue,pe){ue.optional(function(){Ee.assert(Ue,Ee.shared.isArrayLike+"("+pe+")&&"+pe+".length===2&&typeof "+pe+'[0]==="number"&&typeof '+pe+'[1]==="number"&&'+pe+"[0]<="+pe+"[1]","depth range must be a 2d array")});var Ve=Ue.def("+",pe,"[0]"),st=Ue.def("+",pe,"[1]");return[Ve,st]});case yo:return je(function(Ee){ue.commandType(Ee,"object","blend.func",le.commandStr);var Ue="srcRGB"in Ee?Ee.srcRGB:Ee.src,pe="srcAlpha"in Ee?Ee.srcAlpha:Ee.src,Ve="dstRGB"in Ee?Ee.dstRGB:Ee.dst,st="dstAlpha"in Ee?Ee.dstAlpha:Ee.dst;return ue.commandParameter(Ue,iu,ze+".srcRGB",le.commandStr),ue.commandParameter(pe,iu,ze+".srcAlpha",le.commandStr),ue.commandParameter(Ve,iu,ze+".dstRGB",le.commandStr),ue.commandParameter(st,iu,ze+".dstAlpha",le.commandStr),ue.command(X0.indexOf(Ue+", "+Ve)===-1,"unallowed blending combination (srcRGB, dstRGB) = ("+Ue+", "+Ve+")",le.commandStr),[iu[Ue],iu[Ve],iu[pe],iu[st]]},function(Ee,Ue,pe){var Ve=Ee.constants.blendFuncs;ue.optional(function(){Ee.assert(Ue,pe+"&&typeof "+pe+'==="object"',"invalid blend func, must be an object")});function st(Rr,Zr){var fo=Ue.def('"',Rr,Zr,'" in ',pe,"?",pe,".",Rr,Zr,":",pe,".",Rr);return ue.optional(function(){Ee.assert(Ue,fo+" in "+Ve,"invalid "+Oe+"."+Rr+Zr+", must be one of "+Object.keys(iu))}),fo}var Pt=st("src","RGB"),kt=st("dst","RGB");ue.optional(function(){var Rr=Ee.constants.invalidBlendCombinations;Ee.assert(Ue,Rr+".indexOf("+Pt+'+", "+'+kt+") === -1 ","unallowed blending combination for (srcRGB, dstRGB)")});var Ct=Ue.def(Ve,"[",Pt,"]"),Vt=Ue.def(Ve,"[",st("src","Alpha"),"]"),rr=Ue.def(Ve,"[",kt,"]"),vo=Ue.def(Ve,"[",st("dst","Alpha"),"]");return[Ct,rr,Vt,vo]});case Jr:return je(function(Ee){if(typeof Ee=="string")return ue.commandParameter(Ee,_t,"invalid "+Oe,le.commandStr),[_t[Ee],_t[Ee]];if(typeof Ee=="object")return ue.commandParameter(Ee.rgb,_t,Oe+".rgb",le.commandStr),ue.commandParameter(Ee.alpha,_t,Oe+".alpha",le.commandStr),[_t[Ee.rgb],_t[Ee.alpha]];ue.commandRaise("invalid blend.equation",le.commandStr)},function(Ee,Ue,pe){var Ve=Ee.constants.blendEquations,st=Ue.def(),Pt=Ue.def(),kt=Ee.cond("typeof ",pe,'==="string"');return ue.optional(function(){function Ct(Vt,rr,vo){Ee.assert(Vt,vo+" in "+Ve,"invalid "+rr+", must be one of "+Object.keys(_t))}Ct(kt.then,Oe,pe),Ee.assert(kt.else,pe+"&&typeof "+pe+'==="object"',"invalid "+Oe),Ct(kt.else,Oe+".rgb",pe+".rgb"),Ct(kt.else,Oe+".alpha",pe+".alpha")}),kt.then(st,"=",Pt,"=",Ve,"[",pe,"];"),kt.else(st,"=",Ve,"[",pe,".rgb];",Pt,"=",Ve,"[",pe,".alpha];"),Ue(kt),[st,Pt]});case ro:return je(function(Ee){return ue.command(Bi(Ee)&&Ee.length===4,"blend.color must be a 4d array",le.commandStr),Wo(4,function(Ue){return+Ee[Ue]})},function(Ee,Ue,pe){return ue.optional(function(){Ee.assert(Ue,Ee.shared.isArrayLike+"("+pe+")&&"+pe+".length===4","blend.color must be a 4d array")}),Wo(4,function(Ve){return Ue.def("+",pe,"[",Ve,"]")})});case op:return je(function(Ee){return ue.commandType(Ee,"number",ze,le.commandStr),Ee|0},function(Ee,Ue,pe){return ue.optional(function(){Ee.assert(Ue,"typeof "+pe+'==="number"',"invalid stencil.mask")}),Ue.def(pe,"|0")});case ws:return je(function(Ee){ue.commandType(Ee,"object",ze,le.commandStr);var Ue=Ee.cmp||"keep",pe=Ee.ref||0,Ve="mask"in Ee?Ee.mask:-1;return ue.commandParameter(Ue,nl,Oe+".cmp",le.commandStr),ue.commandType(pe,"number",Oe+".ref",le.commandStr),ue.commandType(Ve,"number",Oe+".mask",le.commandStr),[nl[Ue],pe,Ve]},function(Ee,Ue,pe){var Ve=Ee.constants.compareFuncs;ue.optional(function(){function Ct(){Ee.assert(Ue,Array.prototype.join.call(arguments,""),"invalid stencil.func")}Ct(pe+"&&typeof ",pe,'==="object"'),Ct('!("cmp" in ',pe,")||(",pe,".cmp in ",Ve,")")});var st=Ue.def('"cmp" in ',pe,"?",Ve,"[",pe,".cmp]",":",Op),Pt=Ue.def(pe,".ref|0"),kt=Ue.def('"mask" in ',pe,"?",pe,".mask|0:-1");return[st,Pt,kt]});case Nu:case ru:return je(function(Ee){ue.commandType(Ee,"object",ze,le.commandStr);var Ue=Ee.fail||"keep",pe=Ee.zfail||"keep",Ve=Ee.zpass||"keep";return ue.commandParameter(Ue,Lp,Oe+".fail",le.commandStr),ue.commandParameter(pe,Lp,Oe+".zfail",le.commandStr),ue.commandParameter(Ve,Lp,Oe+".zpass",le.commandStr),[Oe===ru?up:sp,Lp[Ue],Lp[pe],Lp[Ve]]},function(Ee,Ue,pe){var Ve=Ee.constants.stencilOps;ue.optional(function(){Ee.assert(Ue,pe+"&&typeof "+pe+'==="object"',"invalid "+Oe)});function st(Pt){return ue.optional(function(){Ee.assert(Ue,'!("'+Pt+'" in '+pe+")||("+pe+"."+Pt+" in "+Ve+")","invalid "+Oe+"."+Pt+", must be one of "+Object.keys(Lp))}),Ue.def('"',Pt,'" in ',pe,"?",Ve,"[",pe,".",Pt,"]:",Op)}return[Oe===ru?up:sp,st("fail"),st("zfail"),st("zpass")]});case Rs:return je(function(Ee){ue.commandType(Ee,"object",ze,le.commandStr);var Ue=Ee.factor|0,pe=Ee.units|0;return ue.commandType(Ue,"number",ze+".factor",le.commandStr),ue.commandType(pe,"number",ze+".units",le.commandStr),[Ue,pe]},function(Ee,Ue,pe){ue.optional(function(){Ee.assert(Ue,pe+"&&typeof "+pe+'==="object"',"invalid "+Oe)});var Ve=Ue.def(pe,".factor|0"),st=Ue.def(pe,".units|0");return[Ve,st]});case Ti:return je(function(Ee){var Ue=0;return Ee==="front"?Ue=sp:Ee==="back"&&(Ue=up),ue.command(!!Ue,ze,le.commandStr),Ue},function(Ee,Ue,pe){return ue.optional(function(){Ee.assert(Ue,pe+'==="front"||'+pe+'==="back"',"invalid cull.face")}),Ue.def(pe,'==="front"?',sp,":",up)});case ra:return je(function(Ee){return ue.command(typeof Ee=="number"&&Ee>=nt.lineWidthDims[0]&&Ee<=nt.lineWidthDims[1],"invalid line width, must be a positive number between "+nt.lineWidthDims[0]+" and "+nt.lineWidthDims[1],le.commandStr),Ee},function(Ee,Ue,pe){return ue.optional(function(){Ee.assert(Ue,"typeof "+pe+'==="number"&&'+pe+">="+nt.lineWidthDims[0]+"&&"+pe+"<="+nt.lineWidthDims[1],"invalid line width")}),pe});case Ci:return je(function(Ee){return ue.commandParameter(Ee,Z0,ze,le.commandStr),Z0[Ee]},function(Ee,Ue,pe){return ue.optional(function(){Ee.assert(Ue,pe+'==="cw"||'+pe+'==="ccw"',"invalid frontFace, must be one of cw,ccw")}),Ue.def(pe+'==="cw"?'+Ty+":"+Kl)});case Fn:return je(function(Ee){return ue.command(Bi(Ee)&&Ee.length===4,"color.mask must be length 4 array",le.commandStr),Ee.map(function(Ue){return!!Ue})},function(Ee,Ue,pe){return ue.optional(function(){Ee.assert(Ue,Ee.shared.isArrayLike+"("+pe+")&&"+pe+".length===4","invalid color.mask")}),Wo(4,function(Ve){return"!!"+pe+"["+Ve+"]"})});case Sa:return je(function(Ee){ue.command(typeof Ee=="object"&&Ee,ze,le.commandStr);var Ue="value"in Ee?Ee.value:1,pe=!!Ee.invert;return ue.command(typeof Ue=="number"&&Ue>=0&&Ue<=1,"sample.coverage.value must be a number between 0 and 1",le.commandStr),[Ue,pe]},function(Ee,Ue,pe){ue.optional(function(){Ee.assert(Ue,pe+"&&typeof "+pe+'==="object"',"invalid sample.coverage")});var Ve=Ue.def('"value" in ',pe,"?+",pe,".value:1"),st=Ue.def("!!",pe,".invert");return[Ve,st]})}}),ot}function Sn(K,le){var Te=K.static,tt=K.dynamic,ot={};return Object.keys(Te).forEach(function(Oe){var ze=Te[Oe],je;if(typeof ze=="number"||typeof ze=="boolean")je=_n(function(){return ze});else if(typeof ze=="function"){var Ee=ze._reglType;Ee==="texture2d"||Ee==="textureCube"?je=_n(function(Ue){return Ue.link(ze)}):Ee==="framebuffer"||Ee==="framebufferCube"?(ue.command(ze.color.length>0,'missing color attachment for framebuffer sent to uniform "'+Oe+'"',le.commandStr),je=_n(function(Ue){return Ue.link(ze.color[0])})):ue.commandRaise('invalid data for uniform "'+Oe+'"',le.commandStr)}else Bi(ze)?je=_n(function(Ue){var pe=Ue.global.def("[",Wo(ze.length,function(Ve){return ue.command(typeof ze[Ve]=="number"||typeof ze[Ve]=="boolean","invalid uniform "+Oe,Ue.commandStr),ze[Ve]}),"]");return pe}):ue.commandRaise('invalid or missing data for uniform "'+Oe+'"',le.commandStr);je.value=ze,ot[Oe]=je}),Object.keys(tt).forEach(function(Oe){var ze=tt[Oe];ot[Oe]=es(ze,function(je,Ee){return je.invoke(Ee,ze)})}),ot}function Ro(K,le){var Te=K.static,tt=K.dynamic,ot={};return Object.keys(Te).forEach(function(Oe){var ze=Te[Oe],je=ae.id(Oe),Ee=new Ke;if(al(ze))Ee.state=Yt,Ee.buffer=St.getBuffer(St.create(ze,el,!1,!0)),Ee.type=0;else{var Ue=St.getBuffer(ze);if(Ue)Ee.state=Yt,Ee.buffer=Ue,Ee.type=0;else if(ue.command(typeof ze=="object"&&ze,"invalid data for attribute "+Oe,le.commandStr),"constant"in ze){var pe=ze.constant;Ee.buffer="null",Ee.state=gr,typeof pe=="number"?Ee.x=pe:(ue.command(Bi(pe)&&pe.length>0&&pe.length<=4,"invalid constant for attribute "+Oe,le.commandStr),Nt.forEach(function(rr,vo){vo<pe.length&&(Ee[rr]=pe[vo])}))}else{al(ze.buffer)?Ue=St.getBuffer(St.create(ze.buffer,el,!1,!0)):Ue=St.getBuffer(ze.buffer),ue.command(!!Ue,'missing buffer for attribute "'+Oe+'"',le.commandStr);var Ve=ze.offset|0;ue.command(Ve>=0,'invalid offset for attribute "'+Oe+'"',le.commandStr);var st=ze.stride|0;ue.command(st>=0&&st<256,'invalid stride for attribute "'+Oe+'", must be integer betweeen [0, 255]',le.commandStr);var Pt=ze.size|0;ue.command(!("size"in ze)||Pt>0&&Pt<=4,'invalid size for attribute "'+Oe+'", must be 1,2,3,4',le.commandStr);var kt=!!ze.normalized,Ct=0;"type"in ze&&(ue.commandParameter(ze.type,On,"invalid type for attribute "+Oe,le.commandStr),Ct=On[ze.type]);var Vt=ze.divisor|0;"divisor"in ze&&(ue.command(Vt===0||Xt,'cannot specify divisor for attribute "'+Oe+'", instancing not supported',le.commandStr),ue.command(Vt>=0,'invalid divisor for attribute "'+Oe+'"',le.commandStr)),ue.optional(function(){var rr=le.commandStr,vo=["buffer","offset","divisor","normalized","type","size","stride"];Object.keys(ze).forEach(function(Rr){ue.command(vo.indexOf(Rr)>=0,'unknown parameter "'+Rr+'" for attribute pointer "'+Oe+'" (valid parameters are '+vo+")",rr)})}),Ee.buffer=Ue,Ee.state=Yt,Ee.size=Pt,Ee.normalized=kt,Ee.type=Ct||Ue.dtype,Ee.offset=Ve,Ee.stride=st,Ee.divisor=Vt}}ot[Oe]=_n(function(rr,vo){var Rr=rr.attribCache;if(je in Rr)return Rr[je];var Zr={isStream:!1};return Object.keys(Ee).forEach(function(fo){Zr[fo]=Ee[fo]}),Ee.buffer&&(Zr.buffer=rr.link(Ee.buffer),Zr.type=Zr.type||Zr.buffer+".dtype"),Rr[je]=Zr,Zr})}),Object.keys(tt).forEach(function(Oe){var ze=tt[Oe];function je(Ee,Ue){var pe=Ee.invoke(Ue,ze),Ve=Ee.shared,st=Ee.constants,Pt=Ve.isBufferArgs,kt=Ve.buffer;ue.optional(function(){Ee.assert(Ue,pe+"&&(typeof "+pe+'==="object"||typeof '+pe+'==="function")&&('+Pt+"("+pe+")||"+kt+".getBuffer("+pe+")||"+kt+".getBuffer("+pe+".buffer)||"+Pt+"("+pe+'.buffer)||("constant" in '+pe+"&&(typeof "+pe+'.constant==="number"||'+Ve.isArrayLike+"("+pe+".constant))))",'invalid dynamic attribute "'+Oe+'"')});var Ct={isStream:Ue.def(!1)},Vt=new Ke;Vt.state=Yt,Object.keys(Vt).forEach(function(Zr){Ct[Zr]=Ue.def(""+Vt[Zr])});var rr=Ct.buffer,vo=Ct.type;Ue("if(",Pt,"(",pe,")){",Ct.isStream,"=true;",rr,"=",kt,".createStream(",el,",",pe,");",vo,"=",rr,".dtype;","}else{",rr,"=",kt,".getBuffer(",pe,");","if(",rr,"){",vo,"=",rr,".dtype;",'}else if("constant" in ',pe,"){",Ct.state,"=",gr,";","if(typeof "+pe+'.constant === "number"){',Ct[Nt[0]],"=",pe,".constant;",Nt.slice(1).map(function(Zr){return Ct[Zr]}).join("="),"=0;","}else{",Nt.map(function(Zr,fo){return Ct[Zr]+"="+pe+".constant.length>"+fo+"?"+pe+".constant["+fo+"]:0;"}).join(""),"}}else{","if(",Pt,"(",pe,".buffer)){",rr,"=",kt,".createStream(",el,",",pe,".buffer);","}else{",rr,"=",kt,".getBuffer(",pe,".buffer);","}",vo,'="type" in ',pe,"?",st.glTypes,"[",pe,".type]:",rr,".dtype;",Ct.normalized,"=!!",pe,".normalized;");function Rr(Zr){Ue(Ct[Zr],"=",pe,".",Zr,"|0;")}return Rr("size"),Rr("offset"),Rr("stride"),Rr("divisor"),Ue("}}"),Ue.exit("if(",Ct.isStream,"){",kt,".destroyStream(",rr,");","}"),Ct}ot[Oe]=es(ze,je)}),ot}function Ji(K,le){var Te=K.static,tt=K.dynamic;if(Ou in Te){var ot=Te[Ou];return ot!==null&&ir.getVAO(ot)===null&&(ot=ir.createVAO(ot)),_n(function(ze){return ze.link(ir.getVAO(ot))})}else if(Ou in tt){var Oe=tt[Ou];return es(Oe,function(ze,je){var Ee=ze.invoke(je,Oe);return je.def(ze.shared.vao+".getVAO("+Ee+")")})}return null}function Si(K){var le=K.static,Te=K.dynamic,tt={};return Object.keys(le).forEach(function(ot){var Oe=le[ot];tt[ot]=_n(function(ze,je){return typeof Oe=="number"||typeof Oe=="boolean"?""+Oe:ze.link(Oe)})}),Object.keys(Te).forEach(function(ot){var Oe=Te[ot];tt[ot]=es(Oe,function(ze,je){return ze.invoke(je,Oe)})}),tt}function en(K,le,Te,tt,ot){var Oe=K.static,ze=K.dynamic;ue.optional(function(){var Rr=[ca,Ja,ds,Mo,Tn,Cs,Ki,Qc,Ui,Ou].concat(Zt);function Zr(fo){Object.keys(fo).forEach(function($o){ue.command(Rr.indexOf($o)>=0,'unknown parameter "'+$o+'"',ot.commandStr)})}Zr(Oe),Zr(ze)});var je=Wr(K,le),Ee=Or(K),Ue=Eo(K,Ee,ot),pe=Xo(K,ot),Ve=gn(K,ot),st=xo(K,ot,je);function Pt(Rr){var Zr=Ue[Rr];Zr&&(Ve[Rr]=Zr)}Pt(Bn),Pt(cr(Du));var kt=Object.keys(Ve).length>0,Ct={framebuffer:Ee,draw:pe,shader:st,state:Ve,dirty:kt,scopeVAO:null,drawVAO:null,useVAO:!1,attributes:{}};if(Ct.profile=io(K),Ct.uniforms=Sn(Te,ot),Ct.drawVAO=Ct.scopeVAO=Ji(K),!Ct.drawVAO&&st.program&&!je&&Se.angle_instanced_arrays){var Vt=!0,rr=st.program.attributes.map(function(Rr){var Zr=le.static[Rr];return Vt=Vt&&!!Zr,Zr});if(Vt&&rr.length>0){var vo=ir.getVAO(ir.createVAO(rr));Ct.drawVAO=new Qi(null,null,null,function(Rr,Zr){return Rr.link(vo)}),Ct.useVAO=!0}}return je?Ct.useVAO=!0:Ct.attributes=Ro(le,ot),Ct.context=Si(tt),Ct}function zi(K,le,Te){var tt=K.shared,ot=tt.context,Oe=K.scope();Object.keys(Te).forEach(function(ze){le.save(ot,"."+ze);var je=Te[ze];Oe(ot,".",ze,"=",je.append(K,le),";")}),le(Oe)}function tn(K,le,Te,tt){var ot=K.shared,Oe=ot.gl,ze=ot.framebuffer,je;dr&&(je=le.def(ot.extensions,".webgl_draw_buffers"));var Ee=K.constants,Ue=Ee.drawBuffer,pe=Ee.backBuffer,Ve;Te?Ve=Te.append(K,le):Ve=le.def(ze,".next"),tt||le("if(",Ve,"!==",ze,".cur){"),le("if(",Ve,"){",Oe,".bindFramebuffer(",wy,",",Ve,".framebuffer);"),dr&&le(je,".drawBuffersWEBGL(",Ue,"[",Ve,".colorAttachments.length]);"),le("}else{",Oe,".bindFramebuffer(",wy,",null);"),dr&&le(je,".drawBuffersWEBGL(",pe,");"),le("}",ze,".cur=",Ve,";"),tt||le("}")}function Un(K,le,Te){var tt=K.shared,ot=tt.gl,Oe=K.current,ze=K.next,je=tt.current,Ee=tt.next,Ue=K.cond(je,".dirty");Zt.forEach(function(pe){var Ve=cr(pe);if(!(Ve in Te.state)){var st,Pt;if(Ve in ze){st=ze[Ve],Pt=Oe[Ve];var kt=Wo(Mt[Ve].length,function(Vt){return Ue.def(st,"[",Vt,"]")});Ue(K.cond(kt.map(function(Vt,rr){return Vt+"!=="+Pt+"["+rr+"]"}).join("||")).then(ot,".",Ot[Ve],"(",kt,");",kt.map(function(Vt,rr){return Pt+"["+rr+"]="+Vt}).join(";"),";"))}else{st=Ue.def(Ee,".",Ve);var Ct=K.cond(st,"!==",je,".",Ve);Ue(Ct),Ve in _r?Ct(K.cond(st).then(ot,".enable(",_r[Ve],");").else(ot,".disable(",_r[Ve],");"),je,".",Ve,"=",st,";"):Ct(ot,".",Ot[Ve],"(",st,");",je,".",Ve,"=",st,";")}}}),Object.keys(Te.state).length===0&&Ue(je,".dirty=false;"),le(Ue)}function ia(K,le,Te,tt){var ot=K.shared,Oe=K.current,ze=ot.current,je=ot.gl;sl(Object.keys(Te)).forEach(function(Ee){var Ue=Te[Ee];if(!(tt&&!tt(Ue))){var pe=Ue.append(K,le);if(_r[Ee]){var Ve=_r[Ee];Bp(Ue)?pe?le(je,".enable(",Ve,");"):le(je,".disable(",Ve,");"):le(K.cond(pe).then(je,".enable(",Ve,");").else(je,".disable(",Ve,");")),le(ze,".",Ee,"=",pe,";")}else if(Bi(pe)){var st=Oe[Ee];le(je,".",Ot[Ee],"(",pe,");",pe.map(function(Pt,kt){return st+"["+kt+"]="+Pt}).join(";"),";")}else le(je,".",Ot[Ee],"(",pe,");",ze,".",Ee,"=",pe,";")}})}function Rn(K,le){Xt&&(K.instancing=le.def(K.shared.extensions,".angle_instanced_arrays"))}function _o(K,le,Te,tt,ot){var Oe=K.shared,ze=K.stats,je=Oe.current,Ee=Oe.timer,Ue=Te.profile;function pe(){return typeof performance>"u"?"Date.now()":"performance.now()"}var Ve,st;function Pt(Rr){Ve=le.def(),Rr(Ve,"=",pe(),";"),typeof ot=="string"?Rr(ze,".count+=",ot,";"):Rr(ze,".count++;"),zt&&(tt?(st=le.def(),Rr(st,"=",Ee,".getNumPendingQueries();")):Rr(Ee,".beginQuery(",ze,");"))}function kt(Rr){Rr(ze,".cpuTime+=",pe(),"-",Ve,";"),zt&&(tt?Rr(Ee,".pushScopeStats(",st,",",Ee,".getNumPendingQueries(),",ze,");"):Rr(Ee,".endQuery();"))}function Ct(Rr){var Zr=le.def(je,".profile");le(je,".profile=",Rr,";"),le.exit(je,".profile=",Zr,";")}var Vt;if(Ue){if(Bp(Ue)){Ue.enable?(Pt(le),kt(le.exit),Ct("true")):Ct("false");return}Vt=Ue.append(K,le),Ct(Vt)}else Vt=le.def(je,".profile");var rr=K.block();Pt(rr),le("if(",Vt,"){",rr,"}");var vo=K.block();kt(vo),le.exit("if(",Vt,"){",vo,"}")}function Zn(K,le,Te,tt,ot){var Oe=K.shared;function ze(Ee){switch(Ee){case U1:case z1:case dc:return 2;case tl:case ki:case yc:return 3;case k1:case lc:case Dp:return 4;default:return 1}}function je(Ee,Ue,pe){var Ve=Oe.gl,st=le.def(Ee,".location"),Pt=le.def(Oe.attributes,"[",st,"]"),kt=pe.state,Ct=pe.buffer,Vt=[pe.x,pe.y,pe.z,pe.w],rr=["buffer","normalized","offset","stride"];function vo(){le("if(!",Pt,".buffer){",Ve,".enableVertexAttribArray(",st,");}");var Zr=pe.type,fo;if(pe.size?fo=le.def(pe.size,"||",Ue):fo=Ue,le("if(",Pt,".type!==",Zr,"||",Pt,".size!==",fo,"||",rr.map(function(vn){return Pt+"."+vn+"!=="+pe[vn]}).join("||"),"){",Ve,".bindBuffer(",el,",",Ct,".buffer);",Ve,".vertexAttribPointer(",[st,fo,Zr,pe.normalized,pe.stride,pe.offset],");",Pt,".type=",Zr,";",Pt,".size=",fo,";",rr.map(function(vn){return Pt+"."+vn+"="+pe[vn]+";"}).join(""),"}"),Xt){var $o=pe.divisor;le("if(",Pt,".divisor!==",$o,"){",K.instancing,".vertexAttribDivisorANGLE(",[st,$o],");",Pt,".divisor=",$o,";}")}}function Rr(){le("if(",Pt,".buffer){",Ve,".disableVertexAttribArray(",st,");",Pt,".buffer=null;","}if(",Nt.map(function(Zr,fo){return Pt+"."+Zr+"!=="+Vt[fo]}).join("||"),"){",Ve,".vertexAttrib4f(",st,",",Vt,");",Nt.map(function(Zr,fo){return Pt+"."+Zr+"="+Vt[fo]+";"}).join(""),"}")}kt===Yt?vo():kt===gr?Rr():(le("if(",kt,"===",Yt,"){"),vo(),le("}else{"),Rr(),le("}"))}tt.forEach(function(Ee){var Ue=Ee.name,pe=Te.attributes[Ue],Ve;if(pe){if(!ot(pe))return;Ve=pe.append(K,le)}else{if(!ot(ul))return;var st=K.scopeAttrib(Ue);ue.optional(function(){K.assert(le,st+".state","missing attribute "+Ue)}),Ve={},Object.keys(new Ke).forEach(function(Pt){Ve[Pt]=le.def(st,".",Pt)})}je(K.link(Ee),ze(Ee.info.type),Ve)})}function qo(K,le,Te,tt,ot){for(var Oe=K.shared,ze=Oe.gl,je,Ee=0;Ee<tt.length;++Ee){var Ue=tt[Ee],pe=Ue.name,Ve=Ue.info.type,st=Te.uniforms[pe],Pt=K.link(Ue),kt=Pt+".location",Ct;if(st){if(!ot(st))continue;if(Bp(st)){var Vt=st.value;if(ue.command(Vt!==null&&typeof Vt<"u",'missing uniform "'+pe+'"',K.commandStr),Ve===hc||Ve===fc){ue.command(typeof Vt=="function"&&(Ve===hc&&(Vt._reglType==="texture2d"||Vt._reglType==="framebuffer")||Ve===fc&&(Vt._reglType==="textureCube"||Vt._reglType==="framebufferCube")),"invalid texture for uniform "+pe,K.commandStr);var rr=K.link(Vt._texture||Vt.color[0]._texture);le(ze,".uniform1i(",kt,",",rr+".bind());"),le.exit(rr,".unbind();")}else if(Ve===rl||Ve===ol||Ve===ap){ue.optional(function(){ue.command(Bi(Vt),"invalid matrix for uniform "+pe,K.commandStr),ue.command(Ve===rl&&Vt.length===4||Ve===ol&&Vt.length===9||Ve===ap&&Vt.length===16,"invalid length for matrix uniform "+pe,K.commandStr)});var vo=K.global.def("new Float32Array(["+Array.prototype.slice.call(Vt)+"])"),Rr=2;Ve===ol?Rr=3:Ve===ap&&(Rr=4),le(ze,".uniformMatrix",Rr,"fv(",kt,",false,",vo,");")}else{switch(Ve){case G0:ue.commandType(Vt,"number","uniform "+pe,K.commandStr),je="1f";break;case U1:ue.command(Bi(Vt)&&Vt.length===2,"uniform "+pe,K.commandStr),je="2f";break;case tl:ue.command(Bi(Vt)&&Vt.length===3,"uniform "+pe,K.commandStr),je="3f";break;case k1:ue.command(Bi(Vt)&&Vt.length===4,"uniform "+pe,K.commandStr),je="4f";break;case V1:ue.commandType(Vt,"boolean","uniform "+pe,K.commandStr),je="1i";break;case Np:ue.commandType(Vt,"number","uniform "+pe,K.commandStr),je="1i";break;case dc:ue.command(Bi(Vt)&&Vt.length===2,"uniform "+pe,K.commandStr),je="2i";break;case z1:ue.command(Bi(Vt)&&Vt.length===2,"uniform "+pe,K.commandStr),je="2i";break;case yc:ue.command(Bi(Vt)&&Vt.length===3,"uniform "+pe,K.commandStr),je="3i";break;case ki:ue.command(Bi(Vt)&&Vt.length===3,"uniform "+pe,K.commandStr),je="3i";break;case Dp:ue.command(Bi(Vt)&&Vt.length===4,"uniform "+pe,K.commandStr),je="4i";break;case lc:ue.command(Bi(Vt)&&Vt.length===4,"uniform "+pe,K.commandStr),je="4i";break}le(ze,".uniform",je,"(",kt,",",Bi(Vt)?Array.prototype.slice.call(Vt):Vt,");")}continue}else Ct=st.append(K,le)}else{if(!ot(ul))continue;Ct=le.def(Oe.uniforms,"[",ae.id(pe),"]")}Ve===hc?le("if(",Ct,"&&",Ct,'._reglType==="framebuffer"){',Ct,"=",Ct,".color[0];","}"):Ve===fc&&le("if(",Ct,"&&",Ct,'._reglType==="framebufferCube"){',Ct,"=",Ct,".color[0];","}"),ue.optional(function(){function au(Lu,K0){K.assert(le,Lu,'bad data or missing for uniform "'+pe+'".  '+K0)}function $0(Lu){au("typeof "+Ct+'==="'+Lu+'"',"invalid type, expected "+Lu)}function Is(Lu,K0){au(Oe.isArrayLike+"("+Ct+")&&"+Ct+".length==="+Lu,"invalid vector, should have length "+Lu,K.commandStr)}function By(Lu){au("typeof "+Ct+'==="function"&&'+Ct+'._reglType==="texture'+(Lu===L1?"2d":"Cube")+'"',"invalid texture type",K.commandStr)}switch(Ve){case Np:$0("number");break;case z1:Is(2);break;case ki:Is(3);break;case lc:Is(4);break;case G0:$0("number");break;case U1:Is(2);break;case tl:Is(3);break;case k1:Is(4);break;case V1:$0("boolean");break;case dc:Is(2);break;case yc:Is(3);break;case Dp:Is(4);break;case rl:Is(4);break;case ol:Is(9);break;case ap:Is(16);break;case hc:By(L1);break;case fc:By(Of);break}});var Zr=1;switch(Ve){case hc:case fc:var fo=le.def(Ct,"._texture");le(ze,".uniform1i(",kt,",",fo,".bind());"),le.exit(fo,".unbind();");continue;case Np:case V1:je="1i";break;case z1:case dc:je="2i",Zr=2;break;case ki:case yc:je="3i",Zr=3;break;case lc:case Dp:je="4i",Zr=4;break;case G0:je="1f";break;case U1:je="2f",Zr=2;break;case tl:je="3f",Zr=3;break;case k1:je="4f",Zr=4;break;case rl:je="Matrix2fv";break;case ol:je="Matrix3fv";break;case ap:je="Matrix4fv";break}if(le(ze,".uniform",je,"(",kt,","),je.charAt(0)==="M"){var $o=Math.pow(Ve-rl+2,2),vn=K.global.def("new Float32Array(",$o,")");le("false,(Array.isArray(",Ct,")||",Ct," instanceof Float32Array)?",Ct,":(",Wo($o,function(au){return vn+"["+au+"]="+Ct+"["+au+"]"}),",",vn,")")}else Zr>1?le(Wo(Zr,function(au){return Ct+"["+au+"]"})):le(Ct);le(");")}}function Kr(K,le,Te,tt){var ot=K.shared,Oe=ot.gl,ze=ot.draw,je=tt.draw;function Ee(){var fo=je.elements,$o,vn=le;return fo?((fo.contextDep&&tt.contextDynamic||fo.propDep)&&(vn=Te),$o=fo.append(K,vn)):$o=vn.def(ze,".",Mo),$o&&vn("if("+$o+")"+Oe+".bindBuffer("+Mf+","+$o+".buffer.buffer);"),$o}function Ue(){var fo=je.count,$o,vn=le;return fo?((fo.contextDep&&tt.contextDynamic||fo.propDep)&&(vn=Te),$o=fo.append(K,vn),ue.optional(function(){fo.MISSING&&K.assert(le,"false","missing vertex count"),fo.DYNAMIC&&K.assert(vn,$o+">=0","missing vertex count")})):($o=vn.def(ze,".",Ki),ue.optional(function(){K.assert(vn,$o+">=0","missing vertex count")})),$o}var pe=Ee();function Ve(fo){var $o=je[fo];return $o?$o.contextDep&&tt.contextDynamic||$o.propDep?$o.append(K,Te):$o.append(K,le):le.def(ze,".",fo)}var st=Ve(Tn),Pt=Ve(Cs),kt=Ue();if(typeof kt=="number"){if(kt===0)return}else Te("if(",kt,"){"),Te.exit("}");var Ct,Vt;Xt&&(Ct=Ve(Qc),Vt=K.instancing);var rr=pe+".type",vo=je.elements&&Bp(je.elements);function Rr(){function fo(){Te(Vt,".drawElementsInstancedANGLE(",[st,kt,rr,Pt+"<<(("+rr+"-"+Qt+")>>1)",Ct],");")}function $o(){Te(Vt,".drawArraysInstancedANGLE(",[st,Pt,kt,Ct],");")}pe?vo?fo():(Te("if(",pe,"){"),fo(),Te("}else{"),$o(),Te("}")):$o()}function Zr(){function fo(){Te(Oe+".drawElements("+[st,kt,rr,Pt+"<<(("+rr+"-"+Qt+")>>1)"]+");")}function $o(){Te(Oe+".drawArrays("+[st,Pt,kt]+");")}pe?vo?fo():(Te("if(",pe,"){"),fo(),Te("}else{"),$o(),Te("}")):$o()}Xt&&(typeof Ct!="number"||Ct>=0)?typeof Ct=="string"?(Te("if(",Ct,">0){"),Rr(),Te("}else if(",Ct,"<0){"),Zr(),Te("}")):Rr():Zr()}function Co(K,le,Te,tt,ot){var Oe=oo(),ze=Oe.proc("body",ot);return ue.optional(function(){Oe.commandStr=le.commandStr,Oe.command=Oe.link(le.commandStr)}),Xt&&(Oe.instancing=ze.def(Oe.shared.extensions,".angle_instanced_arrays")),K(Oe,ze,Te,tt),Oe.compile().body}function Ho(K,le,Te,tt){Rn(K,le),Te.useVAO?Te.drawVAO?le(K.shared.vao,".setVAO(",Te.drawVAO.append(K,le),");"):le(K.shared.vao,".setVAO(",K.shared.vao,".targetVAO);"):(le(K.shared.vao,".setVAO(null);"),Zn(K,le,Te,tt.attributes,function(){return!0})),qo(K,le,Te,tt.uniforms,function(){return!0}),Kr(K,le,le,Te)}function Zi(K,le){var Te=K.proc("draw",1);Rn(K,Te),zi(K,Te,le.context),tn(K,Te,le.framebuffer),Un(K,Te,le),ia(K,Te,le.state),_o(K,Te,le,!1,!0);var tt=le.shader.progVar.append(K,Te);if(Te(K.shared.gl,".useProgram(",tt,".program);"),le.shader.program)Ho(K,Te,le,le.shader.program);else{Te(K.shared.vao,".setVAO(null);");var ot=K.global.def("{}"),Oe=Te.def(tt,".id"),ze=Te.def(ot,"[",Oe,"]");Te(K.cond(ze).then(ze,".call(this,a0);").else(ze,"=",ot,"[",Oe,"]=",K.link(function(je){return Co(Ho,K,le,je,1)}),"(",tt,");",ze,".call(this,a0);"))}Object.keys(le.state).length>0&&Te(K.shared.current,".dirty=true;")}function nu(K,le,Te,tt){K.batchId="a1",Rn(K,le);function ot(){return!0}Zn(K,le,Te,tt.attributes,ot),qo(K,le,Te,tt.uniforms,ot),Kr(K,le,le,Te)}function _e(K,le,Te,tt){Rn(K,le);var ot=Te.contextDep,Oe=le.def(),ze="a0",je="a1",Ee=le.def();K.shared.props=Ee,K.batchId=Oe;var Ue=K.scope(),pe=K.scope();le(Ue.entry,"for(",Oe,"=0;",Oe,"<",je,";++",Oe,"){",Ee,"=",ze,"[",Oe,"];",pe,"}",Ue.exit);function Ve(rr){return rr.contextDep&&ot||rr.propDep}function st(rr){return!Ve(rr)}if(Te.needsContext&&zi(K,pe,Te.context),Te.needsFramebuffer&&tn(K,pe,Te.framebuffer),ia(K,pe,Te.state,Ve),Te.profile&&Ve(Te.profile)&&_o(K,pe,Te,!1,!0),tt)Te.useVAO?Te.drawVAO?Ve(Te.drawVAO)?pe(K.shared.vao,".setVAO(",Te.drawVAO.append(K,pe),");"):Ue(K.shared.vao,".setVAO(",Te.drawVAO.append(K,Ue),");"):Ue(K.shared.vao,".setVAO(",K.shared.vao,".targetVAO);"):(Ue(K.shared.vao,".setVAO(null);"),Zn(K,Ue,Te,tt.attributes,st),Zn(K,pe,Te,tt.attributes,Ve)),qo(K,Ue,Te,tt.uniforms,st),qo(K,pe,Te,tt.uniforms,Ve),Kr(K,Ue,pe,Te);else{var Pt=K.global.def("{}"),kt=Te.shader.progVar.append(K,pe),Ct=pe.def(kt,".id"),Vt=pe.def(Pt,"[",Ct,"]");pe(K.shared.gl,".useProgram(",kt,".program);","if(!",Vt,"){",Vt,"=",Pt,"[",Ct,"]=",K.link(function(rr){return Co(nu,K,Te,rr,2)}),"(",kt,");}",Vt,".call(this,a0[",Oe,"],",Oe,");")}}function yt(K,le){var Te=K.proc("batch",2);K.batchId="0",Rn(K,Te);var tt=!1,ot=!0;Object.keys(le.context).forEach(function(Pt){tt=tt||le.context[Pt].propDep}),tt||(zi(K,Te,le.context),ot=!1);var Oe=le.framebuffer,ze=!1;Oe?(Oe.propDep?tt=ze=!0:Oe.contextDep&&tt&&(ze=!0),ze||tn(K,Te,Oe)):tn(K,Te,null),le.state.viewport&&le.state.viewport.propDep&&(tt=!0);function je(Pt){return Pt.contextDep&&tt||Pt.propDep}Un(K,Te,le),ia(K,Te,le.state,function(Pt){return!je(Pt)}),(!le.profile||!je(le.profile))&&_o(K,Te,le,!1,"a1"),le.contextDep=tt,le.needsContext=ot,le.needsFramebuffer=ze;var Ee=le.shader.progVar;if(Ee.contextDep&&tt||Ee.propDep)_e(K,Te,le,null);else{var Ue=Ee.append(K,Te);if(Te(K.shared.gl,".useProgram(",Ue,".program);"),le.shader.program)_e(K,Te,le,le.shader.program);else{Te(K.shared.vao,".setVAO(null);");var pe=K.global.def("{}"),Ve=Te.def(Ue,".id"),st=Te.def(pe,"[",Ve,"]");Te(K.cond(st).then(st,".call(this,a0,a1);").else(st,"=",pe,"[",Ve,"]=",K.link(function(Pt){return Co(_e,K,le,Pt,2)}),"(",Ue,");",st,".call(this,a0,a1);"))}}Object.keys(le.state).length>0&&Te(K.shared.current,".dirty=true;")}function rt(K,le){var Te=K.proc("scope",3);K.batchId="a2";var tt=K.shared,ot=tt.current;zi(K,Te,le.context),le.framebuffer&&le.framebuffer.append(K,Te),sl(Object.keys(le.state)).forEach(function(ze){var je=le.state[ze],Ee=je.append(K,Te);Bi(Ee)?Ee.forEach(function(Ue,pe){Te.set(K.next[ze],"["+pe+"]",Ue)}):Te.set(tt.next,"."+ze,Ee)}),_o(K,Te,le,!0,!0),[Mo,Cs,Ki,Qc,Tn].forEach(function(ze){var je=le.draw[ze];je&&Te.set(tt.draw,"."+ze,""+je.append(K,Te))}),Object.keys(le.uniforms).forEach(function(ze){Te.set(tt.uniforms,"["+ae.id(ze)+"]",le.uniforms[ze].append(K,Te))}),Object.keys(le.attributes).forEach(function(ze){var je=le.attributes[ze].append(K,Te),Ee=K.scopeAttrib(ze);Object.keys(new Ke).forEach(function(Ue){Te.set(Ee,"."+Ue,je[Ue])})}),le.scopeVAO&&Te.set(tt.vao,".targetVAO",le.scopeVAO.append(K,Te));function Oe(ze){var je=le.shader[ze];je&&Te.set(tt.shader,"."+ze,je.append(K,Te))}Oe(Ja),Oe(ds),Object.keys(le.state).length>0&&(Te(ot,".dirty=true;"),Te.exit(ot,".dirty=true;")),Te("a1(",K.shared.context,",a0,",K.batchId,");")}function vr(K){if(!(typeof K!="object"||Bi(K))){for(var le=Object.keys(K),Te=0;Te<le.length;++Te)if(ln.isDynamic(K[le[Te]]))return!0;return!1}}function Po(K,le,Te){var tt=le.static[Te];if(!tt||!vr(tt))return;var ot=K.global,Oe=Object.keys(tt),ze=!1,je=!1,Ee=!1,Ue=K.global.def("{}");Oe.forEach(function(Ve){var st=tt[Ve];if(ln.isDynamic(st)){typeof st=="function"&&(st=tt[Ve]=ln.unbox(st));var Pt=es(st,null);ze=ze||Pt.thisDep,Ee=Ee||Pt.propDep,je=je||Pt.contextDep}else{switch(ot(Ue,".",Ve,"="),typeof st){case"number":ot(st);break;case"string":ot('"',st,'"');break;case"object":Array.isArray(st)&&ot("[",st.join(),"]");break;default:ot(K.link(st));break}ot(";")}});function pe(Ve,st){Oe.forEach(function(Pt){var kt=tt[Pt];if(ln.isDynamic(kt)){var Ct=Ve.invoke(st,kt);st(Ue,".",Pt,"=",Ct,";")}})}le.dynamic[Te]=new ln.DynamicVariable(Pr,{thisDep:ze,contextDep:je,propDep:Ee,ref:Ue,append:pe}),delete le.static[Te]}function ri(K,le,Te,tt,ot){var Oe=oo();Oe.stats=Oe.link(ot),Object.keys(le.static).forEach(function(je){Po(Oe,le,je)}),by.forEach(function(je){Po(Oe,K,je)});var ze=en(K,le,Te,tt,Oe);return Zi(Oe,ze),rt(Oe,ze),yt(Oe,ze),Oe.compile()}return{next:mr,current:Mt,procs:function(){var K=oo(),le=K.proc("poll"),Te=K.proc("refresh"),tt=K.block();le(tt),Te(tt);var ot=K.shared,Oe=ot.gl,ze=ot.next,je=ot.current;tt(je,".dirty=false;"),tn(K,le),tn(K,Te,null,!0);var Ee;Xt&&(Ee=K.link(Xt)),Se.oes_vertex_array_object&&Te(K.link(Se.oes_vertex_array_object),".bindVertexArrayOES(null);");for(var Ue=0;Ue<nt.maxAttributes;++Ue){var pe=Te.def(ot.attributes,"[",Ue,"]"),Ve=K.cond(pe,".buffer");Ve.then(Oe,".enableVertexAttribArray(",Ue,");",Oe,".bindBuffer(",el,",",pe,".buffer.buffer);",Oe,".vertexAttribPointer(",Ue,",",pe,".size,",pe,".type,",pe,".normalized,",pe,".stride,",pe,".offset);").else(Oe,".disableVertexAttribArray(",Ue,");",Oe,".vertexAttrib4f(",Ue,",",pe,".x,",pe,".y,",pe,".z,",pe,".w);",pe,".buffer=null;"),Te(Ve),Xt&&Te(Ee,".vertexAttribDivisorANGLE(",Ue,",",pe,".divisor);")}return Te(K.shared.vao,".currentVAO=null;",K.shared.vao,".setVAO(",K.shared.vao,".targetVAO);"),Object.keys(_r).forEach(function(st){var Pt=_r[st],kt=tt.def(ze,".",st),Ct=K.block();Ct("if(",kt,"){",Oe,".enable(",Pt,")}else{",Oe,".disable(",Pt,")}",je,".",st,"=",kt,";"),Te(Ct),le("if(",kt,"!==",je,".",st,"){",Ct,"}")}),Object.keys(Ot).forEach(function(st){var Pt=Ot[st],kt=Mt[st],Ct,Vt,rr=K.block();if(rr(Oe,".",Pt,"("),Bi(kt)){var vo=kt.length;Ct=K.global.def(ze,".",st),Vt=K.global.def(je,".",st),rr(Wo(vo,function(Rr){return Ct+"["+Rr+"]"}),");",Wo(vo,function(Rr){return Vt+"["+Rr+"]="+Ct+"["+Rr+"];"}).join("")),le("if(",Wo(vo,function(Rr){return Ct+"["+Rr+"]!=="+Vt+"["+Rr+"]"}).join("||"),"){",rr,"}")}else Ct=tt.def(ze,".",st),Vt=tt.def(je,".",st),rr(Ct,");",je,".",st,"=",Ct,";"),le("if(",Ct,"!==",Vt,"){",rr,"}");Te(rr)}),K.compile()}(),compile:ri}}function Gf(){return{vaoCount:0,bufferCount:0,elementsCount:0,framebufferCount:0,shaderCount:0,textureCount:0,cubeCount:0,renderbufferCount:0,maxTextureUnits:0}}var jf=34918,Wf=34919,Iy=35007,My=function(N,ae){if(!ae.ext_disjoint_timer_query)return null;var Se=[];function nt(){return Se.pop()||ae.ext_disjoint_timer_query.createQueryEXT()}function St(Xt){Se.push(Xt)}var $e=[];function xt(Xt){var dr=nt();ae.ext_disjoint_timer_query.beginQueryEXT(Iy,dr),$e.push(dr),zt($e.length-1,$e.length,Xt)}function Ut(){ae.ext_disjoint_timer_query.endQueryEXT(Iy)}function Ht(){this.startQueryIndex=-1,this.endQueryIndex=-1,this.sum=0,this.stats=null}var ir=[];function qt(){return ir.pop()||new Ht}function Jt(Xt){ir.push(Xt)}var nr=[];function zt(Xt,dr,Mt){var mr=qt();mr.startQueryIndex=Xt,mr.endQueryIndex=dr,mr.sum=0,mr.stats=Mt,nr.push(mr)}var er=[],Ke=[];function _t(){var Xt,dr,Mt=$e.length;if(Mt!==0){Ke.length=Math.max(Ke.length,Mt+1),er.length=Math.max(er.length,Mt+1),er[0]=0,Ke[0]=0;var mr=0;for(Xt=0,dr=0;dr<$e.length;++dr){var Zt=$e[dr];ae.ext_disjoint_timer_query.getQueryObjectEXT(Zt,Wf)?(mr+=ae.ext_disjoint_timer_query.getQueryObjectEXT(Zt,jf),St(Zt)):$e[Xt++]=Zt,er[dr+1]=mr,Ke[dr+1]=Xt}for($e.length=Xt,Xt=0,dr=0;dr<nr.length;++dr){var _r=nr[dr],Ot=_r.startQueryIndex,cr=_r.endQueryIndex;_r.sum+=er[cr]-er[Ot];var Gr=Ke[Ot],so=Ke[cr];so===Gr?(_r.stats.gpuTime+=_r.sum/1e6,Jt(_r)):(_r.startQueryIndex=Gr,_r.endQueryIndex=so,nr[Xt++]=_r)}nr.length=Xt}}return{beginQuery:xt,endQuery:Ut,pushScopeStats:zt,update:_t,getNumPendingQueries:function(){return $e.length},clear:function(){Se.push.apply(Se,$e);for(var Xt=0;Xt<Se.length;Xt++)ae.ext_disjoint_timer_query.deleteQueryEXT(Se[Xt]);$e.length=0,Se.length=0},restore:function(){$e.length=0,Se.length=0}}},da=16384,Xf=256,Ny=1024,Dy=34962,Oy="webglcontextlost",Y0="webglcontextrestored",Ly=1,Zf=2,Yf=3;function q0(N,ae){for(var Se=0;Se<N.length;++Se)if(N[Se]===ae)return Se;return-1}function qf(N){var ae=gs(N);if(!ae)return null;var Se=ae.gl,nt=Se.getContextAttributes(),St=Se.isContextLost(),$e=Zu(Se,ae);if(!$e)return null;var xt=ss(),Ut=Gf(),Ht=$e.extensions,ir=My(Se,Ht),qt=Ga(),Jt=Se.drawingBufferWidth,nr=Se.drawingBufferHeight,zt={tick:0,time:0,viewportWidth:Jt,viewportHeight:nr,framebufferWidth:Jt,framebufferHeight:nr,drawingBufferWidth:Jt,drawingBufferHeight:nr,pixelRatio:ae.pixelRatio},er={},Ke={elements:null,primitive:4,count:-1,offset:0,instances:-1},_t=Sl(Se,Ht),Xt=wl(Se,Ut,ae,Mt),dr=H(Se,Ht,_t,Ut,Xt);function Mt(Kr){return dr.destroyBuffer(Kr)}var mr=I1(Se,Ht,Xt,Ut),Zt=me(Se,xt,Ut,ae),_r=La(Se,Ht,_t,function(){Gr.procs.poll()},zt,Ut,ae),Ot=ps(Se,Ht,_t,Ut,ae),cr=A(Se,Ht,_t,_r,Ot,Ut),Gr=Cy(Se,xt,Ht,_t,Xt,mr,_r,cr,er,dr,Zt,Ke,zt,ir,ae),so=Je(Se,cr,Gr.procs.poll,zt,nt,Ht,_t),ur=Gr.next,jt=Se.canvas,Tt=[],oo=[],io=[],Or=[ae.onDestroy],Eo=null;function Wr(){if(Tt.length===0){ir&&ir.update(),Eo=null;return}Eo=Ea.next(Wr),ia();for(var Kr=Tt.length-1;Kr>=0;--Kr){var Co=Tt[Kr];Co&&Co(zt,null,0)}Se.flush(),ir&&ir.update()}function xo(){!Eo&&Tt.length>0&&(Eo=Ea.next(Wr))}function Xo(){Eo&&(Ea.cancel(Wr),Eo=null)}function gn(Kr){Kr.preventDefault(),St=!0,Xo(),oo.forEach(function(Co){Co()})}function Sn(Kr){Se.getError(),St=!1,$e.restore(),Zt.restore(),Xt.restore(),_r.restore(),Ot.restore(),cr.restore(),dr.restore(),ir&&ir.restore(),Gr.procs.refresh(),xo(),io.forEach(function(Co){Co()})}jt&&(jt.addEventListener(Oy,gn,!1),jt.addEventListener(Y0,Sn,!1));function Ro(){Tt.length=0,Xo(),jt&&(jt.removeEventListener(Oy,gn),jt.removeEventListener(Y0,Sn)),Zt.clear(),cr.clear(),Ot.clear(),_r.clear(),mr.clear(),Xt.clear(),dr.clear(),ir&&ir.clear(),Or.forEach(function(Kr){Kr()})}function Ji(Kr){ue(!!Kr,"invalid args to regl({...})"),ue.type(Kr,"object","invalid args to regl({...})");function Co(ot){var Oe=i({},ot);delete Oe.uniforms,delete Oe.attributes,delete Oe.context,delete Oe.vao,"stencil"in Oe&&Oe.stencil.op&&(Oe.stencil.opBack=Oe.stencil.opFront=Oe.stencil.op,delete Oe.stencil.op);function ze(je){if(je in Oe){var Ee=Oe[je];delete Oe[je],Object.keys(Ee).forEach(function(Ue){Oe[je+"."+Ue]=Ee[Ue]})}}return ze("blend"),ze("depth"),ze("cull"),ze("stencil"),ze("polygonOffset"),ze("scissor"),ze("sample"),"vao"in ot&&(Oe.vao=ot.vao),Oe}function Ho(ot){var Oe={},ze={};return Object.keys(ot).forEach(function(je){var Ee=ot[je];ln.isDynamic(Ee)?ze[je]=ln.unbox(Ee,je):Oe[je]=Ee}),{dynamic:ze,static:Oe}}var Zi=Ho(Kr.context||{}),nu=Ho(Kr.uniforms||{}),_e=Ho(Kr.attributes||{}),yt=Ho(Co(Kr)),rt={gpuTime:0,cpuTime:0,count:0},vr=Gr.compile(yt,_e,nu,Zi,rt),Po=vr.draw,ri=vr.batch,K=vr.scope,le=[];function Te(ot){for(;le.length<ot;)le.push(null);return le}function tt(ot,Oe){var ze;if(St&&ue.raise("context lost"),typeof ot=="function")return K.call(this,null,ot,0);if(typeof Oe=="function")if(typeof ot=="number")for(ze=0;ze<ot;++ze)K.call(this,null,Oe,ze);else if(Array.isArray(ot))for(ze=0;ze<ot.length;++ze)K.call(this,ot[ze],Oe,ze);else return K.call(this,ot,Oe,0);else if(typeof ot=="number"){if(ot>0)return ri.call(this,Te(ot|0),ot|0)}else if(Array.isArray(ot)){if(ot.length)return ri.call(this,ot,ot.length)}else return Po.call(this,ot)}return i(tt,{stats:rt})}var Si=cr.setFBO=Ji({framebuffer:ln.define.call(null,Ly,"framebuffer")});function en(Kr,Co){var Ho=0;Gr.procs.poll();var Zi=Co.color;Zi&&(Se.clearColor(+Zi[0]||0,+Zi[1]||0,+Zi[2]||0,+Zi[3]||0),Ho|=da),"depth"in Co&&(Se.clearDepth(+Co.depth),Ho|=Xf),"stencil"in Co&&(Se.clearStencil(Co.stencil|0),Ho|=Ny),ue(!!Ho,"called regl.clear with no buffer specified"),Se.clear(Ho)}function zi(Kr){if(ue(typeof Kr=="object"&&Kr,"regl.clear() takes an object as input"),"framebuffer"in Kr)if(Kr.framebuffer&&Kr.framebuffer_reglType==="framebufferCube")for(var Co=0;Co<6;++Co)Si(i({framebuffer:Kr.framebuffer.faces[Co]},Kr),en);else Si(Kr,en);else en(null,Kr)}function tn(Kr){ue.type(Kr,"function","regl.frame() callback must be a function"),Tt.push(Kr);function Co(){var Ho=q0(Tt,Kr);ue(Ho>=0,"cannot cancel a frame twice");function Zi(){var nu=q0(Tt,Zi);Tt[nu]=Tt[Tt.length-1],Tt.length-=1,Tt.length<=0&&Xo()}Tt[Ho]=Zi}return xo(),{cancel:Co}}function Un(){var Kr=ur.viewport,Co=ur.scissor_box;Kr[0]=Kr[1]=Co[0]=Co[1]=0,zt.viewportWidth=zt.framebufferWidth=zt.drawingBufferWidth=Kr[2]=Co[2]=Se.drawingBufferWidth,zt.viewportHeight=zt.framebufferHeight=zt.drawingBufferHeight=Kr[3]=Co[3]=Se.drawingBufferHeight}function ia(){zt.tick+=1,zt.time=_o(),Un(),Gr.procs.poll()}function Rn(){Un(),Gr.procs.refresh(),ir&&ir.update()}function _o(){return(Ga()-qt)/1e3}Rn();function Zn(Kr,Co){ue.type(Co,"function","listener callback must be a function");var Ho;switch(Kr){case"frame":return tn(Co);case"lost":Ho=oo;break;case"restore":Ho=io;break;case"destroy":Ho=Or;break;default:ue.raise("invalid event, must be one of frame,lost,restore,destroy")}return Ho.push(Co),{cancel:function(){for(var Zi=0;Zi<Ho.length;++Zi)if(Ho[Zi]===Co){Ho[Zi]=Ho[Ho.length-1],Ho.pop();return}}}}var qo=i(Ji,{clear:zi,prop:ln.define.bind(null,Ly),context:ln.define.bind(null,Zf),this:ln.define.bind(null,Yf),draw:Ji({}),buffer:function(Kr){return Xt.create(Kr,Dy,!1,!1)},elements:function(Kr){return mr.create(Kr,!1)},texture:_r.create2D,cube:_r.createCube,renderbuffer:Ot.create,framebuffer:cr.create,framebufferCube:cr.createCube,vao:dr.createVAO,attributes:nt,frame:tn,on:Zn,limits:_t,hasExtension:function(Kr){return _t.extensions.indexOf(Kr.toLowerCase())>=0},read:so,destroy:Ro,_gl:Se,_refresh:Rn,poll:function(){ia(),ir&&ir.update()},now:_o,stats:Ut});return ae.onDone(null,qo),qo}return qf})}(Oh)),Oh.exports}var jL=GL();const WL=mp(jL);var XL=class{constructor(e,t){const{buffer:r,offset:i,stride:s,normalized:p,size:n,divisor:f}=t;this.buffer=r,this.attribute={buffer:r.get(),offset:i||0,stride:s||0,normalized:p||!1,divisor:f||0},n&&(this.attribute.size=n)}get(){return this.attribute}updateBuffer(e){this.buffer.subData(e)}destroy(){this.buffer.destroy()}},ZL={[k.POINTS]:"points",[k.LINES]:"lines",[k.LINE_LOOP]:"line loop",[k.LINE_STRIP]:"line strip",[k.TRIANGLES]:"triangles",[k.TRIANGLE_FAN]:"triangle fan",[k.TRIANGLE_STRIP]:"triangle strip"},L7={[k.STATIC_DRAW]:"static",[k.DYNAMIC_DRAW]:"dynamic",[k.STREAM_DRAW]:"stream"},z6={[k.BYTE]:"int8",[k.INT]:"int32",[k.UNSIGNED_BYTE]:"uint8",[k.UNSIGNED_SHORT]:"uint16",[k.UNSIGNED_INT]:"uint32",[k.FLOAT]:"float"},YL={[k.ALPHA]:"alpha",[k.LUMINANCE]:"luminance",[k.LUMINANCE_ALPHA]:"luminance alpha",[k.RGB]:"rgb",[k.RGBA]:"rgba",[k.RGBA4]:"rgba4",[k.RGB5_A1]:"rgb5 a1",[k.RGB565]:"rgb565",[k.DEPTH_COMPONENT]:"depth",[k.DEPTH_STENCIL]:"depth stencil"},qL={[k.DONT_CARE]:"dont care",[k.NICEST]:"nice",[k.FASTEST]:"fast"},Hg={[k.NEAREST]:"nearest",[k.LINEAR]:"linear",[k.LINEAR_MIPMAP_LINEAR]:"mipmap",[k.NEAREST_MIPMAP_LINEAR]:"nearest mipmap linear",[k.LINEAR_MIPMAP_NEAREST]:"linear mipmap nearest",[k.NEAREST_MIPMAP_NEAREST]:"nearest mipmap nearest"},Gg={[k.REPEAT]:"repeat",[k.CLAMP_TO_EDGE]:"clamp",[k.MIRRORED_REPEAT]:"mirror"},$L={[k.NONE]:"none",[k.BROWSER_DEFAULT_WEBGL]:"browser"},KL={[k.NEVER]:"never",[k.ALWAYS]:"always",[k.LESS]:"less",[k.LEQUAL]:"lequal",[k.GREATER]:"greater",[k.GEQUAL]:"gequal",[k.EQUAL]:"equal",[k.NOTEQUAL]:"notequal"},jg={[k.FUNC_ADD]:"add",[k.MIN_EXT]:"min",[k.MAX_EXT]:"max",[k.FUNC_SUBTRACT]:"subtract",[k.FUNC_REVERSE_SUBTRACT]:"reverse subtract"},xh={[k.ZERO]:"zero",[k.ONE]:"one",[k.SRC_COLOR]:"src color",[k.ONE_MINUS_SRC_COLOR]:"one minus src color",[k.SRC_ALPHA]:"src alpha",[k.ONE_MINUS_SRC_ALPHA]:"one minus src alpha",[k.DST_COLOR]:"dst color",[k.ONE_MINUS_DST_COLOR]:"one minus dst color",[k.DST_ALPHA]:"dst alpha",[k.ONE_MINUS_DST_ALPHA]:"one minus dst alpha",[k.CONSTANT_COLOR]:"constant color",[k.ONE_MINUS_CONSTANT_COLOR]:"one minus constant color",[k.CONSTANT_ALPHA]:"constant alpha",[k.ONE_MINUS_CONSTANT_ALPHA]:"one minus constant alpha",[k.SRC_ALPHA_SATURATE]:"src alpha saturate"},QL={[k.NEVER]:"never",[k.ALWAYS]:"always",[k.LESS]:"less",[k.LEQUAL]:"lequal",[k.GREATER]:"greater",[k.GEQUAL]:"gequal",[k.EQUAL]:"equal",[k.NOTEQUAL]:"notequal"},c0={[k.ZERO]:"zero",[k.KEEP]:"keep",[k.REPLACE]:"replace",[k.INVERT]:"invert",[k.INCR]:"increment",[k.DECR]:"decrement",[k.INCR_WRAP]:"increment wrap",[k.DECR_WRAP]:"decrement wrap"},JL={[k.FRONT]:"front",[k.BACK]:"back"},eB=class{constructor(e,t){this.isDestroyed=!1;const{data:r,usage:i,type:s}=t;this.buffer=e.buffer({data:r,usage:L7[i||k.STATIC_DRAW],type:z6[s||k.UNSIGNED_BYTE]})}get(){return this.buffer}destroy(){this.isDestroyed||this.buffer.destroy(),this.isDestroyed=!0}subData({data:e,offset:t}){this.buffer.subdata(e,t)}},tB=class{constructor(e,t){const{data:r,usage:i,type:s,count:p}=t;this.elements=e.elements({data:r,usage:L7[i||k.STATIC_DRAW],type:z6[s||k.UNSIGNED_BYTE],count:p})}get(){return this.elements}subData({data:e}){this.elements.subdata(e)}destroy(){}},rB=class{constructor(e,t){const{width:r,height:i,color:s,colors:p}=t,n={width:r,height:i};Array.isArray(p)&&(n.colors=p.map(f=>f.get())),s&&typeof s!="boolean"&&(n.color=s.get()),this.framebuffer=e.framebuffer(n)}get(){return this.framebuffer}destroy(){this.framebuffer.destroy()}resize({width:e,height:t}){this.framebuffer.resize(e,t)}},oB=Object.defineProperty,iB=Object.defineProperties,nB=Object.getOwnPropertyDescriptors,Wg=Object.getOwnPropertySymbols,aB=Object.prototype.hasOwnProperty,sB=Object.prototype.propertyIsEnumerable,Xg=(e,t,r)=>t in e?oB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Ld=(e,t)=>{for(var r in t||(t={}))aB.call(t,r)&&Xg(e,r,t[r]);if(Wg)for(var r of Wg(t))sB.call(t,r)&&Xg(e,r,t[r]);return e},uB=(e,t)=>iB(e,nB(t)),{isPlainObject:pB,isTypedArray:cB}=Kn,lB=class{constructor(e,t){this.destroyed=!1,this.uniforms={},this.reGl=e;const{vs:r,fs:i,attributes:s,uniforms:p,primitive:n,count:f,elements:m,depth:g,cull:x,instances:b}=t,F={platformString:"WebGL1",glslVersion:"#version 100",explicitBindingLocations:!1,separateSamplerTextures:!1,viewportOrigin:hp.LOWER_LEFT,clipSpaceNearZ:C0.NEGATIVE_ONE,supportMRT:!1},R={};this.options=t,p&&(this.uniforms=this.extractUniforms(p),Object.keys(p).forEach(ee=>{R[ee]=e.prop(ee)}));const I={};Object.keys(s).forEach(ee=>{I[ee]=s[ee].get()});const O=C_(D0(F,"frag",i,null,!1)),U=C_(D0(F,"vert",r,null,!1)),Y={attributes:I,frag:O,uniforms:R,vert:U,colorMask:e.prop("colorMask"),lineWidth:1,blend:{enable:e.prop("blend.enable"),func:e.prop("blend.func"),equation:e.prop("blend.equation"),color:e.prop("blend.color")},stencil:{enable:e.prop("stencil.enable"),mask:e.prop("stencil.mask"),func:e.prop("stencil.func"),opFront:e.prop("stencil.opFront"),opBack:e.prop("stencil.opBack")},primitive:ZL[n===void 0?k.TRIANGLES:n]};b&&(Y.instances=b),f?Y.count=f:m&&(Y.elements=m.get()),this.initDepthDrawParams({depth:g},Y),this.initCullDrawParams({cull:x},Y),this.drawCommand=e(Y),this.drawParams=Y}updateAttributesAndElements(e,t){const r={};Object.keys(e).forEach(i=>{r[i]=e[i].get()}),this.drawParams.attributes=r,this.drawParams.elements=t.get(),this.drawCommand=this.reGl(this.drawParams)}updateAttributes(e){const t={};Object.keys(e).forEach(r=>{t[r]=e[r].get()}),this.drawParams.attributes=t,this.drawCommand=this.reGl(this.drawParams)}addUniforms(e){this.uniforms=Ld(Ld({},this.uniforms),this.extractUniforms(e))}draw(e,t){if(this.drawParams.attributes&&Object.keys(this.drawParams.attributes).length===0)return;const r=Ld(Ld({},this.uniforms),this.extractUniforms(e.uniforms||{})),i={};Object.keys(r).forEach(s=>{const p=typeof r[s];p==="boolean"||p==="number"||Array.isArray(r[s])||r[s].BYTES_PER_ELEMENT?i[s]=r[s]:i[s]=r[s].get()}),i.blend=t?this.getBlendDrawParams({blend:{enable:!1}}):this.getBlendDrawParams(e),i.stencil=this.getStencilDrawParams(e),i.colorMask=this.getColorMaskDrawParams(e,t),this.drawCommand(i)}destroy(){var e,t;(t=(e=this.drawParams)==null?void 0:e.elements)==null||t.destroy(),this.options.attributes&&Object.values(this.options.attributes).forEach(r=>{r==null||r.destroy()}),this.destroyed=!0}initDepthDrawParams({depth:e},t){e&&(t.depth={enable:e.enable===void 0?!0:!!e.enable,mask:e.mask===void 0?!0:!!e.mask,func:KL[e.func||k.LESS],range:e.range||[0,1]})}getBlendDrawParams({blend:e}){const{enable:t,func:r,equation:i,color:s=[0,0,0,0]}=e||{};return{enable:!!t,func:{srcRGB:xh[r&&r.srcRGB||k.SRC_ALPHA],srcAlpha:xh[r&&r.srcAlpha||k.SRC_ALPHA],dstRGB:xh[r&&r.dstRGB||k.ONE_MINUS_SRC_ALPHA],dstAlpha:xh[r&&r.dstAlpha||k.ONE_MINUS_SRC_ALPHA]},equation:{rgb:jg[i&&i.rgb||k.FUNC_ADD],alpha:jg[i&&i.alpha||k.FUNC_ADD]},color:s}}getStencilDrawParams({stencil:e}){const{enable:t,mask:r=-1,func:i={cmp:k.ALWAYS,ref:0,mask:-1},opFront:s={fail:k.KEEP,zfail:k.KEEP,zpass:k.KEEP},opBack:p={fail:k.KEEP,zfail:k.KEEP,zpass:k.KEEP}}=e||{};return{enable:!!t,mask:r,func:uB(Ld({},i),{cmp:QL[i.cmp]}),opFront:{fail:c0[s.fail],zfail:c0[s.zfail],zpass:c0[s.zpass]},opBack:{fail:c0[p.fail],zfail:c0[p.zfail],zpass:c0[p.zpass]}}}getColorMaskDrawParams({stencil:e},t){return e!=null&&e.enable&&e.opFront&&!t?[!1,!1,!1,!1]:[!0,!0,!0,!0]}initCullDrawParams({cull:e},t){if(e){const{enable:r,face:i=k.BACK}=e;t.cull={enable:!!r,face:JL[i]}}}extractUniforms(e){const t={};return Object.keys(e).forEach(r=>{this.extractUniformsRecursively(r,e[r],t,"")}),t}extractUniformsRecursively(e,t,r,i){if(t===null||typeof t=="number"||typeof t=="boolean"||Array.isArray(t)&&typeof t[0]=="number"||cB(t)||t===""||"resize"in t){r[`${i&&i+"."}${e}`]=t;return}pB(t)&&Object.keys(t).forEach(s=>{this.extractUniformsRecursively(s,t[s],r,`${i&&i+"."}${e}`)}),Array.isArray(t)&&t.forEach((s,p)=>{Object.keys(s).forEach(n=>{this.extractUniformsRecursively(n,s[n],r,`${i&&i+"."}${e}[${p}]`)})})}},dB=class{constructor(e,t){this.isDestroy=!1;const{data:r,type:i=k.UNSIGNED_BYTE,width:s,height:p,flipY:n=!1,format:f=k.RGBA,mipmap:m=!1,wrapS:g=k.CLAMP_TO_EDGE,wrapT:x=k.CLAMP_TO_EDGE,aniso:b=0,alignment:F=1,premultiplyAlpha:R=!1,mag:I=k.NEAREST,min:O=k.NEAREST,colorSpace:U=k.BROWSER_DEFAULT_WEBGL,x:Y=0,y:ee=0,copy:oe=!1}=t;this.width=s,this.height=p;const Re={width:s,height:p,type:z6[i],format:YL[f],wrapS:Gg[g],wrapT:Gg[x],mag:Hg[I],min:Hg[O],alignment:F,flipY:n,colorSpace:$L[U],premultiplyAlpha:R,aniso:b,x:Y,y:ee,copy:oe};r&&(Re.data=r),typeof m=="number"?Re.mipmap=qL[m]:typeof m=="boolean"&&(Re.mipmap=m),this.texture=e.texture(Re)}get(){return this.texture}update(e={}){this.texture(e)}bind(){this.texture._texture.bind()}resize({width:e,height:t}){this.texture.resize(e,t),this.width=e,this.height=t}getSize(){return[this.width,this.height]}destroy(){var e;this.isDestroy||(e=this.texture)==null||e.destroy(),this.isDestroy=!0}},c2=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),yB=class{constructor(){this.uniformBuffers=[],this.queryVerdorInfo=()=>"WebGL1",this.createModel=e=>new lB(this.gl,e),this.createAttribute=e=>new XL(this.gl,e),this.createBuffer=e=>new eB(this.gl,e),this.createElements=e=>new tB(this.gl,e),this.createTexture2D=e=>new dB(this.gl,e),this.createFramebuffer=e=>new rB(this.gl,e),this.useFramebuffer=(e,t)=>{this.gl({framebuffer:e?e.get():null})(t)},this.useFramebufferAsync=(e,t)=>c2(this,null,function*(){this.gl({framebuffer:e?e.get():null})(t)}),this.clear=e=>{var t;const{color:r,depth:i,stencil:s,framebuffer:p=null}=e,n={color:r,depth:i,stencil:s};n.framebuffer=p===null?p:p.get(),(t=this.gl)==null||t.clear(n)},this.viewport=({x:e,y:t,width:r,height:i})=>{this.gl._gl.viewport(e,t,r,i),this.width=r,this.height=i,this.gl._refresh()},this.readPixels=e=>{const{framebuffer:t,x:r,y:i,width:s,height:p}=e,n={x:r,y:i,width:s,height:p};return t&&(n.framebuffer=t.get()),this.gl.read(n)},this.readPixelsAsync=e=>c2(this,null,function*(){return this.readPixels(e)}),this.getViewportSize=()=>({width:this.gl._gl.drawingBufferWidth,height:this.gl._gl.drawingBufferHeight}),this.getContainer=()=>{var e;return(e=this.canvas)==null?void 0:e.parentElement},this.getCanvas=()=>this.canvas,this.getGLContext=()=>this.gl._gl,this.destroy=()=>{var e,t,r;this.canvas=null,(r=(t=(e=this.gl)==null?void 0:e._gl)==null?void 0:t.getExtension("WEBGL_lose_context"))==null||r.loseContext(),this.gl.destroy(),this.gl=null}}init(e,t,r){return c2(this,null,function*(){this.canvas=e,r?this.gl=r:this.gl=yield new Promise((i,s)=>{WL({canvas:this.canvas,attributes:{alpha:!0,antialias:t.antialias,premultipliedAlpha:!0,preserveDrawingBuffer:t.preserveDrawingBuffer,stencil:t.stencil},extensions:["OES_element_index_uint","OES_standard_derivatives","ANGLE_instanced_arrays"],optionalExtensions:["oes_texture_float_linear","OES_texture_float","EXT_texture_filter_anisotropic","EXT_blend_minmax","WEBGL_depth_texture","WEBGL_lose_context"],profile:!0,onDone:(p,n)=>{(p||!n)&&s(p),i(n)}})}),this.extensionObject={OES_texture_float:this.testExtension("OES_texture_float")}})}getPointSizeRange(){return this.gl._gl.getParameter(this.gl._gl.ALIASED_POINT_SIZE_RANGE)}testExtension(e){return!!this.getGLContext().getExtension(e)}setState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!0,equation:"add"},framebuffer:null}),this.gl._refresh()}setBaseState(){this.gl({cull:{enable:!1,face:"back"},viewport:{x:0,y:0,height:this.width,width:this.height},blend:{enable:!1,equation:"add"},framebuffer:null}),this.gl._refresh()}setCustomLayerDefaults(){const e=this.getGLContext();e.disable(e.CULL_FACE)}setDirty(e){this.isDirty=e}getDirty(){return this.isDirty}beginFrame(){}endFrame(){}},l2=["selectstart","selecting","selectend"],hB=class extends du.EventEmitter{constructor(e,t={}){super(),this.isEnable=!1,this.onDragStart=r=>{this.box.style.display="block",this.startEvent=this.endEvent=r,this.syncBoxBound(),this.emit("selectstart",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragging=r=>{this.endEvent=r,this.syncBoxBound(),this.emit("selecting",this.getLngLatBox(),this.startEvent,this.endEvent)},this.onDragEnd=r=>{this.endEvent=r,this.box.style.display="none",this.emit("selectend",this.getLngLatBox(),this.startEvent,this.endEvent)},this.scene=e,this.options=t}get container(){return this.scene.getMapService().getMarkerContainer()}enable(){if(this.isEnable)return;const{className:e}=this.options;if(this.scene.setMapStatus({dragEnable:!1}),this.container.style.cursor="crosshair",!this.box){const t=cu("div",void 0,this.container);t.classList.add("l7-select-box"),e&&t.classList.add(e),t.style.display="none",this.box=t}this.scene.on("dragstart",this.onDragStart),this.scene.on("dragging",this.onDragging),this.scene.on("dragend",this.onDragEnd),this.isEnable=!0}disable(){this.isEnable&&(this.scene.setMapStatus({dragEnable:!0}),this.container.style.cursor="auto",this.scene.off("dragstart",this.onDragStart),this.scene.off("dragging",this.onDragging),this.scene.off("dragend",this.onDragEnd),this.isEnable=!1)}syncBoxBound(){const{x:e,y:t}=this.startEvent,{x:r,y:i}=this.endEvent,s=Math.min(e,r),p=Math.min(t,i),n=Math.abs(e-r),f=Math.abs(t-i);this.box.style.top=`${p}px`,this.box.style.left=`${s}px`,this.box.style.width=`${n}px`,this.box.style.height=`${f}px`}getLngLatBox(){const{lngLat:{lng:e,lat:t}}=this.startEvent,{lngLat:{lng:r,lat:i}}=this.endEvent;return LE([[e,t],[r,i]])}},fB=Object.defineProperty,mB=Object.defineProperties,_B=Object.getOwnPropertyDescriptors,Zg=Object.getOwnPropertySymbols,gB=Object.prototype.hasOwnProperty,vB=Object.prototype.propertyIsEnumerable,Yg=(e,t,r)=>t in e?fB(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,EB=(e,t)=>{for(var r in t||(t={}))gB.call(t,r)&&Yg(e,r,t[r]);if(Zg)for(var r of Zg(t))vB.call(t,r)&&Yg(e,r,t[r]);return e},xB=(e,t)=>mB(e,_B(t)),Bd=(e,t,r)=>new Promise((i,s)=>{var p=m=>{try{f(r.next(m))}catch(g){s(g)}},n=m=>{try{f(r.throw(m))}catch(g){s(g)}},f=m=>m.done?i(m.value):Promise.resolve(m.value).then(p,n);f((r=r.apply(e,t)).next())}),PB=class{constructor(e){const{id:t,map:r,renderer:i="device"}=e,s=TF();this.container=s,r.setContainer(s,t),i==="regl"?s.rendererService=new yB:s.rendererService=new VL,this.sceneService=s.sceneService,this.mapService=s.mapService,this.iconService=s.iconService,this.fontService=s.fontService,this.controlService=s.controlService,this.layerService=s.layerService,this.debugService=s.debugService,this.debugService.setEnable(e.debug),this.markerService=s.markerService,this.interactionService=s.interactionService,this.popupService=s.popupService,this.boxSelect=new hB(this,{}),this.initComponent(t),this.sceneService.init(e),this.initControl()}get map(){return this.mapService.map}get loaded(){return this.sceneService.loaded}getServiceContainer(){return this.container}getSize(){return this.mapService.getSize()}getMinZoom(){return this.mapService.getMinZoom()}getMaxZoom(){return this.mapService.getMaxZoom()}getType(){return this.mapService.getType()}getMapContainer(){return this.mapService.getMapContainer()}getMapCanvasContainer(){return this.mapService.getMapCanvasContainer()}getMapService(){return this.mapService}getDebugService(){return this.debugService}exportPng(e){return Bd(this,null,function*(){return this.sceneService.exportPng(e)})}exportMap(e){return Bd(this,null,function*(){return this.sceneService.exportPng(e)})}registerRenderService(e){this.sceneService.loaded?new e(this).init():this.on("loaded",()=>{new e(this).init()})}setBgColor(e){this.mapService.setBgColor(e)}addLayer(e){this.loaded?this.preAddLayer(e):this.once("loaded",()=>{this.preAddLayer(e)})}preAddLayer(e){const t=Kd(this.container);if(e.setContainer(t),this.sceneService.addLayer(e),e.inited){this.initTileLayer(e);const r=this.initMask(e);this.addMask(r,e.id)}else e.on("inited",()=>{this.initTileLayer(e);const r=this.initMask(e);this.addMask(r,e.id)})}initMask(e){const{mask:t,maskfence:r,maskColor:i="#000",maskOpacity:s=0}=e.getLayerConfig();return!t||!r?void 0:new l7().source(r).shape("fill").style({color:i,opacity:s})}addMask(e,t){if(!e)return;const r=this.getLayer(t);if(r){const i=Kd(this.container);e.setContainer(i),r.addMaskLayer(e),this.sceneService.addMask(e)}else console.warn("parent layer not find!")}getPickedLayer(){return this.layerService.pickedLayerId}getLayers(){return this.layerService.getLayers()}getLayer(e){return this.layerService.getLayer(e)}getLayerByName(e){return this.layerService.getLayerByName(e)}removeLayer(e,t){return Bd(this,null,function*(){yield this.layerService.remove(e,t)})}removeAllLayer(){return Bd(this,null,function*(){yield this.layerService.removeAllLayers()})}render(){this.sceneService.render()}setEnableRender(e){this.layerService.setEnableRender(e)}addIconFont(e,t){this.fontService.addIconFont(e,t)}addIconFonts(e){e.forEach(([t,r])=>{this.fontService.addIconFont(t,r)})}addFontFace(e,t){this.fontService.once("fontloaded",r=>{this.emit("fontloaded",r)}),this.fontService.addFontFace(e,t)}addImage(e,t){return Bd(this,null,function*(){yield this.iconService.addImage(e,t)})}hasImage(e){return this.iconService.hasImage(e)}removeImage(e){this.iconService.removeImage(e)}addIconFontGlyphs(e,t){this.fontService.addIconGlyphs(t)}addControl(e){this.controlService.addControl(e,this.container)}removeControl(e){this.controlService.removeControl(e)}getControlByName(e){return this.controlService.getControlByName(e)}addMarker(e){this.markerService.addMarker(e)}addMarkerLayer(e){this.markerService.addMarkerLayer(e)}removeMarkerLayer(e){this.markerService.removeMarkerLayer(e)}removeAllMarkers(){this.markerService.removeAllMarkers()}removeAllMakers(){console.warn("removeAllMakers 已废弃，请使用 removeAllMarkers"),this.markerService.removeAllMarkers()}addPopup(e){this.popupService.addPopup(e)}removePopup(e){this.popupService.removePopup(e)}on(e,t){var r;l2.includes(e)?(r=this.boxSelect)==null||r.on(e,t):sh.includes(e)?this.sceneService.on(e,t):this.mapService.on(e,t)}once(e,t){var r;l2.includes(e)?(r=this.boxSelect)==null||r.once(e,t):sh.includes(e)?this.sceneService.once(e,t):this.mapService.once(e,t)}emit(e,t){sh.indexOf(e)===-1?this.mapService.on(e,t):this.sceneService.emit(e,t)}off(e,t){var r;l2.includes(e)?(r=this.boxSelect)==null||r.off(e,t):sh.includes(e)?this.sceneService.off(e,t):this.mapService.off(e,t)}getZoom(){return this.mapService.getZoom()}getCenter(e){return this.mapService.getCenter(e)}setCenter(e,t){return this.mapService.setCenter(e,t)}getPitch(){return this.mapService.getPitch()}setPitch(e){return this.mapService.setPitch(e)}getRotation(){return this.mapService.getRotation()}getBounds(){return this.mapService.getBounds()}setRotation(e){this.mapService.setRotation(e)}zoomIn(){this.mapService.zoomIn()}zoomOut(){this.mapService.zoomOut()}panTo(e){this.mapService.panTo(e)}panBy(e,t){this.mapService.panBy(e,t)}getContainer(){return this.mapService.getContainer()}setZoom(e){this.mapService.setZoom(e)}fitBounds(e,t){const{fitBoundsOptions:r,animate:i}=this.sceneService.getSceneConfig();this.mapService.fitBounds(e,t||xB(EB({},r),{animate:i}))}setZoomAndCenter(e,t){this.mapService.setZoomAndCenter(e,t)}setMapStyle(e){this.mapService.setMapStyle(e)}setMapStatus(e){this.mapService.setMapStatus(e)}pixelToLngLat(e){return this.mapService.pixelToLngLat(e)}lngLatToPixel(e){return this.mapService.lngLatToPixel(e)}containerToLngLat(e){return this.mapService.containerToLngLat(e)}lngLatToContainer(e){return this.mapService.lngLatToContainer(e)}destroy(){this.sceneService.destroy()}registerPostProcessingPass(e){this.container.postProcessingPass.name=new e}enableShaderPick(){this.layerService.enableShaderPick()}diasbleShaderPick(){this.layerService.disableShaderPick()}enableBoxSelect(e=!0){this.boxSelect.enable(),e&&this.boxSelect.once("selectend",()=>{this.disableBoxSelect()})}disableBoxSelect(){this.boxSelect.disable()}static addProtocol(e,t){Ph.REGISTERED_PROTOCOLS[e]=t}static removeProtocol(e){delete Ph.REGISTERED_PROTOCOLS[e]}getProtocol(e){return Ph.REGISTERED_PROTOCOLS[e]}startAnimate(){this.layerService.startAnimate()}stopAnimate(){this.layerService.stopAnimate()}getPointSizeRange(){return this.sceneService.getPointSizeRange()}initComponent(e){this.controlService.init({container:gE(e)},this.container),this.markerService.init(this.container),this.popupService.init(this.container)}initControl(){const{logoVisible:e,logoPosition:t}=this.sceneService.getSceneConfig();e&&this.addControl(new PS({position:t}))}initTileLayer(e){e.getSource().isTile&&(e.tileLayer=new BN(e))}};const bB={type:"FeatureCollection",crs:{type:"name",properties:{name:"urn:ogc:def:crs:OGC:1.3:CRS84"}},features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,83.29769733567451]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,83.03042231213165]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,82.75254360190782]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,82.46364732289885]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,82.1633042838823]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,81.85106952420345]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,81.52648185344404]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,81.18906339325112]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,80.83831912383923]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,80.47373643805125]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,80.09478470628163]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,79.70091485602755]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,79.29155897034926]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,78.8661299100901]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,78.42402096533623]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,77.96460554228973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,77.48723689249104]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,76.99124789216098]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,76.47595088034483]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,75.94063756553139]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,75.38457901149432]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,74.80702571426096]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,74.20720778335601]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,73.5843352417925]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,72.93759846068625]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,72.26616874584563]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,71.56919909522618]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,70.8458251477235]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,70.09516634538973]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-27.19657017226435,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-24.950781961965546,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,69.3163273327709]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-31.688146592861955,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-29.442358382563153,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,68.50839961864305]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-177.6643802622842,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-33.93393480316076,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,67.67046352692999]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-177.6643802622842,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-173.17280384168657,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,66.80159046496628]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-179.910168472583,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-177.6643802622842,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-173.17280384168657,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-170.92701563138777,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-166.43543921079018,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,65.90084553846057]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-175.4185920519854,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-173.17280384168657,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-166.43543921079018,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-22.70499375166674,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[179.41594517522557,64.96729054344385]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-20.45920554136794,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-18.213417331069138,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,63.99998736606511]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,62.998001821223895]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,61.960407960584604]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-148.46913352839977,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-146.22334531810094,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-143.97755710780214,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-141.73176889750331,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[165.94121591343273,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,60.88629287937398]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-161.94386279019255,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-150.71492173869854,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-139.48598068720452,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-134.99440426660692,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,59.774762049371134]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-155.20649815929616,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-137.24019247690575,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[163.69542770313396,58.624945202502865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-157.45228636959496,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-152.96070994899736,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,57.43600278528517]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-159.69807457989376,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,56.20713299883136]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-164.18965100049138,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-130.5028278460093,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,54.9375794321014]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-132.74861605630812,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-128.2570396357105,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,53.62663928732969]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[156.95806307223754,52.27367218598878]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,50.87810953110461]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-126.01125142541171,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[154.7122748619387,49.43946438716008]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,47.957341822195296]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,46.431449638103075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,44.861609394697915]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,43.24776761119706]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,41.59000700572742]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-123.7654632151129,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,39.88855760995075]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,38.14380757263771]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-121.5196750048141,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,36.356313443941325]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-119.27388679451529,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,34.52680971230379]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-117.02809858421651,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,32.65621734958849]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-114.7823103739177,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,30.745651108469865]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-110.29073395332009,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,28.796425310677574]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-112.53652216361888,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[60.389170029388985,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[62.63495823968778,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[64.88074644998659,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,26.81005786667896]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-108.04494574302129,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[67.1265346602854,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[69.3723228705842,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,24.78827227796699]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-105.79915753272248,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-81.09548721943564,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[71.618111080883,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[87.33862855297463,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[89.58441676327342,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[91.83020497357224,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,22.73299739323544]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[58.14338181909017,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[85.09284034267581,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[94.07599318387103,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,20.64636471996892]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-103.55336932242368,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-101.30758111212486,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-99.06179290182607,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[53.65180539849257,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[55.89759360879138,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[82.84705213237703,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[96.32178139416983,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,18.530703133508972]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-96.81600469152727,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-94.57021648122846,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-92.32442827092966,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[51.406017188193765,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[73.8638992911818,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,16.38853087610306]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-90.07864006063085,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-87.83285185033205,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,14.222544797837983]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-85.58706364003325,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-15.967629120770331,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-13.721840910471528,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[76.10968750148061,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[107.55072244566385,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,12.035606858112935]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-83.34127542973445,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[78.3554757117794,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,9.830727978242566]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-11.476052700172726,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-.247111648678712,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[1.998676561620092,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[4.244464771918896,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[80.60126392207822,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,7.611049410181301]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-9.230264489873921,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-6.984476279575122,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-4.738688069276319,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-2.492899858977515,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[6.490252982217699,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[8.736041192516502,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,5.379821860119629]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[98.56756960446864,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,3.140382675475547]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[42.42286434699856,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[109.79651065596265,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,.896131466226635]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[100.81335781476744,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-1.349495416557252]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[10.981829402815306,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[103.05914602506625,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[105.30493423536505,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-3.593051083437981]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-5.831104505676867]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-78.84969900913683,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-36.17972301345956,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[112.04229886626146,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[159.20385128253633,-8.060266618955612]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[161.44963949283516,-10.277215650248287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-76.60391079883803,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-38.42551122375836,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-12.478721212934401]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[40.17707613669975,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-14.661666756789273]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[37.93128792640095,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[49.16022897789497,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-16.823070013760287]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-40.67129943405717,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[13.22761761311411,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[35.68549971610214,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-18.960101144608686]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-42.917087644355966,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-21.0700983623477]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-47.40866406495358,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-45.16287585465477,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[46.91444076759616,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-23.15058088256119]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[33.43971150580334,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[44.66865255729736,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-25.199259124830366]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[15.473405823412913,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[114.28808707656027,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-27.214042160587546]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-49.65445227525238,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[17.719194033711716,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[31.193923295504536,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-29.193042468141503]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-51.90024048555119,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[28.948135085205735,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[125.51702812805428,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[127.76281633835309,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[130.0086045486519,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[132.2543927589507,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[152.46648665163994,-31.134578113313832]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-56.39181690614879,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-54.146028695849985,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[19.96498224401052,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[22.210770454309323,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[24.456558664608128,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[26.70234687490693,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[118.77966349715788,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[121.02545170745668,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[123.27123991775547,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[134.5001809692495,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[136.7459691795483,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-33.037172522628715]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[116.53387528685907,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[138.9917573898471,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[150.2206984413411,-34.89955205446631]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[141.23754560014592,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-36.72064160176216]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-60.88339332674639,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-58.6376051164476,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[143.4833338104447,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[174.92436875462795,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[177.17015696492675,-38.49955847796458]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-63.129181537045206,-40.23560484672428]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[145.72912202074352,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[147.97491023104232,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,-41.92825895617992]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-65.374969747344,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[172.67858054432918,-43.57716543192309]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[168.18700412373155,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[170.43279233403035,-45.18212487009332]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-46.74308295490721]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-48.260119304558145]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-49.73343622702246]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-49.73343622702246]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-74.35812258853922,-51.16334754392393]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-72.11233437824042,-51.16334754392393]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-51.16334754392393]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-53.89470068992965]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-67.62075795764281,-53.89470068992965]}},{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[-69.8665461679416,-55.19723063288941]}}]},AB={type:"FeatureCollection",features:[{type:"Feature",id:161792,geometry:{type:"Point",coordinates:[103.893473101,36.51870146]},properties:{ADM0_NAME:"China",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:83005,cum_clin:null,cum_susp:null,cum_death:3340,EPIWeek:15,EPIYear:2020,Comment:null,ID:161792,GUID:"af40da08-eeb3-40e9-bd59-41c06c17191f",CENTER_LON:103.8934731,CENTER_LAT:36.51870146,ADM0_VIZ_NAME:"China",Short_Name_ZH:"中国",Short_Name_FR:"Chine",Short_Name_ES:"China",Short_Name_RU:"Китай",Short_Name_AR:"الصين"}},{type:"Feature",id:161793,geometry:{type:"Point",coordinates:[127.829343915,36.367702276]},properties:{ADM0_NAME:"Republic of Korea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10284,cum_clin:null,cum_susp:null,cum_death:186,EPIWeek:15,EPIYear:2020,Comment:null,ID:161793,GUID:"8d331366-4bc7-4313-8e11-dea0054e7ad4",CENTER_LON:127.82934392,CENTER_LAT:36.36770228,ADM0_VIZ_NAME:"Republic of Korea",Short_Name_ZH:"大韩民国",Short_Name_FR:"République de Corée",Short_Name_ES:"República de Corea",Short_Name_RU:"Республика Корея",Short_Name_AR:"جمهورية كوريا"}},{type:"Feature",id:161794,geometry:{type:"Point",coordinates:[134.490975946,-25.733260232]},properties:{ADM0_NAME:"Australia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5795,cum_clin:null,cum_susp:null,cum_death:39,EPIWeek:15,EPIYear:2020,Comment:null,ID:161794,GUID:"bb79d7c7-29b4-45f2-93e6-2df1acc709ad",CENTER_LON:134.49097595,CENTER_LAT:-25.73326023,ADM0_VIZ_NAME:"Australia",Short_Name_ZH:"澳大利亚",Short_Name_FR:"Australie",Short_Name_ES:"Australia",Short_Name_RU:"Австралия",Short_Name_AR:"أستراليا"}},{type:"Feature",id:161795,geometry:{type:"Point",coordinates:[113.252212273,2.36614385200005]},properties:{ADM0_NAME:"Malaysia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3662,cum_clin:null,cum_susp:null,cum_death:61,EPIWeek:15,EPIYear:2020,Comment:null,ID:161795,GUID:"305e146d-efa9-43e5-a000-688bef88a933",CENTER_LON:109.7115743,CENTER_LAT:3.79382045,ADM0_VIZ_NAME:"Malaysia",Short_Name_ZH:"马来西亚",Short_Name_FR:"Malaisie",Short_Name_ES:"Malasia",Short_Name_RU:"Малайзия",Short_Name_AR:"ماليزيا"}},{type:"Feature",id:161796,geometry:{type:"Point",coordinates:[138.756881,36.466956]},properties:{ADM0_NAME:"Japan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3654,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161796,GUID:"9cba65ba-ddfd-418e-8501-21b13e24e90e",CENTER_LON:137.97387026,CENTER_LAT:37.53982621,ADM0_VIZ_NAME:"Japan",Short_Name_ZH:"日本",Short_Name_FR:"Japon",Short_Name_ES:"Japón",Short_Name_RU:"Япония",Short_Name_AR:"اليابان"}},{type:"Feature",id:161797,geometry:{type:"Point",coordinates:[122.873607427,11.747402026]},properties:{ADM0_NAME:"Philippines",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3246,cum_clin:null,cum_susp:null,cum_death:152,EPIWeek:15,EPIYear:2020,Comment:null,ID:161797,GUID:"73f7c9bf-ebf4-48dd-b4a8-ce2005c7b2fd",CENTER_LON:122.87360743,CENTER_LAT:11.74740203,ADM0_VIZ_NAME:"Philippines",Short_Name_ZH:"菲律宾",Short_Name_FR:"Philippines",Short_Name_ES:"Filipinas",Short_Name_RU:"Филиппины",Short_Name_AR:"الفلبين"}},{type:"Feature",id:161798,geometry:{type:"Point",coordinates:[103.807653591,1.35118038100006]},properties:{ADM0_NAME:"Singapore",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1309,cum_clin:null,cum_susp:null,cum_death:6,EPIWeek:15,EPIYear:2020,Comment:null,ID:161798,GUID:"f701475b-b12e-4647-8747-5f066797615a",CENTER_LON:103.80765359,CENTER_LAT:1.35118038,ADM0_VIZ_NAME:"Singapore",Short_Name_ZH:"新加坡",Short_Name_FR:"Singapour",Short_Name_ES:"Singapur",Short_Name_RU:"Сингапур",Short_Name_AR:"سنغافورة"}},{type:"Feature",id:161799,geometry:{type:"Point",coordinates:[171.603971284,-41.837106886]},properties:{ADM0_NAME:"New Zealand",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:911,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161799,GUID:"4b1c43e1-ae35-4d9a-9cc7-86b92722c762",CENTER_LON:171.60397128,CENTER_LAT:-41.83710689,ADM0_VIZ_NAME:"New Zealand",Short_Name_ZH:"新西兰",Short_Name_FR:"Nouvelle-Zélande",Short_Name_ES:"Nueva Zelandia",Short_Name_RU:"Новая Зеландия",Short_Name_AR:"نيوزيلندا"}},{type:"Feature",id:161800,geometry:{type:"Point",coordinates:[108.371477,15.8749560000001]},properties:{ADM0_NAME:"Viet Nam",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:241,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161800,GUID:"7306ccbf-f0ee-4f1b-8c7e-516065fe2ae1",CENTER_LON:106.30403531,CENTER_LAT:16.65160342,ADM0_VIZ_NAME:"Viet Nam",Short_Name_ZH:"越南",Short_Name_FR:"Viet Nam",Short_Name_ES:"Viet Nam",Short_Name_RU:"Вьетнам",Short_Name_AR:"فييت نام"}},{type:"Feature",id:161801,geometry:{type:"Point",coordinates:[114.761320882,4.52147838100007]},properties:{ADM0_NAME:"Brunei Darussalam",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:135,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161801,GUID:"688a16e9-73e3-4495-8eec-a9ef51d28b4a",CENTER_LON:114.76132088,CENTER_LAT:4.52147838,ADM0_VIZ_NAME:"Brunei Darussalam",Short_Name_ZH:"文莱达鲁萨兰国",Short_Name_FR:"Brunéi Darussalam",Short_Name_ES:"Brunei Darussalam",Short_Name_RU:"Бруней-Даруссалам ",Short_Name_AR:"بروني دار السلام"}},{type:"Feature",id:161802,geometry:{type:"Point",coordinates:[104.92123962,12.714029941]},properties:{ADM0_NAME:"Cambodia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:114,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161802,GUID:"752bbf3c-e667-405f-a381-64dc3d7250e9",CENTER_LON:104.92123962,CENTER_LAT:12.71402994,ADM0_VIZ_NAME:"Cambodia",Short_Name_ZH:"柬埔寨",Short_Name_FR:"Cambodge",Short_Name_ES:"Camboya",Short_Name_RU:"Камбоджа",Short_Name_AR:"كمبوديا"}},{type:"Feature",id:161803,geometry:{type:"Point",coordinates:[144.775856782,13.4440310690001]},properties:{ADM0_NAME:"Guam",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:112,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161803,GUID:"07a13d36-90ef-4597-8599-bce2894a8a50",CENTER_LON:144.77585678,CENTER_LAT:13.44403107,ADM0_VIZ_NAME:"Guam",Short_Name_ZH:`关岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161804,geometry:{type:"Point",coordinates:[-149.567999999,-17.5319999979999]},properties:{ADM0_NAME:"French Polynesia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:41,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161804,GUID:"5b4d9703-49bb-40f3-8f1a-426055d3630e",CENTER_LON:-149.568,CENTER_LAT:-17.532,ADM0_VIZ_NAME:"French Polynesia",Short_Name_ZH:`法属波利尼西亚\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161805,geometry:{type:"Point",coordinates:[165.671849774,-21.2946141899999]},properties:{ADM0_NAME:"New Caledonia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161805,GUID:"0c2acf2b-a803-4fdb-af96-dd5eba270bd3",CENTER_LON:165.67184977,CENTER_LAT:-21.29461419,ADM0_VIZ_NAME:"New Caledonia",Short_Name_ZH:`新喀里多尼亚\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161806,geometry:{type:"Point",coordinates:[103.083031076,46.8352087220001]},properties:{ADM0_NAME:"Mongolia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:15,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161806,GUID:"62c58dff-1d74-40b7-8bb4-fb2d4ea17224",CENTER_LON:103.08303108,CENTER_LAT:46.83520872,ADM0_VIZ_NAME:"Mongolia",Short_Name_ZH:"蒙古",Short_Name_FR:"Mongolie",Short_Name_ES:"Mongolia",Short_Name_RU:"Монголия",Short_Name_AR:"منغوليا"}},{type:"Feature",id:161807,geometry:{type:"Point",coordinates:[178.182000002,-17.8549999969999]},properties:{ADM0_NAME:"Fiji",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161807,GUID:"10a110c7-9bca-41a2-8665-e967984c4f31",CENTER_LON:178.182,CENTER_LAT:-17.855,ADM0_VIZ_NAME:"Fiji",Short_Name_ZH:"斐济",Short_Name_FR:"Fidji",Short_Name_ES:"Fiji",Short_Name_RU:"Фиджи ",Short_Name_AR:"فيجي"}},{type:"Feature",id:161808,geometry:{type:"Point",coordinates:[103.763405594,18.5024505710001]},properties:{ADM0_NAME:"Lao People's Democratic Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161808,GUID:"ab453840-eb7a-431c-b52f-e79d58df4850",CENTER_LON:103.76340559,CENTER_LAT:18.50245057,ADM0_VIZ_NAME:"Lao People's Democratic Republic",Short_Name_ZH:"老挝人民民主共和国",Short_Name_FR:"République démocratique populaire lao",Short_Name_ES:"República Democrática Popular Lao",Short_Name_RU:"Лаосская Народно-Демократическая Республика",Short_Name_AR:"جمهورية لاوس الديمقراطية الشعبية"}},{type:"Feature",id:161809,geometry:{type:"Point",coordinates:[145.587832112,16.255704635]},properties:{ADM0_NAME:"Northern Mariana Islands (Commonwealth of the)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:8,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161809,GUID:"b6207b55-8d8b-4599-9ea6-714cad3be598",CENTER_LON:145.58783211,CENTER_LAT:16.25570464,ADM0_VIZ_NAME:"Northern Mariana Islands (Commonwealth of the)",Short_Name_ZH:`北马里亚纳群岛自由邦\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161810,geometry:{type:"Point",coordinates:[145.253687589,-6.47589334999998]},properties:{ADM0_NAME:"Papua New Guinea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161810,GUID:"d4e68089-5dc0-41e2-baf9-f9ba4bf31fa1",CENTER_LON:145.25368759,CENTER_LAT:-6.47589335,ADM0_VIZ_NAME:"Papua New Guinea",Short_Name_ZH:"巴布亚新几内亚",Short_Name_FR:"Papouasie-Nouvelle-Guinée",Short_Name_ES:"Papua Nueva Guinea",Short_Name_RU:"Папуа-Новая Гвинея",Short_Name_AR:"بابوا غينيا الجديدة"}},{type:"Feature",id:161811,geometry:{type:"Point",coordinates:[-3.64931117899994,40.2274959580001]},properties:{ADM0_NAME:"Spain",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:130759,cum_clin:null,cum_susp:null,cum_death:12418,EPIWeek:15,EPIYear:2020,Comment:null,ID:161811,GUID:"a2915e2f-0d93-4ee6-8e41-1fa268228580",CENTER_LON:-3.64931118,CENTER_LAT:40.22749596,ADM0_VIZ_NAME:"Spain",Short_Name_ZH:"西班牙",Short_Name_FR:"Espagne",Short_Name_ES:"España",Short_Name_RU:"Испания",Short_Name_AR:"إسبانيا"}},{type:"Feature",id:161812,geometry:{type:"Point",coordinates:[12.071655591,42.7911916680001]},properties:{ADM0_NAME:"Italy",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:128948,cum_clin:null,cum_susp:null,cum_death:15889,EPIWeek:15,EPIYear:2020,Comment:null,ID:161812,GUID:"e595e984-0e40-4363-aa46-5e7decf832f6",CENTER_LON:12.07165559,CENTER_LAT:42.79119167,ADM0_VIZ_NAME:"Italy",Short_Name_ZH:"意大利",Short_Name_FR:"Italie",Short_Name_ES:"Italia",Short_Name_RU:"Италия",Short_Name_AR:"إيطاليا"}},{type:"Feature",id:161813,geometry:{type:"Point",coordinates:[10.392329666,51.110153956]},properties:{ADM0_NAME:"Germany",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:95391,cum_clin:null,cum_susp:null,cum_death:1434,EPIWeek:15,EPIYear:2020,Comment:null,ID:161813,GUID:"a46bc45e-bcab-46d8-a50b-5008714077c0",CENTER_LON:10.39232967,CENTER_LAT:51.11015396,ADM0_VIZ_NAME:"Germany",Short_Name_ZH:"德国",Short_Name_FR:"Allemagne",Short_Name_ES:"Alemania",Short_Name_RU:"Германия",Short_Name_AR:"ألمانيا"}},{type:"Feature",id:161814,geometry:{type:"Point",coordinates:[2.55042645600003,46.5648740250001]},properties:{ADM0_NAME:"France",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:69607,cum_clin:null,cum_susp:null,cum_death:8064,EPIWeek:15,EPIYear:2020,Comment:null,ID:161814,GUID:"4c308a42-4e33-4d8f-a408-0746862545c7",CENTER_LON:2.55042646,CENTER_LAT:46.56487403,ADM0_VIZ_NAME:"France",Short_Name_ZH:"法国",Short_Name_FR:"France",Short_Name_ES:"Francia",Short_Name_RU:"Франция",Short_Name_AR:"فرنسا"}},{type:"Feature",id:161815,geometry:{type:"Point",coordinates:[-2.90049476399997,54.160179204]},properties:{ADM0_NAME:"The United Kingdom",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:47810,cum_clin:null,cum_susp:null,cum_death:4934,EPIWeek:15,EPIYear:2020,Comment:null,ID:161815,GUID:"50626e89-e145-4d23-8cc4-911240017430",CENTER_LON:-2.90049476,CENTER_LAT:54.1601792,ADM0_VIZ_NAME:"The United Kingdom",Short_Name_ZH:"大不列颠及北爱尔兰联合王国",Short_Name_FR:"Royaume-Uni de Grande-Bretagne et d'Irlande du Nord",Short_Name_ES:"Reino Unido de Gran Bretaña e Irlanda del Norte",Short_Name_RU:"Соединенное Королевство Великобритании и Северной Ирландии",Short_Name_AR:"المملكة المتحدة لبريطانيا العظمى وآيرلندا الشمالية "}},{type:"Feature",id:161816,geometry:{type:"Point",coordinates:[35.1792181100001,39.0606185600001]},properties:{ADM0_NAME:"Turkey",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:27069,cum_clin:null,cum_susp:null,cum_death:574,EPIWeek:15,EPIYear:2020,Comment:null,ID:161816,GUID:"a135ad5a-5f50-44c3-bcca-18554926127a",CENTER_LON:35.17921811,CENTER_LAT:39.06061856,ADM0_VIZ_NAME:"Turkey",Short_Name_ZH:"土耳其",Short_Name_FR:"Turquie",Short_Name_ES:"Turquía",Short_Name_RU:"Турция",Short_Name_AR:"تركيا"}},{type:"Feature",id:161817,geometry:{type:"Point",coordinates:[8.23458738300008,46.8025828]},properties:{ADM0_NAME:"Switzerland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21065,cum_clin:null,cum_susp:null,cum_death:715,EPIWeek:15,EPIYear:2020,Comment:null,ID:161817,GUID:"3af18dcb-7d8a-4b6e-bc45-84611b8b6ecc",CENTER_LON:8.23458738,CENTER_LAT:46.8025828,ADM0_VIZ_NAME:"Switzerland",Short_Name_ZH:"瑞士",Short_Name_FR:"Suisse",Short_Name_ES:"Suiza",Short_Name_RU:"Швейцария",Short_Name_AR:"سويسرا"}},{type:"Feature",id:161818,geometry:{type:"Point",coordinates:[4.66434840900007,50.6429517600001]},properties:{ADM0_NAME:"Belgium",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19691,cum_clin:null,cum_susp:null,cum_death:1447,EPIWeek:15,EPIYear:2020,Comment:null,ID:161818,GUID:"effea6fa-d758-4860-ad26-41cdc15c23fb",CENTER_LON:4.66434841,CENTER_LAT:50.64295176,ADM0_VIZ_NAME:"Belgium",Short_Name_ZH:"比利时",Short_Name_FR:"Belgique",Short_Name_ES:"Bélgica",Short_Name_RU:"Бельгия",Short_Name_AR:"بلجيكا"}},{type:"Feature",id:161819,geometry:{type:"Point",coordinates:[5.60099775900005,52.253576303]},properties:{ADM0_NAME:"Netherlands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:17851,cum_clin:null,cum_susp:null,cum_death:1766,EPIWeek:15,EPIYear:2020,Comment:null,ID:161819,GUID:"f4139dd7-53a2-45a3-8e8c-c82b9323a391",CENTER_LON:5.60099776,CENTER_LAT:52.2535763,ADM0_VIZ_NAME:"Netherlands",Short_Name_ZH:"荷兰",Short_Name_FR:"Pays-Bas",Short_Name_ES:"Países Bajos",Short_Name_RU:"Нидерланды",Short_Name_AR:"هولندا"}},{type:"Feature",id:161820,geometry:{type:"Point",coordinates:[14.1399883120001,47.59295768]},properties:{ADM0_NAME:"Austria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11983,cum_clin:null,cum_susp:null,cum_death:204,EPIWeek:15,EPIYear:2020,Comment:null,ID:161820,GUID:"8608cb86-e05d-483d-8eda-8d1b03069602",CENTER_LON:14.13998831,CENTER_LAT:47.59295768,ADM0_VIZ_NAME:"Austria",Short_Name_ZH:"奥地利",Short_Name_FR:"Autriche",Short_Name_ES:"Austria",Short_Name_RU:"Австрия",Short_Name_AR:"النمسا"}},{type:"Feature",id:161821,geometry:{type:"Point",coordinates:[-8.46736074199993,39.6026951090001]},properties:{ADM0_NAME:"Portugal",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11278,cum_clin:null,cum_susp:null,cum_death:295,EPIWeek:15,EPIYear:2020,Comment:null,ID:161821,GUID:"48a4e6f7-f991-43b0-a27c-22d79e1a36bd",CENTER_LON:-8.46736074,CENTER_LAT:39.60269511,ADM0_VIZ_NAME:"Portugal",Short_Name_ZH:"葡萄牙",Short_Name_FR:"Portugal",Short_Name_ES:"Portugal",Short_Name_RU:"Португалия",Short_Name_AR:"البرتغال"}},{type:"Feature",id:161822,geometry:{type:"Point",coordinates:[34.9659827130001,31.3580565250001]},properties:{ADM0_NAME:"Israel",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:8018,cum_clin:null,cum_susp:null,cum_death:46,EPIWeek:15,EPIYear:2020,Comment:null,ID:161822,GUID:"81d5bb84-8e84-4830-9fa3-f29e9b09fda8",CENTER_LON:34.96598271,CENTER_LAT:31.35805652,ADM0_VIZ_NAME:"Israel",Short_Name_ZH:"以色列",Short_Name_FR:"Israël",Short_Name_ES:"Israel",Short_Name_RU:"Израиль",Short_Name_AR:"إسرائيل"}},{type:"Feature",id:161823,geometry:{type:"Point",coordinates:[16.741155258,62.7877422610001]},properties:{ADM0_NAME:"Sweden",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6830,cum_clin:null,cum_susp:null,cum_death:401,EPIWeek:15,EPIYear:2020,Comment:null,ID:161823,GUID:"35ec511a-2e1c-4483-a917-1f67a1342382",CENTER_LON:16.74115526,CENTER_LAT:62.78774226,ADM0_VIZ_NAME:"Sweden",Short_Name_ZH:"瑞典",Short_Name_FR:"Suède",Short_Name_ES:"Suecia",Short_Name_RU:"Швеция",Short_Name_AR:"السويد"}},{type:"Feature",id:161824,geometry:{type:"Point",coordinates:[14.0750891050001,64.447848874]},properties:{ADM0_NAME:"Norway",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5640,cum_clin:null,cum_susp:null,cum_death:58,EPIWeek:15,EPIYear:2020,Comment:null,ID:161824,GUID:"82efba96-e610-4592-a329-95d7c3a57b4f",CENTER_LON:14.07508911,CENTER_LAT:64.44784887,ADM0_VIZ_NAME:"Norway",Short_Name_ZH:"挪威",Short_Name_FR:"Norvège",Short_Name_ES:"Noruega",Short_Name_RU:"Норвегия",Short_Name_AR:"النرويج"}},{type:"Feature",id:161825,geometry:{type:"Point",coordinates:[96.689442146,61.9882456010001]},properties:{ADM0_NAME:"Russian Federation",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5389,cum_clin:null,cum_susp:null,cum_death:45,EPIWeek:15,EPIYear:2020,Comment:null,ID:161825,GUID:"58afb040-3a74-491b-809d-00b145c55577",CENTER_LON:96.68944215,CENTER_LAT:61.9882456,ADM0_VIZ_NAME:"Russian Federation",Short_Name_ZH:"俄罗斯联邦",Short_Name_FR:"Fédération de Russie",Short_Name_ES:"Federación de Rusia",Short_Name_RU:"Российская Федерация",Short_Name_AR:"الاتحاد الروسي"}},{type:"Feature",id:161826,geometry:{type:"Point",coordinates:[-8.15157629999993,53.1770868180001]},properties:{ADM0_NAME:"Ireland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5111,cum_clin:null,cum_susp:null,cum_death:158,EPIWeek:15,EPIYear:2020,Comment:null,ID:161826,GUID:"f5d664d0-c086-4d71-8874-044e3d094c5d",CENTER_LON:-8.1515763,CENTER_LAT:53.17708682,ADM0_VIZ_NAME:"Ireland",Short_Name_ZH:"爱尔兰",Short_Name_FR:"Irlande",Short_Name_ES:"Irlanda",Short_Name_RU:"Ирландия",Short_Name_AR:"آيرلندا"}},{type:"Feature",id:161827,geometry:{type:"Point",coordinates:[15.338339951,49.743036139]},properties:{ADM0_NAME:"Czechia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4587,cum_clin:null,cum_susp:null,cum_death:67,EPIWeek:15,EPIYear:2020,Comment:null,ID:161827,GUID:"8cf681ef-d988-4d5d-86c7-5483977059e7",CENTER_LON:15.33833995,CENTER_LAT:49.74303614,ADM0_VIZ_NAME:"Czechia",Short_Name_ZH:"捷克",Short_Name_FR:"Tchéquie",Short_Name_ES:"Chequia",Short_Name_RU:"Чехия",Short_Name_AR:"تشيكيا"}},{type:"Feature",id:161828,geometry:{type:"Point",coordinates:[10.0508208200001,55.962332802]},properties:{ADM0_NAME:"Denmark",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4369,cum_clin:null,cum_susp:null,cum_death:179,EPIWeek:15,EPIYear:2020,Comment:null,ID:161828,GUID:"39dcd44b-aa79-48a8-9840-3179a28a35a9",CENTER_LON:10.05082082,CENTER_LAT:55.9623328,ADM0_VIZ_NAME:"Denmark",Short_Name_ZH:"丹麦",Short_Name_FR:"Danemark",Short_Name_ES:"Dinamarca",Short_Name_RU:"Дания",Short_Name_AR:"الدانمرك"}},{type:"Feature",id:161829,geometry:{type:"Point",coordinates:[19.4009201690001,52.1247240530001]},properties:{ADM0_NAME:"Poland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4102,cum_clin:null,cum_susp:null,cum_death:94,EPIWeek:15,EPIYear:2020,Comment:null,ID:161829,GUID:"1c04cb3c-08f6-47a3-bb42-dd9da35e226c",CENTER_LON:19.40092017,CENTER_LAT:52.12472405,ADM0_VIZ_NAME:"Poland",Short_Name_ZH:"波兰",Short_Name_FR:"Pologne",Short_Name_ES:"Polonia",Short_Name_RU:"Польша",Short_Name_AR:"بولندا"}},{type:"Feature",id:161830,geometry:{type:"Point",coordinates:[24.96990758,45.843605584]},properties:{ADM0_NAME:"Romania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3864,cum_clin:null,cum_susp:null,cum_death:148,EPIWeek:15,EPIYear:2020,Comment:null,ID:161830,GUID:"26eaed41-b340-4f38-90e3-9392e04420c6",CENTER_LON:24.96990758,CENTER_LAT:45.84360558,ADM0_VIZ_NAME:"Romania",Short_Name_ZH:"罗马尼亚",Short_Name_FR:"Roumanie",Short_Name_ES:"Rumania",Short_Name_RU:"Румыния",Short_Name_AR:"رومانيا"}},{type:"Feature",id:161831,geometry:{type:"Point",coordinates:[6.08754415700002,49.7709639620001]},properties:{ADM0_NAME:"Luxembourg",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2804,cum_clin:null,cum_susp:null,cum_death:36,EPIWeek:15,EPIYear:2020,Comment:null,ID:161831,GUID:"05241edc-00fd-47ec-ba71-800dbf3f853d",CENTER_LON:6.08754416,CENTER_LAT:49.77096396,ADM0_VIZ_NAME:"Luxembourg",Short_Name_ZH:"卢森堡",Short_Name_FR:"Luxembourg",Short_Name_ES:"Luxemburgo",Short_Name_RU:"Люксембург",Short_Name_AR:"لكسمبرغ"}},{type:"Feature",id:161832,geometry:{type:"Point",coordinates:[26.258842304,64.4943312920001]},properties:{ADM0_NAME:"Finland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1927,cum_clin:null,cum_susp:null,cum_death:28,EPIWeek:15,EPIYear:2020,Comment:null,ID:161832,GUID:"e3fd3d41-feaa-443f-a135-08a80552525c",CENTER_LON:26.2588423,CENTER_LAT:64.49433129,ADM0_VIZ_NAME:"Finland",Short_Name_ZH:"芬兰",Short_Name_FR:"Finlande",Short_Name_ES:"Finlandia",Short_Name_RU:"Финляндия",Short_Name_AR:"فنلندا"}},{type:"Feature",id:161833,geometry:{type:"Point",coordinates:[20.8113308580001,44.0338722170001]},properties:{ADM0_NAME:"Serbia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1908,cum_clin:null,cum_susp:null,cum_death:51,EPIWeek:15,EPIYear:2020,Comment:"145",ID:161833,GUID:"c2a1295d-39bf-42fa-89ed-cadee2ea50c0",CENTER_LON:20.81133086,CENTER_LAT:44.03387222,ADM0_VIZ_NAME:"Serbia",Short_Name_ZH:"塞尔维亚",Short_Name_FR:"Serbie",Short_Name_ES:"Serbia",Short_Name_RU:"Сербия",Short_Name_AR:"صربيا"}},{type:"Feature",id:161834,geometry:{type:"Point",coordinates:[22.9879848,39.0445287420001]},properties:{ADM0_NAME:"Greece",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1735,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161834,GUID:"89efdcec-75e3-4185-83a8-d2cb7f6beff6",CENTER_LON:22.9879848,CENTER_LAT:39.04452874,ADM0_VIZ_NAME:"Greece",Short_Name_ZH:"希腊",Short_Name_FR:"Grèce",Short_Name_ES:"Grecia",Short_Name_RU:"Греция",Short_Name_AR:"اليونان"}},{type:"Feature",id:161835,geometry:{type:"Point",coordinates:[-18.6057025969999,64.9976499840001]},properties:{ADM0_NAME:"Iceland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1486,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161835,GUID:"66510a15-4a49-4fb4-9400-6e6fd0d1d259",CENTER_LON:-18.6057026,CENTER_LAT:64.99764998,ADM0_VIZ_NAME:"Iceland",Short_Name_ZH:"冰岛",Short_Name_FR:"Islande",Short_Name_ES:"Islandia",Short_Name_RU:"Исландия",Short_Name_AR:"آيسلندا"}},{type:"Feature",id:161836,geometry:{type:"Point",coordinates:[31.3878455180001,49.0160942850001]},properties:{ADM0_NAME:"Ukraine",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1319,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161836,GUID:"95185552-2b03-429c-8efb-c5779d556529",CENTER_LON:31.38784552,CENTER_LAT:49.01609429,ADM0_VIZ_NAME:"Ukraine",Short_Name_ZH:"乌克兰",Short_Name_FR:"Ukraine",Short_Name_ES:"Ucrania",Short_Name_RU:"Украина",Short_Name_AR:"أوكرانيا"}},{type:"Feature",id:161837,geometry:{type:"Point",coordinates:[16.409342489,45.043636959]},properties:{ADM0_NAME:"Croatia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1182,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161837,GUID:"0632bd7c-fa87-4b49-847e-747eb322c506",CENTER_LON:16.40934249,CENTER_LAT:45.04363696,ADM0_VIZ_NAME:"Croatia",Short_Name_ZH:"克罗地亚",Short_Name_FR:"Croatie",Short_Name_ES:"Croacia",Short_Name_RU:"Хорватия",Short_Name_AR:"كرواتيا"}},{type:"Feature",id:161838,geometry:{type:"Point",coordinates:[25.525770902,58.674007869]},properties:{ADM0_NAME:"Estonia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1097,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161838,GUID:"465ebc0d-dc95-4d49-8c01-58d7e2a9629f",CENTER_LON:25.5257709,CENTER_LAT:58.67400787,ADM0_VIZ_NAME:"Estonia",Short_Name_ZH:"爱沙尼亚",Short_Name_FR:"Estonie",Short_Name_ES:"Estonia",Short_Name_RU:"Эстония",Short_Name_AR:"إستونيا"}},{type:"Feature",id:161839,geometry:{type:"Point",coordinates:[14.8270744380001,46.123550256]},properties:{ADM0_NAME:"Slovenia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:997,cum_clin:null,cum_susp:null,cum_death:28,EPIWeek:15,EPIYear:2020,Comment:null,ID:161839,GUID:"a1f8bec8-8628-4e46-9c7e-238a386177b5",CENTER_LON:14.82707444,CENTER_LAT:46.12355026,ADM0_VIZ_NAME:"Slovenia",Short_Name_ZH:"斯洛文尼亚",Short_Name_FR:"Slovénie",Short_Name_ES:"Eslovenia",Short_Name_RU:"Словения",Short_Name_AR:"سلوفينيا"}},{type:"Feature",id:161840,geometry:{type:"Point",coordinates:[28.4743431700001,47.1933256130001]},properties:{ADM0_NAME:"Republic of Moldova",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:864,cum_clin:null,cum_susp:null,cum_death:15,EPIWeek:15,EPIYear:2020,Comment:null,ID:161840,GUID:"2e685fb5-826d-4cda-8f11-ab4e215115c8",CENTER_LON:28.47434317,CENTER_LAT:47.19332561,ADM0_VIZ_NAME:"Republic of Moldova",Short_Name_ZH:"摩尔多瓦共和国",Short_Name_FR:"République de Moldova",Short_Name_ES:"la República de Moldova",Short_Name_RU:"Республика Молдова",Short_Name_AR:" جمهورية مولدوفا"}},{type:"Feature",id:161841,geometry:{type:"Point",coordinates:[23.8968307550001,55.3358501330001]},properties:{ADM0_NAME:"Lithuania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:811,cum_clin:null,cum_susp:null,cum_death:13,EPIWeek:15,EPIYear:2020,Comment:null,ID:161841,GUID:"9dedcb14-a08f-4f9c-9248-f3e734fe9026",CENTER_LON:23.89683075,CENTER_LAT:55.33585013,ADM0_VIZ_NAME:"Lithuania",Short_Name_ZH:"立陶宛",Short_Name_FR:"Lituanie",Short_Name_ES:"Lituania",Short_Name_RU:"Литва",Short_Name_AR:"ليتوانيا"}},{type:"Feature",id:161842,geometry:{type:"Point",coordinates:[44.947934237,40.2864168850001]},properties:{ADM0_NAME:"Armenia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:746,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161842,GUID:"eacf41cc-aa5e-48c9-a3db-386fce22497f",CENTER_LON:44.94793424,CENTER_LAT:40.28641688,ADM0_VIZ_NAME:"Armenia",Short_Name_ZH:"亚美尼亚",Short_Name_FR:"Arménie",Short_Name_ES:"Armenia",Short_Name_RU:"Армения",Short_Name_AR:"أرمينيا"}},{type:"Feature",id:161843,geometry:{type:"Point",coordinates:[19.413428132,47.166479059]},properties:{ADM0_NAME:"Hungary",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:744,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161843,GUID:"dd6f8b0d-73f4-4afc-889e-185c363755bd",CENTER_LON:19.41342813,CENTER_LAT:47.16647906,ADM0_VIZ_NAME:"Hungary",Short_Name_ZH:"匈牙利",Short_Name_FR:"Hongrie",Short_Name_ES:"Hungría",Short_Name_RU:"Венгрия",Short_Name_AR:"هنغاريا"}},{type:"Feature",id:161844,geometry:{type:"Point",coordinates:[17.788588722,44.166459531]},properties:{ADM0_NAME:"Bosnia and Herzegovina",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:662,cum_clin:null,cum_susp:null,cum_death:21,EPIWeek:15,EPIYear:2020,Comment:null,ID:161844,GUID:"e72216b1-90ca-4ef3-8ca5-334dc566e491",CENTER_LON:17.78861095,CENTER_LAT:44.16643966,ADM0_VIZ_NAME:"Bosnia and Herzegovina",Short_Name_ZH:"波斯尼亚和黑塞哥维那",Short_Name_FR:"Bosnie-Herzégovine",Short_Name_ES:"Bosnia y Herzegovina",Short_Name_RU:"Босния и Герцеговина",Short_Name_AR:"البوسنة والهرسك"}},{type:"Feature",id:161845,geometry:{type:"Point",coordinates:[67.3013001780001,48.160042703]},properties:{ADM0_NAME:"Kazakhstan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:604,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161845,GUID:"4977dd2e-53da-4f6e-8b28-b232665dce70",CENTER_LON:67.30130018,CENTER_LAT:48.1600427,ADM0_VIZ_NAME:"Kazakhstan",Short_Name_ZH:"哈萨克斯坦",Short_Name_FR:"Kazakhstan",Short_Name_ES:"Kazajstán",Short_Name_RU:"Казахстан",Short_Name_AR:"كازاخستان"}},{type:"Feature",id:161846,geometry:{type:"Point",coordinates:[47.5323268120001,40.292219501]},properties:{ADM0_NAME:"Azerbaijan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:584,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161846,GUID:"7c545b04-b947-4d2a-94f1-af4010981973",CENTER_LON:47.53232681,CENTER_LAT:40.2922195,ADM0_VIZ_NAME:"Azerbaijan",Short_Name_ZH:"阿塞拜疆",Short_Name_FR:"Azerbaïdjan",Short_Name_ES:"Azerbaiyán",Short_Name_RU:"Азербайджан",Short_Name_AR:"أذربيجان"}},{type:"Feature",id:161847,geometry:{type:"Point",coordinates:[28.046964476,53.5402195120001]},properties:{ADM0_NAME:"Belarus",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:562,cum_clin:null,cum_susp:null,cum_death:8,EPIWeek:15,EPIYear:2020,Comment:null,ID:161847,GUID:"b0db3eb1-014d-4f19-ad8a-0d42e84400bc",CENTER_LON:28.04696448,CENTER_LAT:53.54021951,ADM0_VIZ_NAME:"Belarus",Short_Name_ZH:"白俄罗斯",Short_Name_FR:"Bélarus",Short_Name_ES:"Belarús",Short_Name_RU:"Беларусь",Short_Name_AR:"بيلاروس"}},{type:"Feature",id:161848,geometry:{type:"Point",coordinates:[21.699148501,41.5992207530001]},properties:{ADM0_NAME:"North Macedonia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:555,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161848,GUID:"3e3320e9-1f0d-44fb-9ca7-59fcb032f585",CENTER_LON:21.6991485,CENTER_LAT:41.59922075,ADM0_VIZ_NAME:"North Macedonia",Short_Name_ZH:"北马其顿",Short_Name_FR:"Macédoine du Nord",Short_Name_ES:"Macedonia del Norte",Short_Name_RU:"Северная Македония",Short_Name_AR:"مقدونيا الشمالية"}},{type:"Feature",id:161849,geometry:{type:"Point",coordinates:[24.9291533160001,56.857669393]},properties:{ADM0_NAME:"Latvia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:533,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161849,GUID:"0c31644b-8d04-4f24-aca0-d49b0523a771",CENTER_LON:24.92915332,CENTER_LAT:56.85766939,ADM0_VIZ_NAME:"Latvia",Short_Name_ZH:"拉脱维亚",Short_Name_FR:"Lettonie",Short_Name_ES:"Letonia",Short_Name_RU:"Латвия",Short_Name_AR:"لاتفيا"}},{type:"Feature",id:161850,geometry:{type:"Point",coordinates:[25.234757556,42.7603214050001]},properties:{ADM0_NAME:"Bulgaria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:531,cum_clin:null,cum_susp:null,cum_death:20,EPIWeek:15,EPIYear:2020,Comment:null,ID:161850,GUID:"9ec1719f-edd7-42af-8988-ed246a25ff6e",CENTER_LON:25.23475756,CENTER_LAT:42.76032141,ADM0_VIZ_NAME:"Bulgaria",Short_Name_ZH:"保加利亚",Short_Name_FR:"Bulgarie",Short_Name_ES:"Bulgaria",Short_Name_RU:"Болгария",Short_Name_AR:"بلغاريا"}},{type:"Feature",id:161851,geometry:{type:"Point",coordinates:[1.57568832800007,42.548582966]},properties:{ADM0_NAME:"Andorra",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:523,cum_clin:null,cum_susp:null,cum_death:17,EPIWeek:15,EPIYear:2020,Comment:null,ID:161851,GUID:"066f0f3c-d111-4a65-afdd-5f86e5ac8ddc",CENTER_LON:1.57568833,CENTER_LAT:42.54858297,ADM0_VIZ_NAME:"Andorra",Short_Name_ZH:"安道尔",Short_Name_FR:"Andorre",Short_Name_ES:"Andorra",Short_Name_RU:"Андорра",Short_Name_AR:"أندورا"}},{type:"Feature",id:161852,geometry:{type:"Point",coordinates:[19.4914502780001,48.7073588010001]},properties:{ADM0_NAME:"Slovakia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:485,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161852,GUID:"7ec96ad8-a352-4125-af49-b14e8cb9876b",CENTER_LON:19.49145028,CENTER_LAT:48.7073588,ADM0_VIZ_NAME:"Slovakia",Short_Name_ZH:"斯洛伐克",Short_Name_FR:"Slovaquie",Short_Name_ES:"Eslovaquia",Short_Name_RU:"Словакия",Short_Name_AR:"سلوفاكيا"}},{type:"Feature",id:161853,geometry:{type:"Point",coordinates:[33.2186370790001,35.042991746]},properties:{ADM0_NAME:"Cyprus",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:446,cum_clin:null,cum_susp:null,cum_death:14,EPIWeek:15,EPIYear:2020,Comment:null,ID:161853,GUID:"21711ed5-ad84-4f8f-af93-6e4d12e558bf",CENTER_LON:33.21863708,CENTER_LAT:35.04299175,ADM0_VIZ_NAME:"Cyprus",Short_Name_ZH:"塞浦路斯",Short_Name_FR:"Chypre",Short_Name_ES:"Chipre",Short_Name_RU:"Кипр",Short_Name_AR:"قبرص"}},{type:"Feature",id:161854,geometry:{type:"Point",coordinates:[63.169505783,41.750416607]},properties:{ADM0_NAME:"Uzbekistan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:390,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161854,GUID:"6041dd4d-0f77-4e28-8d46-cc9afc8dbf9a",CENTER_LON:63.16950578,CENTER_LAT:41.75041661,ADM0_VIZ_NAME:"Uzbekistan",Short_Name_ZH:"乌兹别克斯坦",Short_Name_FR:"Ouzbékistan",Short_Name_ES:"Uzbekistán",Short_Name_RU:"Узбекистан",Short_Name_AR:"أوزبكستان"}},{type:"Feature",id:161855,geometry:{type:"Point",coordinates:[20.0691781670001,41.145958029]},properties:{ADM0_NAME:"Albania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:377,cum_clin:null,cum_susp:null,cum_death:21,EPIWeek:15,EPIYear:2020,Comment:null,ID:161855,GUID:"c7192fcc-f547-44ed-a758-3d8e48420cef",CENTER_LON:20.06917817,CENTER_LAT:41.14595803,ADM0_VIZ_NAME:"Albania",Short_Name_ZH:"阿尔巴尼亚",Short_Name_FR:"Albanie",Short_Name_ES:"Albania",Short_Name_RU:"Албания",Short_Name_AR:"ألبانيا"}},{type:"Feature",id:161856,geometry:{type:"Point",coordinates:[12.4603576160001,43.9419147360001]},properties:{ADM0_NAME:"San Marino",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:266,cum_clin:null,cum_susp:null,cum_death:32,EPIWeek:15,EPIYear:2020,Comment:null,ID:161856,GUID:"1e7562c6-655a-4a6d-879f-7f80ff842b20",CENTER_LON:12.46035762,CENTER_LAT:43.94191474,ADM0_VIZ_NAME:"San Marino",Short_Name_ZH:"圣马力诺",Short_Name_FR:"Saint-Marin",Short_Name_ES:"San Marino",Short_Name_RU:"Сан-Марино",Short_Name_AR:"سان مارينو"}},{type:"Feature",id:161857,geometry:{type:"Point",coordinates:[14.404573585,35.9203665150001]},properties:{ADM0_NAME:"Malta",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:234,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161857,GUID:"fbafb313-9be5-49cc-9633-26c40e77d9d9",CENTER_LON:14.40457358,CENTER_LAT:35.92036651,ADM0_VIZ_NAME:"Malta",Short_Name_ZH:"马耳他",Short_Name_FR:"Malte",Short_Name_ES:"Malta",Short_Name_RU:"Мальта",Short_Name_AR:"مالطة"}},{type:"Feature",id:161858,geometry:{type:"Point",coordinates:[74.555492998,41.464907168]},properties:{ADM0_NAME:"Kyrgyzstan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:216,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161858,GUID:"874ef90d-615d-4ad3-8893-17d62ecda937",CENTER_LON:74.555493,CENTER_LAT:41.46490717,ADM0_VIZ_NAME:"Kyrgyzstan",Short_Name_ZH:"吉尔吉斯斯坦",Short_Name_FR:"Kirghizistan",Short_Name_ES:"Kirguistán",Short_Name_RU:"Кыргызстан",Short_Name_AR:"قيرغيزستان"}},{type:"Feature",id:161859,geometry:{type:"Point",coordinates:[19.264632787,42.796243544]},properties:{ADM0_NAME:"Montenegro",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:203,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161859,GUID:"09650ef3-8793-4a1f-b8a2-b6c1da8c2bef",CENTER_LON:19.26458919,CENTER_LAT:42.79659203,ADM0_VIZ_NAME:"Montenegro",Short_Name_ZH:"黑山",Short_Name_FR:"Monténégro",Short_Name_ES:"Montenegro",Short_Name_RU:"Черногория",Short_Name_AR:"الجبل الأسود"}},{type:"Feature",id:161860,geometry:{type:"Point",coordinates:[43.517571151,42.1763258280001]},properties:{ADM0_NAME:"Georgia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:188,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161860,GUID:"e75c6929-6252-4e54-af0f-83798afe3123",CENTER_LON:43.51757115,CENTER_LAT:42.17632583,ADM0_VIZ_NAME:"Georgia",Short_Name_ZH:"格鲁吉亚",Short_Name_FR:"Géorgie",Short_Name_ES:"Georgia",Short_Name_RU:"Грузия",Short_Name_AR:"جورجيا"}},{type:"Feature",id:161861,geometry:{type:"Point",coordinates:[-6.86363601799997,62.050314004]},properties:{ADM0_NAME:"Faroe Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:181,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161861,GUID:"53f56a27-5297-4c05-a47b-b2033e95db63",CENTER_LON:-6.86363602,CENTER_LAT:62.050314,ADM0_VIZ_NAME:"Faroe Islands",Short_Name_ZH:`法罗群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161862,geometry:{type:"Point",coordinates:[-2.12891773399997,49.2194981580001]},properties:{ADM0_NAME:"Jersey",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:155,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161862,GUID:"82a7eebf-4858-4ad8-b68f-1b7bd7b719bc",CENTER_LON:-2.12891773,CENTER_LAT:49.21949816,ADM0_VIZ_NAME:"Jersey",Short_Name_ZH:`泽西岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161863,geometry:{type:"Point",coordinates:[-2.57582282299995,49.459046304]},properties:{ADM0_NAME:"Guernsey",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:154,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161863,GUID:"2cb7929d-d72e-4129-83c9-c293fc73d996",CENTER_LON:-2.57582282,CENTER_LAT:49.4590463,ADM0_VIZ_NAME:"Guernsey",Short_Name_ZH:`根西岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161864,geometry:{type:"Point",coordinates:[20.9369550000001,42.568695]},properties:{ADM0_NAME:"Kosovo[1]",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:145,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:"1908",ID:161864,GUID:"71d5bb45-bba6-4305-a423-19927e9f4c53",CENTER_LON:20.936955,CENTER_LAT:42.568695,ADM0_VIZ_NAME:"Kosovo[1]",Short_Name_ZH:"科索沃[1]",Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161865,geometry:{type:"Point",coordinates:[-4.52652992499998,54.2288332950001]},properties:{ADM0_NAME:"Isle of Man",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:127,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161865,GUID:"45b3fcba-3667-474b-8081-b17737d8cb5f",CENTER_LON:-4.52652992,CENTER_LAT:54.2288333,ADM0_VIZ_NAME:"Isle of Man",Short_Name_ZH:`马恩岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161866,geometry:{type:"Point",coordinates:[-5.34488893099996,36.1381932030001]},properties:{ADM0_NAME:"Gibraltar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:103,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161866,GUID:"6e156108-e9e8-4087-b89c-37e5851bd8d0",CENTER_LON:-5.34488893,CENTER_LAT:36.1381932,ADM0_VIZ_NAME:"Gibraltar",Short_Name_ZH:`直布罗陀\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161867,geometry:{type:"Point",coordinates:[9.55526492600006,47.1525954850001]},properties:{ADM0_NAME:"Liechtenstein",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:78,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161867,GUID:"8b38ed63-f4bf-4683-96b5-e8c2eb7bd7e7",CENTER_LON:9.55526493,CENTER_LAT:47.15259548,ADM0_VIZ_NAME:"Liechtenstein",Short_Name_ZH:`列支敦士登\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161868,geometry:{type:"Point",coordinates:[7.41201715200003,43.7503461470001]},properties:{ADM0_NAME:"Monaco",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:37,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161868,GUID:"ac716d7e-26d7-46d8-a1a2-4222f42042f3",CENTER_LON:7.41201715,CENTER_LAT:43.75034615,ADM0_VIZ_NAME:"Monaco",Short_Name_ZH:"摩纳哥",Short_Name_FR:"Monaco",Short_Name_ES:"Mónaco",Short_Name_RU:"Монако",Short_Name_AR:"موناكو"}},{type:"Feature",id:161869,geometry:{type:"Point",coordinates:[-41.39096667,74.7189535310001]},properties:{ADM0_NAME:"Greenland",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161869,GUID:"e7d73b5c-27bf-451c-be96-73de13560e8c",CENTER_LON:-41.39096667,CENTER_LAT:74.71895353,ADM0_VIZ_NAME:"Greenland",Short_Name_ZH:`格陵兰岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161870,geometry:{type:"Point",coordinates:[12.4857111430001,41.893241947]},properties:{ADM0_NAME:"Holy See",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161870,GUID:"38144504-0224-4815-a545-5c8d34bb44d8",CENTER_LON:12.48571114,CENTER_LAT:41.89324195,ADM0_VIZ_NAME:"Holy See",Short_Name_ZH:`梵蒂冈\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161871,geometry:{type:"Point",coordinates:[79.6188182980001,22.881320567]},properties:{ADM0_NAME:"India",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4067,cum_clin:null,cum_susp:null,cum_death:109,EPIWeek:15,EPIYear:2020,Comment:null,ID:161871,GUID:"e75886d8-11ce-4563-bd85-86bcb9312cee",CENTER_LON:79.6188183,CENTER_LAT:22.88132057,ADM0_VIZ_NAME:"India",Short_Name_ZH:"印度",Short_Name_FR:"Inde",Short_Name_ES:"India",Short_Name_RU:"Индия",Short_Name_AR:"الهند"}},{type:"Feature",id:161872,geometry:{type:"Point",coordinates:[113.355162997,-.950074241999971]},properties:{ADM0_NAME:"Indonesia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2491,cum_clin:null,cum_susp:null,cum_death:209,EPIWeek:15,EPIYear:2020,Comment:null,ID:161872,GUID:"9350b806-04ca-4c8f-926e-7c5f644a13c7",CENTER_LON:117.31101692,CENTER_LAT:-2.22903453,ADM0_VIZ_NAME:"Indonesia",Short_Name_ZH:"印度尼西亚",Short_Name_FR:"Indonésie",Short_Name_ES:"Indonesia",Short_Name_RU:"Индонезия",Short_Name_AR:"إندونيسيا"}},{type:"Feature",id:161873,geometry:{type:"Point",coordinates:[101.014907816,15.1198987560001]},properties:{ADM0_NAME:"Thailand",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2220,cum_clin:null,cum_susp:null,cum_death:26,EPIWeek:15,EPIYear:2020,Comment:null,ID:161873,GUID:"3d1f17d7-1553-476a-a8d8-62dcd54d4779",CENTER_LON:101.01490782,CENTER_LAT:15.11989876,ADM0_VIZ_NAME:"Thailand",Short_Name_ZH:"泰国",Short_Name_FR:"Thaïlande",Short_Name_ES:"Tailandia",Short_Name_RU:"Таиланд",Short_Name_AR:"تايلند"}},{type:"Feature",id:161874,geometry:{type:"Point",coordinates:[80.7042626200001,7.61236242700005]},properties:{ADM0_NAME:"Sri Lanka",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:176,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161874,GUID:"12d0a30e-4c87-4a62-b124-c751e10cacac",CENTER_LON:80.70426262,CENTER_LAT:7.61236243,ADM0_VIZ_NAME:"Sri Lanka",Short_Name_ZH:"斯里兰卡",Short_Name_FR:"Sri Lanka",Short_Name_ES:"Sri Lanka",Short_Name_RU:"Шри-Ланка",Short_Name_AR:"سري لانكا"}},{type:"Feature",id:161875,geometry:{type:"Point",coordinates:[90.2709257590001,23.833007201]},properties:{ADM0_NAME:"Bangladesh",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:123,cum_clin:null,cum_susp:null,cum_death:12,EPIWeek:15,EPIYear:2020,Comment:null,ID:161875,GUID:"c4d7552f-faa1-4bf4-a22e-c9b5d9ee14c2",CENTER_LON:90.27092576,CENTER_LAT:23.8330072,ADM0_VIZ_NAME:"Bangladesh",Short_Name_ZH:"孟加拉国",Short_Name_FR:"Bangladesh",Short_Name_ES:"Bangladesh",Short_Name_RU:"Бангладеш",Short_Name_AR:"بنغلاديش"}},{type:"Feature",id:161876,geometry:{type:"Point",coordinates:[96.508682057,21.1400953610001]},properties:{ADM0_NAME:"Myanmar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161876,GUID:"a8c48537-a6ee-4d80-83f8-b3dda8858d94",CENTER_LON:96.50868206,CENTER_LAT:21.14009536,ADM0_VIZ_NAME:"Myanmar",Short_Name_ZH:"缅甸",Short_Name_FR:"Myanmar",Short_Name_ES:"Myanmar",Short_Name_RU:"Мьянма",Short_Name_AR:"ميانمار"}},{type:"Feature",id:161877,geometry:{type:"Point",coordinates:[73.2517847770001,3.37481931800005]},properties:{ADM0_NAME:"Maldives",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161877,GUID:"65914a49-5435-4cda-b916-f9ee5e14147b",CENTER_LON:73.25178478,CENTER_LAT:3.37481932,ADM0_VIZ_NAME:"Maldives",Short_Name_ZH:"马尔代夫",Short_Name_FR:"Maldives",Short_Name_ES:"Maldivas",Short_Name_RU:"Мальдивские Острова",Short_Name_AR:"ملديف"}},{type:"Feature",id:161878,geometry:{type:"Point",coordinates:[83.9385170750001,28.253007847]},properties:{ADM0_NAME:"Nepal",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161878,GUID:"da7d5887-ee15-421c-8ad9-b785996b0536",CENTER_LON:83.93851707,CENTER_LAT:28.25300785,ADM0_VIZ_NAME:"Nepal",Short_Name_ZH:"尼泊尔",Short_Name_FR:"Népal",Short_Name_ES:"Nepal",Short_Name_RU:"Непал",Short_Name_AR:"نيبال"}},{type:"Feature",id:161879,geometry:{type:"Point",coordinates:[90.4294327480001,27.415460823]},properties:{ADM0_NAME:"Bhutan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161879,GUID:"0d97d3e1-4ba2-431a-8404-f13231d663bd",CENTER_LON:90.42943275,CENTER_LAT:27.41546082,ADM0_VIZ_NAME:"Bhutan",Short_Name_ZH:"不丹",Short_Name_FR:"Bhoutan",Short_Name_ES:"Bhután",Short_Name_RU:"Бутан",Short_Name_AR:"بوتان"}},{type:"Feature",id:161880,geometry:{type:"Point",coordinates:[125.860996098,-8.82052123499994]},properties:{ADM0_NAME:"Timor-Leste",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161880,GUID:"57acee0b-5cc0-45d5-b65c-1d928ac08d16",CENTER_LON:125.8609961,CENTER_LAT:-8.82052123,ADM0_VIZ_NAME:"Timor-Leste",Short_Name_ZH:"东帝汶",Short_Name_FR:"Timor-Leste",Short_Name_ES:"Timor-Leste",Short_Name_RU:"Тимор-Лешти",Short_Name_AR:"تيمور- ليشتي"}},{type:"Feature",id:161881,geometry:{type:"Point",coordinates:[54.301413763,32.564799586]},properties:{ADM0_NAME:"Iran (Islamic Republic of)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:60500,cum_clin:null,cum_susp:null,cum_death:3739,EPIWeek:15,EPIYear:2020,Comment:null,ID:161881,GUID:"2eea3a5c-8a36-4a18-a7ab-1b927a092a60",CENTER_LON:54.30141376,CENTER_LAT:32.56479959,ADM0_VIZ_NAME:"Iran (Islamic Republic of)",Short_Name_ZH:"伊朗（伊斯兰共和国）",Short_Name_FR:"Iran (République islamique d')",Short_Name_ES:"Irán (República Islámica del)",Short_Name_RU:"Иран (Исламская Республика)",Short_Name_AR:"إيران (جمهورية - الإسلامية)"}},{type:"Feature",id:161882,geometry:{type:"Point",coordinates:[69.3858188080001,29.966788981]},properties:{ADM0_NAME:"Pakistan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3424,cum_clin:null,cum_susp:null,cum_death:50,EPIWeek:15,EPIYear:2020,Comment:null,ID:161882,GUID:"30ee6f01-1785-4ecb-b194-ba3becf5fd33",CENTER_LON:69.38581881,CENTER_LAT:29.96678898,ADM0_VIZ_NAME:"Pakistan",Short_Name_ZH:"巴基斯坦",Short_Name_FR:"Pakistan",Short_Name_ES:"Pakistán",Short_Name_RU:"Пакистан",Short_Name_AR:"باكستان"}},{type:"Feature",id:161883,geometry:{type:"Point",coordinates:[44.5704496550001,24.0808819160001]},properties:{ADM0_NAME:"Saudi Arabia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2523,cum_clin:null,cum_susp:null,cum_death:38,EPIWeek:15,EPIYear:2020,Comment:null,ID:161883,GUID:"fa5a7f77-0dca-4f91-9571-3b8a44607f74",CENTER_LON:44.57044965,CENTER_LAT:24.08088192,ADM0_VIZ_NAME:"Saudi Arabia",Short_Name_ZH:"沙特阿拉伯",Short_Name_FR:"Arabie saoudite",Short_Name_ES:"Arabia Saudita",Short_Name_RU:"Саудовская Аравия",Short_Name_AR:"المملكة العربية السعودية"}},{type:"Feature",id:161884,geometry:{type:"Point",coordinates:[54.3321987830001,23.912672544]},properties:{ADM0_NAME:"United Arab Emirates",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2076,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:161884,GUID:"549ed949-4c36-4ab0-b37c-ec9f84ee8e14",CENTER_LON:54.33219878,CENTER_LAT:23.91267254,ADM0_VIZ_NAME:"United Arab Emirates",Short_Name_ZH:"阿拉伯联合酋长国",Short_Name_FR:"Émirats arabes unis",Short_Name_ES:"Emiratos Árabes Unidos",Short_Name_RU:"Объединенные Арабские Эмираты",Short_Name_AR:"الإمارات العربية المتحدة"}},{type:"Feature",id:161885,geometry:{type:"Point",coordinates:[51.1912008290001,25.3158099720001]},properties:{ADM0_NAME:"Qatar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1604,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161885,GUID:"d5c3fdc5-6328-4dc7-a12c-27f168944d11",CENTER_LON:51.19120083,CENTER_LAT:25.31580997,ADM0_VIZ_NAME:"Qatar",Short_Name_ZH:"卡塔尔",Short_Name_FR:"Qatar",Short_Name_ES:"Qatar",Short_Name_RU:"Катар",Short_Name_AR:"قطر"}},{type:"Feature",id:161886,geometry:{type:"Point",coordinates:[29.7821070850001,26.5565645950001]},properties:{ADM0_NAME:"Egypt",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1173,cum_clin:null,cum_susp:null,cum_death:78,EPIWeek:15,EPIYear:2020,Comment:null,ID:161886,GUID:"598e205c-5683-49e0-b61e-4b279e6c2082",CENTER_LON:29.78210708,CENTER_LAT:26.5565646,ADM0_VIZ_NAME:"Egypt",Short_Name_ZH:"埃及",Short_Name_FR:"Égypte",Short_Name_ES:"Egipto",Short_Name_RU:"Египет",Short_Name_AR:"مصر"}},{type:"Feature",id:161887,geometry:{type:"Point",coordinates:[-6.31780294899994,31.8835569710001]},properties:{ADM0_NAME:"Morocco",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1113,cum_clin:null,cum_susp:null,cum_death:71,EPIWeek:15,EPIYear:2020,Comment:null,ID:161887,GUID:"8b881b86-2b79-4d8d-992d-01d939e1cdb9",CENTER_LON:-6.31780295,CENTER_LAT:31.88355697,ADM0_VIZ_NAME:"Morocco",Short_Name_ZH:"摩洛哥",Short_Name_FR:"Maroc",Short_Name_ES:"Marruecos",Short_Name_RU:"Марокко",Short_Name_AR:"المغرب"}},{type:"Feature",id:161888,geometry:{type:"Point",coordinates:[43.7722455160001,33.048006538]},properties:{ADM0_NAME:"Iraq",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1031,cum_clin:null,cum_susp:null,cum_death:64,EPIWeek:15,EPIYear:2020,Comment:null,ID:161888,GUID:"1ffa0200-4cdb-47df-ba42-2e687224b89d",CENTER_LON:43.77224552,CENTER_LAT:33.04800654,ADM0_VIZ_NAME:"Iraq",Short_Name_ZH:"伊拉克",Short_Name_FR:"Iraq",Short_Name_ES:"Iraq",Short_Name_RU:"Ирак",Short_Name_AR:"العراق"}},{type:"Feature",id:161889,geometry:{type:"Point",coordinates:[50.5624891480001,26.0194739230001]},properties:{ADM0_NAME:"Bahrain",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:723,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161889,GUID:"9c36e72c-28fe-463f-8d8a-43ec9be45bc6",CENTER_LON:50.56248915,CENTER_LAT:26.01947392,ADM0_VIZ_NAME:"Bahrain",Short_Name_ZH:"巴林",Short_Name_FR:"Bahreïn",Short_Name_ES:"Bahrein",Short_Name_RU:"Бахрейн",Short_Name_AR:"البحرين"}},{type:"Feature",id:161890,geometry:{type:"Point",coordinates:[47.5935512790001,29.342509057]},properties:{ADM0_NAME:"Kuwait",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:665,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161890,GUID:"3b548ca2-357e-4c78-b4b8-9ed0205e0d29",CENTER_LON:47.59355128,CENTER_LAT:29.34250906,ADM0_VIZ_NAME:"Kuwait",Short_Name_ZH:"科威特",Short_Name_FR:"Koweït",Short_Name_ES:"Kuwait",Short_Name_RU:"Кувейт",Short_Name_AR:"الكويت"}},{type:"Feature",id:161891,geometry:{type:"Point",coordinates:[9.56156142200007,34.1112491690001]},properties:{ADM0_NAME:"Tunisia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:574,cum_clin:null,cum_susp:null,cum_death:22,EPIWeek:15,EPIYear:2020,Comment:null,ID:161891,GUID:"9e2fe46a-7ed9-4eda-9a6d-91dfb3d70d34",CENTER_LON:9.56156142,CENTER_LAT:34.11124917,ADM0_VIZ_NAME:"Tunisia",Short_Name_ZH:"突尼斯",Short_Name_FR:"Tunisie",Short_Name_ES:"Túnez",Short_Name_RU:"Тунис",Short_Name_AR:"تونس"}},{type:"Feature",id:161892,geometry:{type:"Point",coordinates:[35.8880612290001,33.920393044]},properties:{ADM0_NAME:"Lebanon",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:541,cum_clin:null,cum_susp:null,cum_death:19,EPIWeek:15,EPIYear:2020,Comment:null,ID:161892,GUID:"3611afe5-e2e8-4576-aa04-e9516c701991",CENTER_LON:35.88806123,CENTER_LAT:33.92039304,ADM0_VIZ_NAME:"Lebanon",Short_Name_ZH:"黎巴嫩",Short_Name_FR:"Liban",Short_Name_ES:"Líbano",Short_Name_RU:"Ливан",Short_Name_AR:"لبنان"}},{type:"Feature",id:161893,geometry:{type:"Point",coordinates:[36.786941142,31.253381786]},properties:{ADM0_NAME:"Jordan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:345,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161893,GUID:"79882e66-3900-4c94-b9e1-fa2de8a2a6f0",CENTER_LON:36.78694114,CENTER_LAT:31.25338179,ADM0_VIZ_NAME:"Jordan",Short_Name_ZH:"约旦",Short_Name_FR:"Jordanie",Short_Name_ES:"Jordania",Short_Name_RU:"Иордания",Short_Name_AR:"الأردن"}},{type:"Feature",id:161894,geometry:{type:"Point",coordinates:[66.0265297700001,33.8389011570001]},properties:{ADM0_NAME:"Afghanistan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:337,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161894,GUID:"bf4e1516-20f9-4d0b-afee-15fb1fbbbbbe",CENTER_LON:66.02652977,CENTER_LAT:33.83890116,ADM0_VIZ_NAME:"Afghanistan",Short_Name_ZH:"阿富汗",Short_Name_FR:"Afghanistan",Short_Name_ES:"Afganistán",Short_Name_RU:"Афганистан",Short_Name_AR:"أفغانستان"}},{type:"Feature",id:161895,geometry:{type:"Point",coordinates:[56.1098174690001,20.6020836820001]},properties:{ADM0_NAME:"Oman",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:331,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161895,GUID:"5585e0a1-3071-45dd-9b00-1d4c91cb2c36",CENTER_LON:56.10981747,CENTER_LAT:20.60208368,ADM0_VIZ_NAME:"Oman",Short_Name_ZH:"阿曼",Short_Name_FR:"Oman",Short_Name_ES:"Omán",Short_Name_RU:"Оман",Short_Name_AR:"عمان"}},{type:"Feature",id:161896,geometry:{type:"Point",coordinates:[35.2037687770001,31.9139511390001]},properties:{ADM0_NAME:"occupied Palestinian territory",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:253,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161896,GUID:"34239be2-e939-4309-b18d-36cc81ef3230",CENTER_LON:35.20376878,CENTER_LAT:31.91395114,ADM0_VIZ_NAME:"occupied Palestinian territory",Short_Name_ZH:`巴勒斯坦被占领土\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161897,geometry:{type:"Point",coordinates:[42.5779402960001,11.7498128010001]},properties:{ADM0_NAME:"Djibouti",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:90,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161897,GUID:"01f29008-138c-45c3-a1e0-68200f08e1e9",CENTER_LON:42.5779403,CENTER_LAT:11.7498128,ADM0_VIZ_NAME:"Djibouti",Short_Name_ZH:"吉布提",Short_Name_FR:"Djibouti",Short_Name_ES:"Djibouti",Short_Name_RU:"Джибути",Short_Name_AR:"جيبوتي"}},{type:"Feature",id:161898,geometry:{type:"Point",coordinates:[38.5058474360001,35.0130727170001]},properties:{ADM0_NAME:"Syrian Arab Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:19,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161898,GUID:"cc57a348-8512-41f0-a924-29bce5e06948",CENTER_LON:38.50584744,CENTER_LAT:35.01307272,ADM0_VIZ_NAME:"Syrian Arab Republic",Short_Name_ZH:"阿拉伯叙利亚共和国",Short_Name_FR:"République arabe syrienne",Short_Name_ES:"República Árabe Siria",Short_Name_RU:"Сирийская Арабская Республика",Short_Name_AR:"الجمهورية العربية السورية"}},{type:"Feature",id:161899,geometry:{type:"Point",coordinates:[18.0231862690001,27.0440452400001]},properties:{ADM0_NAME:"Libya",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161899,GUID:"767c2628-8079-4eba-8899-55f29cfafb83",CENTER_LON:18.02318627,CENTER_LAT:27.04404524,ADM0_VIZ_NAME:"Libya",Short_Name_ZH:"利比亚",Short_Name_FR:"Libye",Short_Name_ES:"Libia",Short_Name_RU:"Ливия",Short_Name_AR:"ليبيا"}},{type:"Feature",id:161900,geometry:{type:"Point",coordinates:[30.004381349,16.048838211]},properties:{ADM0_NAME:"Sudan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:12,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161900,GUID:"3050873e-f010-4c4f-82d1-541e3c4fd887",CENTER_LON:30.00438135,CENTER_LAT:16.04883821,ADM0_VIZ_NAME:"Sudan",Short_Name_ZH:"苏丹",Short_Name_FR:"Soudan",Short_Name_ES:"Sudán",Short_Name_RU:"Судан",Short_Name_AR:"السودان"}},{type:"Feature",id:161901,geometry:{type:"Point",coordinates:[47.9564849590001,5.73058895600008]},properties:{ADM0_NAME:"Somalia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161901,GUID:"b5ff48b9-7282-445c-8cd2-befce4e0bda7",CENTER_LON:45.86255927,CENTER_LAT:6.0637135,ADM0_VIZ_NAME:"Somalia",Short_Name_ZH:"索马里",Short_Name_FR:"Somalie",Short_Name_ES:"Somalia",Short_Name_RU:"Сомали",Short_Name_AR:"الصومال"}},{type:"Feature",id:161903,geometry:{type:"Point",coordinates:[-101.433248,39.8897640000001]},properties:{ADM0_NAME:"United States of America",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:307318,cum_clin:null,cum_susp:null,cum_death:8358,EPIWeek:15,EPIYear:2020,Comment:null,ID:161903,GUID:"686f0da6-9025-4eb1-8f95-b164936ce382",CENTER_LON:-112.49356447,CENTER_LAT:45.6954816,ADM0_VIZ_NAME:"United States of America",Short_Name_ZH:"美利坚合众国",Short_Name_FR:"États-Unis d'Amérique",Short_Name_ES:"Estados Unidos de América",Short_Name_RU:"Соединенные Штаты Америки",Short_Name_AR:"الولايات المتحدة الأمريكية "}},{type:"Feature",id:161904,geometry:{type:"Point",coordinates:[-101.433248,57.393067]},properties:{ADM0_NAME:"Canada",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:13904,cum_clin:null,cum_susp:null,cum_death:231,EPIWeek:15,EPIYear:2020,Comment:null,ID:161904,GUID:"3c3c3405-35c5-4143-a7ab-738cf519268d",CENTER_LON:-98.26094698,CENTER_LAT:61.3930667,ADM0_VIZ_NAME:"Canada",Short_Name_ZH:"加拿大",Short_Name_FR:"Canada",Short_Name_ES:"Canadá",Short_Name_RU:"Канада",Short_Name_AR:"كندا"}},{type:"Feature",id:161905,geometry:{type:"Point",coordinates:[-53.088754363,-10.772282796]},properties:{ADM0_NAME:"Brazil",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10278,cum_clin:null,cum_susp:null,cum_death:432,EPIWeek:15,EPIYear:2020,Comment:null,ID:161905,GUID:"dbe63621-0172-44aa-a620-596915232432",CENTER_LON:-53.08875436,CENTER_LAT:-10.7722828,ADM0_VIZ_NAME:"Brazil",Short_Name_ZH:"巴西",Short_Name_FR:"Brésil",Short_Name_ES:"Brasil",Short_Name_RU:"Бразилия",Short_Name_AR:"البرازيل"}},{type:"Feature",id:161906,geometry:{type:"Point",coordinates:[-71.380093845,-37.868119222]},properties:{ADM0_NAME:"Chile",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4471,cum_clin:null,cum_susp:null,cum_death:34,EPIWeek:15,EPIYear:2020,Comment:null,ID:161906,GUID:"b359383b-d629-4086-b6b3-2bb5380272dc",CENTER_LON:-71.38009385,CENTER_LAT:-37.86811922,ADM0_VIZ_NAME:"Chile",Short_Name_ZH:"智利",Short_Name_FR:"Chili",Short_Name_ES:"Chile",Short_Name_RU:"Чили",Short_Name_AR:"شيلي"}},{type:"Feature",id:161907,geometry:{type:"Point",coordinates:[-78.780961767,-1.42528336599997]},properties:{ADM0_NAME:"Ecuador",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3465,cum_clin:null,cum_susp:null,cum_death:172,EPIWeek:15,EPIYear:2020,Comment:null,ID:161907,GUID:"41c1d495-2f62-42c7-a9be-16e90c179973",CENTER_LON:-78.78096177,CENTER_LAT:-1.42528337,ADM0_VIZ_NAME:"Ecuador",Short_Name_ZH:"厄瓜多尔",Short_Name_FR:"Équateur",Short_Name_ES:"Ecuador",Short_Name_RU:"Эквадор",Short_Name_AR:"إكوادور"}},{type:"Feature",id:161908,geometry:{type:"Point",coordinates:[-102.534990927,23.950928413]},properties:{ADM0_NAME:"Mexico",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1890,cum_clin:null,cum_susp:null,cum_death:79,EPIWeek:15,EPIYear:2020,Comment:null,ID:161908,GUID:"6c394d8d-8acc-4369-a7ee-c367dc533fdf",CENTER_LON:-102.53499093,CENTER_LAT:23.95092841,ADM0_VIZ_NAME:"Mexico",Short_Name_ZH:"墨西哥",Short_Name_FR:"Mexique",Short_Name_ES:"México",Short_Name_RU:"Мексика",Short_Name_AR:"المكسيك"}},{type:"Feature",id:161909,geometry:{type:"Point",coordinates:[-80.1090688369999,8.50544318000004]},properties:{ADM0_NAME:"Panama",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1801,cum_clin:null,cum_susp:null,cum_death:46,EPIWeek:15,EPIYear:2020,Comment:null,ID:161909,GUID:"91321513-fa2a-4cf9-a076-9b4e7d336306",CENTER_LON:-80.10906884,CENTER_LAT:8.50544318,ADM0_VIZ_NAME:"Panama",Short_Name_ZH:"巴拿马",Short_Name_FR:"Panama",Short_Name_ES:"Panamá",Short_Name_RU:"Панама",Short_Name_AR:"بنما"}},{type:"Feature",id:161910,geometry:{type:"Point",coordinates:[-74.375406681,-9.16377132599996]},properties:{ADM0_NAME:"Peru",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1746,cum_clin:null,cum_susp:null,cum_death:73,EPIWeek:15,EPIYear:2020,Comment:null,ID:161910,GUID:"aec1089a-a796-4ccb-bba0-bffde1eda7ee",CENTER_LON:-74.37540668,CENTER_LAT:-9.16377133,ADM0_VIZ_NAME:"Peru",Short_Name_ZH:"秘鲁",Short_Name_FR:"Pérou",Short_Name_ES:"Perú",Short_Name_RU:"Перу",Short_Name_AR:"بيرو"}},{type:"Feature",id:161911,geometry:{type:"Point",coordinates:[-70.485434472,18.8930938570001]},properties:{ADM0_NAME:"Dominican Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1488,cum_clin:null,cum_susp:null,cum_death:68,EPIWeek:15,EPIYear:2020,Comment:null,ID:161911,GUID:"29bca7cc-63a9-4125-aba4-d9d7ffaec4f8",CENTER_LON:-70.48543447,CENTER_LAT:18.89309386,ADM0_VIZ_NAME:"Dominican Republic",Short_Name_ZH:"多米尼加 ",Short_Name_FR:"République dominicaine",Short_Name_ES:"República Dominicana",Short_Name_RU:"Доминиканская Республика",Short_Name_AR:"الجمهورية الدومينيكية"}},{type:"Feature",id:161912,geometry:{type:"Point",coordinates:[-65.167484744,-35.376672529]},properties:{ADM0_NAME:"Argentina",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1451,cum_clin:null,cum_susp:null,cum_death:44,EPIWeek:15,EPIYear:2020,Comment:null,ID:161912,GUID:"61ea4a3a-5a12-410e-8af0-0d59d828a9dd",CENTER_LON:-65.16748474,CENTER_LAT:-35.37667253,ADM0_VIZ_NAME:"Argentina",Short_Name_ZH:"阿根廷 ",Short_Name_FR:"Argentine",Short_Name_ES:"Argentina",Short_Name_RU:"Аргентина",Short_Name_AR:"الأرجنتين"}},{type:"Feature",id:161913,geometry:{type:"Point",coordinates:[-73.075763345,3.90037400800003]},properties:{ADM0_NAME:"Colombia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1406,cum_clin:null,cum_susp:null,cum_death:32,EPIWeek:15,EPIYear:2020,Comment:null,ID:161913,GUID:"140398f0-b719-4865-aa11-f3dd7a3e137b",CENTER_LON:-73.07576335,CENTER_LAT:3.90037401,ADM0_VIZ_NAME:"Colombia",Short_Name_ZH:"哥伦比亚",Short_Name_FR:"Colombie",Short_Name_ES:"Colombia",Short_Name_RU:"Колумбия",Short_Name_AR:"كولومبيا"}},{type:"Feature",id:161914,geometry:{type:"Point",coordinates:[-66.466127479,18.220930739]},properties:{ADM0_NAME:"Puerto Rico",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:452,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161914,GUID:"d6d8a819-df69-4d1d-9773-210daee6fa94",CENTER_LON:-66.46612748,CENTER_LAT:18.22093074,ADM0_VIZ_NAME:"Puerto Rico",Short_Name_ZH:`波多黎各\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161915,geometry:{type:"Point",coordinates:[-84.189038674,9.97052135000007]},properties:{ADM0_NAME:"Costa Rica",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:435,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161915,GUID:"6a30141b-1259-45ef-9303-9b3087a67606",CENTER_LON:-84.18903867,CENTER_LAT:9.97052135,ADM0_VIZ_NAME:"Costa Rica",Short_Name_ZH:"哥斯达黎加",Short_Name_FR:"Costa Rica",Short_Name_ES:"Costa Rica",Short_Name_RU:"Коста-Рика",Short_Name_AR:"كوستاريكا"}},{type:"Feature",id:161916,geometry:{type:"Point",coordinates:[-56.012173616,-32.7995699159999]},properties:{ADM0_NAME:"Uruguay",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:400,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161916,GUID:"6c459166-4e08-4ab6-8ada-b4509dbc38d8",CENTER_LON:-56.01217362,CENTER_LAT:-32.79956992,ADM0_VIZ_NAME:"Uruguay",Short_Name_ZH:"乌拉圭",Short_Name_FR:"Uruguay",Short_Name_ES:"Uruguay",Short_Name_RU:"Уругвай",Short_Name_AR:"أوروغواي"}},{type:"Feature",id:161917,geometry:{type:"Point",coordinates:[-79.0381997969999,21.621420958]},properties:{ADM0_NAME:"Cuba",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:320,cum_clin:null,cum_susp:null,cum_death:8,EPIWeek:15,EPIYear:2020,Comment:null,ID:161917,GUID:"57e6170d-3eb1-4cfe-9335-a61c5f2ff534",CENTER_LON:-79.0381998,CENTER_LAT:21.62142096,ADM0_VIZ_NAME:"Cuba",Short_Name_ZH:"古巴",Short_Name_FR:"Cuba",Short_Name_ES:"Cuba",Short_Name_RU:"Куба",Short_Name_AR:"كوبا"}},{type:"Feature",id:161918,geometry:{type:"Point",coordinates:[-86.619658987,14.819348125]},properties:{ADM0_NAME:"Honduras",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:268,cum_clin:null,cum_susp:null,cum_death:22,EPIWeek:15,EPIYear:2020,Comment:null,ID:161918,GUID:"8d033cd7-4b1e-4c4c-87f0-879f94799ca2",CENTER_LON:-86.61965899,CENTER_LAT:14.81934813,ADM0_VIZ_NAME:"Honduras",Short_Name_ZH:"洪都拉斯",Short_Name_FR:"Honduras",Short_Name_ES:"Honduras",Short_Name_RU:"Гондурас",Short_Name_AR:"هندوراس"}},{type:"Feature",id:161919,geometry:{type:"Point",coordinates:[-64.6705484729999,-16.7151098919999]},properties:{ADM0_NAME:"Bolivia (Plurinational State of)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:157,cum_clin:null,cum_susp:null,cum_death:10,EPIWeek:15,EPIYear:2020,Comment:null,ID:161919,GUID:"500e72b0-dbef-4fea-b333-bcd8fd377eb9",CENTER_LON:-64.67054847,CENTER_LAT:-16.71510989,ADM0_VIZ_NAME:"Bolivia (Plurinational State of)",Short_Name_ZH:"玻利维亚（多民族国）",Short_Name_FR:"Bolivie (État plurinational de)",Short_Name_ES:"Bolivia (Estado Plurinacional de)  ",Short_Name_RU:"Боливия (Многонациональное Государство)",Short_Name_AR:"بوليفيا (دولة - المتعددة القوميات)"}},{type:"Feature",id:161920,geometry:{type:"Point",coordinates:[-61.021473822,14.6527741950001]},properties:{ADM0_NAME:"Martinique",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:145,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161920,GUID:"91fe4643-e623-462d-a9ae-d704c5ea52c1",CENTER_LON:-61.02147382,CENTER_LAT:14.65277419,ADM0_VIZ_NAME:"Martinique",Short_Name_ZH:`马提尼克岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161921,geometry:{type:"Point",coordinates:[-66.1662151469999,7.12493711500002]},properties:{ADM0_NAME:"Venezuela (Bolivarian Republic of)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:144,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161921,GUID:"64a39a4b-9812-43f6-861e-d1f31045aced",CENTER_LON:-66.16621515,CENTER_LAT:7.12493711,ADM0_VIZ_NAME:"Venezuela (Bolivarian Republic of)",Short_Name_ZH:"委内瑞拉(玻利瓦尔共和国)",Short_Name_FR:"Venezuela (République bolivarienne du)",Short_Name_ES:"Venezuela (República Bolivariana de)",Short_Name_RU:"Венесуэла (Боливарианская Республика)",Short_Name_AR:"فنزويلا"}},{type:"Feature",id:161922,geometry:{type:"Point",coordinates:[-61.530392424,16.2012635740001]},properties:{ADM0_NAME:"Guadeloupe",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:134,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161922,GUID:"899b5328-c489-48c0-b77d-536f26908563",CENTER_LON:-61.53039242,CENTER_LAT:16.20126357,ADM0_VIZ_NAME:"Guadeloupe",Short_Name_ZH:`瓜德罗普岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161923,geometry:{type:"Point",coordinates:[-58.390951781,-23.236128874]},properties:{ADM0_NAME:"Paraguay",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:104,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161923,GUID:"7e78b4f3-d231-444c-a8ab-c82373666a3f",CENTER_LON:-58.39095178,CENTER_LAT:-23.23612887,ADM0_VIZ_NAME:"Paraguay",Short_Name_ZH:"巴拉圭",Short_Name_FR:"Paraguay",Short_Name_ES:"Paraguay",Short_Name_RU:"Парагвай",Short_Name_AR:"باراغواي"}},{type:"Feature",id:161924,geometry:{type:"Point",coordinates:[-61.2526372249999,10.4683642860001]},properties:{ADM0_NAME:"Trinidad and Tobago",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:103,cum_clin:null,cum_susp:null,cum_death:6,EPIWeek:15,EPIYear:2020,Comment:null,ID:161924,GUID:"f78fa74a-5f4e-4e3d-870e-aad4ac4fcc6c",CENTER_LON:-61.25263722,CENTER_LAT:10.46836429,ADM0_VIZ_NAME:"Trinidad and Tobago",Short_Name_ZH:"特立尼达和多巴哥",Short_Name_FR:"Trinité-et-Tobago",Short_Name_ES:"Trinidad y Tabago",Short_Name_RU:"Тринидад и Тобаго ",Short_Name_AR:"ترينيداد وتوباغو"}},{type:"Feature",id:161925,geometry:{type:"Point",coordinates:[-53.2412669619999,3.92438820100006]},properties:{ADM0_NAME:"French Guiana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:66,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161925,GUID:"31ab5f81-ad33-43ce-8491-1fa569d46c57",CENTER_LON:-53.24126696,CENTER_LAT:3.9243882,ADM0_VIZ_NAME:"French Guiana",Short_Name_ZH:`法属圭亚那\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161926,geometry:{type:"Point",coordinates:[-69.977133134,12.5166873650001]},properties:{ADM0_NAME:"Aruba",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:64,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161926,GUID:"a5ca2f77-2705-4a8f-baee-ce6df1770224",CENTER_LON:-69.97713313,CENTER_LAT:12.51668736,ADM0_VIZ_NAME:"Aruba",Short_Name_ZH:`阿鲁巴\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161927,geometry:{type:"Point",coordinates:[-88.8656067429999,13.736145316]},properties:{ADM0_NAME:"El Salvador",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:62,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161927,GUID:"fa42353f-8656-4bc4-8ef4-19ba8a07848c",CENTER_LON:-88.86560674,CENTER_LAT:13.73614532,ADM0_VIZ_NAME:"El Salvador",Short_Name_ZH:"萨尔瓦多",Short_Name_FR:"El Salvador",Short_Name_ES:"El Salvador",Short_Name_RU:"Сальвадор",Short_Name_AR:"السلفادور"}},{type:"Feature",id:161928,geometry:{type:"Point",coordinates:[-90.356949304,15.7023025980001]},properties:{ADM0_NAME:"Guatemala",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:61,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161928,GUID:"7c9c0379-abf3-47b2-be97-0f40ded5f732",CENTER_LON:-90.3569493,CENTER_LAT:15.7023026,ADM0_VIZ_NAME:"Guatemala",Short_Name_ZH:"危地马拉",Short_Name_FR:"Guatemala",Short_Name_ES:"Guatemala",Short_Name_RU:"Гватемала",Short_Name_AR:"غواتيمالا"}},{type:"Feature",id:161929,geometry:{type:"Point",coordinates:[-77.3197508119999,18.151330639]},properties:{ADM0_NAME:"Jamaica",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:55,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161929,GUID:"203d9c03-8c32-4506-8ae0-abfc176c586f",CENTER_LON:-77.31975081,CENTER_LAT:18.15133064,ADM0_VIZ_NAME:"Jamaica",Short_Name_ZH:"牙买加",Short_Name_FR:"Jamaïque",Short_Name_ES:"Jamaica",Short_Name_RU:"Ямайка",Short_Name_AR:"جامايكا"}},{type:"Feature",id:161930,geometry:{type:"Point",coordinates:[-59.5621269649999,13.1787990180001]},properties:{ADM0_NAME:"Barbados",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:51,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161930,GUID:"7c810b1f-298c-4f95-a84d-ce460e6e593d",CENTER_LON:-59.56212696,CENTER_LAT:13.17879902,ADM0_VIZ_NAME:"Barbados",Short_Name_ZH:"巴巴多斯",Short_Name_FR:"Barbade",Short_Name_ES:"Barbados",Short_Name_RU:"Барбадос",Short_Name_AR:"بربادوس"}},{type:"Feature",id:161931,geometry:{type:"Point",coordinates:[-64.7869272139999,17.967889896]},properties:{ADM0_NAME:"United States Virgin Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:42,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161931,GUID:"446c32b0-82a6-46a6-896d-731014da7e78",CENTER_LON:-64.78692721,CENTER_LAT:17.9678899,ADM0_VIZ_NAME:"United States Virgin Islands",Short_Name_ZH:`美属维尔京群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161932,geometry:{type:"Point",coordinates:[-64.7563772199999,32.3134949820001]},properties:{ADM0_NAME:"Bermuda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:37,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161932,GUID:"52405a96-0ce0-44d8-9634-3d0585d5e7fa",CENTER_LON:-64.75637722,CENTER_LAT:32.31349498,ADM0_VIZ_NAME:"Bermuda",Short_Name_ZH:`百慕大\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161933,geometry:{type:"Point",coordinates:[-80.82909683,19.4315249970001]},properties:{ADM0_NAME:"Cayman Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:35,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161933,GUID:"5e1bff1e-8435-4bf8-ae33-bea5d4269c84",CENTER_LON:-80.82909683,CENTER_LAT:19.431525,ADM0_VIZ_NAME:"Cayman Islands",Short_Name_ZH:`开曼群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161934,geometry:{type:"Point",coordinates:[-63.064572292,18.0876049020001]},properties:{ADM0_NAME:"Saint Martin",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:29,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161934,GUID:"17c12ab2-0c7d-412b-b525-3f740cbc3e6c",CENTER_LON:-63.06457229,CENTER_LAT:18.0876049,ADM0_VIZ_NAME:"Saint Martin",Short_Name_ZH:`圣马丁岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161935,geometry:{type:"Point",coordinates:[-76.5004385,24.166682904]},properties:{ADM0_NAME:"Bahamas",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:28,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161935,GUID:"33b1cbcb-fe87-4a85-95cb-6da429e96a44",CENTER_LON:-76.5004385,CENTER_LAT:24.1666829,ADM0_VIZ_NAME:"Bahamas",Short_Name_ZH:"巴哈马",Short_Name_FR:"Bahamas",Short_Name_ES:"Bahamas",Short_Name_RU:"Багамские Острова",Short_Name_AR:"جزر البهاما"}},{type:"Feature",id:161936,geometry:{type:"Point",coordinates:[-58.9741634929999,4.79237827200006]},properties:{ADM0_NAME:"Guyana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:24,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161936,GUID:"b663554a-3aa6-47a6-ba74-453b3ef0dcd1",CENTER_LON:-58.97416349,CENTER_LAT:4.79237827,ADM0_VIZ_NAME:"Guyana",Short_Name_ZH:"圭亚那",Short_Name_FR:"Guyana",Short_Name_ES:"Guyana",Short_Name_RU:"Гайана",Short_Name_AR:"غيانا"}},{type:"Feature",id:161937,geometry:{type:"Point",coordinates:[-63.061943376,18.046835238]},properties:{ADM0_NAME:"Sint Maarten",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:23,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161937,GUID:"7974e7a0-7846-4685-946a-da7f5315015d",CENTER_LON:-63.06194338,CENTER_LAT:18.04683524,ADM0_VIZ_NAME:"Sint Maarten",Short_Name_ZH:`圣马丁\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161938,geometry:{type:"Point",coordinates:[-72.683580138,18.9390013620001]},properties:{ADM0_NAME:"Haiti",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161938,GUID:"45438a36-15d1-416a-b380-1606669af4c7",CENTER_LON:-72.68358014,CENTER_LAT:18.93900136,ADM0_VIZ_NAME:"Haiti",Short_Name_ZH:"海地",Short_Name_FR:"Haïti",Short_Name_ES:"Haití",Short_Name_RU:"Гаити",Short_Name_AR:"هايتي"}},{type:"Feature",id:161939,geometry:{type:"Point",coordinates:[-60.968690838,13.8981151830001]},properties:{ADM0_NAME:"Saint Lucia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161939,GUID:"4f023367-6b34-4f1f-9570-0a3fb3983ca5",CENTER_LON:-60.96869084,CENTER_LAT:13.89811518,ADM0_VIZ_NAME:"Saint Lucia",Short_Name_ZH:"圣卢西亚",Short_Name_FR:"Sainte-Lucie",Short_Name_ES:"Santa Lucía",Short_Name_RU:"Сент-Люсия",Short_Name_AR:"سانت لوسيا"}},{type:"Feature",id:161940,geometry:{type:"Point",coordinates:[-61.650039087,12.162515732]},properties:{ADM0_NAME:"Grenada",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:12,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161940,GUID:"4b754e02-4287-4b40-9237-7e13fb010e05",CENTER_LON:-61.65003909,CENTER_LAT:12.16251573,ADM0_VIZ_NAME:"Grenada",Short_Name_ZH:"格林纳达",Short_Name_FR:"Grenade",Short_Name_ES:"Granada",Short_Name_RU:"Гренада",Short_Name_AR:"غرينادا"}},{type:"Feature",id:161941,geometry:{type:"Point",coordinates:[-68.967490546,12.187797523]},properties:{ADM0_NAME:"Curaçao",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161941,GUID:"9ebcf8c2-5724-465e-93ee-b30f90cc72d2",CENTER_LON:-68.96749055,CENTER_LAT:12.18779752,ADM0_VIZ_NAME:"Curaçao",Short_Name_ZH:`库拉索岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161942,geometry:{type:"Point",coordinates:[-61.355493849,15.4366125190001]},properties:{ADM0_NAME:"Dominica",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:11,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161942,GUID:"1c6dac95-666f-4994-abdc-7d788e9d27cd",CENTER_LON:-61.35549385,CENTER_LAT:15.43661252,ADM0_VIZ_NAME:"Dominica",Short_Name_ZH:"多米尼克",Short_Name_FR:"Dominique",Short_Name_ES:"Dominica",Short_Name_RU:"Доминика",Short_Name_AR:"دومينيكا"}},{type:"Feature",id:161943,geometry:{type:"Point",coordinates:[-55.9115812429999,4.12671321000005]},properties:{ADM0_NAME:"Suriname",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161943,GUID:"33662fcb-6959-4784-a877-29e3781477c2",CENTER_LON:-55.91158124,CENTER_LAT:4.12671321,ADM0_VIZ_NAME:"Suriname",Short_Name_ZH:"苏里南",Short_Name_FR:"Suriname",Short_Name_ES:"Suriname",Short_Name_RU:"Суринам",Short_Name_AR:"سورينام"}},{type:"Feature",id:161944,geometry:{type:"Point",coordinates:[-62.696173968,17.2658565570001]},properties:{ADM0_NAME:"Saint Kitts and Nevis",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161944,GUID:"f6334680-79c9-450c-bddb-95facb6af2b9",CENTER_LON:-62.69617397,CENTER_LAT:17.26585656,ADM0_VIZ_NAME:"Saint Kitts and Nevis",Short_Name_ZH:"圣基茨和尼维斯",Short_Name_FR:"Saint-Kitts-et-Nevis",Short_Name_ES:"Saint Kitts y Nevis",Short_Name_RU:"Сент-Китс и Невис",Short_Name_AR:"سانت كيتس ونيفس"}},{type:"Feature",id:161945,geometry:{type:"Point",coordinates:[-61.791127591,17.280137]},properties:{ADM0_NAME:"Antigua and Barbuda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:7,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161945,GUID:"2debcae0-be57-4212-8b92-8a0be7da51a4",CENTER_LON:-61.79112759,CENTER_LAT:17.280137,ADM0_VIZ_NAME:"Antigua and Barbuda",Short_Name_ZH:"安提瓜和巴布达",Short_Name_FR:"Antigua-et-Barbuda",Short_Name_ES:"Antigua y Barbuda",Short_Name_RU:"Антигуа и Барбуда",Short_Name_AR:"أنتيغوا وبربودا"}},{type:"Feature",id:161946,geometry:{type:"Point",coordinates:[-62.186921449,16.7357596900001]},properties:{ADM0_NAME:"Montserrat",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161946,GUID:"9a351f16-f468-4e6a-925e-03db8fbd4ba7",CENTER_LON:-62.18692145,CENTER_LAT:16.73575969,ADM0_VIZ_NAME:"Montserrat",Short_Name_ZH:`蒙特塞拉特岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161947,geometry:null,properties:{ADM0_NAME:"Saint Bathélemy",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161947,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:null,Short_Name_ZH:null,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161948,geometry:{type:"Point",coordinates:[-88.682785445,17.218528292]},properties:{ADM0_NAME:"Belize",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161948,GUID:"a4d24382-fdc3-4d00-9100-b548a6242d22",CENTER_LON:-88.68278545,CENTER_LAT:17.21852829,ADM0_VIZ_NAME:"Belize",Short_Name_ZH:"伯利兹",Short_Name_FR:"Belize",Short_Name_ES:"Belice",Short_Name_RU:"Белиз",Short_Name_AR:"بليز"}},{type:"Feature",id:161949,geometry:{type:"Point",coordinates:[-85.033750249,12.8400697610001]},properties:{ADM0_NAME:"Nicaragua",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161949,GUID:"85203b89-a328-4d85-b6e4-c9596a5c5a6f",CENTER_LON:-85.03375025,CENTER_LAT:12.84006976,ADM0_VIZ_NAME:"Nicaragua",Short_Name_ZH:"尼加拉瓜",Short_Name_FR:"Nicaragua",Short_Name_ES:"Nicaragua",Short_Name_RU:"Никарагуа",Short_Name_AR:"نيكاراغوا"}},{type:"Feature",id:161950,geometry:{type:"Point",coordinates:[-71.882079172,21.8086929190001]},properties:{ADM0_NAME:"Turks and Caicos Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161950,GUID:"370668bf-3302-4cb1-928d-261a3fdd09ee",CENTER_LON:-71.88207917,CENTER_LAT:21.80869292,ADM0_VIZ_NAME:"Turks and Caicos Islands",Short_Name_ZH:`特克斯和凯科斯群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161951,geometry:{type:"Point",coordinates:[-63.057956094,18.2242329370001]},properties:{ADM0_NAME:"Anguilla",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161951,GUID:"a4e72e84-00bb-4ad5-890e-a9e6734a28ee",CENTER_LON:-63.05795609,CENTER_LAT:18.22423294,ADM0_VIZ_NAME:"Anguilla",Short_Name_ZH:`安圭拉\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161952,geometry:{type:"Point",coordinates:[-64.481892015,18.5099570350001]},properties:{ADM0_NAME:"British Virgin Islands",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161952,GUID:"81eb8a93-1c6f-46a7-8927-543258b1b974",CENTER_LON:-64.48189201,CENTER_LAT:18.50995704,ADM0_VIZ_NAME:"British Virgin Islands",Short_Name_ZH:`英属维尔京群岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161953,geometry:{type:"Point",coordinates:[-61.2075300889999,13.2020546800001]},properties:{ADM0_NAME:"Saint Vincent and the Grenadines",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161953,GUID:"e0de017e-24ec-454f-aee3-57443de5b7d2",CENTER_LON:-61.20753009,CENTER_LAT:13.20205468,ADM0_VIZ_NAME:"Saint Vincent and the Grenadines",Short_Name_ZH:"圣文森特和格林纳丁斯",Short_Name_FR:"Saint-Vincent-et-les Grenadines",Short_Name_ES:"San Vicente y las Granadinas",Short_Name_RU:"Сент-Винсент и Гренадины",Short_Name_AR:"سانت فنسنت وجزر غرينادين"}},{type:"Feature",id:161954,geometry:{type:"Point",coordinates:[-67.6837091749999,12.801902598]},properties:{ADM0_NAME:"Bonaire, Sint Eustatius and Saba",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161954,GUID:"03d049e6-6b6d-40e8-8be7-c2d0bf288b51",CENTER_LON:-67.68370917,CENTER_LAT:12.8019026,ADM0_VIZ_NAME:"Bonaire, Sint Eustatius and Saba",Short_Name_ZH:`博内尔、圣尤斯特歇斯和萨巴\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161955,geometry:{type:"Point",coordinates:[-59.3723460369999,-51.739824397]},properties:{ADM0_NAME:"Falkland Islands (Malvinas)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:2,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161955,GUID:"769ffe65-df8d-4c93-aae9-abb20ae84439",CENTER_LON:-59.37234604,CENTER_LAT:-51.7398244,ADM0_VIZ_NAME:"Falkland Islands (Malvinas)",Short_Name_ZH:`福克兰群岛（马尔维纳斯群岛）\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161956,geometry:{type:"Point",coordinates:[25.0887119870001,-28.993213517]},properties:{ADM0_NAME:"South Africa",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1655,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:161956,GUID:"36a8fa2c-5b69-47e3-bac8-dc657e44de43",CENTER_LON:25.08871199,CENTER_LAT:-28.99321352,ADM0_VIZ_NAME:"South Africa",Short_Name_ZH:"南非",Short_Name_FR:"Afrique du Sud",Short_Name_ES:"Sudáfrica",Short_Name_RU:"Южная Африка",Short_Name_AR:"جنوب أفريقيا"}},{type:"Feature",id:161957,geometry:{type:"Point",coordinates:[2.63236594700004,28.1633574140001]},properties:{ADM0_NAME:"Algeria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1251,cum_clin:null,cum_susp:null,cum_death:130,EPIWeek:15,EPIYear:2020,Comment:null,ID:161957,GUID:"74e60ac9-fe75-4273-9483-536bb1dd9f64",CENTER_LON:2.63236595,CENTER_LAT:28.16335741,ADM0_VIZ_NAME:"Algeria",Short_Name_ZH:"阿尔及利亚",Short_Name_FR:"Algérie",Short_Name_ES:"Argelia",Short_Name_RU:"Алжир",Short_Name_AR:"الجزائر"}},{type:"Feature",id:161958,geometry:{type:"Point",coordinates:[12.7432535040001,5.68580436000002]},properties:{ADM0_NAME:"Cameroon",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:555,cum_clin:null,cum_susp:null,cum_death:9,EPIWeek:15,EPIYear:2020,Comment:null,ID:161958,GUID:"5cdb6bf4-89ce-457e-9c53-fb9142d71ba0",CENTER_LON:12.7432535,CENTER_LAT:5.68580436,ADM0_VIZ_NAME:"Cameroon",Short_Name_ZH:"喀麦隆",Short_Name_FR:"Cameroun",Short_Name_ES:"Camerún",Short_Name_RU:"Камерун",Short_Name_AR:"الكاميرون"}},{type:"Feature",id:161959,geometry:{type:"Point",coordinates:[-1.73983521099996,12.277937148]},properties:{ADM0_NAME:"Burkina Faso",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:345,cum_clin:null,cum_susp:null,cum_death:17,EPIWeek:15,EPIYear:2020,Comment:null,ID:161959,GUID:"9612ac85-d7cd-4b88-b2b9-c7b6db8ab6de",CENTER_LON:-1.73983521,CENTER_LAT:12.27793715,ADM0_VIZ_NAME:"Burkina Faso",Short_Name_ZH:"布基纳法索",Short_Name_FR:"Burkina Faso",Short_Name_ES:"Burkina Faso",Short_Name_RU:"Буркина-Фасо",Short_Name_AR:"بوركينا فاسو"}},{type:"Feature",id:161960,geometry:{type:"Point",coordinates:[55.538212738,-21.1216294619999]},properties:{ADM0_NAME:"Réunion",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:344,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161960,GUID:"be01a35a-ea31-4453-bb23-5a01330a658f",CENTER_LON:55.53821274,CENTER_LAT:-21.12162946,ADM0_VIZ_NAME:"Réunion",Short_Name_ZH:`留尼汪岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161961,geometry:null,properties:{ADM0_NAME:"Côte d'Ivoire",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:261,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161961,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:null,Short_Name_ZH:null,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161962,geometry:{type:"Point",coordinates:[8.10527725500003,9.59360399500002]},properties:{ADM0_NAME:"Nigeria",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:232,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161962,GUID:"3eba1f03-98d4-4335-804e-6c3f9e7d5da1",CENTER_LON:8.10527726,CENTER_LAT:9.59360399,ADM0_VIZ_NAME:"Nigeria",Short_Name_ZH:"尼日利亚",Short_Name_FR:"Nigéria",Short_Name_ES:"Nigeria",Short_Name_RU:"Нигерия",Short_Name_AR:"نيجيريا"}},{type:"Feature",id:161963,geometry:{type:"Point",coordinates:[57.868475995,-20.1700677979999]},properties:{ADM0_NAME:"Mauritius",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:227,cum_clin:null,cum_susp:null,cum_death:7,EPIWeek:15,EPIYear:2020,Comment:null,ID:161963,GUID:"2094fffc-8af7-4e5e-8bcd-176608114177",CENTER_LON:57.868476,CENTER_LAT:-20.1700678,ADM0_VIZ_NAME:"Mauritius",Short_Name_ZH:"毛里求斯",Short_Name_FR:"Maurice",Short_Name_ES:"Mauricio",Short_Name_RU:"Маврикий",Short_Name_AR:"موريشيوس"}},{type:"Feature",id:161964,geometry:{type:"Point",coordinates:[-14.4681770789999,14.3669795380001]},properties:{ADM0_NAME:"Senegal",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:226,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161964,GUID:"08acdf4e-cc04-46d9-b4c1-75f6ef39b685",CENTER_LON:-14.46817708,CENTER_LAT:14.36697954,ADM0_VIZ_NAME:"Senegal",Short_Name_ZH:"塞内加尔",Short_Name_FR:"Sénégal",Short_Name_ES:"Senegal",Short_Name_RU:"Сенегал",Short_Name_AR:"السنغال"}},{type:"Feature",id:161965,geometry:{type:"Point",coordinates:[-1.20704618899993,7.95964382200003]},properties:{ADM0_NAME:"Ghana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:214,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161965,GUID:"f582ca2f-9b52-4cea-ac99-2ae687930d8e",CENTER_LON:-1.20704619,CENTER_LAT:7.95964382,ADM0_VIZ_NAME:"Ghana",Short_Name_ZH:"加纳",Short_Name_FR:"Ghana",Short_Name_ES:"Ghana",Short_Name_RU:"Гана",Short_Name_AR:"غانا"}},{type:"Feature",id:161966,geometry:{type:"Point",coordinates:[9.39765753500006,17.4263228230001]},properties:{ADM0_NAME:"Niger",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:184,cum_clin:null,cum_susp:null,cum_death:10,EPIWeek:15,EPIYear:2020,Comment:null,ID:161966,GUID:"bb6da46b-2209-45c4-b51a-fb815b957eee",CENTER_LON:9.39765754,CENTER_LAT:17.42632282,ADM0_VIZ_NAME:"Niger",Short_Name_ZH:"尼日尔",Short_Name_FR:"Niger",Short_Name_ES:"Níger",Short_Name_RU:"Нигер",Short_Name_AR:"النيجر"}},{type:"Feature",id:161967,geometry:{type:"Point",coordinates:[23.6544653930001,-2.87619975299998]},properties:{ADM0_NAME:"Democratic Republic of the Congo",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:161,cum_clin:null,cum_susp:null,cum_death:18,EPIWeek:15,EPIYear:2020,Comment:null,ID:161967,GUID:"39cf5edd-97d7-4d13-a724-a5d098782320",CENTER_LON:23.65431545,CENTER_LAT:-2.87622576,ADM0_VIZ_NAME:"Democratic Republic of the Congo",Short_Name_ZH:"刚果民主共和国",Short_Name_FR:"République démocratique du Congo",Short_Name_ES:"República Democrática del Congo",Short_Name_RU:"Демократическая Республика Конго",Short_Name_AR:"جمهورية الكونغو الديمقراطية "}},{type:"Feature",id:161968,geometry:{type:"Point",coordinates:[45.139261742,-12.8183500609999]},properties:{ADM0_NAME:"Mayotte",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:147,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161968,GUID:"54c780ec-3aa8-442e-987f-6589116a3f57",CENTER_LON:45.13926174,CENTER_LAT:-12.81835006,ADM0_VIZ_NAME:"Mayotte",Short_Name_ZH:`马约特岛\r
`,Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}},{type:"Feature",id:161969,geometry:{type:"Point",coordinates:[37.857864416,.529780176000031]},properties:{ADM0_NAME:"Kenya",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:142,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161969,GUID:"2198ecc4-8b3b-4003-9ea9-874348df3de0",CENTER_LON:37.85786442,CENTER_LAT:.52978018,ADM0_VIZ_NAME:"Kenya",Short_Name_ZH:"肯尼亚",Short_Name_FR:"Kenya",Short_Name_ES:"Kenya",Short_Name_RU:"Кения",Short_Name_AR:"كينيا"}},{type:"Feature",id:161970,geometry:{type:"Point",coordinates:[-10.9418254249999,10.438540941]},properties:{ADM0_NAME:"Guinea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:111,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161970,GUID:"3740a605-5160-4f27-bd0d-d8f08466011a",CENTER_LON:-10.94182542,CENTER_LAT:10.43854094,ADM0_VIZ_NAME:"Guinea",Short_Name_ZH:"几内亚",Short_Name_FR:"Guinée",Short_Name_ES:"Guinea",Short_Name_RU:"Гвинея",Short_Name_AR:"غينيا"}},{type:"Feature",id:161971,geometry:{type:"Point",coordinates:[29.917205531,-1.99796797799996]},properties:{ADM0_NAME:"Rwanda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:102,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161971,GUID:"895ea23f-dbcd-467f-bf1e-54aa4d3f2c45",CENTER_LON:29.91720553,CENTER_LAT:-1.99796798,ADM0_VIZ_NAME:"Rwanda",Short_Name_ZH:"卢旺达",Short_Name_FR:"Rwanda",Short_Name_ES:"Rwanda",Short_Name_RU:"Руанда",Short_Name_AR:"رواندا"}},{type:"Feature",id:161972,geometry:{type:"Point",coordinates:[46.7059924820001,-19.373521329]},properties:{ADM0_NAME:"Madagascar",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:77,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161972,GUID:"820b442d-b7ed-4c39-ab5a-51b0babbeecf",CENTER_LON:46.70599248,CENTER_LAT:-19.37352133,ADM0_VIZ_NAME:"Madagascar",Short_Name_ZH:"马达加斯加",Short_Name_FR:"Madagascar",Short_Name_ES:"Madagascar",Short_Name_RU:"Мадагаскар",Short_Name_AR:"مدغشقر"}},{type:"Feature",id:161973,geometry:{type:"Point",coordinates:[32.386266425,1.28002949000006]},properties:{ADM0_NAME:"Uganda",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:48,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161973,GUID:"1be45e1a-dfcd-4b79-870d-92166cf43e82",CENTER_LON:32.38622999,CENTER_LAT:1.28008463,ADM0_VIZ_NAME:"Uganda",Short_Name_ZH:"乌干达",Short_Name_FR:"Ouganda",Short_Name_ES:"Uganda",Short_Name_RU:"Уганда",Short_Name_AR:"أوغندا"}},{type:"Feature",id:161974,geometry:{type:"Point",coordinates:[15.224282988,-.839998298999944]},properties:{ADM0_NAME:"Congo",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:45,cum_clin:null,cum_susp:null,cum_death:5,EPIWeek:15,EPIYear:2020,Comment:null,ID:161974,GUID:"a32af07d-abed-484a-b1e9-4b7b0785c3dc",CENTER_LON:15.22427459,CENTER_LAT:-.84006603,ADM0_VIZ_NAME:"Congo",Short_Name_ZH:"刚果",Short_Name_FR:"Congo",Short_Name_ES:"Congo (el)",Short_Name_RU:"Конго",Short_Name_AR:"الكونغو"}},{type:"Feature",id:161975,geometry:{type:"Point",coordinates:[.97584596400003,8.53491037400005]},properties:{ADM0_NAME:"Togo",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:44,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161975,GUID:"19b27a13-b30b-4a0a-b085-084cddf5db4b",CENTER_LON:.97584596,CENTER_LAT:8.53491037,ADM0_VIZ_NAME:"Togo",Short_Name_ZH:"多哥",Short_Name_FR:"Togo",Short_Name_ES:"Togo (el)",Short_Name_RU:"Того",Short_Name_AR:"توغو"}},{type:"Feature",id:161976,geometry:{type:"Point",coordinates:[39.6160189350001,8.62613927100006]},properties:{ADM0_NAME:"Ethiopia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:43,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161976,GUID:"e9f231cb-35e1-467b-8b7c-067df2b9b8f5",CENTER_LON:39.61601894,CENTER_LAT:8.62613927,ADM0_VIZ_NAME:"Ethiopia",Short_Name_ZH:"埃塞俄比亚",Short_Name_FR:"Éthiopie",Short_Name_ES:"Etiopía",Short_Name_RU:"Эфиопия",Short_Name_AR:"إثيوبيا"}},{type:"Feature",id:161977,geometry:{type:"Point",coordinates:[-3.52433671799997,17.350369329]},properties:{ADM0_NAME:"Mali",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:39,cum_clin:null,cum_susp:null,cum_death:4,EPIWeek:15,EPIYear:2020,Comment:null,ID:161977,GUID:"77642364-9b1b-46c8-aaf4-d9ffd8f62712",CENTER_LON:-3.52433672,CENTER_LAT:17.35036933,ADM0_VIZ_NAME:"Mali",Short_Name_ZH:"马里",Short_Name_FR:"Mali",Short_Name_ES:"Malí",Short_Name_RU:"Мали",Short_Name_AR:"مالي"}},{type:"Feature",id:161978,geometry:{type:"Point",coordinates:[27.7978489400001,-13.453075312]},properties:{ADM0_NAME:"Zambia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:39,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161978,GUID:"125935a9-188d-4b78-86a8-ffbf546077e0",CENTER_LON:27.79788004,CENTER_LAT:-13.45307543,ADM0_VIZ_NAME:"Zambia",Short_Name_ZH:"赞比亚",Short_Name_FR:"Zambie",Short_Name_ES:"Zambia",Short_Name_RU:"Замбия",Short_Name_AR:"زامبيا"}},{type:"Feature",id:161979,geometry:{type:"Point",coordinates:[38.852925552,15.3588410250001]},properties:{ADM0_NAME:"Eritrea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:29,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161979,GUID:"7b9e18fe-ff3c-44de-9b50-b91a8311dddf",CENTER_LON:38.85292555,CENTER_LAT:15.35884102,ADM0_VIZ_NAME:"Eritrea",Short_Name_ZH:"厄立特里亚",Short_Name_FR:"Érythrée",Short_Name_ES:"Eritrea",Short_Name_RU:"Эритрея",Short_Name_AR:"إريتريا"}},{type:"Feature",id:161980,geometry:{type:"Point",coordinates:[2.34326270500003,9.64764996800005]},properties:{ADM0_NAME:"Benin",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:22,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161980,GUID:"27d0edf7-b070-4943-bb9b-dcee5a4d216e",CENTER_LON:2.34326271,CENTER_LAT:9.64764997,ADM0_VIZ_NAME:"Benin",Short_Name_ZH:"贝宁",Short_Name_FR:"Bénin",Short_Name_ES:"Benin",Short_Name_RU:"Бенин",Short_Name_AR:"بنن"}},{type:"Feature",id:161981,geometry:{type:"Point",coordinates:[34.8234035560001,-6.27020075299993]},properties:{ADM0_NAME:"United Republic of Tanzania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:22,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161981,GUID:"a09fda23-b91a-49e4-ba7d-02cb8540b936",CENTER_LON:34.82340201,CENTER_LAT:-6.27019905,ADM0_VIZ_NAME:"United Republic of Tanzania",Short_Name_ZH:"坦桑尼亚联合共和国",Short_Name_FR:"République-Unie de Tanzanie",Short_Name_ES:"República Unida de Tanzanía",Short_Name_RU:"Объединенная Республика Танзания",Short_Name_AR:"جمهورية تنزانيا المتحدة"}},{type:"Feature",id:161982,geometry:{type:"Point",coordinates:[11.797157624,-.590677967999966]},properties:{ADM0_NAME:"Gabon",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:21,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161982,GUID:"cbf1734a-37f7-4691-bb44-0123114cb49e",CENTER_LON:11.79715762,CENTER_LAT:-.59067797,ADM0_VIZ_NAME:"Gabon",Short_Name_ZH:"加蓬",Short_Name_FR:"Gabon",Short_Name_ES:"Gabón",Short_Name_RU:"Габон",Short_Name_AR:"غابون"}},{type:"Feature",id:161983,geometry:{type:"Point",coordinates:[-14.987484013,12.016198296]},properties:{ADM0_NAME:"Guinea-Bissau",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:18,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161983,GUID:"0334af86-91ef-485e-805f-a204ef2764ab",CENTER_LON:-14.98748401,CENTER_LAT:12.0161983,ADM0_VIZ_NAME:"Guinea-Bissau",Short_Name_ZH:"几内亚比绍",Short_Name_FR:"Guinée-Bissau",Short_Name_ES:"Guinea-Bissau",Short_Name_RU:"Гвинея-Бисау",Short_Name_AR:"غينيا - بيساو"}},{type:"Feature",id:161984,geometry:{type:"Point",coordinates:[10.3384962750001,1.71016859900004]},properties:{ADM0_NAME:"Equatorial Guinea",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:16,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161984,GUID:"af7e3138-b823-4063-8a50-4408c8527cc9",CENTER_LON:10.33849628,CENTER_LAT:1.7101686,ADM0_VIZ_NAME:"Equatorial Guinea",Short_Name_ZH:"赤道几内亚",Short_Name_FR:"Guinée équatoriale",Short_Name_ES:"Guinea Ecuatorial",Short_Name_RU:"Экваториальная Гвинея",Short_Name_AR:"غينيا الاستوائية"}},{type:"Feature",id:161985,geometry:{type:"Point",coordinates:[17.218450277,-22.133293291]},properties:{ADM0_NAME:"Namibia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:16,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161985,GUID:"60026c01-d644-439e-beda-ec2c280304a7",CENTER_LON:17.21845028,CENTER_LAT:-22.13329329,ADM0_VIZ_NAME:"Namibia",Short_Name_ZH:"纳米比亚",Short_Name_FR:"Namibie",Short_Name_ES:"Namibia",Short_Name_RU:"Намибия",Short_Name_AR:"ناميبيا"}},{type:"Feature",id:161986,geometry:{type:"Point",coordinates:[17.543777778,-12.2957307139999]},properties:{ADM0_NAME:"Angola",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:14,cum_clin:null,cum_susp:null,cum_death:2,EPIWeek:15,EPIYear:2020,Comment:null,ID:161986,GUID:"2a5aaf40-e526-4778-a1e2-204d26254d21",CENTER_LON:17.54379621,CENTER_LAT:-12.29575318,ADM0_VIZ_NAME:"Angola",Short_Name_ZH:"安哥拉",Short_Name_FR:"Angola",Short_Name_ES:"Angola",Short_Name_RU:"Ангола",Short_Name_AR:"أنغولا"}},{type:"Feature",id:161987,geometry:{type:"Point",coordinates:[-9.30784656399993,6.44811846300007]},properties:{ADM0_NAME:"Liberia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:13,cum_clin:null,cum_susp:null,cum_death:3,EPIWeek:15,EPIYear:2020,Comment:null,ID:161987,GUID:"78dbdf5d-226b-4be4-b853-5a58d9da21a6",CENTER_LON:-9.30784656,CENTER_LAT:6.44811846,ADM0_VIZ_NAME:"Liberia",Short_Name_ZH:"利比里亚",Short_Name_FR:"Libéria",Short_Name_ES:"Liberia",Short_Name_RU:"Либерия",Short_Name_AR:"ليبريا"}},{type:"Feature",id:161988,geometry:{type:"Point",coordinates:[35.552260533,-17.260193924]},properties:{ADM0_NAME:"Mozambique",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161988,GUID:"b09a5bf6-36d9-4abd-9d4a-793639ac9457",CENTER_LON:35.55226053,CENTER_LAT:-17.26019392,ADM0_VIZ_NAME:"Mozambique",Short_Name_ZH:"莫桑比克",Short_Name_FR:"Mozambique",Short_Name_ES:"Mozambique",Short_Name_RU:"Мозамбик",Short_Name_AR:"موزامبيق"}},{type:"Feature",id:161989,geometry:{type:"Point",coordinates:[52.2300590070001,-6.39906405099993]},properties:{ADM0_NAME:"Seychelles",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:10,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161989,GUID:"17e46d71-5bc2-479c-8d3a-0d966592ac32",CENTER_LON:52.23005901,CENTER_LAT:-6.39906405,ADM0_VIZ_NAME:"Seychelles",Short_Name_ZH:"塞舌尔",Short_Name_FR:"Seychelles",Short_Name_ES:"Seychelles",Short_Name_RU:"Сейшельские Острова",Short_Name_AR:"سيشيل"}},{type:"Feature",id:161990,geometry:{type:"Point",coordinates:[20.482782022,6.57145244100008]},properties:{ADM0_NAME:"Central African Republic",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161990,GUID:"5a37f024-c6e9-444e-832a-57db29915f70",CENTER_LON:20.48278081,CENTER_LAT:6.57145342,ADM0_VIZ_NAME:"Central African Republic",Short_Name_ZH:"中非共和国",Short_Name_FR:"République centrafricaine",Short_Name_ES:"República Centroafricana",Short_Name_RU:"Центральноафриканская Республика",Short_Name_AR:"جمهورية أفريقيا الوسطى"}},{type:"Feature",id:161991,geometry:{type:"Point",coordinates:[18.6646033860001,15.361145703]},properties:{ADM0_NAME:"Chad",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161991,GUID:"aef0e5a2-d0cb-4074-82c0-39f932bd297a",CENTER_LON:18.66460339,CENTER_LAT:15.3611457,ADM0_VIZ_NAME:"Chad",Short_Name_ZH:"乍得",Short_Name_FR:"Tchad",Short_Name_ES:"Chad (el)",Short_Name_RU:"Чад",Short_Name_AR:"تشاد"}},{type:"Feature",id:161992,geometry:{type:"Point",coordinates:[31.497188798,-26.562116744]},properties:{ADM0_NAME:"Eswatini",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161992,GUID:"393f6615-8c13-42ca-9bdd-1594735cbdcf",CENTER_LON:31.4971888,CENTER_LAT:-26.56211674,ADM0_VIZ_NAME:"Eswatini",Short_Name_ZH:"斯威士兰",Short_Name_FR:"Eswatini",Short_Name_ES:"Eswatini",Short_Name_RU:"Эсватини",Short_Name_AR:"إسواتيني"}},{type:"Feature",id:161993,geometry:{type:"Point",coordinates:[29.871759825,-19.0000057739999]},properties:{ADM0_NAME:"Zimbabwe",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:9,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161993,GUID:"a125fc97-acbd-43f1-add2-1e5d11d2570a",CENTER_LON:29.87175983,CENTER_LAT:-19.00000577,ADM0_VIZ_NAME:"Zimbabwe",Short_Name_ZH:"津巴布韦",Short_Name_FR:"Zimbabwe",Short_Name_ES:"Zimbabwe",Short_Name_RU:"Зимбабве",Short_Name_AR:"زمبابوي"}},{type:"Feature",id:161994,geometry:{type:"Point",coordinates:[-10.3322604099999,20.259903606]},properties:{ADM0_NAME:"Mauritania",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161994,GUID:"c2aa3415-b740-47f3-8abc-c5ccbb14d5b0",CENTER_LON:-10.33226041,CENTER_LAT:20.25990361,ADM0_VIZ_NAME:"Mauritania",Short_Name_ZH:"毛里塔尼亚",Short_Name_FR:"Mauritanie",Short_Name_ES:"Mauritania",Short_Name_RU:"Мавритания",Short_Name_AR:"موريتانيا"}},{type:"Feature",id:161995,geometry:{type:"Point",coordinates:[-11.792102896,8.56034092400006]},properties:{ADM0_NAME:"Sierra Leone",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:6,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161995,GUID:"e1cd65ea-4261-4a92-a8af-1709465c2cd3",CENTER_LON:-11.7921029,CENTER_LAT:8.56034092,ADM0_VIZ_NAME:"Sierra Leone",Short_Name_ZH:"塞拉利昂",Short_Name_FR:"Sierra Leone",Short_Name_ES:"Sierra Leona",Short_Name_RU:"Сьерра-Леоне",Short_Name_AR:"سيراليون"}},{type:"Feature",id:161996,geometry:{type:"Point",coordinates:[-23.544999999,14.9280000000001]},properties:{ADM0_NAME:"Cabo Verde",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:5,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161996,GUID:"b6d5830a-0a76-4c5e-9b69-9bbc651c6fee",CENTER_LON:-23.545,CENTER_LAT:14.928,ADM0_VIZ_NAME:"Cabo Verde",Short_Name_ZH:"佛得角",Short_Name_FR:"Cabo Verde",Short_Name_ES:"Cabo Verde",Short_Name_RU:"Кабо-Верде",Short_Name_AR:"كابو فيردي"}},{type:"Feature",id:161997,geometry:{type:"Point",coordinates:[23.815077504,-22.182042021]},properties:{ADM0_NAME:"Botswana",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161997,GUID:"689dde45-4727-4b7b-9e35-5ddcc5ef2791",CENTER_LON:23.8150775,CENTER_LAT:-22.18204202,ADM0_VIZ_NAME:"Botswana",Short_Name_ZH:"博茨瓦纳",Short_Name_FR:"Botswana",Short_Name_ES:"Botswana",Short_Name_RU:"Ботсвана",Short_Name_AR:"بوتسوانا"}},{type:"Feature",id:161998,geometry:{type:"Point",coordinates:[-15.385619595,13.452944399]},properties:{ADM0_NAME:"Gambia",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:1,EPIWeek:15,EPIYear:2020,Comment:null,ID:161998,GUID:"71d4622e-3ccd-4650-9e66-ee0421f0f2b3",CENTER_LON:-15.3856196,CENTER_LAT:13.4529444,ADM0_VIZ_NAME:"Gambia",Short_Name_ZH:"冈比亚",Short_Name_FR:"Gambie",Short_Name_ES:"Gambia",Short_Name_RU:"Гамбия",Short_Name_AR:"غامبيا"}},{type:"Feature",id:161999,geometry:{type:"Point",coordinates:[34.3069850380001,-13.21510424]},properties:{ADM0_NAME:"Malawi",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:161999,GUID:"895071fb-8240-4b2d-bfac-a51f8243d620",CENTER_LON:34.30698504,CENTER_LAT:-13.21510424,ADM0_VIZ_NAME:"Malawi",Short_Name_ZH:"马拉维",Short_Name_FR:"Malawi",Short_Name_ES:"Malawi",Short_Name_RU:"Малави",Short_Name_AR:"ملاوي"}},{type:"Feature",id:162e3,geometry:{type:"Point",coordinates:[6.71649314900003,.436446692000061]},properties:{ADM0_NAME:"Sao Tome and Principe",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:4,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162e3,GUID:"8d36d705-3e3e-412e-a13b-1ee158a07c36",CENTER_LON:6.73729084,CENTER_LAT:.45825363,ADM0_VIZ_NAME:"Sao Tome and Principe",Short_Name_ZH:"圣多美和普林西比",Short_Name_FR:"Sao Tomé-et-Principe",Short_Name_ES:"Santo Tomé y Príncipe",Short_Name_RU:"Сан-Томе и Принсипи",Short_Name_AR:"سان تومي وبرينسيبي"}},{type:"Feature",id:162001,geometry:{type:"Point",coordinates:[29.8868213920001,-3.35629711799993]},properties:{ADM0_NAME:"Burundi",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:3,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162001,GUID:"bf20d4f1-d25b-4be3-b8f5-7a2a94a20ecf",CENTER_LON:29.88682139,CENTER_LAT:-3.35629712,ADM0_VIZ_NAME:"Burundi",Short_Name_ZH:"布隆迪",Short_Name_FR:"Burundi",Short_Name_ES:"Burundi",Short_Name_RU:"Бурунди",Short_Name_AR:"بوروندي"}},{type:"Feature",id:162002,geometry:{type:"Point",coordinates:[30.340676547,7.27961187200003]},properties:{ADM0_NAME:"South Sudan",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:1,cum_clin:null,cum_susp:null,cum_death:0,EPIWeek:15,EPIYear:2020,Comment:null,ID:162002,GUID:"322068a7-b312-4393-b5d1-fe2dc7a5c78a",CENTER_LON:30.34067655,CENTER_LAT:7.27961187,ADM0_VIZ_NAME:"South Sudan",Short_Name_ZH:"南苏丹",Short_Name_FR:"Soudan du Sud",Short_Name_ES:" Sudán del Sur ",Short_Name_RU:"Южный Судан",Short_Name_AR:"جنوب السودان"}},{type:"Feature",id:162006,geometry:null,properties:{ADM0_NAME:"International conveyance (Diamond Princess)",ADM1_NAME:null,DateOfReport:15860448e5,DateOfDataEntry:1586196e6,new_conf:null,new_clin:null,new_susp:null,new_death:null,cum_conf:712,cum_clin:null,cum_susp:null,cum_death:11,EPIWeek:15,EPIYear:2020,Comment:null,ID:162006,GUID:null,CENTER_LON:null,CENTER_LAT:null,ADM0_VIZ_NAME:"International conveyance (Diamond Princess)",Short_Name_ZH:"国际交通工具（“钻石公主号”邮轮）)",Short_Name_FR:null,Short_Name_ES:null,Short_Name_RU:null,Short_Name_AR:null}}]},FB={id:"map"},TB=Sv({__name:"custom-map",setup(e){let t,r,i,s;return Rv(()=>{t=new PB({id:"map",map:new hD({style:{position:"relative",width:"100%",height:"452px",version:8,sources:{},layers:[]},center:[110.19382669582967,50.258134],pitch:0,zoom:1})});const p=bB,n=AB;r=new jC({}),r.source(p,{transforms:[{type:"hexagon",size:8e5,field:"capacity",method:"sum"}]}).shape("hexagon").color("#ddd").style({coverage:.7,opacity:.8}),t.addLayer(r),i=new ly({autoFit:!0}),i.source(n).shape("circle").size("cum_conf",[0,17]).scale("cum_conf",{type:"quantile"}).color("cum_conf",["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"]).active({color:"#0c2c84"}).style({opacity:.8}),s=new ly({autoFit:!0}),s.source(n).shape("Short_Name_ZH","text").filter("cum_conf",f=>f>2e3).size(12).active(!0).color("#fff").style({opacity:1,strokeOpacity:1,strokeWidth:0}),t.addLayer(i),t.addLayer(s)}),wv(()=>{var p,n,f,m;(p=r.destroy)==null||p.call(r),(n=s==null?void 0:s.destroy)==null||n.call(s),(f=i==null?void 0:i.destroy)==null||f.call(i),(m=t.destroy)==null||m.call(t)}),(p,n)=>(Cv(),Iv("div",FB))}}),VB=Ev(TB,[["__scopeId","data-v-685c3f1f"]]);export{VB as default};
