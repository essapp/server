import{R as Pe,G as He,U as ze,b as Ke,L as Oe,c as We,e as oe,f as De,M as Y,D as _e,g as be,h as ie,S as Ne,i as Ie,j as Ee,m as Ve,n as Ge,p as ve,q as je,r as qe,s as Je,t as $e,u as ne,v as Qe,w as Ce,x as ue,y as ce,z as pe,B as de,E as ye,N as Xe,F as Ye,H as Ze,I as et,J as tt,K as ot,T as nt,O as at,Q as lt,V as st}from"./antd-CGu55NZb.js";import{f as it,u as e,d as M,a2 as a,a3 as g,k as s,a4 as w,ac as dt,V as X,a8 as re,a9 as f,aa as l,G as R,ad as C,c as L,ae as v,af as S,s as q,F as T,S as P,ag as A,ah as j,ai as rt,aj as Z,H as ut,ak as ct,m as we,A as Se,b as pt,B as fe,w as mt,al as ke}from"./vue-1GTWcegU.js";import{_ as ht,u as yt,a as Me,b as Re,i as Le,c as ge,o as ft,d as Be,e as kt,f as Te,l as gt,r as _t,g as bt,h as vt,p as $t}from"./index-C5Ppdpc0.js";import{_ as Ct,a as wt,b as St}from"./index.vue_vue_type_style_index_0_lang-C7YVSwXT.js";import{u as Ue,_ as Mt}from"./route-view.vue_vue_type_script_setup_true_lang-L0Zqem8h.js";import{u as O,s as E,n as ae,a as le,b as x,e as te,c as Rt}from"./context-srHhasJW.js";import{u as Lt}from"./query-breakpoints-_m9M2x1u.js";function me(){return new DOMException("The request is not allowed","NotAllowedError")}async function Bt(_){if(!navigator.clipboard)throw me();return navigator.clipboard.writeText(_)}async function Tt(_){const n=document.createElement("span");n.textContent=_,n.style.whiteSpace="pre",n.style.webkitUserSelect="auto",n.style.userSelect="all",document.body.appendChild(n);const o=window.getSelection(),c=window.document.createRange();o.removeAllRanges(),c.selectNode(n),o.addRange(c);let h=!1;try{h=window.document.execCommand("copy")}finally{o.removeAllRanges(),window.document.body.removeChild(n)}if(!h)throw me()}async function Ut(_){try{await Bt(_)}catch(n){try{await Tt(_)}catch(o){throw o||n||me()}}}var At=(_=3e3)=>{const n=it(!1);return{copied:n,copy:c=>{const h=e(c);Ut(h).then(()=>{n.value=!0;const u=setTimeout(()=>{n.value=!1,clearTimeout(u)},_)})}}};const Ft={href:"https://docs.antdv-pro.com/",target:"_blank",hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","text-16px":"",class:"transition-all-300"},xt=M({__name:"index",setup(_){return(n,o)=>(a(),g("a",Ft,[s(e(Pe))]))}}),Pt={},Ht={href:"https://gitee.com/antdv-pro/antdv-pro",target:"_blank",hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","text-16px":"",class:"transition-all-300"};function zt(_,n){return a(),g("a",Ht,n[0]||(n[0]=[w("svg",{t:"1692675850475",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"4159",width:"16",height:"16"},[w("path",{d:"M512 1024C229.222 1024 0 794.778 0 512S229.222 0 512 0s512 229.222 512 512-229.222 512-512 512z m259.149-568.883h-290.74a25.293 25.293 0 0 0-25.292 25.293l-0.026 63.206c0 13.952 11.315 25.293 25.267 25.293h177.024c13.978 0 25.293 11.315 25.293 25.267v12.646a75.853 75.853 0 0 1-75.853 75.853h-240.23a25.293 25.293 0 0 1-25.267-25.293V417.203a75.853 75.853 0 0 1 75.827-75.853h353.946a25.293 25.293 0 0 0 25.267-25.292l0.077-63.207a25.293 25.293 0 0 0-25.268-25.293H417.152a189.62 189.62 0 0 0-189.62 189.645V771.15c0 13.977 11.316 25.293 25.294 25.293h372.94a170.65 170.65 0 0 0 170.65-170.65V480.384a25.293 25.293 0 0 0-25.293-25.267z",fill:"#C71D23","p-id":"4160"})],-1)]))}const Kt=ht(Pt,[["render",zt]]),Ot={href:"https://github.com/antdv-pro/antdv-pro",target:"_blank",hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","text-16px":"",class:"transition-all-300"},Wt=M({__name:"index",setup(_){return(n,o)=>(a(),g("a",Ot,[s(e(He))]))}}),Dt={hover:"bg-[var(--hover-color)]",flex:"","items-center":"","h-48px":"","px-12px":"","cursor-pointer":"",class:"transition-all-300"},Nt={class:"anticon"},It=M({__name:"index",setup(_){const n=yt(),o=Me(),c=Ue(),h=Re(),u=dt(),{avatar:r,nickname:m}=X(o);async function p({key:y}){if(y==="logout"){const k=n.loading("退出登录...",0);try{await o.logout()}finally{k(),n.success("退出登录成功",3),u.push({path:"/login"}).then(()=>{c.clear(),h.clear()})}}}return(y,k)=>{const $=We,b=re("RouterLink"),i=oe,t=De,d=Y,U=_e;return a(),f(U,null,{overlay:l(()=>[s(d,{onClick:p},{default:l(()=>[s(i,{key:"0"},{icon:l(()=>[s(e(ze))]),default:l(()=>[s(b,{to:"/account/center"},{default:l(()=>k[0]||(k[0]=[R(" 个人中心 ")])),_:1})]),_:1}),s(i,{key:"1"},{icon:l(()=>[s(e(Ke))]),default:l(()=>[s(b,{to:"/account/settings"},{default:l(()=>k[1]||(k[1]=[R(" 个人设置 ")])),_:1})]),_:1}),s(t),s(i,{key:"logout"},{icon:l(()=>[s(e(Oe))]),default:l(()=>[k[2]||(k[2]=R(" 退出登录 "))]),_:1})]),_:1})]),default:l(()=>[w("span",Dt,[s($,{src:e(r),"mr-8px":"",size:"small"},null,8,["src"]),w("span",Nt,C(e(m)),1)])]),_:1})}}}),Et={"c-primary":""},Vt=["src"],Gt={key:0},jt=M({__name:"global-header-logo",setup(_){const{logo:n,title:o,layout:c,isMobile:h}=O(),u=L(()=>({"ant-pro-global-header-logo":c.value==="mix"||h.value,"ant-pro-top-nav-header-logo":c.value==="top"&&!h.value}));return(r,m)=>(a(),g("div",{class:S(e(u))},[w("a",Et,[w("img",{src:e(n)},null,8,Vt),e(h)?v("",!0):(a(),g("h1",Gt,C(e(o)),1))])],2))}}),qt=M({__name:"index",setup(_){const{layout:n,isMobile:o,handleMobileCollapsed:c,theme:h,menuHeader:u,collapsed:r,handleCollapsed:m,leftCollapsed:p}=O(),y=q("ant-pro-global-header"),k=L(()=>({[y.value]:!0,[`${y.value}-layout-${n.value}`]:!!n.value,[`${y.value}-inverted`]:h.value==="inverted"&&n.value==="top"}));return($,b)=>{const i=Ne;return a(),g("div",{class:S([e(k)])},[e(n)==="side"&&!e(o)&&!e(p)?(a(),g("span",{key:0,class:"ml-0 text-18px",onClick:b[0]||(b[0]=t=>{var d;return(d=e(m))==null?void 0:d(!e(r))})},[e(r)?(a(),f(e(be),{key:0})):(a(),f(e(ie),{key:1}))])):v("",!0),e(u)?(a(),g(T,{key:1},[e(n)!=="side"||e(o)?(a(),f(jt,{key:0})):v("",!0)],64)):v("",!0),e(o)?(a(),g("span",{key:2,class:"ant-pro-global-header-collapsed-button",onClick:b[1]||(b[1]=(...t)=>e(c)&&e(c)(...t))},[s(e(ie))])):v("",!0),w("div",{class:S(["flex-1",e(n)==="top"?`${e(y)}-top`:"overflow-x-auto"])},[P($.$slots,"headerContent")],2),s(i,{align:"center","flex-shrink-0":""},{default:l(()=>[P($.$slots,"headerActions")]),_:3})],2)}}}),Jt=M({__name:"index",setup(_){const{headerHeight:n,fixedHeader:o,layout:c,isMobile:h,collapsed:u,collapsedWidth:r,siderWidth:m,menu:p,splitMenus:y,selectedMenus:k}=O(),$=L(()=>{const t={height:`${n.value}px`,lineHeight:`${n.value}px`,paddingInline:0};if((o.value||c.value==="mix")&&(t.zIndex=100,t.width="100%",t.right=0),c.value==="side"&&p.value){if(!h.value&&o.value){const d=u.value?r.value:m.value;t.width=`calc(100% - ${d}px)`}t.zIndex=19}return t}),b=L(()=>{const t=[];return(o.value||c.value==="mix")&&t.push("ant-pro-fixed-header"),c.value&&t.push("ant-pro-fixed-header-action"),c.value==="mix"&&t.push("ant-pro-fixed-header-inverted"),t}),i=L(()=>o.value||c.value==="mix"&&(y.value?(k.value??[]).length>0:!0));return(t,d)=>{const U=Ie;return a(),g(T,null,[e(i)?(a(),f(U,{key:0,style:A({height:`${e(n)}px`,lineHeight:`${e(n)}px`,background:"transparent"})},null,8,["style"])):v("",!0),s(U,{style:A(e($)),class:S(e(b))},{default:l(()=>[s(qt,null,j({_:2},[t.$slots.headerActions?{name:"headerActions",fn:l(()=>[P(t.$slots,"headerActions")]),key:"0"}:void 0,t.$slots.headerContent?{name:"headerContent",fn:l(()=>[P(t.$slots,"headerContent")]),key:"1"}:void 0]),1024)]),_:3},8,["style","class"])],64)}}}),se=M({__name:"async-icon",props:{icon:{type:[String,Function]}},setup(_){const n=_,o=L(()=>{if(Le(n.icon)){const c=n.icon();if(c)return c}else return Ee[n.icon]});return(c,h)=>c.icon?(a(),f(rt(e(o)),{key:0})):v("",!0)}}),Qt=["href","target"],Xt=["href","target"],Ae=M({__name:"sub-menu",props:{item:{},link:{type:Boolean,default:!0}},setup(_){function n(o){return Le(o)?o():o}return(o,c)=>{const h=re("sub-menu",!0),u=re("RouterLink"),r=oe,m=Ve;return o.item.children&&!o.item.hideChildrenInMenu?(a(),f(m,{key:o.item.path},j({title:l(()=>[R(C(n(o.item.title)),1)]),default:l(()=>[(a(!0),g(T,null,Z(o.item.children,p=>(a(),g(T,null,[p.hideInMenu?v("",!0):(a(),g(T,{key:0},[p.children?(a(),f(h,{key:p.path,item:p},null,8,["item"])):(a(),f(r,{key:p.path},j({default:l(()=>[e(ge)(p.path)?(a(),g("a",{key:1,href:p.path,target:p.target??"_blank"},C(n(p.title)),9,Qt)):(a(),g(T,{key:0},[o.link?(a(),f(u,{key:0,to:p.path},{default:l(()=>[R(C(n(p.title)),1)]),_:2},1032,["to"])):(a(),g(T,{key:1},[R(C(n(p.title)),1)],64))],64))]),_:2},[p.icon?{name:"icon",fn:l(()=>[s(se,{icon:p.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))],64))],64))),256))]),_:2},[o.item.icon?{name:"icon",fn:l(()=>[s(se,{icon:o.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024)):(a(),f(r,{key:o.item.path},j({default:l(()=>[e(ge)(o.item.path)?(a(),g("a",{key:1,href:o.item.path,target:o.item.target??"_blank"},C(n(o.item.title)),9,Xt)):(a(),g(T,{key:0},[o.link?(a(),f(u,{key:0,to:o.item.path},{default:l(()=>[R(C(n(o.item.title)),1)]),_:1},8,["to"])):(a(),g(T,{key:1},[R(C(n(o.item.title)),1)],64))],64))]),_:2},[o.item.icon?{name:"icon",fn:l(()=>[s(se,{icon:o.item.icon},null,8,["icon"])]),key:"0"}:void 0]),1024))}}}),Fe=M({__name:"index",setup(_){const{theme:n,collapsed:o,layout:c,isMobile:h,selectedMenus:u,selectedKeys:r,openKeys:m,handleOpenKeys:p,handleSelectedKeys:y,handleMenuSelect:k}=O(),$=L(()=>n.value==="inverted"?"dark":n.value);return(b,i)=>{const t=Y;return a(),f(t,{"selected-keys":e(r),"open-keys":e(o)?[]:e(m),mode:e(c)==="top"&&!e(h)?"horizontal":"inline",theme:e($),collapsed:e(o),class:"ant-pro-sider-menu","onUpdate:openKeys":e(p),"onUpdate:selectedKeys":e(y),onSelect:e(k)},{default:l(()=>[(a(!0),g(T,null,Z(e(u),d=>(a(),g(T,null,[d.hideInMenu?v("",!0):(a(),f(Ae,{key:d.path,item:d},null,8,["item"]))],64))),256))]),_:1},8,["selected-keys","open-keys","mode","theme","collapsed","onUpdate:openKeys","onUpdate:selectedKeys","onSelect"])}}}),Yt=["src"],Zt={key:0},eo={class:"flex-1 of-x-hidden of-y-auto scrollbar"},xe=M({__name:"index",setup(_){const{collapsed:n,leftCollapsed:o,handleCollapsed:c,selectedMenus:h,splitMenus:u,layout:r,logo:m,theme:p,title:y,collapsedWidth:k,siderWidth:$,headerHeight:b,fixedSider:i,isMobile:t,header:d}=O(),U=q("ant-pro-sider"),H=L(()=>{const F={paddingTop:`${r.value!=="side"&&!t.value?b.value:0}px`,transition:"background-color 0.3s ease 0s, min-width 0.3s ease 0s, max-width 0.3s cubic-bezier(0.645, 0.045, 0.355, 1) 0s",overflow:"hidden"};return r.value==="mix"&&d.value===!1&&(F.paddingTop="0px"),F}),W=L(()=>({[U.value]:!0,[`${U.value}-fixed`]:i.value,[`${U.value}-layout-${r.value}`]:!!r.value})),D=L(()=>(r.value==="side"||t.value)&&r.value!=="mix"),B=L(()=>({"ant-pro-sider-collapsed":n.value&&!t.value,"ant-pro-sider-logo-dark":p.value==="inverted"}));return(F,J)=>{const z=oe,N=Y,I=Ge;return a(),g(T,null,[e(i)?(a(),g("div",{key:0,style:A({width:e(n)?`${e(k)}px`:`${e($)}px`,maxWidth:e(n)?`${e(k)}px`:`${e($)}px`,minWidth:e(n)?`${e(k)}px`:`${e($)}px`,...e(H)})},null,4)):v("",!0),!e(u)||(e(h)??[]).length>0?(a(),f(I,{key:1,theme:e(p)==="inverted"?"dark":"light",collapsed:e(n)&&!e(t),trigger:null,"collapsed-width":e(k),width:e($),collapsible:"",class:S(e(W)),style:A(e(H))},{default:l(()=>[e(D)?(a(),g("div",{key:0,class:S(["ant-pro-sider-logo",e(B)])},[w("a",null,[w("img",{src:e(m),alt:"logo"},null,8,Yt),!e(n)||e(t)?(a(),g("h1",Zt,C(e(y)),1)):v("",!0)])],2)):v("",!0),w("div",eo,[s(Fe)]),!e(t)&&e(o)?(a(),g("div",{key:1,class:S(["w-100% flex-shrink-0 ant-pro-sider-collapsed-button",e(p)==="inverted"?"ant-pro-sider-collapsed-button-inverted":""])},[s(N,{class:"ant-pro-sider-menu",mode:"inline",theme:e(p)==="inverted"?"dark":"light",selectable:!1,onClick:J[0]||(J[0]=ee=>{var Q;return(Q=e(c))==null?void 0:Q(!e(n))})},{default:l(()=>[s(z,null,{icon:l(()=>[e(n)?(a(),f(e(be),{key:0})):(a(),f(e(ie),{key:1}))]),_:1})]),_:1},8,["theme"])],2)):v("",!0)]),_:1},8,["theme","collapsed","collapsed-width","width","class","style"])):v("",!0)],64)}}}),to=M({__name:"index",setup(_){const{mobileCollapsed:n,siderWidth:o}=O();return(c,h)=>{const u=ve;return a(),f(u,{open:e(n),"onUpdate:open":h[0]||(h[0]=r=>ut(n)?n.value=r:null),closable:!1,placement:"left",width:e(o)},{default:l(()=>[s(xe)]),_:1},8,["open","width"])}}}),oo=M({__name:"split-menu",setup(_){const{splitState:n,menuData:o,handleSplitSelectedKeys:c}=O(),h=L(()=>{var u;return(u=o.value)==null?void 0:u.map(r=>({...ft(r,["children"]),childrenCount:(r.children??[]).length}))});return(u,r)=>{const m=Y;return a(),f(m,{mode:"horizontal",theme:"dark",class:"ant-pro-sider-menu-header","selected-keys":e(n).selectedKeys,"onUpdate:selectedKeys":e(c)},{default:l(()=>[(a(!0),g(T,null,Z(e(h),p=>(a(),g(T,null,[p.hideInMenu?v("",!0):(a(),f(Ae,{key:p.path,item:p,link:p.childrenCount<=0},null,8,["item","link"]))],64))),256))]),_:1},8,["selected-keys","onUpdate:selectedKeys"])}}}),no={"onUpdate:openKeys":te(),"onUpdate:selectedKeys":te(),onMenuSelect:te()},ao={layout:E("mix"),logo:E(),title:E(),collapsedWidth:ae(48),siderWidth:ae(234),headerHeight:ae(48),menuData:le(),fixedHeader:x(!1),fixedSider:x(!0),splitMenus:x(),collapsed:x(!1),leftCollapsed:x(!1),theme:E("light"),onCollapsed:te(),isMobile:x(),contentWidth:E(),header:x(!0),footer:x(!0),menu:x(!0),menuHeader:x(!0),openKeys:le(),selectedKeys:le(),copyright:E(),...no},lo=["data-theme"],so=M({name:"BasicLayout",__name:"index",props:ao,emits:["update:collapsed"],setup(_,{emit:n}){const o=_,c=n,h=ct();function u(y){var k;c("update:collapsed",y),(k=o==null?void 0:o.onCollapsed)==null||k.call(o,y)}const{layout:r,contentWidth:m}=Rt(o,{handleCollapsed:u}),p=L(()=>m.value==="Fixed"?"ant-pro-basicLayout-content-fixed":"");return(y,k)=>{const $=qe,b=wt,i=Je,t=je;return a(),g("div",{class:"ant-pro-basicLayout","data-theme":y.theme},[s(t,null,{default:l(()=>[y.menu?(a(),g(T,{key:0},[e(r)!=="top"&&!y.isMobile?(a(),f(xe,{key:0})):v("",!0)],64)):v("",!0),s(t,null,{default:l(()=>[y.header?(a(),f(Jt,{key:0},j({_:2},[h.headerActions?{name:"headerActions",fn:l(()=>[P(y.$slots,"headerActions")]),key:"0"}:void 0,h.headerContent||e(r)==="top"||e(r)==="mix"?{name:"headerContent",fn:l(()=>[P(y.$slots,"headerContent",{},()=>[!y.isMobile&&e(r)==="top"?(a(),f(Fe,{key:0})):v("",!0),!y.isMobile&&e(r)==="mix"&&o.splitMenus?(a(),f(oo,{key:1})):v("",!0)])]),key:"1"}:void 0]),1024)):v("",!0),P(y.$slots,"contentPrefix"),s($,{class:"ant-pro-basicLayout-content",flex:"","flex-col":""},{default:l(()=>[w("div",{"h-full":"",flex:"","flex-col":"","flex-1":"",class:S(e(p))},[P(y.$slots,"default")],2)]),_:3}),y.footer?(a(),f(i,{key:1,style:{"background-color":"transparent"}},{default:l(()=>[P(y.$slots,"footerRender",{},()=>[s(Ct,{copyright:y.copyright},j({_:2},[h.renderFooterLinks?{name:"renderFooterLinks",fn:l(()=>[s(b)]),key:"0"}:void 0]),1032,["copyright"])])]),_:3})):v("",!0)]),_:3})]),_:3}),y.menu?(a(),f(to,{key:0})):v("",!0)],8,lo)}}}),io={"mb-24px":""},ro={"font-500":"","mb-12px":"","text-14px":"","line-height-22px":""},V=M({__name:"body",props:{title:{}},setup(_){return(n,o)=>(a(),g("div",io,[w("h3",ro,C(n.title),1),P(n.$slots,"default")]))}}),G=M({__name:"block-checkbox",props:{theme:{},isDark:{type:Boolean},checked:{type:Boolean},t:{type:Function}},setup(_){const n=_,o=q("ant-pro-drawer-setting-block-checkbox"),c=L(()=>({[`${o.value}-item`]:!0,[`${o.value}-theme-item`]:n.isDark,[`${o.value}-item-${n.theme}`]:!!n.theme,[`${o.value}-theme-item-${n.theme}`]:n.isDark})),{token:h}=Be();return(u,r)=>{const m=ne;return a(),f(m,null,{title:l(()=>{var p;return[R(C(u.theme?(p=u.t)==null?void 0:p.call(u,`app.setting.pagestyle.${u.theme}`):""),1)]}),default:l(()=>{var p;return[w("div",{class:S(e(c))},[we(s(e($e),{style:A({color:(p=e(h))==null?void 0:p.colorPrimary}),class:S(`${e(o)}-selectIcon`)},null,8,["style","class"]),[[Se,u.checked]])],2)]}),_:1})}}}),uo=["onClick"],co=M({__name:"theme-color",props:{colorList:{},color:{},onChange:{type:Function},t:{type:Function}},setup(_){const n=q("ant-pro-drawer-setting-theme-color");return(o,c)=>{const h=ne;return a(),g("div",{class:S(`${e(n)}`)},[w("div",{class:S(`${e(n)}-content`)},[(a(!0),g(T,null,Z(o.colorList,u=>(a(),f(h,{key:u.color},{title:l(()=>{var r;return[R(C((r=o.t)==null?void 0:r.call(o,`app.setting.themecolor.${u.key}`)),1)]}),default:l(()=>[w("div",{class:S(`${e(n)}-block`),style:A({backgroundColor:u.color}),onClick:r=>{var m;return(m=o.onChange)==null?void 0:m.call(o,u.color)}},[we(s(e($e),null,null,512),[[Se,o.color===u.color]])],14,uo)]),_:2},1024))),128))],2)],2)}}}),po=M({__name:"layout-setting",props:{contentWidth:{},layout:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},compactAlgorithm:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(_,{emit:n}){const o=_,c=n,h=L(()=>[{title:"内容区域宽度",key:"contentWidth",disabled:!1,disabledReason:""},{title:"固定 Header",key:"fixedHeader",disabled:o.layout==="mix",disabledReason:""},{title:"固定侧边菜单",key:"fixSiderbar",disabled:!1,disabledReason:""},{title:"自动分割菜单",key:"splitMenus",disabled:o.layout!=="mix",disabledReason:""},{title:"缓存功能",key:"keepAlive",disabled:!1,disabledReason:""},{title:"菜单手风琴模式",key:"accordionMode",disabled:!1,disabledReason:""},{title:"侧边菜单折叠 左侧",key:"leftCollapsed",disabled:o.layout!=="side",disabledReason:""},{title:"紧凑模式",key:"compactAlgorithm",disabled:!1,disabledReason:""}]);function u(r,m){c("changeSetting",r,m)}return(r,m)=>{const p=Qe,y=Ce,k=ue,$=ce,b=ne,i=pe;return a(),f(i,{"data-source":e(h),split:!1},{renderItem:l(({item:t})=>[s(b,{title:t.disabled?t.disabledReason:"",placement:"left"},{default:l(()=>[s($,null,{actions:l(()=>[t.key==="contentWidth"?(a(),f(y,{key:0,size:"small",disabled:t.disabled,value:r.contentWidth||"Fluid","onUpdate:value":m[0]||(m[0]=d=>u("contentWidth",d))},{default:l(()=>[r.layout==="top"?(a(),f(p,{key:0,value:"Fixed"},{default:l(()=>{var d;return[R(C(((d=r.t)==null?void 0:d.call(r,"app.setting.content-width.fixed"))??"Fixed"),1)]}),_:1})):v("",!0),s(p,{value:"Fluid"},{default:l(()=>{var d;return[R(C(((d=r.t)==null?void 0:d.call(r,"app.setting.content-width.fluid"))??"Fluid"),1)]}),_:1})]),_:2},1032,["disabled","value"])):v("",!0),t.key==="fixedHeader"?(a(),f(k,{key:1,size:"small",checked:r.fixedHeader,disabled:t.disabled,"onUpdate:checked":m[1]||(m[1]=d=>u("fixedHeader",d))},null,8,["checked","disabled"])):v("",!0),t.key==="fixSiderbar"?(a(),f(k,{key:2,size:"small",checked:r.fixedSider,disabled:t.disabled,"onUpdate:checked":m[2]||(m[2]=d=>u("fixedSider",d))},null,8,["checked","disabled"])):v("",!0),t.key==="splitMenus"?(a(),f(k,{key:3,size:"small",checked:r.splitMenus,disabled:t.disabled,"onUpdate:checked":m[3]||(m[3]=d=>u("splitMenus",d))},null,8,["checked","disabled"])):v("",!0),t.key==="keepAlive"?(a(),f(k,{key:4,size:"small",checked:r.keepAlive,disabled:t.disabled,"onUpdate:checked":m[4]||(m[4]=d=>u("keepAlive",d))},null,8,["checked","disabled"])):v("",!0),t.key==="accordionMode"?(a(),f(k,{key:5,size:"small",checked:r.accordionMode,disabled:t.disabled,"onUpdate:checked":m[5]||(m[5]=d=>u("accordionMode",d))},null,8,["checked","disabled"])):v("",!0),t.key==="leftCollapsed"?(a(),f(k,{key:6,size:"small",checked:r.leftCollapsed,disabled:t.disabled,"onUpdate:checked":m[6]||(m[6]=d=>u("leftCollapsed",d))},null,8,["checked","disabled"])):v("",!0),t.key==="compactAlgorithm"?(a(),f(k,{key:7,size:"small",checked:r.compactAlgorithm,disabled:t.disabled,"onUpdate:checked":m[7]||(m[7]=d=>u("compactAlgorithm",d))},null,8,["checked","disabled"])):v("",!0)]),default:l(()=>{var d;return[w("span",{style:A({opacity:t.disabled?"0.5":"1"})},C(((d=r.t)==null?void 0:d.call(r,`app.setting.content-width.${t.key}`,t.title))??t.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),mo=M({__name:"regional-setting",props:{layout:{},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},watermark:{type:Boolean},menuHeader:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},animationName:{},animationNameList:{},t:{type:Function}},emits:["changeSetting"],setup(_,{emit:n}){const o=_,c=n,h=L(()=>[{title:"动画",key:"animationName",disabled:!1,disabledReason:""},{title:"水印",key:"watermark",disabled:!1,disabledReason:""},{title:"顶栏",key:"header",disabled:!1,disabledReason:""},{title:"页脚",key:"footer",disabled:!1,disabledReason:""},{title:"菜单",key:"menu",disabled:o.layout==="top",disabledReason:""},{title:"菜单头",key:"menuHeader",disabled:!1,disabledReason:""},{title:"多页签",key:"multiTab",disabled:!1,disabledReason:""},{title:"固定多页签",key:"multiTabFixed",disabled:!1,disabledReason:"多页签开启后功能正常使用"}]);function u(r,m){c("changeSetting",r,m)}return(r,m)=>{const p=ue,y=Ce,k=ce,$=ne,b=pe;return a(),f(b,{"data-source":e(h),split:!1},{renderItem:l(({item:i})=>[s($,{title:i.disabled?i.disabledReason:"",placement:"left"},{default:l(()=>[s(k,null,{actions:l(()=>[i.key!=="animationName"?(a(),f(p,{key:0,size:"small",checked:o[i.key],disabled:i.disabled,"onUpdate:checked":t=>u(i.key,t)},null,8,["checked","disabled","onUpdate:checked"])):(a(),f(y,{key:1,style:{width:"120px"},value:r.animationName,options:r.animationNameList,size:"small","onUpdate:value":t=>u(i.key,t)},null,8,["value","options","onUpdate:value"]))]),default:l(()=>{var t;return[w("span",{style:A({opacity:i.disabled?"0.5":"1"})},C(((t=r.t)==null?void 0:t.call(r,`app.setting.content-area.${i.key}`,i.title))??i.title),5)]}),_:2},1024)]),_:2},1032,["title"])]),_:1},8,["data-source"])}}}),ho=M({__name:"other-setting",props:{colorWeak:{type:Boolean},colorGray:{type:Boolean},t:{type:Function}},emits:["changeSetting"],setup(_,{emit:n}){const o=_,c=n,h=L(()=>[{title:"weakmode",key:"colorWeak",disabled:!1,disabledReason:""},{title:"graymode",key:"colorGray",disabled:!1,disabledReason:""}]);function u(m,p){c("changeSetting",m,p)}function r(m){return Reflect.get(o,m)}return(m,p)=>{const y=ue,k=ce,$=pe;return a(),f($,{"data-source":e(h),split:!1},{renderItem:l(({item:b})=>[s(k,null,{actions:l(()=>[s(y,{size:"small",checked:r(b.key),disabled:b.disabled,"onUpdate:checked":i=>u(b.key,i)},null,8,["checked","disabled","onUpdate:checked"])]),default:l(()=>{var i;return[w("span",{style:A({opacity:b.disabled?"0.5":"1"})},C(((i=m.t)==null?void 0:i.call(m,`app.setting.${b.title}`,b.title))??b.title),5)]}),_:2},1024)]),_:1},8,["data-source"])}}}),yo={flex:"","gap-2":"","flex-col":""},fo=M({name:"SettingDrawer",__name:"index",props:{open:{type:Boolean},theme:{default:"light"},colorPrimary:{},colorList:{default:()=>[{key:"techBlue",color:"#1677FF"},{key:"daybreak",color:"#1890ff"},{key:"dust",color:"#F5222D"},{key:"volcano",color:"#FA541C"},{key:"sunset",color:"#FAAD14"},{key:"cyan",color:"#13C2C2"},{key:"green",color:"#52C41A"},{key:"geekblue",color:"#2F54EB"},{key:"purple",color:"#722ED1"}]},layout:{},contentWidth:{},fixedHeader:{type:Boolean},fixedSider:{type:Boolean},splitMenus:{type:Boolean},keepAlive:{type:Boolean},accordionMode:{type:Boolean},leftCollapsed:{type:Boolean},watermark:{type:Boolean},header:{type:Boolean},footer:{type:Boolean},menu:{type:Boolean},menuHeader:{type:Boolean},colorWeak:{type:Boolean},colorGray:{type:Boolean},multiTab:{type:Boolean},multiTabFixed:{type:Boolean},compactAlgorithm:{type:Boolean},animationName:{},animationNameList:{},layoutSetting:{},t:{}},emits:["update:open","settingChange"],setup(_,{emit:n}){const o=_,c=n,{copy:h}=At(),u=q("ant-pro-drawer-setting"),{message:r}=kt();function m(){var t;h(JSON.stringify(o.layoutSetting??{})),r==null||r.success((t=o==null?void 0:o.t)==null?void 0:t.call(o,"app.setting.copyinfo","拷贝成功，请到 config/default-settings.js 中替换默认配置"))}function p(t){c("update:open",t)}function y(t){c("settingChange","theme",t)}function k(t){c("settingChange","colorPrimary",t)}function $(t){c("settingChange","layout",t)}function b(t,d){c("settingChange",t,d)}const{token:i}=Be();return(t,d)=>{var B,F,J;const U=Ze,H=et,W=tt,D=ve;return a(),g(T,null,[w("div",{class:S(`${e(u)}-handle`),style:A({backgroundColor:(B=e(i))==null?void 0:B.colorPrimary,borderEndStartRadius:`${(F=e(i))==null?void 0:F.borderRadius}px`,borderStartStartRadius:`${(J=e(i))==null?void 0:J.borderRadius}px`}),onClick:d[0]||(d[0]=z=>p(!t.open))},[t.open?(a(),f(e(de),{key:0,class:S(`${e(u)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),f(e(ye),{key:1,class:S(`${e(u)}-handle-icon${t.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6),s(D,{open:t.open,width:300,placement:"right",closable:!1,"onUpdate:open":p},{handle:l(()=>{var z,N,I;return[w("div",{class:S(`${e(u)}-handle`),style:A({position:"absolute",top:"240px",right:"300px",backgroundColor:(z=e(i))==null?void 0:z.colorPrimary,borderEndStartRadius:`${(N=e(i))==null?void 0:N.borderRadius}px`,borderStartStartRadius:`${(I=e(i))==null?void 0:I.borderRadius}px`}),onClick:d[1]||(d[1]=ee=>p(!t.open))},[t.open?(a(),f(e(de),{key:0,class:S(`${e(u)}-handle-icon${o.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"])):(a(),f(e(ye),{key:1,class:S(`${e(u)}-handle-icon${o.theme==="light"?"":"-dark"}`),style:{"font-size":"20px"}},null,8,["class"]))],6)]}),default:l(()=>{var z,N,I,ee,Q;return[w("div",{class:S(`${e(u)}-content`)},[s(V,{title:((z=t.t)==null?void 0:z.call(t,"app.setting.pagestyle"))??"整体风格设计"},{default:l(()=>[w("div",{class:S(`${e(u)}-block-checkbox`)},[s(G,{t:t.t,checked:o.theme==="light",theme:"light","is-dark":o.theme==="dark",onClick:d[2]||(d[2]=K=>y("light"))},null,8,["t","checked","is-dark"]),t.layout!=="mix"?(a(),f(G,{key:0,t:t.t,checked:o.theme==="inverted",theme:"inverted","is-dark":o.theme==="dark",onClick:d[3]||(d[3]=K=>y("inverted"))},null,8,["t","checked","is-dark"])):v("",!0),s(G,{t:t.t,checked:o.theme==="dark",theme:"dark","is-dark":o.theme==="dark",onClick:d[4]||(d[4]=K=>y("dark"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(V,{title:((N=t.t)==null?void 0:N.call(t,"app.setting.themecolor"))??"主题色"},{default:l(()=>[s(co,{t:t.t,"color-list":t.colorList,color:t.colorPrimary,onChange:k},null,8,["t","color-list","color"])]),_:1},8,["title"]),s(U),s(V,{title:((I=t.t)==null?void 0:I.call(t,"app.setting.pagestyle.mode"))??"导航模式"},{default:l(()=>[w("div",{class:S(`${e(u)}-block-checkbox`)},[s(G,{t:t.t,theme:"side",checked:t.layout==="side","is-dark":o.theme==="dark",onClick:d[5]||(d[5]=K=>$("side"))},null,8,["t","checked","is-dark"]),s(G,{t:t.t,theme:"top",checked:t.layout==="top","is-dark":o.theme==="dark",onClick:d[6]||(d[6]=K=>$("top"))},null,8,["t","checked","is-dark"]),s(G,{t:t.t,theme:"mix",checked:t.layout==="mix","is-dark":o.theme==="dark",onClick:d[7]||(d[7]=K=>$("mix"))},null,8,["t","checked","is-dark"])],2)]),_:1},8,["title"]),s(po,{layout:t.layout,t:t.t,"content-width":t.contentWidth,"fixed-header":t.fixedHeader,"fixed-sider":t.fixedSider,"split-menus":t.splitMenus,"keep-alive":t.keepAlive,"accordion-mode":t.accordionMode,"left-collapsed":t.leftCollapsed,"compact-algorithm":t.compactAlgorithm,onChangeSetting:b},null,8,["layout","t","content-width","fixed-header","fixed-sider","split-menus","keep-alive","accordion-mode","left-collapsed","compact-algorithm"]),s(U),s(V,{title:((ee=t.t)==null?void 0:ee.call(t,"app.setting.content-area.title"))??"内容区域"},{default:l(()=>[s(mo,{t:t.t,layout:t.layout,header:t.header,watermark:t.watermark,"menu-header":t.menuHeader,footer:t.footer,"animation-name":t.animationName,"animation-name-list":t.animationNameList,"multi-tab":t.multiTab,"multi-tab-fixed":t.multiTabFixed,menu:t.menu,onChangeSetting:b},null,8,["t","layout","header","watermark","menu-header","footer","animation-name","animation-name-list","multi-tab","multi-tab-fixed","menu"])]),_:1},8,["title"]),s(U),s(V,{title:((Q=t.t)==null?void 0:Q.call(t,"app.setting.othersettings"))??"其他设置"},{default:l(()=>[s(ho,{t:t.t,"color-weak":t.colorWeak,"color-gray":t.colorGray,onChangeSetting:b},null,8,["t","color-weak","color-gray"])]),_:1},8,["title"]),s(U),s(V,null,{default:l(()=>{var K;return[w("div",yo,[s(H,{type:"warning","show-icon":"",message:((K=t.t)==null?void 0:K.call(t,"app.setting.production.hint"))??"配置栏只在开发环境用于预览，生产环境不会展现，请拷贝后手动修改配置文件"},{icon:l(()=>[s(e(Xe))]),_:1},8,["message"]),s(W,{onClick:m},{default:l(()=>{var he;return[s(e(Ye)),R(" "+C((he=t.t)==null?void 0:he.call(t,"app.setting.copy","拷贝设置")),1)]}),_:1})])]}),_:1})],2)]}),_:1},8,["open"])],64)}}}),ko=["onClick"],go=["onClick"],_o={class:"w-48px flex item-center justify-center"},bo=M({__name:"index",setup(_){const n=Ue(),{list:o,activeKey:c}=X(n),{layoutSetting:h}=X(Te()),{layout:u}=O(),r=L(()=>{const i={};return h.value.multiTabFixed&&(i.position="sticky",i.top=`${h.value.headerHeight}px`,i.zIndex=3,i.right=0),(h.value.header===!1||u.value!=="mix"&&h.value.fixedHeader===!1)&&(i.top="0px"),i}),m=q();function p({key:i},t){i==="closeCurrent"?n.close(c.value):i==="closeLeft"?n.closeLeft(t):i==="closeRight"?n.closeRight(t):i==="closeOther"?n.closeOther(t):i==="refresh"&&n.refresh(c.value)}const y=L(()=>o.value.length===1||o.value.filter(i=>!i.affix).length<=1);function k(i){return o.value.findIndex(d=>d.fullPath===i)===0||o.value.filter(d=>!d.affix).length<=1}function $(i){return o.value.findIndex(d=>d.fullPath===i)===o.value.length-1||o.value.filter(d=>!d.affix).length<=1}const b=L(()=>o.value.length===1||o.value.filter(i=>!i.affix).length<=1);return gt(i=>{if(i.fullPath.startsWith("/redirect"))return;const t=o.value.find(d=>d.fullPath===i.fullPath);i.fullPath===c.value&&!(t!=null&&t.loading)||(c.value=i.fullPath,n.addItem(i))},!0),pt(()=>{_t()}),(i,t)=>{const d=oe,U=Y,H=_e,W=lt,D=nt;return a(),f(D,{ref_key:"tabsRef",ref:m,"active-key":e(c),style:A(e(r)),class:"bg-white dark:bg-#242525 w-100% pro-ant-multi-tab","pt-10px":"",type:"card",size:"small","tab-bar-gutter":5,"onUpdate:activeKey":e(n).switchTab},{leftExtra:l(()=>t[1]||(t[1]=[w("div",{class:"w-24px"},null,-1)])),rightExtra:l(()=>[w("div",_o,[s(H,{trigger:["hover"]},{overlay:l(()=>[s(U,{onClick:t[0]||(t[0]=B=>p(B,e(c)))},{default:l(()=>[s(d,{key:"closeOther",disabled:e(y)||e(b)},{default:l(()=>[R(C(i.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(d,{key:"refresh"},{default:l(()=>[R(C(i.$t("app.multiTab.refresh")),1)]),_:1})]),_:1})]),default:l(()=>[s(e(ot),{class:"text-16px"})]),_:1})])]),default:l(()=>[(a(!0),g(T,null,Z(e(o),B=>(a(),f(W,{key:B.fullPath},{tab:l(()=>[s(H,{trigger:["contextmenu"]},{overlay:l(()=>[s(U,{onClick:F=>p(F,B.fullPath)},{default:l(()=>[s(d,{key:"closeCurrent",disabled:e(y)||e(c)!==B.fullPath},{default:l(()=>[R(C(i.$t("app.multiTab.closeCurrent")),1)]),_:2},1032,["disabled"]),s(d,{key:"closeLeft",disabled:e(y)||k(B.fullPath)},{default:l(()=>[R(C(i.$t("app.multiTab.closeLeft")),1)]),_:2},1032,["disabled"]),s(d,{key:"closeRight",disabled:e(y)||$(B.fullPath)},{default:l(()=>[R(C(i.$t("app.multiTab.closeRight")),1)]),_:2},1032,["disabled"]),s(d,{key:"closeOther",disabled:e(y)||e(b)},{default:l(()=>[R(C(i.$t("app.multiTab.closeOther")),1)]),_:1},8,["disabled"]),s(d,{key:"refresh",disabled:!e(y)},{default:l(()=>[R(C(i.$t("app.multiTab.refresh")),1)]),_:1},8,["disabled"])]),_:2},1032,["onClick"])]),default:l(()=>[w("div",null,[R(C(B.locale?i.$t(B.locale):B.title)+" ",1),e(c)===B.fullPath?(a(),g("button",{key:0,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(F=>e(n).refresh(B.fullPath),["stop"])},[s(e(at),{spin:B.loading},null,8,["spin"])],8,ko)):v("",!0),!B.affix&&e(o).length>1?(a(),g("button",{key:1,class:"ant-tabs-tab-remove",style:{margin:"0"},onClick:fe(F=>e(n).close(B.fullPath),["stop"])},[s(e(de))],8,go)):v("",!0)])]),_:2},1024)]),_:2},1024))),128))]),_:1},8,["active-key","style","onUpdate:activeKey"])}}}),Lo=M({name:"ProLayout",__name:"index",setup(_){const n=Te(),{layoutSetting:o}=X(n),c=Me(),h=Re(),{t:u}=bt(),{selectedKeys:r,openKeys:m}=X(h),{isMobile:p,isPad:y}=Lt();mt(y,$=>{$?n.toggleCollapsed(!0):n.toggleCollapsed(!1)});const k=L(()=>$t(n.layoutSetting,["fixedHeader","fixedSider","splitMenus","menuHeader","header","menu","layout","footer","contentWidth","compactAlgorithm"]));return($,b)=>{const i=It,t=St,d=Wt,U=Kt,H=xt,W=st;return a(),g(T,null,[s(so,ke({collapsed:e(o).collapsed,theme:e(o).theme,"menu-data":e(c).menuData},e(k),{"selected-keys":e(r),"open-keys":e(o).layout==="top"?[]:e(m),copyright:e(o).copyright,"is-mobile":e(p),logo:e(o).logo,title:e(o).title,"accordion-mode":e(o).accordionMode,"left-collapsed":e(o).leftCollapsed,"header-height":e(o).headerHeight,"onUpdate:openKeys":e(h).handleOpenKeys,"onUpdate:selectedKeys":e(h).handleSelectedKeys,"onUpdate:collapsed":e(n).toggleCollapsed}),{headerActions:l(()=>[s(i),s(t),s(d),e(p)?v("",!0):(a(),g(T,{key:0},[s(U),s(H)],64))]),contentPrefix:l(()=>[e(o).multiTab?(a(),f(bo,{key:0})):v("",!0)]),renderFooterLinks:l(()=>b[1]||(b[1]=[])),default:l(()=>[s(W,{class:"h-full w-full flex flex-col flex-1",content:e(o).watermark?e(o).title??"Antdv Pro":" "},{default:l(()=>[s(Mt)]),_:1},8,["content"])]),_:1},16,["collapsed","theme","menu-data","selected-keys","open-keys","copyright","is-mobile","logo","title","accordion-mode","left-collapsed","header-height","onUpdate:openKeys","onUpdate:selectedKeys","onUpdate:collapsed"]),s(fo,ke({open:e(o).drawerVisible,"onUpdate:open":b[0]||(b[0]=D=>e(o).drawerVisible=D),t:e(u),theme:e(o).theme,"color-primary":e(o).colorPrimary,"color-weak":e(o).colorWeak,"color-gray":e(o).colorGray,"multi-tab":e(o).multiTab,"multi-tab-fixed":e(o).multiTabFixed,"animation-name-list":e(vt),"animation-name":e(o).animationName,"keep-alive":e(o).keepAlive,"accordion-mode":e(o).accordionMode,"left-collapsed":e(o).leftCollapsed,watermark:e(o).watermark},e(k),{"layout-setting":e(o),onSettingChange:e(n).changeSettingLayout}),null,16,["open","t","theme","color-primary","color-weak","color-gray","multi-tab","multi-tab-fixed","animation-name-list","animation-name","keep-alive","accordion-mode","left-collapsed","watermark","layout-setting","onSettingChange"])],64)}}});export{Lo as default};
